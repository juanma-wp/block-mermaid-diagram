var vO=Object.defineProperty;var Sye=(t,e,r)=>e in t?vO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var wt=(t,e)=>()=>(t&&(e=t(t=0)),e);var Tr=(t,e)=>{for(var r in e)vO(t,r,{get:e[r],enumerable:!0})};var wr=(t,e,r)=>Sye(t,typeof e!="symbol"?e+"":e,r);var Iy,x7=wt(()=>{Iy={name:"mermaid",version:"11.12.1",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}}});var _ye,Qx,Aye,Lye,Nye,Iye,l,Li,Fn,w7,Ry,fi,kt=wt(()=>{_ye=Object.create,Qx=Object.defineProperty,Aye=Object.getOwnPropertyDescriptor,Lye=Object.getOwnPropertyNames,Nye=Object.getPrototypeOf,Iye=Object.prototype.hasOwnProperty,l=(t,e)=>Qx(t,"name",{value:e,configurable:!0}),Li=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Fn=(t,e)=>{for(var r in e)Qx(t,r,{get:e[r],enumerable:!0})},w7=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Lye(e))!Iye.call(t,n)&&n!==r&&Qx(t,n,{get:()=>e[n],enumerable:!(i=Aye(e,n))||i.enumerable});return t},Ry=(t,e,r)=>(w7(t,e,"default"),r&&w7(r,e,"default")),fi=(t,e,r)=>(r=t!=null?_ye(Nye(t)):{},w7(e||!t||!t.__esModule?Qx(r,"default",{value:t,enumerable:!0}):r,t))});function c8(t,e){let r;if(e===void 0)for(let i of t)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of t)(n=e(n,++i,t))!=null&&(r<n||r===void 0&&n>=n)&&(r=n)}return r}function h8(t,e){let r;if(e===void 0)for(let i of t)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of t)(n=e(n,++i,t))!=null&&(r>n||r===void 0&&n>=n)&&(r=n)}return r}function Fy(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DO(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _4(t){let e,r,i;t.length!==2?(e=Fy,r=l((o,h)=>Fy(t(o),h),"compare2"),i=l((o,h)=>t(o)-h,"delta")):(e=t===Fy||t===DO?t:MO,r=t,i=t);function n(o,h,u=0,d=o.length){if(u<d){if(e(h,h)!==0)return d;do{let p=u+d>>>1;r(o[p],h)<0?u=p+1:d=p}while(u<d)}return u}l(n,"left");function a(o,h,u=0,d=o.length){if(u<d){if(e(h,h)!==0)return d;do{let p=u+d>>>1;r(o[p],h)<=0?u=p+1:d=p}while(u<d)}return u}l(a,"right");function s(o,h,u=0,d=o.length){let p=n(o,h,u,d-1);return p>u&&i(o[p-1],h)>-i(o[p],h)?p-1:p}return l(s,"center"),{left:n,center:s,right:a}}function MO(){return 0}function OO(t){return t===null?NaN:+t}function _7({_intern:t,_key:e},r){let i=e(r);return t.has(i)?t.get(i):r}function BO({_intern:t,_key:e},r){let i=e(r);return t.has(i)?t.get(i):(t.set(i,r),r)}function PO({_intern:t,_key:e},r){let i=e(r);return t.has(i)&&(r=t.get(i),t.delete(i)),r}function FO(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Gy(t,e,r){let i=(e-t)/Math.max(0,r),n=Math.floor(Math.log10(i)),a=i/Math.pow(10,n),s=a>=Oye?10:a>=$ye?5:a>=Bye?2:1,o,h,u;return n<0?(u=Math.pow(10,-n)/s,o=Math.round(t*u),h=Math.round(e*u),o/u<t&&++o,h/u>e&&--h,u=-u):(u=Math.pow(10,n)*s,o=Math.round(t/u),h=Math.round(e/u),o*u<t&&++o,h*u>e&&--h),h<o&&.5<=r&&r<2?Gy(t,e,r*2):[o,h,u]}function zO(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];let i=e<t,[n,a,s]=i?Gy(e,t,r):Gy(t,e,r);if(!(a>=n))return[];let o=a-n+1,h=new Array(o);if(i)if(s<0)for(let u=0;u<o;++u)h[u]=(a-u)/-s;else for(let u=0;u<o;++u)h[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)h[u]=(n+u)/-s;else for(let u=0;u<o;++u)h[u]=(n+u)*s;return h}function g4(t,e,r){return e=+e,t=+t,r=+r,Gy(t,e,r)[2]}function f4(t,e,r){e=+e,t=+t,r=+r;let i=e<t,n=i?g4(e,t,r):g4(t,e,r);return(i?-1:1)*(n<0?1/-n:n)}function GO(t,e,r){t=+t,e=+e,r=(n=arguments.length)<2?(e=t,t=0,1):n<3?1:+r;for(var i=-1,n=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(n);++i<n;)a[i]=t+i*r;return a}function qO(t){return t}function UO(t){return"translate("+t+",0)"}function jO(t){return"translate(0,"+t+")"}function WO(t){return e=>+t(e)}function VO(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function YO(){return!this.__axis}function u8(t,e){var r=[],i=null,n=null,a=6,s=6,o=3,h=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===r4||t===Jx?-1:1,d=t===Jx||t===k7?"x":"y",p=t===r4||t===A7?UO:jO;function g(f){var m=i??(e.ticks?e.ticks.apply(e,r):e.domain()),y=n??(e.tickFormat?e.tickFormat.apply(e,r):qO),b=Math.max(a,0)+o,v=e.range(),x=+v[0]+h,w=+v[v.length-1]+h,k=(e.bandwidth?VO:WO)(e.copy(),h),T=f.selection?f.selection():f,S=T.selectAll(".domain").data([null]),C=T.selectAll(".tick").data(m,e).order(),E=C.exit(),L=C.enter().append("g").attr("class","tick"),I=C.select("line"),M=C.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(L),I=I.merge(L.append("line").attr("stroke","currentColor").attr(d+"2",u*a)),M=M.merge(L.append("text").attr("fill","currentColor").attr(d,u*b).attr("dy",t===r4?"0em":t===A7?"0.71em":"0.32em")),f!==T&&(S=S.transition(f),C=C.transition(f),I=I.transition(f),M=M.transition(f),E=E.transition(f).attr("opacity",xO).attr("transform",function(N){return isFinite(N=k(N))?p(N+h):this.getAttribute("transform")}),L.attr("opacity",xO).attr("transform",function(N){var $=this.parentNode.__axis;return p(($&&isFinite($=$(N))?$:k(N))+h)})),E.remove(),S.attr("d",t===Jx||t===k7?s?"M"+u*s+","+x+"H"+h+"V"+w+"H"+u*s:"M"+h+","+x+"V"+w:s?"M"+x+","+u*s+"V"+h+"H"+w+"V"+u*s:"M"+x+","+h+"H"+w),C.attr("opacity",1).attr("transform",function(N){return p(k(N)+h)}),I.attr(d+"2",u*a),M.attr(d,u*b).text(y),T.filter(YO).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===k7?"start":t===Jx?"end":"middle"),T.each(function(){this.__axis=k})}return l(g,"axis"),g.scale=function(f){return arguments.length?(e=f,g):e},g.ticks=function(){return r=Array.from(arguments),g},g.tickArguments=function(f){return arguments.length?(r=f==null?[]:Array.from(f),g):r.slice()},g.tickValues=function(f){return arguments.length?(i=f==null?null:Array.from(f),g):i&&i.slice()},g.tickFormat=function(f){return arguments.length?(n=f,g):n},g.tickSize=function(f){return arguments.length?(a=s=+f,g):a},g.tickSizeInner=function(f){return arguments.length?(a=+f,g):a},g.tickSizeOuter=function(f){return arguments.length?(s=+f,g):s},g.tickPadding=function(f){return arguments.length?(o=+f,g):o},g.offset=function(f){return arguments.length?(h=+f,g):h},g}function d8(t){return u8(r4,t)}function p8(t){return u8(A7,t)}function HO(){}function A4(t){return t==null?HO:function(){return this.querySelector(t)}}function XO(t){typeof t!="function"&&(t=A4(t));for(var e=this._groups,r=e.length,i=new Array(r),n=0;n<r;++n)for(var a=e[n],s=a.length,o=i[n]=new Array(s),h,u,d=0;d<s;++d)(h=a[d])&&(u=t.call(h,h.__data__,d,a))&&("__data__"in h&&(u.__data__=h.__data__),o[d]=u);return new Aa(i,this._parents)}function KO(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ZO(){return[]}function g8(t){return t==null?ZO:function(){return this.querySelectorAll(t)}}function QO(t){return function(){return KO(t.apply(this,arguments))}}function JO(t){typeof t=="function"?t=QO(t):t=g8(t);for(var e=this._groups,r=e.length,i=[],n=[],a=0;a<r;++a)for(var s=e[a],o=s.length,h,u=0;u<o;++u)(h=s[u])&&(i.push(t.call(h,h.__data__,u,s)),n.push(h));return new Aa(i,n)}function f8(t){return function(){return this.matches(t)}}function m8(t){return function(e){return e.matches(t)}}function e$(t){return function(){return Pye.call(this.children,t)}}function t$(){return this.firstElementChild}function r$(t){return this.select(t==null?t$:e$(typeof t=="function"?t:m8(t)))}function i$(){return Array.from(this.children)}function n$(t){return function(){return Fye.call(this.children,t)}}function a$(t){return this.selectAll(t==null?i$:n$(typeof t=="function"?t:m8(t)))}function s$(t){typeof t!="function"&&(t=f8(t));for(var e=this._groups,r=e.length,i=new Array(r),n=0;n<r;++n)for(var a=e[n],s=a.length,o=i[n]=[],h,u=0;u<s;++u)(h=a[u])&&t.call(h,h.__data__,u,a)&&o.push(h);return new Aa(i,this._parents)}function y8(t){return new Array(t.length)}function o$(){return new Aa(this._enter||this._groups.map(y8),this._parents)}function qy(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function l$(t){return function(){return t}}function c$(t,e,r,i,n,a){for(var s=0,o,h=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],i[s]=o):r[s]=new qy(t,a[s]);for(;s<h;++s)(o=e[s])&&(n[s]=o)}function h$(t,e,r,i,n,a,s){var o,h,u=new Map,d=e.length,p=a.length,g=new Array(d),f;for(o=0;o<d;++o)(h=e[o])&&(g[o]=f=s.call(h,h.__data__,o,e)+"",u.has(f)?n[o]=h:u.set(f,h));for(o=0;o<p;++o)f=s.call(t,a[o],o,a)+"",(h=u.get(f))?(i[o]=h,h.__data__=a[o],u.delete(f)):r[o]=new qy(t,a[o]);for(o=0;o<d;++o)(h=e[o])&&u.get(g[o])===h&&(n[o]=h)}function u$(t){return t.__data__}function d$(t,e){if(!arguments.length)return Array.from(this,u$);var r=e?h$:c$,i=this._parents,n=this._groups;typeof t!="function"&&(t=l$(t));for(var a=n.length,s=new Array(a),o=new Array(a),h=new Array(a),u=0;u<a;++u){var d=i[u],p=n[u],g=p.length,f=p$(t.call(d,d&&d.__data__,u,i)),m=f.length,y=o[u]=new Array(m),b=s[u]=new Array(m),v=h[u]=new Array(g);r(d,p,y,b,v,f,e);for(var x=0,w=0,k,T;x<m;++x)if(k=y[x]){for(x>=w&&(w=x+1);!(T=b[w])&&++w<m;);k._next=T||null}}return s=new Aa(s,i),s._enter=o,s._exit=h,s}function p$(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g$(){return new Aa(this._exit||this._groups.map(y8),this._parents)}function f$(t,e,r){var i=this.enter(),n=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(n=e(n),n&&(n=n.selection())),r==null?a.remove():r(a),i&&n?i.merge(n).order():n}function m$(t){for(var e=t.selection?t.selection():t,r=this._groups,i=e._groups,n=r.length,a=i.length,s=Math.min(n,a),o=new Array(n),h=0;h<s;++h)for(var u=r[h],d=i[h],p=u.length,g=o[h]=new Array(p),f,m=0;m<p;++m)(f=u[m]||d[m])&&(g[m]=f);for(;h<n;++h)o[h]=r[h];return new Aa(o,this._parents)}function y$(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var i=t[e],n=i.length-1,a=i[n],s;--n>=0;)(s=i[n])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function v$(t){t||(t=b$);function e(p,g){return p&&g?t(p.__data__,g.__data__):!p-!g}l(e,"compareNode");for(var r=this._groups,i=r.length,n=new Array(i),a=0;a<i;++a){for(var s=r[a],o=s.length,h=n[a]=new Array(o),u,d=0;d<o;++d)(u=s[d])&&(h[d]=u);h.sort(e)}return new Aa(n,this._parents).order()}function b$(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function x$(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function w$(){return Array.from(this)}function k$(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],n=0,a=i.length;n<a;++n){var s=i[n];if(s)return s}return null}function T$(){let t=0;for(let e of this)++t;return t}function E$(){return!this.node()}function C$(t){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var n=e[r],a=0,s=n.length,o;a<s;++a)(o=n[a])&&t.call(o,o.__data__,a,n);return this}function i2(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),wO.hasOwnProperty(e)?{space:wO[e],local:t}:t}function S$(t){return function(){this.removeAttribute(t)}}function _$(t){return function(){this.removeAttributeNS(t.space,t.local)}}function A$(t,e){return function(){this.setAttribute(t,e)}}function L$(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function N$(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function I$(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function R$(t,e){var r=i2(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((e==null?r.local?_$:S$:typeof e=="function"?r.local?I$:N$:r.local?L$:A$)(r,e))}function v8(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function D$(t){return function(){this.style.removeProperty(t)}}function M$(t,e,r){return function(){this.style.setProperty(t,e,r)}}function O$(t,e,r){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function $$(t,e,r){return arguments.length>1?this.each((e==null?D$:typeof e=="function"?O$:M$)(t,e,r??"")):lu(this.node(),t)}function lu(t,e){return t.style.getPropertyValue(e)||v8(t).getComputedStyle(t,null).getPropertyValue(e)}function B$(t){return function(){delete this[t]}}function P$(t,e){return function(){this[t]=e}}function F$(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function z$(t,e){return arguments.length>1?this.each((e==null?B$:typeof e=="function"?F$:P$)(t,e)):this.node()[t]}function b8(t){return t.trim().split(/^|\s+/)}function L4(t){return t.classList||new x8(t)}function x8(t){this._node=t,this._names=b8(t.getAttribute("class")||"")}function w8(t,e){for(var r=L4(t),i=-1,n=e.length;++i<n;)r.add(e[i])}function k8(t,e){for(var r=L4(t),i=-1,n=e.length;++i<n;)r.remove(e[i])}function G$(t){return function(){w8(this,t)}}function q$(t){return function(){k8(this,t)}}function U$(t,e){return function(){(e.apply(this,arguments)?w8:k8)(this,t)}}function j$(t,e){var r=b8(t+"");if(arguments.length<2){for(var i=L4(this.node()),n=-1,a=r.length;++n<a;)if(!i.contains(r[n]))return!1;return!0}return this.each((typeof e=="function"?U$:e?G$:q$)(r,e))}function W$(){this.textContent=""}function V$(t){return function(){this.textContent=t}}function Y$(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function H$(t){return arguments.length?this.each(t==null?W$:(typeof t=="function"?Y$:V$)(t)):this.node().textContent}function X$(){this.innerHTML=""}function K$(t){return function(){this.innerHTML=t}}function Z$(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Q$(t){return arguments.length?this.each(t==null?X$:(typeof t=="function"?Z$:K$)(t)):this.node().innerHTML}function J$(){this.nextSibling&&this.parentNode.appendChild(this)}function eB(){return this.each(J$)}function tB(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rB(){return this.each(tB)}function iB(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===L7&&e.documentElement.namespaceURI===L7?e.createElement(t):e.createElementNS(r,t)}}function nB(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function T8(t){var e=i2(t);return(e.local?nB:iB)(e)}function aB(t){var e=typeof t=="function"?t:T8(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sB(){return null}function oB(t,e){var r=typeof t=="function"?t:T8(t),i=e==null?sB:typeof e=="function"?e:A4(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function lB(){var t=this.parentNode;t&&t.removeChild(this)}function cB(){return this.each(lB)}function hB(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function uB(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dB(t){return this.select(t?uB:hB)}function pB(t){return arguments.length?this.property("__data__",t):this.node().__data__}function gB(t){return function(e){t.call(this,e,this.__data__)}}function fB(t){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{type:e,name:r}})}function mB(t){return function(){var e=this.__on;if(e){for(var r=0,i=-1,n=e.length,a;r<n;++r)a=e[r],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function yB(t,e,r){return function(){var i=this.__on,n,a=gB(e);if(i){for(var s=0,o=i.length;s<o;++s)if((n=i[s]).type===t.type&&n.name===t.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=r),n.value=e;return}}this.addEventListener(t.type,a,r),n={type:t.type,name:t.name,value:e,listener:a,options:r},i?i.push(n):this.__on=[n]}}function vB(t,e,r){var i=fB(t+""),n,a=i.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var h=0,u=o.length,d;h<u;++h)for(n=0,d=o[h];n<a;++n)if((s=i[n]).type===d.type&&s.name===d.name)return d.value}return}for(o=e?yB:mB,n=0;n<a;++n)this.each(o(i[n],e,r));return this}function E8(t,e,r){var i=v8(t),n=i.CustomEvent;typeof n=="function"?n=new n(e,r):(n=i.document.createEvent("Event"),r?(n.initEvent(e,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(e,!1,!1)),t.dispatchEvent(n)}function bB(t,e){return function(){return E8(this,t,e)}}function xB(t,e){return function(){return E8(this,t,e.apply(this,arguments))}}function wB(t,e){return this.each((typeof e=="function"?xB:bB)(t,e))}function*kB(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],n=0,a=i.length,s;n<a;++n)(s=i[n])&&(yield s)}function Aa(t,e){this._groups=t,this._parents=e}function C8(){return new Aa([[document.documentElement]],TB)}function EB(){return this}function Ue(t){return typeof t=="string"?new Aa([[document.querySelector(t)]],[document.documentElement]):new Aa([[t]],TB)}function _0(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function a2(t,e){var r=Object.create(t.prototype);for(var i in e)r[i]=e[i];return r}function Nc(){}function N7(){return this.rgb().formatHex()}function CB(){return this.rgb().formatHex8()}function SB(){return _8(this).formatHsl()}function I7(){return this.rgb().formatRgb()}function _c(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=zye.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?R7(e):r===3?new kn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?My(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?My(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gye.exec(t))?new kn(e[1],e[2],e[3],1):(e=qye.exec(t))?new kn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Uye.exec(t))?My(e[1],e[2],e[3],e[4]):(e=jye.exec(t))?My(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Wye.exec(t))?O7(e[1],e[2]/100,e[3]/100,1):(e=Vye.exec(t))?O7(e[1],e[2]/100,e[3]/100,e[4]):kO.hasOwnProperty(t)?R7(kO[t]):t==="transparent"?new kn(NaN,NaN,NaN,0):null}function R7(t){return new kn(t>>16&255,t>>8&255,t&255,1)}function My(t,e,r,i){return i<=0&&(t=e=r=NaN),new kn(t,e,r,i)}function S8(t){return t instanceof Nc||(t=_c(t)),t?(t=t.rgb(),new kn(t.r,t.g,t.b,t.opacity)):new kn}function Wy(t,e,r,i){return arguments.length===1?S8(t):new kn(t,e,r,i??1)}function kn(t,e,r,i){this.r=+t,this.g=+e,this.b=+r,this.opacity=+i}function D7(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}`}function _B(){return`#${Cc(this.r)}${Cc(this.g)}${Cc(this.b)}${Cc((isNaN(this.opacity)?1:this.opacity)*255)}`}function M7(){let t=Vy(this.opacity);return`${t===1?"rgb(":"rgba("}${Sc(this.r)}, ${Sc(this.g)}, ${Sc(this.b)}${t===1?")":`, ${t})`}`}function Vy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Sc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cc(t){return t=Sc(t),(t<16?"0":"")+t.toString(16)}function O7(t,e,r,i){return i<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ys(t,e,r,i)}function _8(t){if(t instanceof ys)return new ys(t.h,t.s,t.l,t.opacity);if(t instanceof Nc||(t=_c(t)),!t)return new ys;if(t instanceof ys)return t;t=t.rgb();var e=t.r/255,r=t.g/255,i=t.b/255,n=Math.min(e,r,i),a=Math.max(e,r,i),s=NaN,o=a-n,h=(a+n)/2;return o?(e===a?s=(r-i)/o+(r<i)*6:r===a?s=(i-e)/o+2:s=(e-r)/o+4,o/=h<.5?a+n:2-a-n,s*=60):o=h>0&&h<1?0:s,new ys(s,o,h,t.opacity)}function AB(t,e,r,i){return arguments.length===1?_8(t):new ys(t,e,r,i??1)}function ys(t,e,r,i){this.h=+t,this.s=+e,this.l=+r,this.opacity=+i}function $7(t){return t=(t||0)%360,t<0?t+360:t}function Oy(t){return Math.max(0,Math.min(1,t||0))}function i4(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function A8(t){if(t instanceof Vs)return new Vs(t.l,t.a,t.b,t.opacity);if(t instanceof So)return L8(t);t instanceof kn||(t=S8(t));var e=o4(t.r),r=o4(t.g),i=o4(t.b),n=n4((.2225045*e+.7168786*r+.0606169*i)/NB),a,s;return e===r&&r===i?a=s=n:(a=n4((.4360747*e+.3850649*r+.1430804*i)/LB),s=n4((.0139322*e+.0971045*r+.7141733*i)/IB)),new Vs(116*n-16,500*(a-n),200*(n-s),t.opacity)}function MB(t,e,r,i){return arguments.length===1?A8(t):new Vs(t,e,r,i??1)}function Vs(t,e,r,i){this.l=+t,this.a=+e,this.b=+r,this.opacity=+i}function n4(t){return t>Xye?Math.pow(t,1/3):t/DB+RB}function a4(t){return t>x0?t*t*t:DB*(t-RB)}function s4(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function o4(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function OB(t){if(t instanceof So)return new So(t.h,t.c,t.l,t.opacity);if(t instanceof Vs||(t=A8(t)),t.a===0&&t.b===0)return new So(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Hye;return new So(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function v4(t,e,r,i){return arguments.length===1?OB(t):new So(t,e,r,i??1)}function So(t,e,r,i){this.h=+t,this.c=+e,this.l=+r,this.opacity=+i}function L8(t){if(isNaN(t.h))return new Vs(t.l,0,0,t.opacity);var e=t.h*Yye;return new Vs(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function N8(t,e){return function(r){return t+r*e}}function $B(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(i){return Math.pow(t+i*e,r)}}function BB(t,e){var r=e-t;return r?N8(t,r>180||r<-180?r-360*Math.round(r/360):r):N4(isNaN(t)?e:t)}function PB(t){return(t=+t)==1?ou:function(e,r){return r-e?$B(e,r,t):N4(isNaN(e)?r:e)}}function ou(t,e){var r=e-t;return r?N8(t,r):N4(isNaN(t)?e:t)}function I8(t){return function(e,r){var i=t((e=v4(e)).h,(r=v4(r)).h),n=ou(e.c,r.c),a=ou(e.l,r.l),s=ou(e.opacity,r.opacity);return function(o){return e.h=i(o),e.c=n(o),e.l=a(o),e.opacity=s(o),e+""}}}function R8(t,e,r,i,n){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*r+(1+3*t+3*a-3*s)*i+s*n)/6}function zB(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),n=t[i],a=t[i+1],s=i>0?t[i-1]:2*n-a,o=i<e-1?t[i+2]:2*a-n;return R8((r-i/e)*e,s,n,a,o)}}function GB(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),n=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],o=t[(i+2)%e];return R8((r-i/e)*e,n,a,s,o)}}function D8(t){return function(e){var r=e.length,i=new Array(r),n=new Array(r),a=new Array(r),s,o;for(s=0;s<r;++s)o=Wy(e[s]),i[s]=o.r||0,n[s]=o.g||0,a[s]=o.b||0;return i=t(i),n=t(n),a=t(a),o.opacity=1,function(h){return o.r=i(h),o.g=n(h),o.b=a(h),o+""}}}function qB(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,i=e.slice(),n;return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function UB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jB(t,e){var r=e?e.length:0,i=t?Math.min(r,t.length):0,n=new Array(i),a=new Array(r),s;for(s=0;s<i;++s)n[s]=I4(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<i;++s)a[s]=n[s](o);return a}}function WB(t,e){var r=new Date;return t=+t,e=+e,function(i){return r.setTime(t*(1-i)+e*i),r}}function ms(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function VB(t,e){var r={},i={},n;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in t?r[n]=I4(t[n],e[n]):i[n]=e[n];return function(a){for(n in r)i[n]=r[n](a);return i}}function YB(t){return function(){return t}}function HB(t){return function(e){return t(e)+""}}function M8(t,e){var r=B7.lastIndex=T7.lastIndex=0,i,n,a,s=-1,o=[],h=[];for(t=t+"",e=e+"";(i=B7.exec(t))&&(n=T7.exec(e));)(a=n.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(i=i[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,h.push({i:s,x:ms(i,n)})),r=T7.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?h[0]?HB(h[0].x):YB(e):(e=h.length,function(u){for(var d=0,p;d<e;++d)o[(p=h[d]).i]=p.x(u);return o.join("")})}function I4(t,e){var r=typeof e,i;return e==null||r==="boolean"?N4(e):(r==="number"?ms:r==="string"?(i=_c(e))?(e=i,b4):M8:e instanceof _c?b4:e instanceof Date?WB:UB(e)?qB:Array.isArray(e)?jB:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VB:ms)(t,e)}function XB(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function O8(t,e,r,i,n,a){var s,o,h;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(h=t*r+e*i)&&(r-=t*h,i-=e*h),(o=Math.sqrt(r*r+i*i))&&(r/=o,i/=o,h/=o),t*i<e*r&&(t=-t,e=-e,h=-h,s=-s),{translateX:n,translateY:a,rotate:Math.atan2(e,t)*TO,skewX:Math.atan(h)*TO,scaleX:s,scaleY:o}}function KB(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?P7:O8(e.a,e.b,e.c,e.d,e.e,e.f)}function ZB(t){return t==null?P7:(e4||(e4=document.createElementNS("http://www.w3.org/2000/svg","g")),e4.setAttribute("transform",t),(t=e4.transform.baseVal.consolidate())?(t=t.matrix,O8(t.a,t.b,t.c,t.d,t.e,t.f)):P7)}function $8(t,e,r,i){function n(u){return u.length?u.pop()+" ":""}l(n,"pop");function a(u,d,p,g,f,m){if(u!==p||d!==g){var y=f.push("translate(",null,e,null,r);m.push({i:y-4,x:ms(u,p)},{i:y-2,x:ms(d,g)})}else(p||g)&&f.push("translate("+p+e+g+r)}l(a,"translate");function s(u,d,p,g){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),g.push({i:p.push(n(p)+"rotate(",null,i)-2,x:ms(u,d)})):d&&p.push(n(p)+"rotate("+d+i)}l(s,"rotate");function o(u,d,p,g){u!==d?g.push({i:p.push(n(p)+"skewX(",null,i)-2,x:ms(u,d)}):d&&p.push(n(p)+"skewX("+d+i)}l(o,"skewX");function h(u,d,p,g,f,m){if(u!==p||d!==g){var y=f.push(n(f)+"scale(",null,",",null,")");m.push({i:y-4,x:ms(u,p)},{i:y-2,x:ms(d,g)})}else(p!==1||g!==1)&&f.push(n(f)+"scale("+p+","+g+")")}return l(h,"scale"),function(u,d){var p=[],g=[];return u=t(u),d=t(d),a(u.translateX,u.translateY,d.translateX,d.translateY,p,g),s(u.rotate,d.rotate,p,g),o(u.skewX,d.skewX,p,g),h(u.scaleX,u.scaleY,d.scaleX,d.scaleY,p,g),u=d=null,function(f){for(var m=-1,y=g.length,b;++m<y;)p[(b=g[m]).i]=b.x(f);return p.join("")}}}function QB(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yy(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function cu(t){return t=Yy(Math.abs(t)),t?t[1]:NaN}function JB(t,e){return function(r,i){for(var n=r.length,a=[],s=0,o=t[0],h=0;n>0&&o>0&&(h+o+1>i&&(o=Math.max(1,i-h)),a.push(r.substring(n-=o,n+o)),!((h+=o+1)>i));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function eP(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}function Hy(t){if(!(e=Qye.exec(t)))throw new Error("invalid format: "+t);var e;return new R4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function R4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}function tP(t){e:for(var e=t.length,r=1,i=-1,n;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":i===0&&(i=r),n=r;break;default:if(!+t[r])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(n+1):t}function iP(t,e){var r=Yy(t,e);if(!r)return t+"";var i=r[0],n=r[1],a=n-(rP=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+Yy(t,Math.max(0,e+a-1))[0]}function F7(t,e){var r=Yy(t,e);if(!r)return t+"";var i=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}function z7(t){return t}function nP(t){var e=t.grouping===void 0||t.thousands===void 0?z7:JB(CO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?z7:eP(CO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"\u2212":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function u(p){p=Hy(p);var g=p.fill,f=p.align,m=p.sign,y=p.symbol,b=p.zero,v=p.width,x=p.comma,w=p.precision,k=p.trim,T=p.type;T==="n"?(x=!0,T="g"):EO[T]||(w===void 0&&(w=12),k=!0,T="g"),(b||g==="0"&&f==="=")&&(b=!0,g="0",f="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=y==="$"?i:/[%p]/.test(T)?s:"",E=EO[T],L=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function I(M){var N=S,$=C,_,D,R;if(T==="c")$=E(M)+$,M="";else{M=+M;var O=M<0||1/M<0;if(M=isNaN(M)?h:E(Math.abs(M),w),k&&(M=tP(M)),O&&+M==0&&m!=="+"&&(O=!1),N=(O?m==="("?m:o:m==="-"||m==="("?"":m)+N,$=(T==="s"?SO[8+rP/3]:"")+$+(O&&m==="("?")":""),L){for(_=-1,D=M.length;++_<D;)if(R=M.charCodeAt(_),48>R||R>57){$=(R===46?n+M.slice(_+1):M.slice(_))+$,M=M.slice(0,_);break}}}x&&!b&&(M=e(M,1/0));var A=N.length+M.length+$.length,B=A<v?new Array(v-A+1).join(g):"";switch(x&&b&&(M=e(B+M,B.length?v-$.length:1/0),B=""),f){case"<":M=N+M+$+B;break;case"=":M=N+B+M+$;break;case"^":M=B.slice(0,A=B.length>>1)+N+M+$+B.slice(A);break;default:M=B+N+M+$;break}return a(M)}return l(I,"format"),I.toString=function(){return p+""},I}l(u,"newFormat");function d(p,g){var f=u((p=Hy(p),p.type="f",p)),m=Math.max(-8,Math.min(8,Math.floor(cu(g)/3)))*3,y=Math.pow(10,-m),b=SO[8+m/3];return function(v){return f(y*v)+b}}return l(d,"formatPrefix"),{format:u,formatPrefix:d}}function sP(t){return t4=nP(t),Ic=t4.format,aP=t4.formatPrefix,t4}function oP(t){return Math.max(0,-cu(Math.abs(t)))}function lP(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cu(e)/3)))*3-cu(Math.abs(t)))}function cP(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cu(e)-cu(t))+1}function hP(t){var e=0,r=t.children,i=r&&r.length;if(!i)e=1;else for(;--i>=0;)e+=r[i].value;t.value=e}function uP(){return this.eachAfter(hP)}function dP(t,e){let r=-1;for(let i of this)t.call(e,i,++r,this);return this}function pP(t,e){for(var r=this,i=[r],n,a,s=-1;r=i.pop();)if(t.call(e,r,++s,this),n=r.children)for(a=n.length-1;a>=0;--a)i.push(n[a]);return this}function gP(t,e){for(var r=this,i=[r],n=[],a,s,o,h=-1;r=i.pop();)if(n.push(r),a=r.children)for(s=0,o=a.length;s<o;++s)i.push(a[s]);for(;r=n.pop();)t.call(e,r,++h,this);return this}function fP(t,e){let r=-1;for(let i of this)if(t.call(e,i,++r,this))return i}function mP(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,i=e.children,n=i&&i.length;--n>=0;)r+=i[n].value;e.value=r})}function yP(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function vP(t){for(var e=this,r=bP(e,t),i=[e];e!==r;)e=e.parent,i.push(e);for(var n=i.length;t!==r;)i.splice(n,0,t),t=t.parent;return i}function bP(t,e){if(t===e)return t;var r=t.ancestors(),i=e.ancestors(),n=null;for(t=r.pop(),e=i.pop();t===e;)n=t,t=r.pop(),e=i.pop();return n}function xP(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function wP(){return Array.from(this)}function kP(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function TP(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}function*EP(){var t=this,e,r=[t],i,n,a;do for(e=r.reverse(),r=[];t=e.pop();)if(yield t,i=t.children)for(n=0,a=i.length;n<a;++n)r.push(i[n]);while(r.length)}function s2(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=_P)):e===void 0&&(e=SP);for(var r=new Xy(t),i,n=[r],a,s,o,h;i=n.pop();)if((s=e(i.data))&&(h=(s=Array.from(s)).length))for(i.children=s,o=h-1;o>=0;--o)n.push(a=s[o]=new Xy(s[o])),a.parent=i,a.depth=i.depth+1;return r.eachBefore(LP)}function CP(){return s2(this).eachBefore(AP)}function SP(t){return t.children}function _P(t){return Array.isArray(t)?t[1]:null}function AP(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function LP(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Xy(t){this.data=t,this.depth=this.height=0,this.parent=null}function NP(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function IP(t,e,r,i,n){for(var a=t.children,s,o=-1,h=a.length,u=t.value&&(i-e)/t.value;++o<h;)s=a[o],s.y0=r,s.y1=n,s.x0=e,s.x1=e+=s.value*u}function RP(t,e,r,i,n){for(var a=t.children,s,o=-1,h=a.length,u=t.value&&(n-r)/t.value;++o<h;)s=a[o],s.x0=e,s.x1=i,s.y0=r,s.y1=r+=s.value*u}function DP(t,e,r,i,n,a){for(var s=[],o=e.children,h,u,d=0,p=0,g=o.length,f,m,y=e.value,b,v,x,w,k,T,S;d<g;){f=n-r,m=a-i;do b=o[p++].value;while(!b&&p<g);for(v=x=b,T=Math.max(m/f,f/m)/(y*t),S=b*b*T,k=Math.max(x/S,S/v);p<g;++p){if(b+=u=o[p].value,u<v&&(v=u),u>x&&(x=u),S=b*b*T,w=Math.max(x/S,S/v),w>k){b-=u;break}k=w}s.push(h={value:b,dice:f<m,children:o.slice(d,p)}),h.dice?IP(h,r,i,n,y?i+=m*b/y:a):RP(h,r,i,y?r+=f*b/y:n,a),y-=b,d=p}return s}function MP(t){if(typeof t!="function")throw new Error;return t}function p0(){return 0}function g0(t){return function(){return t}}function B8(){var t=e2e,e=!1,r=1,i=1,n=[0],a=p0,s=p0,o=p0,h=p0,u=p0;function d(g){return g.x0=g.y0=0,g.x1=r,g.y1=i,g.eachBefore(p),n=[0],e&&g.eachBefore(NP),g}l(d,"treemap");function p(g){var f=n[g.depth],m=g.x0+f,y=g.y0+f,b=g.x1-f,v=g.y1-f;b<m&&(m=b=(m+b)/2),v<y&&(y=v=(y+v)/2),g.x0=m,g.y0=y,g.x1=b,g.y1=v,g.children&&(f=n[g.depth+1]=a(g)/2,m+=u(g)-f,y+=s(g)-f,b-=o(g)-f,v-=h(g)-f,b<m&&(m=b=(m+b)/2),v<y&&(y=v=(y+v)/2),t(g,m,y,b,v))}return l(p,"positionNode"),d.round=function(g){return arguments.length?(e=!!g,d):e},d.size=function(g){return arguments.length?(r=+g[0],i=+g[1],d):[r,i]},d.tile=function(g){return arguments.length?(t=MP(g),d):t},d.padding=function(g){return arguments.length?d.paddingInner(g).paddingOuter(g):d.paddingInner()},d.paddingInner=function(g){return arguments.length?(a=typeof g=="function"?g:g0(+g),d):a},d.paddingOuter=function(g){return arguments.length?d.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):d.paddingTop()},d.paddingTop=function(g){return arguments.length?(s=typeof g=="function"?g:g0(+g),d):s},d.paddingRight=function(g){return arguments.length?(o=typeof g=="function"?g:g0(+g),d):o},d.paddingBottom=function(g){return arguments.length?(h=typeof g=="function"?g:g0(+g),d):h},d.paddingLeft=function(g){return arguments.length?(u=typeof g=="function"?g:g0(+g),d):u},d}function o2(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ys(){var t=new bO,e=[],r=[],i=_O;function n(a){let s=t.get(a);if(s===void 0){if(i!==_O)return i;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return l(n,"scale"),n.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new bO;for(let s of a)t.has(s)||t.set(s,e.push(s)-1);return n},n.range=function(a){return arguments.length?(r=Array.from(a),n):r.slice()},n.unknown=function(a){return arguments.length?(i=a,n):i},n.copy=function(){return Ys(e,r).unknown(i)},o2.apply(n,arguments),n}function OP(t){return function(){return t}}function $P(t){return+t}function au(t){return t}function x4(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:OP(isNaN(e)?NaN:.5)}function BP(t,e){var r;return t>e&&(r=t,t=e,e=r),function(i){return Math.max(t,Math.min(e,i))}}function PP(t,e,r){var i=t[0],n=t[1],a=e[0],s=e[1];return n<i?(i=x4(n,i),a=r(s,a)):(i=x4(i,n),a=r(a,s)),function(o){return a(i(o))}}function FP(t,e,r){var i=Math.min(t.length,e.length)-1,n=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)n[s]=x4(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var h=Mye(t,o,1,i)-1;return a[h](n[h](o))}}function P8(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zP(){var t=AO,e=AO,r=I4,i,n,a,s=au,o,h,u;function d(){var g=Math.min(t.length,e.length);return s!==au&&(s=BP(t[0],t[g-1])),o=g>2?FP:PP,h=u=null,p}l(d,"rescale");function p(g){return g==null||isNaN(g=+g)?a:(h||(h=o(t.map(i),e,r)))(i(s(g)))}return l(p,"scale"),p.invert=function(g){return s(n((u||(u=o(e,t.map(i),ms)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,$P),d()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),r=XB,d()},p.clamp=function(g){return arguments.length?(s=g?!0:au,d()):s!==au},p.interpolate=function(g){return arguments.length?(r=g,d()):r},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,f){return i=g,n=f,d()}}function F8(){return zP()(au,au)}function GP(t,e,r,i){var n=f4(t,e,r),a;switch(i=Hy(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=lP(n,s))&&(i.precision=a),aP(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=cP(n,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=oP(n))&&(i.precision=a-(i.type==="%")*2);break}}return Ic(i)}function qP(t){var e=t.domain;return t.ticks=function(r){var i=e();return zO(i[0],i[i.length-1],r??10)},t.tickFormat=function(r,i){var n=e();return GP(n[0],n[n.length-1],r??10,i)},t.nice=function(r){r==null&&(r=10);var i=e(),n=0,a=i.length-1,s=i[n],o=i[a],h,u,d=10;for(o<s&&(u=s,s=o,o=u,u=n,n=a,a=u);d-- >0;){if(u=g4(s,o,r),u===h)return i[n]=s,i[a]=o,e(i);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;h=u}return t},t}function Lo(){var t=F8();return t.copy=function(){return P8(t,Lo())},o2.apply(t,arguments),qP(t)}function Yi(t,e,r,i){function n(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return l(n,"interval"),n.floor=a=>(t(a=new Date(+a)),a),n.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),n.round=a=>{let s=n(a),o=n.ceil(a);return a-s<o-a?s:o},n.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),n.range=(a,s,o)=>{let h=[];if(a=n.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return h;let u;do h.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return h},n.filter=a=>Yi(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(n.count=(a,s)=>(E7.setTime(+a),C7.setTime(+s),t(E7),t(C7),Math.floor(r(E7,C7))),n.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?n.filter(i?s=>i(s)%a===0:s=>n.count(0,s)%a===0):n)),n}function Dc(t){return Yi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}function Mc(t){return Yi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/6048e5)}function V8(t,e,r,i,n,a){let s=[[kl,1,1e3],[kl,5,5e3],[kl,15,15e3],[kl,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[n,1,36e5],[n,3,108e5],[n,6,216e5],[n,12,432e5],[i,1,864e5],[i,2,1728e5],[r,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function o(u,d,p){let g=d<u;g&&([u,d]=[d,u]);let f=p&&typeof p.range=="function"?p:h(u,d,p),m=f?f.range(u,+d+1):[];return g?m.reverse():m}l(o,"ticks");function h(u,d,p){let g=Math.abs(d-u)/p,f=_4(([,,b])=>b).right(s,g);if(f===s.length)return t.every(f4(u/31536e6,d/31536e6,p));if(f===0)return hu.every(Math.max(f4(u,d,p),1));let[m,y]=s[g/s[f-1][2]<s[f][2]/g?f-1:f];return m.every(y)}return l(h,"tickInterval"),[o,h]}function l4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function c4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function f0(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function YP(t){var e=t.dateTime,r=t.date,i=t.time,n=t.periods,a=t.days,s=t.shortDays,o=t.months,h=t.shortMonths,u=m0(n),d=y0(n),p=m0(a),g=y0(a),f=m0(s),m=y0(s),y=m0(o),b=y0(o),v=m0(h),x=y0(h),w={a:O,A,b:B,B:P,c:null,d:W7,e:W7,f:gF,g:EF,G:SF,H:uF,I:dF,j:pF,L:Y8,m:fF,M:mF,p:z,q,Q:H7,s:X7,S:yF,u:vF,U:bF,V:xF,w:wF,W:kF,x:null,X:null,y:TF,Y:CF,Z:_F,"%":Y7},k={a:K,A:W,b:ae,B:ie,c:null,d:V7,e:V7,f:IF,g:GF,G:UF,H:AF,I:LF,j:NF,L:X8,m:RF,M:DF,p:se,q:oe,Q:H7,s:X7,S:MF,u:OF,U:$F,V:BF,w:PF,W:FF,x:null,X:null,y:zF,Y:qF,Z:jF,"%":Y7},T={a:I,A:M,b:N,B:$,c:_,d:U7,e:U7,f:oF,g:q7,G:G7,H:j7,I:j7,j:iF,L:sF,m:rF,M:nF,p:L,q:tF,Q:cF,s:hF,S:aF,u:KP,U:ZP,V:QP,w:XP,W:JP,x:D,X:R,y:q7,Y:G7,Z:eF,"%":lF};w.x=S(r,w),w.X=S(i,w),w.c=S(e,w),k.x=S(r,k),k.X=S(i,k),k.c=S(e,k);function S(Y,Q){return function(j){var H=[],J=-1,he=0,X=Y.length,fe,V,Se;for(j instanceof Date||(j=new Date(+j));++J<X;)Y.charCodeAt(J)===37&&(H.push(Y.slice(he,J)),(V=LO[fe=Y.charAt(++J)])!=null?fe=Y.charAt(++J):V=fe==="e"?" ":"0",(Se=Q[fe])&&(fe=Se(j,V)),H.push(fe),he=J+1);return H.push(Y.slice(he,J)),H.join("")}}l(S,"newFormat");function C(Y,Q){return function(j){var H=f0(1900,void 0,1),J=E(H,Y,j+="",0),he,X;if(J!=j.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(Q&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(he=c4(f0(H.y,0,1)),X=he.getUTCDay(),he=X>4||X===0?w4.ceil(he):w4(he),he=z8.offset(he,(H.V-1)*7),H.y=he.getUTCFullYear(),H.m=he.getUTCMonth(),H.d=he.getUTCDate()+(H.w+6)%7):(he=l4(f0(H.y,0,1)),X=he.getDay(),he=X>4||X===0?E0.ceil(he):E0(he),he=Rc.offset(he,(H.V-1)*7),H.y=he.getFullYear(),H.m=he.getMonth(),H.d=he.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),X="Z"in H?c4(f0(H.y,0,1)).getUTCDay():l4(f0(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(X+5)%7:H.w+H.U*7-(X+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,c4(H)):l4(H)}}l(C,"newParse");function E(Y,Q,j,H){for(var J=0,he=Q.length,X=j.length,fe,V;J<he;){if(H>=X)return-1;if(fe=Q.charCodeAt(J++),fe===37){if(fe=Q.charAt(J++),V=T[fe in LO?Q.charAt(J++):fe],!V||(H=V(Y,j,H))<0)return-1}else if(fe!=j.charCodeAt(H++))return-1}return H}l(E,"parseSpecifier");function L(Y,Q,j){var H=u.exec(Q.slice(j));return H?(Y.p=d.get(H[0].toLowerCase()),j+H[0].length):-1}l(L,"parsePeriod");function I(Y,Q,j){var H=f.exec(Q.slice(j));return H?(Y.w=m.get(H[0].toLowerCase()),j+H[0].length):-1}l(I,"parseShortWeekday");function M(Y,Q,j){var H=p.exec(Q.slice(j));return H?(Y.w=g.get(H[0].toLowerCase()),j+H[0].length):-1}l(M,"parseWeekday");function N(Y,Q,j){var H=v.exec(Q.slice(j));return H?(Y.m=x.get(H[0].toLowerCase()),j+H[0].length):-1}l(N,"parseShortMonth");function $(Y,Q,j){var H=y.exec(Q.slice(j));return H?(Y.m=b.get(H[0].toLowerCase()),j+H[0].length):-1}l($,"parseMonth");function _(Y,Q,j){return E(Y,e,Q,j)}l(_,"parseLocaleDateTime");function D(Y,Q,j){return E(Y,r,Q,j)}l(D,"parseLocaleDate");function R(Y,Q,j){return E(Y,i,Q,j)}l(R,"parseLocaleTime");function O(Y){return s[Y.getDay()]}l(O,"formatShortWeekday");function A(Y){return a[Y.getDay()]}l(A,"formatWeekday");function B(Y){return h[Y.getMonth()]}l(B,"formatShortMonth");function P(Y){return o[Y.getMonth()]}l(P,"formatMonth");function z(Y){return n[+(Y.getHours()>=12)]}l(z,"formatPeriod");function q(Y){return 1+~~(Y.getMonth()/3)}l(q,"formatQuarter");function K(Y){return s[Y.getUTCDay()]}l(K,"formatUTCShortWeekday");function W(Y){return a[Y.getUTCDay()]}l(W,"formatUTCWeekday");function ae(Y){return h[Y.getUTCMonth()]}l(ae,"formatUTCShortMonth");function ie(Y){return o[Y.getUTCMonth()]}l(ie,"formatUTCMonth");function se(Y){return n[+(Y.getUTCHours()>=12)]}l(se,"formatUTCPeriod");function oe(Y){return 1+~~(Y.getUTCMonth()/3)}return l(oe,"formatUTCQuarter"),{format:l(function(Y){var Q=S(Y+="",w);return Q.toString=function(){return Y},Q},"format"),parse:l(function(Y){var Q=C(Y+="",!1);return Q.toString=function(){return Y},Q},"parse"),utcFormat:l(function(Y){var Q=S(Y+="",k);return Q.toString=function(){return Y},Q},"utcFormat"),utcParse:l(function(Y){var Q=C(Y+="",!0);return Q.toString=function(){return Y},Q},"utcParse")}}function Rr(t,e,r){var i=t<0?"-":"",n=(i?-t:t)+"",a=n.length;return i+(a<r?new Array(r-a+1).join(e)+n:n)}function HP(t){return t.replace(l2e,"\\$&")}function m0(t){return new RegExp("^(?:"+t.map(HP).join("|")+")","i")}function y0(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function XP(t,e,r){var i=gn.exec(e.slice(r,r+1));return i?(t.w=+i[0],r+i[0].length):-1}function KP(t,e,r){var i=gn.exec(e.slice(r,r+1));return i?(t.u=+i[0],r+i[0].length):-1}function ZP(t,e,r){var i=gn.exec(e.slice(r,r+2));return i?(t.U=+i[0],r+i[0].length):-1}function QP(t,e,r){var i=gn.exec(e.slice(r,r+2));return i?(t.V=+i[0],r+i[0].length):-1}function JP(t,e,r){var i=gn.exec(e.slice(r,r+2));return i?(t.W=+i[0],r+i[0].length):-1}function G7(t,e,r){var i=gn.exec(e.slice(r,r+4));return i?(t.y=+i[0],r+i[0].length):-1}function q7(t,e,r){var i=gn.exec(e.slice(r,r+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function eF(t,e,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function tF(t,e,r){var i=gn.exec(e.slice(r,r+1));return i?(t.q=i[0]*3-3,r+i[0].length):-1}function rF(t,e,r){var i=gn.exec(e.slice(r,r+2));return i?(t.m=i[0]-1,r+i[0].length):-1}function U7(t,e,r){var i=gn.exec(e.slice(r,r+2));return i?(t.d=+i[0],r+i[0].length):-1}function iF(t,e,r){var i=gn.exec(e.slice(r,r+3));return i?(t.m=0,t.d=+i[0],r+i[0].length):-1}function j7(t,e,r){var i=gn.exec(e.slice(r,r+2));return i?(t.H=+i[0],r+i[0].length):-1}function nF(t,e,r){var i=gn.exec(e.slice(r,r+2));return i?(t.M=+i[0],r+i[0].length):-1}function aF(t,e,r){var i=gn.exec(e.slice(r,r+2));return i?(t.S=+i[0],r+i[0].length):-1}function sF(t,e,r){var i=gn.exec(e.slice(r,r+3));return i?(t.L=+i[0],r+i[0].length):-1}function oF(t,e,r){var i=gn.exec(e.slice(r,r+6));return i?(t.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function lF(t,e,r){var i=o2e.exec(e.slice(r,r+1));return i?r+i[0].length:-1}function cF(t,e,r){var i=gn.exec(e.slice(r));return i?(t.Q=+i[0],r+i[0].length):-1}function hF(t,e,r){var i=gn.exec(e.slice(r));return i?(t.s=+i[0],r+i[0].length):-1}function W7(t,e){return Rr(t.getDate(),e,2)}function uF(t,e){return Rr(t.getHours(),e,2)}function dF(t,e){return Rr(t.getHours()%12||12,e,2)}function pF(t,e){return Rr(1+Rc.count(Tl(t),t),e,3)}function Y8(t,e){return Rr(t.getMilliseconds(),e,3)}function gF(t,e){return Y8(t,e)+"000"}function fF(t,e){return Rr(t.getMonth()+1,e,2)}function mF(t,e){return Rr(t.getMinutes(),e,2)}function yF(t,e){return Rr(t.getSeconds(),e,2)}function vF(t){var e=t.getDay();return e===0?7:e}function bF(t,e){return Rr(N0.count(Tl(t)-1,t),e,2)}function H8(t){var e=t.getDay();return e>=4||e===0?Ac(t):Ac.ceil(t)}function xF(t,e){return t=H8(t),Rr(Ac.count(Tl(t),t)+(Tl(t).getDay()===4),e,2)}function wF(t){return t.getDay()}function kF(t,e){return Rr(E0.count(Tl(t)-1,t),e,2)}function TF(t,e){return Rr(t.getFullYear()%100,e,2)}function EF(t,e){return t=H8(t),Rr(t.getFullYear()%100,e,2)}function CF(t,e){return Rr(t.getFullYear()%1e4,e,4)}function SF(t,e){var r=t.getDay();return t=r>=4||r===0?Ac(t):Ac.ceil(t),Rr(t.getFullYear()%1e4,e,4)}function _F(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rr(e/60|0,"0",2)+Rr(e%60,"0",2)}function V7(t,e){return Rr(t.getUTCDate(),e,2)}function AF(t,e){return Rr(t.getUTCHours(),e,2)}function LF(t,e){return Rr(t.getUTCHours()%12||12,e,2)}function NF(t,e){return Rr(1+z8.count(Lc(t),t),e,3)}function X8(t,e){return Rr(t.getUTCMilliseconds(),e,3)}function IF(t,e){return X8(t,e)+"000"}function RF(t,e){return Rr(t.getUTCMonth()+1,e,2)}function DF(t,e){return Rr(t.getUTCMinutes(),e,2)}function MF(t,e){return Rr(t.getUTCSeconds(),e,2)}function OF(t){var e=t.getUTCDay();return e===0?7:e}function $F(t,e){return Rr(W8.count(Lc(t)-1,t),e,2)}function K8(t){var e=t.getUTCDay();return e>=4||e===0?C0(t):C0.ceil(t)}function BF(t,e){return t=K8(t),Rr(C0.count(Lc(t),t)+(Lc(t).getUTCDay()===4),e,2)}function PF(t){return t.getUTCDay()}function FF(t,e){return Rr(w4.count(Lc(t)-1,t),e,2)}function zF(t,e){return Rr(t.getUTCFullYear()%100,e,2)}function GF(t,e){return t=K8(t),Rr(t.getUTCFullYear()%100,e,2)}function qF(t,e){return Rr(t.getUTCFullYear()%1e4,e,4)}function UF(t,e){var r=t.getUTCDay();return t=r>=4||r===0?C0(t):C0.ceil(t),Rr(t.getUTCFullYear()%1e4,e,4)}function jF(){return"+0000"}function Y7(){return"%"}function H7(t){return+t}function X7(t){return Math.floor(+t/1e3)}function WF(t){return d0=YP(t),l2=d0.format,c2e=d0.parse,h2e=d0.utcFormat,u2e=d0.utcParse,d0}function VF(t,e){t=t.slice();var r=0,i=t.length-1,n=t[r],a=t[i],s;return a<n&&(s=r,r=i,i=s,s=n,n=a,a=s),t[r]=e.floor(n),t[i]=e.ceil(a),t}function YF(t){return new Date(t)}function HF(t){return t instanceof Date?+t:+new Date(+t)}function Z8(t,e,r,i,n,a,s,o,h,u){var d=F8(),p=d.invert,g=d.domain,f=u(".%L"),m=u(":%S"),y=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),x=u("%b %d"),w=u("%B"),k=u("%Y");function T(S){return(h(S)<S?f:o(S)<S?m:s(S)<S?y:a(S)<S?b:i(S)<S?n(S)<S?v:x:r(S)<S?w:k)(S)}return l(T,"tickFormat"),d.invert=function(S){return new Date(p(S))},d.domain=function(S){return arguments.length?g(Array.from(S,HF)):g().map(YF)},d.ticks=function(S){var C=g();return t(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?T:u(C)},d.nice=function(S){var C=g();return(!S||typeof S.range!="function")&&(S=e(C[0],C[C.length-1],S??10)),S?g(VF(C,S)):d},d.copy=function(){return P8(d,Z8(t,e,r,i,n,a,s,o,h,u))},d}function Q8(){return o2.apply(Z8(a2e,s2e,Tl,I0,N0,Rc,L0,A0,kl,l2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function c2(){var t=Ys().unknown(void 0),e=t.domain,r=t.range,i=0,n=1,a,s,o=!1,h=0,u=0,d=.5;delete t.unknown;function p(){var g=e().length,f=n<i,m=f?n:i,y=f?i:n;a=(y-m)/Math.max(1,g-h+u*2),o&&(a=Math.floor(a)),m+=(y-m-a*(g-h))*d,s=a*(1-h),o&&(m=Math.round(m),s=Math.round(s));var b=GO(g).map(function(v){return m+a*v});return r(f?b.reverse():b)}return l(p,"rescale"),t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([i,n]=g,i=+i,n=+n,p()):[i,n]},t.rangeRound=function(g){return[i,n]=g,i=+i,n=+n,o=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(o=!!g,p()):o},t.padding=function(g){return arguments.length?(h=Math.min(1,u=+g),p()):h},t.paddingInner=function(g){return arguments.length?(h=Math.min(1,g),p()):h},t.paddingOuter=function(g){return arguments.length?(u=+g,p()):u},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),p()):d},t.copy=function(){return c2(e(),[i,n]).round(o).paddingInner(h).paddingOuter(u).align(d)},o2.apply(p(),arguments)}function XF(t){for(var e=t.length/6|0,r=new Array(e),i=0;i<e;)r[i]="#"+t.slice(i*6,++i*6);return r}function Ni(t){return l(function(){return t},"constant")}function ZF(t){return t>1?0:t<-1?Ky:Math.acos(t)}function K7(t){return t>=1?k4:t<=-1?-k4:Math.asin(t)}function J8(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function QF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return J8;let r=10**e;return function(i){this._+=i[0];for(let n=1,a=i.length;n<a;++n)this._+=Math.round(arguments[n]*r)/r+i[n]}}function JF(){return new eE}function tE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{let i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);e=i}return t},()=>new eE(e)}function ez(t){return t.innerRadius}function tz(t){return t.outerRadius}function rz(t){return t.startAngle}function iz(t){return t.endAngle}function nz(t){return t&&t.padAngle}function az(t,e,r,i,n,a,s,o){var h=r-t,u=i-e,d=s-n,p=o-a,g=p*h-d*u;if(!(g*g<Gn))return g=(d*(e-a)-p*(t-n))/g,[t+g*h,e+g*u]}function $y(t,e,r,i,n,a,s){var o=t-r,h=e-i,u=(s?a:-a)/v0(o*o+h*h),d=u*h,p=-u*o,g=t+d,f=e+p,m=r+d,y=i+p,b=(g+m)/2,v=(f+y)/2,x=m-g,w=y-f,k=x*x+w*w,T=n-a,S=g*y-m*f,C=(w<0?-1:1)*v0(d2e(0,T*T*k-S*S)),E=(S*w-x*C)/k,L=(-S*x-w*C)/k,I=(S*w+x*C)/k,M=(-S*x+w*C)/k,N=E-b,$=L-v,_=I-b,D=M-v;return N*N+$*$>_*_+D*D&&(E=I,L=M),{cx:E,cy:L,x01:-d,y01:-p,x11:E*(n/T-1),y11:L*(n/T-1)}}function No(){var t=ez,e=tz,r=Ni(0),i=null,n=rz,a=iz,s=nz,o=null,h=tE(u);function u(){var d,p,g=+t.apply(this,arguments),f=+e.apply(this,arguments),m=n.apply(this,arguments)-k4,y=a.apply(this,arguments)-k4,b=NO(y-m),v=y>m;if(o||(o=d=h()),f<g&&(p=f,f=g,g=p),!(f>Gn))o.moveTo(0,0);else if(b>h4-Gn)o.moveTo(f*iu(m),f*Co(m)),o.arc(0,0,f,m,y,!v),g>Gn&&(o.moveTo(g*iu(y),g*Co(y)),o.arc(0,0,g,y,m,v));else{var x=m,w=y,k=m,T=y,S=b,C=b,E=s.apply(this,arguments)/2,L=E>Gn&&(i?+i.apply(this,arguments):v0(g*g+f*f)),I=S7(NO(f-g)/2,+r.apply(this,arguments)),M=I,N=I,$,_;if(L>Gn){var D=K7(L/g*Co(E)),R=K7(L/f*Co(E));(S-=D*2)>Gn?(D*=v?1:-1,k+=D,T-=D):(S=0,k=T=(m+y)/2),(C-=R*2)>Gn?(R*=v?1:-1,x+=R,w-=R):(C=0,x=w=(m+y)/2)}var O=f*iu(x),A=f*Co(x),B=g*iu(T),P=g*Co(T);if(I>Gn){var z=f*iu(w),q=f*Co(w),K=g*iu(k),W=g*Co(k),ae;if(b<Ky)if(ae=az(O,A,K,W,z,q,B,P)){var ie=O-ae[0],se=A-ae[1],oe=z-ae[0],Y=q-ae[1],Q=1/Co(ZF((ie*oe+se*Y)/(v0(ie*ie+se*se)*v0(oe*oe+Y*Y)))/2),j=v0(ae[0]*ae[0]+ae[1]*ae[1]);M=S7(I,(g-j)/(Q-1)),N=S7(I,(f-j)/(Q+1))}else M=N=0}C>Gn?N>Gn?($=$y(K,W,O,A,f,N,v),_=$y(z,q,B,P,f,N,v),o.moveTo($.cx+$.x01,$.cy+$.y01),N<I?o.arc($.cx,$.cy,N,zn($.y01,$.x01),zn(_.y01,_.x01),!v):(o.arc($.cx,$.cy,N,zn($.y01,$.x01),zn($.y11,$.x11),!v),o.arc(0,0,f,zn($.cy+$.y11,$.cx+$.x11),zn(_.cy+_.y11,_.cx+_.x11),!v),o.arc(_.cx,_.cy,N,zn(_.y11,_.x11),zn(_.y01,_.x01),!v))):(o.moveTo(O,A),o.arc(0,0,f,x,w,!v)):o.moveTo(O,A),!(g>Gn)||!(S>Gn)?o.lineTo(B,P):M>Gn?($=$y(B,P,z,q,g,-M,v),_=$y(O,A,K,W,g,-M,v),o.lineTo($.cx+$.x01,$.cy+$.y01),M<I?o.arc($.cx,$.cy,M,zn($.y01,$.x01),zn(_.y01,_.x01),!v):(o.arc($.cx,$.cy,M,zn($.y01,$.x01),zn($.y11,$.x11),!v),o.arc(0,0,g,zn($.cy+$.y11,$.cx+$.x11),zn(_.cy+_.y11,_.cx+_.x11),v),o.arc(_.cx,_.cy,M,zn(_.y11,_.x11),zn(_.y01,_.x01),!v))):o.arc(0,0,g,T,k,v)}if(o.closePath(),d)return o=null,d+""||null}return l(u,"arc"),u.centroid=function(){var d=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,p=(+n.apply(this,arguments)+ +a.apply(this,arguments))/2-Ky/2;return[iu(p)*d,Co(p)*d]},u.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Ni(+d),u):t},u.outerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Ni(+d),u):e},u.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:Ni(+d),u):r},u.padRadius=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Ni(+d),u):i},u.startAngle=function(d){return arguments.length?(n=typeof d=="function"?d:Ni(+d),u):n},u.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:Ni(+d),u):a},u.padAngle=function(d){return arguments.length?(s=typeof d=="function"?d:Ni(+d),u):s},u.context=function(d){return arguments.length?(o=d??null,u):o},u}function rE(t){this._context=t}function du(t){return new rE(t)}function iE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sz(t){return t[0]}function oz(t){return t[1]}function Io(t,e){var r=Ni(!0),i=null,n=du,a=null,s=tE(o);t=typeof t=="function"?t:t===void 0?sz:Ni(t),e=typeof e=="function"?e:e===void 0?oz:Ni(e);function o(h){var u,d=(h=iE(h)).length,p,g=!1,f;for(i==null&&(a=n(f=s())),u=0;u<=d;++u)!(u<d&&r(p=h[u],u,h))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,u,h),+e(p,u,h));if(f)return a=null,f+""||null}return l(o,"line"),o.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ni(+h),o):t},o.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ni(+h),o):e},o.defined=function(h){return arguments.length?(r=typeof h=="function"?h:Ni(!!h),o):r},o.curve=function(h){return arguments.length?(n=h,i!=null&&(a=n(i)),o):n},o.context=function(h){return arguments.length?(h==null?i=a=null:a=n(i=h),o):i},o}function lz(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function cz(t){return t}function nE(){var t=cz,e=lz,r=null,i=Ni(0),n=Ni(h4),a=Ni(0);function s(o){var h,u=(o=iE(o)).length,d,p,g=0,f=new Array(u),m=new Array(u),y=+i.apply(this,arguments),b=Math.min(h4,Math.max(-h4,n.apply(this,arguments)-y)),v,x=Math.min(Math.abs(b)/u,a.apply(this,arguments)),w=x*(b<0?-1:1),k;for(h=0;h<u;++h)(k=m[f[h]=h]=+t(o[h],h,o))>0&&(g+=k);for(e!=null?f.sort(function(T,S){return e(m[T],m[S])}):r!=null&&f.sort(function(T,S){return r(o[T],o[S])}),h=0,p=g?(b-u*w)/g:0;h<u;++h,y=v)d=f[h],k=m[d],v=y+(k>0?k*p:0)+w,m[d]={data:o[d],index:h,value:k,startAngle:y,endAngle:v,padAngle:x};return m}return l(s,"pie"),s.value=function(o){return arguments.length?(t=typeof o=="function"?o:Ni(+o),s):t},s.sortValues=function(o){return arguments.length?(e=o,r=null,s):e},s.sort=function(o){return arguments.length?(r=o,e=null,s):r},s.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Ni(+o),s):i},s.endAngle=function(o){return arguments.length?(n=typeof o=="function"?o:Ni(+o),s):n},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Ni(+o),s):a},s}function h2(t){return new hz(t,!0)}function u2(t){return new hz(t,!1)}function Zy(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function d2(t){this._context=t}function Hs(t){return new d2(t)}function El(){}function aE(t){this._context=t}function sE(t){return new aE(t)}function oE(t){this._context=t}function lE(t){return new oE(t)}function cE(t,e){this._basis=new d2(t),this._beta=e}function Qy(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function D4(t,e){this._context=t,this._k=(1-e)/6}function O4(t,e){this._context=t,this._k=(1-e)/6}function $4(t,e){this._context=t,this._k=(1-e)/6}function B4(t,e,r){var i=t._x1,n=t._y1,a=t._x2,s=t._y2;if(t._l01_a>Gn){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,n=(n*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>Gn){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/d,s=(s*u+t._y1*t._l23_2a-r*t._l12_2a)/d}t._context.bezierCurveTo(i,n,a,s,t._x2,t._y2)}function hE(t,e){this._context=t,this._alpha=e}function uE(t,e){this._context=t,this._alpha=e}function dE(t,e){this._context=t,this._alpha=e}function pE(t){this._context=t}function gE(t){return new pE(t)}function J7(t){return t<0?-1:1}function e8(t,e,r){var i=t._x1-t._x0,n=e-t._x1,a=(t._y1-t._y0)/(i||n<0&&-0),s=(r-t._y1)/(n||i<0&&-0),o=(a*n+s*i)/(i+n);return(J7(a)+J7(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function t8(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function u4(t,e,r){var i=t._x0,n=t._y0,a=t._x1,s=t._y1,o=(a-i)/3;t._context.bezierCurveTo(i+o,n+o*e,a-o,s-o*r,a,s)}function Jy(t){this._context=t}function fE(t){this._context=new mE(t)}function mE(t){this._context=t}function p2(t){return new Jy(t)}function g2(t){return new fE(t)}function yE(t){this._context=t}function r8(t){var e,r=t.length-1,i,n=new Array(r),a=new Array(r),s=new Array(r);for(n[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)n[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(n[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)i=n[e]/a[e-1],a[e]-=i,s[e]-=i*s[e-1];for(n[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)n[e]=(s[e]-n[e+1])/a[e];for(a[r-1]=(t[r]+n[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-n[e+1];return[n,a]}function f2(t){return new yE(t)}function m2(t,e){this._context=t,this._t=e}function y2(t){return new m2(t,.5)}function v2(t){return new m2(t,0)}function b2(t){return new m2(t,1)}function vE(){for(var t=0,e=arguments.length,r={},i;t<e;++t){if(!(i=arguments[t]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new zy(r)}function zy(t){this._=t}function mz(t,e){return t.trim().split(/^|\s+/).map(function(r){var i="",n=r.indexOf(".");if(n>=0&&(i=r.slice(n+1),r=r.slice(0,n)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}function yz(t,e){for(var r=0,i=t.length,n;r<i;++r)if((n=t[r]).name===e)return n.value}function i8(t,e,r){for(var i=0,n=t.length;i<n;++i)if(t[i].name===e){t[i]=g2e,t=t.slice(0,i).concat(t.slice(i+1));break}return r!=null&&t.push({name:e,value:r}),t}function z4(){return uu||(bz(xz),uu=e2.now()+F4)}function xz(){uu=0}function t2(){this._call=this._time=this._next=null}function bE(t,e,r){var i=new t2;return i.restart(t,e,r),i}function wz(){z4(),++S0;for(var t=T4,e;t;)(e=uu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--S0}function n8(){uu=(E4=e2.now())+F4,S0=By=0;try{wz()}finally{S0=0,Tz(),uu=0}}function kz(){var t=e2.now(),e=t-E4;e>vz&&(F4-=e,E4=t)}function Tz(){for(var t,e=T4,r,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:T4=r);Py=t,C4(i)}function C4(t){if(!S0){By&&(By=clearTimeout(By));var e=t-uu;e>24?(t<1/0&&(By=setTimeout(n8,t-e2.now()-F4)),Dy&&(Dy=clearInterval(Dy))):(Dy||(E4=e2.now(),Dy=setInterval(kz,vz)),S0=1,bz(n8))}}function a8(t,e,r){var i=new t2;return e=e==null?0:+e,i.restart(n=>{i.stop(),t(n+e)},e,r),i}function x2(t,e,r,i,n,a){var s=t.__transition;if(!s)t.__transition={};else if(r in s)return;Cz(t,r,{name:e,index:i,group:n,on:m2e,tween:y2e,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ez})}function G4(t,e){var r=vs(t,e);if(r.state>Ez)throw new Error("too late; already scheduled");return r}function Xs(t,e){var r=vs(t,e);if(r.state>d4)throw new Error("too late; already running");return r}function vs(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Cz(t,e,r){var i=t.__transition,n;i[e]=r,r.timer=bE(a,0,r.time);function a(u){r.state=IO,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}l(a,"schedule");function s(u){var d,p,g,f;if(r.state!==IO)return h();for(d in i)if(f=i[d],f.name===r.name){if(f.state===d4)return a8(s);f.state===RO?(f.state=p4,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[d]):+d<e&&(f.state=p4,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[d])}if(a8(function(){r.state===d4&&(r.state=RO,r.timer.restart(o,r.delay,r.time),o(u))}),r.state=s8,r.on.call("start",t,t.__data__,r.index,r.group),r.state===s8){for(r.state=d4,n=new Array(g=r.tween.length),d=0,p=-1;d<g;++d)(f=r.tween[d].value.call(t,t.__data__,r.index,r.group))&&(n[++p]=f);n.length=p+1}}l(s,"start");function o(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(h),r.state=o8,1),p=-1,g=n.length;++p<g;)n[p].call(t,d);r.state===o8&&(r.on.call("end",t,t.__data__,r.index,r.group),h())}l(o,"tick");function h(){r.state=p4,r.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}l(h,"stop")}function Sz(t,e){var r=t.__transition,i,n,a=!0,s;if(r){e=e==null?null:e+"";for(s in r){if((i=r[s]).name!==e){a=!1;continue}n=i.state>s8&&i.state<o8,i.state=p4,i.timer.stop(),i.on.call(n?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete r[s]}a&&delete t.__transition}}function _z(t){return this.each(function(){Sz(this,t)})}function Az(t,e){var r,i;return function(){var n=Xs(this,t),a=n.tween;if(a!==r){i=r=a;for(var s=0,o=i.length;s<o;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}n.tween=i}}function Lz(t,e,r){var i,n;if(typeof r!="function")throw new Error;return function(){var a=Xs(this,t),s=a.tween;if(s!==i){n=(i=s).slice();for(var o={name:e,value:r},h=0,u=n.length;h<u;++h)if(n[h].name===e){n[h]=o;break}h===u&&n.push(o)}a.tween=n}}function Nz(t,e){var r=this._id;if(t+="",arguments.length<2){for(var i=vs(this.node(),r).tween,n=0,a=i.length,s;n<a;++n)if((s=i[n]).name===t)return s.value;return null}return this.each((e==null?Az:Lz)(r,t,e))}function q4(t,e,r){var i=t._id;return t.each(function(){var n=Xs(this,i);(n.value||(n.value={}))[e]=r.apply(this,arguments)}),function(n){return vs(n,i).value[e]}}function xE(t,e){var r;return(typeof e=="number"?ms:e instanceof _c?b4:(r=_c(e))?(e=r,b4):M8)(t,e)}function Iz(t){return function(){this.removeAttribute(t)}}function Rz(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Dz(t,e,r){var i,n=r+"",a;return function(){var s=this.getAttribute(t);return s===n?null:s===i?a:a=e(i=s,r)}}function Mz(t,e,r){var i,n=r+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===n?null:s===i?a:a=e(i=s,r)}}function Oz(t,e,r){var i,n,a;return function(){var s,o=r(this),h;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),h=o+"",s===h?null:s===i&&h===n?a:(n=h,a=e(i=s,o)))}}function $z(t,e,r){var i,n,a;return function(){var s,o=r(this),h;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),h=o+"",s===h?null:s===i&&h===n?a:(n=h,a=e(i=s,o)))}}function Bz(t,e){var r=i2(t),i=r==="transform"?Zye:xE;return this.attrTween(t,typeof e=="function"?(r.local?$z:Oz)(r,i,q4(this,"attr."+t,e)):e==null?(r.local?Rz:Iz)(r):(r.local?Mz:Dz)(r,i,e))}function Pz(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function Fz(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function zz(t,e){var r,i;function n(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Fz(t,a)),r}return l(n,"tween"),n._value=e,n}function Gz(t,e){var r,i;function n(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Pz(t,a)),r}return l(n,"tween"),n._value=e,n}function qz(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var i=i2(t);return this.tween(r,(i.local?zz:Gz)(i,e))}function Uz(t,e){return function(){G4(this,t).delay=+e.apply(this,arguments)}}function jz(t,e){return e=+e,function(){G4(this,t).delay=e}}function Wz(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Uz:jz)(e,t)):vs(this.node(),e).delay}function Vz(t,e){return function(){Xs(this,t).duration=+e.apply(this,arguments)}}function Yz(t,e){return e=+e,function(){Xs(this,t).duration=e}}function Hz(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Vz:Yz)(e,t)):vs(this.node(),e).duration}function Xz(t,e){if(typeof e!="function")throw new Error;return function(){Xs(this,t).ease=e}}function Kz(t){var e=this._id;return arguments.length?this.each(Xz(e,t)):vs(this.node(),e).ease}function Zz(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Xs(this,t).ease=r}}function Qz(t){if(typeof t!="function")throw new Error;return this.each(Zz(this._id,t))}function Jz(t){typeof t!="function"&&(t=f8(t));for(var e=this._groups,r=e.length,i=new Array(r),n=0;n<r;++n)for(var a=e[n],s=a.length,o=i[n]=[],h,u=0;u<s;++u)(h=a[u])&&t.call(h,h.__data__,u,a)&&o.push(h);return new Ao(i,this._parents,this._name,this._id)}function eG(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,i=e.length,n=r.length,a=Math.min(i,n),s=new Array(i),o=0;o<a;++o)for(var h=e[o],u=r[o],d=h.length,p=s[o]=new Array(d),g,f=0;f<d;++f)(g=h[f]||u[f])&&(p[f]=g);for(;o<i;++o)s[o]=e[o];return new Ao(s,this._parents,this._name,this._id)}function tG(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function rG(t,e,r){var i,n,a=tG(e)?G4:Xs;return function(){var s=a(this,t),o=s.on;o!==i&&(n=(i=o).copy()).on(e,r),s.on=n}}function iG(t,e){var r=this._id;return arguments.length<2?vs(this.node(),r).on.on(t):this.each(rG(r,t,e))}function nG(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function aG(){return this.on("end.remove",nG(this._id))}function sG(t){var e=this._name,r=this._id;typeof t!="function"&&(t=A4(t));for(var i=this._groups,n=i.length,a=new Array(n),s=0;s<n;++s)for(var o=i[s],h=o.length,u=a[s]=new Array(h),d,p,g=0;g<h;++g)(d=o[g])&&(p=t.call(d,d.__data__,g,o))&&("__data__"in d&&(p.__data__=d.__data__),u[g]=p,x2(u[g],e,r,g,u,vs(d,r)));return new Ao(a,this._parents,e,r)}function oG(t){var e=this._name,r=this._id;typeof t!="function"&&(t=g8(t));for(var i=this._groups,n=i.length,a=[],s=[],o=0;o<n;++o)for(var h=i[o],u=h.length,d,p=0;p<u;++p)if(d=h[p]){for(var g=t.call(d,d.__data__,p,h),f,m=vs(d,r),y=0,b=g.length;y<b;++y)(f=g[y])&&x2(f,e,r,y,g,m);a.push(g),s.push(d)}return new Ao(a,s,e,r)}function lG(){return new v2e(this._groups,this._parents)}function cG(t,e){var r,i,n;return function(){var a=lu(this,t),s=(this.style.removeProperty(t),lu(this,t));return a===s?null:a===r&&s===i?n:n=e(r=a,i=s)}}function wE(t){return function(){this.style.removeProperty(t)}}function hG(t,e,r){var i,n=r+"",a;return function(){var s=lu(this,t);return s===n?null:s===i?a:a=e(i=s,r)}}function uG(t,e,r){var i,n,a;return function(){var s=lu(this,t),o=r(this),h=o+"";return o==null&&(h=o=(this.style.removeProperty(t),lu(this,t))),s===h?null:s===i&&h===n?a:(n=h,a=e(i=s,o))}}function dG(t,e){var r,i,n,a="style."+e,s="end."+a,o;return function(){var h=Xs(this,t),u=h.on,d=h.value[a]==null?o||(o=wE(e)):void 0;(u!==r||n!==d)&&(i=(r=u).copy()).on(s,n=d),h.on=i}}function pG(t,e,r){var i=(t+="")=="transform"?Kye:xE;return e==null?this.styleTween(t,cG(t,i)).on("end.style."+t,wE(t)):typeof e=="function"?this.styleTween(t,uG(t,i,q4(this,"style."+t,e))).each(dG(this._id,t)):this.styleTween(t,hG(t,i,e),r).on("end.style."+t,null)}function gG(t,e,r){return function(i){this.style.setProperty(t,e.call(this,i),r)}}function fG(t,e,r){var i,n;function a(){var s=e.apply(this,arguments);return s!==n&&(i=(n=s)&&gG(t,s,r)),i}return l(a,"tween"),a._value=e,a}function mG(t,e,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,fG(t,e,r??""))}function yG(t){return function(){this.textContent=t}}function vG(t){return function(){var e=t(this);this.textContent=e??""}}function bG(t){return this.tween("text",typeof t=="function"?vG(q4(this,"text",t)):yG(t==null?"":t+""))}function xG(t){return function(e){this.textContent=t.call(this,e)}}function wG(t){var e,r;function i(){var n=t.apply(this,arguments);return n!==r&&(e=(r=n)&&xG(n)),e}return l(i,"tween"),i._value=t,i}function kG(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,wG(t))}function TG(){for(var t=this._name,e=this._id,r=kE(),i=this._groups,n=i.length,a=0;a<n;++a)for(var s=i[a],o=s.length,h,u=0;u<o;++u)if(h=s[u]){var d=vs(h,e);x2(h,t,r,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ao(i,this._parents,t,r)}function EG(){var t,e,r=this,i=r._id,n=r.size();return new Promise(function(a,s){var o={value:s},h={value:l(function(){--n===0&&a()},"value")};r.each(function(){var u=Xs(this,i),d=u.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(h)),u.on=e}),n===0&&a()})}function Ao(t,e,r,i){this._groups=t,this._parents=e,this._name=r,this._id=i}function CG(t){return n2().transition(t)}function kE(){return++b2e}function SG(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function _G(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function AG(t){var e,r;t instanceof Ao?(e=t._id,t=t._name):(e=kE(),(r=x2e).time=z4(),t=t==null?null:t+"");for(var i=this._groups,n=i.length,a=0;a<n;++a)for(var s=i[a],o=s.length,h,u=0;u<o;++u)(h=s[u])&&x2(h,t,e,u,s,r||_G(h,e));return new Ao(i,this._parents,t,e)}function l8(t){return[+t[0],+t[1]]}function LG(t){return[l8(t[0]),l8(t[1])]}function U4(t){return{type:t}}function su(t,e,r){this.k=t,this.x=e,this.y=r}function NG(t){for(;!t.__zoom;)if(!(t=t.parentNode))return w2e;return t.__zoom}var S4,Rye,xl,ee,r2,fs,$O,Dye,SUe,_Ue,Mye,w0,bO,Oye,$ye,Bye,r4,k7,A7,Jx,xO,Pye,Fye,L7,wO,TB,n2,Uy,m4,b0,jy,_o,zye,Gye,qye,Uye,jye,Wye,Vye,kO,Yye,Hye,y4,LB,NB,IB,RB,x0,DB,Xye,N4,FB,AUe,b4,LUe,NUe,B7,T7,TO,P7,e4,Kye,Zye,Qye,rP,EO,CO,SO,t4,Ic,aP,Jye,e2e,_O,AO,E7,C7,hu,IUe,kl,RUe,A0,DUe,UP,MUe,L0,OUe,jP,$Ue,Rc,BUe,z8,PUe,WP,FUe,N0,E0,G8,q8,Ac,U8,j8,zUe,GUe,qUe,UUe,jUe,WUe,VUe,W8,w4,t2e,r2e,C0,i2e,n2e,YUe,HUe,XUe,KUe,ZUe,QUe,JUe,I0,eje,VP,tje,Tl,rje,Lc,ije,nje,aje,a2e,s2e,LO,gn,o2e,l2e,d0,l2,c2e,h2e,u2e,KF,NO,zn,iu,d2e,S7,Co,v0,Gn,Ky,k4,h4,Z7,Q7,nu,p2e,k0,eE,sje,T0,hz,uz,M4,dz,pz,P4,gz,fz,g2e,f2e,S0,By,Dy,vz,T4,Py,E4,uu,F4,e2,bz,m2e,y2e,Ez,IO,s8,d4,RO,o8,p4,v2e,b2e,wl,x2e,oje,lje,cje,hje,uje,dje,w2e,lr=wt(()=>{kt();S4=Li((t,e)=>{"use strict";(function(r,i){typeof t=="object"&&typeof e<"u"?e.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=i()})(t,(function(){"use strict";var r=1e3,i=6e4,n=36e5,a="millisecond",s="second",o="minute",h="hour",u="day",d="week",p="month",g="quarter",f="year",m="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:l(function(_){var D=["th","st","nd","rd"],R=_%100;return"["+_+(D[(R-20)%10]||D[R]||D[0])+"]"},"ordinal")},w=l(function(_,D,R){var O=String(_);return!O||O.length>=D?_:""+Array(D+1-O.length).join(R)+_},"m"),k={s:w,z:l(function(_){var D=-_.utcOffset(),R=Math.abs(D),O=Math.floor(R/60),A=R%60;return(D<=0?"+":"-")+w(O,2,"0")+":"+w(A,2,"0")},"z"),m:l(function _(D,R){if(D.date()<R.date())return-_(R,D);var O=12*(R.year()-D.year())+(R.month()-D.month()),A=D.clone().add(O,p),B=R-A<0,P=D.clone().add(O+(B?-1:1),p);return+(-(O+(R-A)/(B?A-P:P-A))||0)},"t"),a:l(function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},"a"),p:l(function(_){return{M:p,y:f,w:d,d:u,D:m,h,m:o,s,ms:a,Q:g}[_]||String(_||"").toLowerCase().replace(/s$/,"")},"p"),u:l(function(_){return _===void 0},"u")},T="en",S={};S[T]=x;var C="$isDayjsObject",E=l(function(_){return _ instanceof N||!(!_||!_[C])},"S"),L=l(function _(D,R,O){var A;if(!D)return T;if(typeof D=="string"){var B=D.toLowerCase();S[B]&&(A=B),R&&(S[B]=R,A=B);var P=D.split("-");if(!A&&P.length>1)return _(P[0])}else{var z=D.name;S[z]=D,A=z}return!O&&A&&(T=A),A||!O&&T},"t"),I=l(function(_,D){if(E(_))return _.clone();var R=typeof D=="object"?D:{};return R.date=_,R.args=arguments,new N(R)},"O"),M=k;M.l=L,M.i=E,M.w=function(_,D){return I(_,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var N=(function(){function _(R){this.$L=L(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[C]=!0}l(_,"M");var D=_.prototype;return D.parse=function(R){this.$d=(function(O){var A=O.date,B=O.utc;if(A===null)return new Date(NaN);if(M.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var P=A.match(b);if(P){var z=P[2]-1||0,q=(P[7]||"0").substring(0,3);return B?new Date(Date.UTC(P[1],z,P[3]||1,P[4]||0,P[5]||0,P[6]||0,q)):new Date(P[1],z,P[3]||1,P[4]||0,P[5]||0,P[6]||0,q)}}return new Date(A)})(R),this.init()},D.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},D.$utils=function(){return M},D.isValid=function(){return this.$d.toString()!==y},D.isSame=function(R,O){var A=I(R);return this.startOf(O)<=A&&A<=this.endOf(O)},D.isAfter=function(R,O){return I(R)<this.startOf(O)},D.isBefore=function(R,O){return this.endOf(O)<I(R)},D.$g=function(R,O,A){return M.u(R)?this[O]:this.set(A,R)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(R,O){var A=this,B=!!M.u(O)||O,P=M.p(R),z=l(function(Y,Q){var j=M.w(A.$u?Date.UTC(A.$y,Q,Y):new Date(A.$y,Q,Y),A);return B?j:j.endOf(u)},"l"),q=l(function(Y,Q){return M.w(A.toDate()[Y].apply(A.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(Q)),A)},"$"),K=this.$W,W=this.$M,ae=this.$D,ie="set"+(this.$u?"UTC":"");switch(P){case f:return B?z(1,0):z(31,11);case p:return B?z(1,W):z(0,W+1);case d:var se=this.$locale().weekStart||0,oe=(K<se?K+7:K)-se;return z(B?ae-oe:ae+(6-oe),W);case u:case m:return q(ie+"Hours",0);case h:return q(ie+"Minutes",1);case o:return q(ie+"Seconds",2);case s:return q(ie+"Milliseconds",3);default:return this.clone()}},D.endOf=function(R){return this.startOf(R,!1)},D.$set=function(R,O){var A,B=M.p(R),P="set"+(this.$u?"UTC":""),z=(A={},A[u]=P+"Date",A[m]=P+"Date",A[p]=P+"Month",A[f]=P+"FullYear",A[h]=P+"Hours",A[o]=P+"Minutes",A[s]=P+"Seconds",A[a]=P+"Milliseconds",A)[B],q=B===u?this.$D+(O-this.$W):O;if(B===p||B===f){var K=this.clone().set(m,1);K.$d[z](q),K.init(),this.$d=K.set(m,Math.min(this.$D,K.daysInMonth())).$d}else z&&this.$d[z](q);return this.init(),this},D.set=function(R,O){return this.clone().$set(R,O)},D.get=function(R){return this[M.p(R)]()},D.add=function(R,O){var A,B=this;R=Number(R);var P=M.p(O),z=l(function(W){var ae=I(B);return M.w(ae.date(ae.date()+Math.round(W*R)),B)},"y");if(P===p)return this.set(p,this.$M+R);if(P===f)return this.set(f,this.$y+R);if(P===u)return z(1);if(P===d)return z(7);var q=(A={},A[o]=i,A[h]=n,A[s]=r,A)[P]||1,K=this.$d.getTime()+R*q;return M.w(K,this)},D.subtract=function(R,O){return this.add(-1*R,O)},D.format=function(R){var O=this,A=this.$locale();if(!this.isValid())return A.invalidDate||y;var B=R||"YYYY-MM-DDTHH:mm:ssZ",P=M.z(this),z=this.$H,q=this.$m,K=this.$M,W=A.weekdays,ae=A.months,ie=A.meridiem,se=l(function(Q,j,H,J){return Q&&(Q[j]||Q(O,B))||H[j].slice(0,J)},"h"),oe=l(function(Q){return M.s(z%12||12,Q,"0")},"d"),Y=ie||function(Q,j,H){var J=Q<12?"AM":"PM";return H?J.toLowerCase():J};return B.replace(v,(function(Q,j){return j||(function(H){switch(H){case"YY":return String(O.$y).slice(-2);case"YYYY":return M.s(O.$y,4,"0");case"M":return K+1;case"MM":return M.s(K+1,2,"0");case"MMM":return se(A.monthsShort,K,ae,3);case"MMMM":return se(ae,K);case"D":return O.$D;case"DD":return M.s(O.$D,2,"0");case"d":return String(O.$W);case"dd":return se(A.weekdaysMin,O.$W,W,2);case"ddd":return se(A.weekdaysShort,O.$W,W,3);case"dddd":return W[O.$W];case"H":return String(z);case"HH":return M.s(z,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return Y(z,q,!0);case"A":return Y(z,q,!1);case"m":return String(q);case"mm":return M.s(q,2,"0");case"s":return String(O.$s);case"ss":return M.s(O.$s,2,"0");case"SSS":return M.s(O.$ms,3,"0");case"Z":return P}return null})(Q)||P.replace(":","")}))},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(R,O,A){var B,P=this,z=M.p(O),q=I(R),K=(q.utcOffset()-this.utcOffset())*i,W=this-q,ae=l(function(){return M.m(P,q)},"D");switch(z){case f:B=ae()/12;break;case p:B=ae();break;case g:B=ae()/3;break;case d:B=(W-K)/6048e5;break;case u:B=(W-K)/864e5;break;case h:B=W/n;break;case o:B=W/i;break;case s:B=W/r;break;default:B=W}return A?B:M.a(B)},D.daysInMonth=function(){return this.endOf(p).$D},D.$locale=function(){return S[this.$L]},D.locale=function(R,O){if(!R)return this.$L;var A=this.clone(),B=L(R,O,!0);return B&&(A.$L=B),A},D.clone=function(){return M.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},_})(),$=N.prototype;return I.prototype=$,[["$ms",a],["$s",s],["$m",o],["$H",h],["$W",u],["$M",p],["$y",f],["$D",m]].forEach((function(_){$[_[1]]=function(D){return this.$g(D,_[0],_[1])}})),I.extend=function(_,D){return _.$i||(_(D,N,I),_.$i=!0),I},I.locale=L,I.isDayjs=E,I.unix=function(_){return I(1e3*_)},I.en=S[T],I.Ls=S,I.p={},I}))}),Rye=fi(S4(),1),xl={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ee={trace:l((...t)=>{},"trace"),debug:l((...t)=>{},"debug"),info:l((...t)=>{},"info"),warn:l((...t)=>{},"warn"),error:l((...t)=>{},"error"),fatal:l((...t)=>{},"fatal")},r2=l(function(t="fatal"){let e=xl.fatal;typeof t=="string"?t.toLowerCase()in xl&&(e=xl[t]):typeof t=="number"&&(e=t),ee.trace=()=>{},ee.debug=()=>{},ee.info=()=>{},ee.warn=()=>{},ee.error=()=>{},ee.fatal=()=>{},e<=xl.fatal&&(ee.fatal=console.error?console.error.bind(console,fs("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",fs("FATAL"))),e<=xl.error&&(ee.error=console.error?console.error.bind(console,fs("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",fs("ERROR"))),e<=xl.warn&&(ee.warn=console.warn?console.warn.bind(console,fs("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",fs("WARN"))),e<=xl.info&&(ee.info=console.info?console.info.bind(console,fs("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",fs("INFO"))),e<=xl.debug&&(ee.debug=console.debug?console.debug.bind(console,fs("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",fs("DEBUG"))),e<=xl.trace&&(ee.trace=console.debug?console.debug.bind(console,fs("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",fs("TRACE")))},"setLogLevel"),fs=l(t=>`%c${(0,Rye.default)().format("ss.SSS")} : ${t} : `,"format");l(c8,"max");l(h8,"min");l(Fy,"ascending");l(DO,"descending");l(_4,"bisector");l(MO,"zero");l(OO,"number");$O=_4(Fy),Dye=$O.right,SUe=$O.left,_Ue=_4(OO).center,Mye=Dye,bO=(w0=class extends Map{constructor(e,r=FO){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(let[i,n]of e)this.set(i,n)}get(e){return super.get(_7(this,e))}has(e){return super.has(_7(this,e))}set(e,r){return super.set(BO(this,e),r)}delete(e){return super.delete(PO(this,e))}},l(w0,"InternMap"),w0);l(_7,"intern_get");l(BO,"intern_set");l(PO,"intern_delete");l(FO,"keyof");Oye=Math.sqrt(50),$ye=Math.sqrt(10),Bye=Math.sqrt(2);l(Gy,"tickSpec");l(zO,"ticks");l(g4,"tickIncrement");l(f4,"tickStep");l(GO,"range");l(qO,"default");r4=1,k7=2,A7=3,Jx=4,xO=1e-6;l(UO,"translateX");l(jO,"translateY");l(WO,"number");l(VO,"center");l(YO,"entering");l(u8,"axis");l(d8,"axisTop");l(p8,"axisBottom");l(HO,"none");l(A4,"default");l(XO,"default");l(KO,"array");l(ZO,"empty");l(g8,"default");l(QO,"arrayAll");l(JO,"default");l(f8,"default");l(m8,"childMatcher");Pye=Array.prototype.find;l(e$,"childFind");l(t$,"childFirst");l(r$,"default");Fye=Array.prototype.filter;l(i$,"children");l(n$,"childrenFilter");l(a$,"default");l(s$,"default");l(y8,"default");l(o$,"default");l(qy,"EnterNode");qy.prototype={constructor:qy,appendChild:l(function(t){return this._parent.insertBefore(t,this._next)},"appendChild"),insertBefore:l(function(t,e){return this._parent.insertBefore(t,e)},"insertBefore"),querySelector:l(function(t){return this._parent.querySelector(t)},"querySelector"),querySelectorAll:l(function(t){return this._parent.querySelectorAll(t)},"querySelectorAll")};l(l$,"default");l(c$,"bindIndex");l(h$,"bindKey");l(u$,"datum");l(d$,"default");l(p$,"arraylike");l(g$,"default");l(f$,"default");l(m$,"default");l(y$,"default");l(v$,"default");l(b$,"ascending");l(x$,"default");l(w$,"default");l(k$,"default");l(T$,"default");l(E$,"default");l(C$,"default");L7="http://www.w3.org/1999/xhtml",wO={svg:"http://www.w3.org/2000/svg",xhtml:L7,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};l(i2,"default");l(S$,"attrRemove");l(_$,"attrRemoveNS");l(A$,"attrConstant");l(L$,"attrConstantNS");l(N$,"attrFunction");l(I$,"attrFunctionNS");l(R$,"default");l(v8,"default");l(D$,"styleRemove");l(M$,"styleConstant");l(O$,"styleFunction");l($$,"default");l(lu,"styleValue");l(B$,"propertyRemove");l(P$,"propertyConstant");l(F$,"propertyFunction");l(z$,"default");l(b8,"classArray");l(L4,"classList");l(x8,"ClassList");x8.prototype={add:l(function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},"add"),remove:l(function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},"remove"),contains:l(function(t){return this._names.indexOf(t)>=0},"contains")};l(w8,"classedAdd");l(k8,"classedRemove");l(G$,"classedTrue");l(q$,"classedFalse");l(U$,"classedFunction");l(j$,"default");l(W$,"textRemove");l(V$,"textConstant");l(Y$,"textFunction");l(H$,"default");l(X$,"htmlRemove");l(K$,"htmlConstant");l(Z$,"htmlFunction");l(Q$,"default");l(J$,"raise");l(eB,"default");l(tB,"lower");l(rB,"default");l(iB,"creatorInherit");l(nB,"creatorFixed");l(T8,"default");l(aB,"default");l(sB,"constantNull");l(oB,"default");l(lB,"remove");l(cB,"default");l(hB,"selection_cloneShallow");l(uB,"selection_cloneDeep");l(dB,"default");l(pB,"default");l(gB,"contextListener");l(fB,"parseTypenames");l(mB,"onRemove");l(yB,"onAdd");l(vB,"default");l(E8,"dispatchEvent");l(bB,"dispatchConstant");l(xB,"dispatchFunction");l(wB,"default");l(kB,"default");TB=[null];l(Aa,"Selection");l(C8,"selection");l(EB,"selection_selection");Aa.prototype=C8.prototype={constructor:Aa,select:XO,selectAll:JO,selectChild:r$,selectChildren:a$,filter:s$,data:d$,enter:o$,exit:g$,join:f$,merge:m$,selection:EB,order:y$,sort:v$,call:x$,nodes:w$,node:k$,size:T$,empty:E$,each:C$,attr:R$,style:$$,property:z$,classed:j$,text:H$,html:Q$,raise:eB,lower:rB,append:aB,insert:oB,remove:cB,clone:dB,datum:pB,on:vB,dispatch:wB,[Symbol.iterator]:kB};n2=C8;l(Ue,"default");l(_0,"default");l(a2,"extend");l(Nc,"Color");Uy=.7,m4=1/Uy,b0="\\s*([+-]?\\d+)\\s*",jy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zye=/^#([0-9a-f]{3,8})$/,Gye=new RegExp(`^rgb\\(${b0},${b0},${b0}\\)$`),qye=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),Uye=new RegExp(`^rgba\\(${b0},${b0},${b0},${jy}\\)$`),jye=new RegExp(`^rgba\\(${_o},${_o},${_o},${jy}\\)$`),Wye=new RegExp(`^hsl\\(${jy},${_o},${_o}\\)$`),Vye=new RegExp(`^hsla\\(${jy},${_o},${_o},${jy}\\)$`),kO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_0(Nc,_c,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:N7,formatHex:N7,formatHex8:CB,formatHsl:SB,formatRgb:I7,toString:I7});l(N7,"color_formatHex");l(CB,"color_formatHex8");l(SB,"color_formatHsl");l(I7,"color_formatRgb");l(_c,"color");l(R7,"rgbn");l(My,"rgba");l(S8,"rgbConvert");l(Wy,"rgb");l(kn,"Rgb");_0(kn,Wy,a2(Nc,{brighter(t){return t=t==null?m4:Math.pow(m4,t),new kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uy:Math.pow(Uy,t),new kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kn(Sc(this.r),Sc(this.g),Sc(this.b),Vy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D7,formatHex:D7,formatHex8:_B,formatRgb:M7,toString:M7}));l(D7,"rgb_formatHex");l(_B,"rgb_formatHex8");l(M7,"rgb_formatRgb");l(Vy,"clampa");l(Sc,"clampi");l(Cc,"hex");l(O7,"hsla");l(_8,"hslConvert");l(AB,"hsl");l(ys,"Hsl");_0(ys,AB,a2(Nc,{brighter(t){return t=t==null?m4:Math.pow(m4,t),new ys(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uy:Math.pow(Uy,t),new ys(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*e,n=2*r-i;return new kn(i4(t>=240?t-240:t+120,n,i),i4(t,n,i),i4(t<120?t+240:t-120,n,i),this.opacity)},clamp(){return new ys($7(this.h),Oy(this.s),Oy(this.l),Vy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Vy(this.opacity);return`${t===1?"hsl(":"hsla("}${$7(this.h)}, ${Oy(this.s)*100}%, ${Oy(this.l)*100}%${t===1?")":`, ${t})`}`}}));l($7,"clamph");l(Oy,"clampt");l(i4,"hsl2rgb");Yye=Math.PI/180,Hye=180/Math.PI,y4=18,LB=.96422,NB=1,IB=.82521,RB=4/29,x0=6/29,DB=3*x0*x0,Xye=x0*x0*x0;l(A8,"labConvert");l(MB,"lab");l(Vs,"Lab");_0(Vs,MB,a2(Nc,{brighter(t){return new Vs(this.l+y4*(t??1),this.a,this.b,this.opacity)},darker(t){return new Vs(this.l-y4*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return e=LB*a4(e),t=NB*a4(t),r=IB*a4(r),new kn(s4(3.1338561*e-1.6168667*t-.4906146*r),s4(-.9787684*e+1.9161415*t+.033454*r),s4(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}}));l(n4,"xyz2lab");l(a4,"lab2xyz");l(s4,"lrgb2rgb");l(o4,"rgb2lrgb");l(OB,"hclConvert");l(v4,"hcl");l(So,"Hcl");l(L8,"hcl2lab");_0(So,v4,a2(Nc,{brighter(t){return new So(this.h,this.c,this.l+y4*(t??1),this.opacity)},darker(t){return new So(this.h,this.c,this.l-y4*(t??1),this.opacity)},rgb(){return L8(this).rgb()}}));N4=l(t=>()=>t,"default");l(N8,"linear");l($B,"exponential");l(BB,"hue");l(PB,"gamma");l(ou,"nogamma");l(I8,"hcl");FB=I8(BB),AUe=I8(ou);l(R8,"basis");l(zB,"default");l(GB,"default");b4=l((function t(e){var r=PB(e);function i(n,a){var s=r((n=Wy(n)).r,(a=Wy(a)).r),o=r(n.g,a.g),h=r(n.b,a.b),u=ou(n.opacity,a.opacity);return function(d){return n.r=s(d),n.g=o(d),n.b=h(d),n.opacity=u(d),n+""}}return l(i,"rgb"),i.gamma=t,i}),"rgbGamma")(1);l(D8,"rgbSpline");LUe=D8(zB),NUe=D8(GB);l(qB,"default");l(UB,"isNumberArray");l(jB,"genericArray");l(WB,"default");l(ms,"default");l(VB,"default");B7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,T7=new RegExp(B7.source,"g");l(YB,"zero");l(HB,"one");l(M8,"default");l(I4,"default");l(XB,"default");TO=180/Math.PI,P7={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};l(O8,"default");l(KB,"parseCss");l(ZB,"parseSvg");l($8,"interpolateTransform");Kye=$8(KB,"px, ","px)","deg)"),Zye=$8(ZB,", ",")",")");l(QB,"default");l(Yy,"formatDecimalParts");l(cu,"default");l(JB,"default");l(eP,"default");Qye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;l(Hy,"formatSpecifier");Hy.prototype=R4.prototype;l(R4,"FormatSpecifier");R4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};l(tP,"default");l(iP,"default");l(F7,"default");EO={"%":l((t,e)=>(t*100).toFixed(e),"%"),b:l(t=>Math.round(t).toString(2),"b"),c:l(t=>t+"","c"),d:QB,e:l((t,e)=>t.toExponential(e),"e"),f:l((t,e)=>t.toFixed(e),"f"),g:l((t,e)=>t.toPrecision(e),"g"),o:l(t=>Math.round(t).toString(8),"o"),p:l((t,e)=>F7(t*100,e),"p"),r:F7,s:iP,X:l(t=>Math.round(t).toString(16).toUpperCase(),"X"),x:l(t=>Math.round(t).toString(16),"x")};l(z7,"default");CO=Array.prototype.map,SO=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];l(nP,"default");sP({thousands:",",grouping:[3],currency:["$",""]});l(sP,"defaultLocale");l(oP,"default");l(lP,"default");l(cP,"default");l(hP,"count");l(uP,"default");l(dP,"default");l(pP,"default");l(gP,"default");l(fP,"default");l(mP,"default");l(yP,"default");l(vP,"default");l(bP,"leastCommonAncestor");l(xP,"default");l(wP,"default");l(kP,"default");l(TP,"default");l(EP,"default");l(s2,"hierarchy");l(CP,"node_copy");l(SP,"objectChildren");l(_P,"mapChildren");l(AP,"copyData");l(LP,"computeHeight");l(Xy,"Node");Xy.prototype=s2.prototype={constructor:Xy,count:uP,each:dP,eachAfter:gP,eachBefore:pP,find:fP,sum:mP,sort:yP,path:vP,ancestors:xP,descendants:wP,leaves:kP,links:TP,copy:CP,[Symbol.iterator]:EP};l(NP,"default");l(IP,"default");l(RP,"default");Jye=(1+Math.sqrt(5))/2;l(DP,"squarifyRatio");e2e=l((function t(e){function r(i,n,a,s,o){DP(e,i,n,a,s,o)}return l(r,"squarify"),r.ratio=function(i){return t((i=+i)>1?i:1)},r}),"custom")(Jye);l(MP,"required");l(p0,"constantZero");l(g0,"default");l(B8,"default");l(o2,"initRange");_O=Symbol("implicit");l(Ys,"ordinal");l(OP,"constants");l($P,"number");AO=[0,1];l(au,"identity");l(x4,"normalize");l(BP,"clamper");l(PP,"bimap");l(FP,"polymap");l(P8,"copy");l(zP,"transformer");l(F8,"continuous");l(GP,"tickFormat");l(qP,"linearish");l(Lo,"linear");E7=new Date,C7=new Date;l(Yi,"timeInterval");hu=Yi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hu.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):hu);IUe=hu.range,kl=Yi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),RUe=kl.range,A0=Yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),DUe=A0.range,UP=Yi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),MUe=UP.range,L0=Yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),OUe=L0.range,jP=Yi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),$Ue=jP.range,Rc=Yi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),BUe=Rc.range,z8=Yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),PUe=z8.range,WP=Yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),FUe=WP.range;l(Dc,"timeWeekday");N0=Dc(0),E0=Dc(1),G8=Dc(2),q8=Dc(3),Ac=Dc(4),U8=Dc(5),j8=Dc(6),zUe=N0.range,GUe=E0.range,qUe=G8.range,UUe=q8.range,jUe=Ac.range,WUe=U8.range,VUe=j8.range;l(Mc,"utcWeekday");W8=Mc(0),w4=Mc(1),t2e=Mc(2),r2e=Mc(3),C0=Mc(4),i2e=Mc(5),n2e=Mc(6),YUe=W8.range,HUe=w4.range,XUe=t2e.range,KUe=r2e.range,ZUe=C0.range,QUe=i2e.range,JUe=n2e.range,I0=Yi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),eje=I0.range,VP=Yi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),tje=VP.range,Tl=Yi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Tl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});rje=Tl.range,Lc=Yi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Lc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ije=Lc.range;l(V8,"ticker");[nje,aje]=V8(Lc,VP,W8,WP,jP,UP),[a2e,s2e]=V8(Tl,I0,N0,Rc,L0,A0);l(l4,"localDate");l(c4,"utcDate");l(f0,"newDate");l(YP,"formatLocale");LO={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,o2e=/^%/,l2e=/[\\^$*+?|[\]().{}]/g;l(Rr,"pad");l(HP,"requote");l(m0,"formatRe");l(y0,"formatLookup");l(XP,"parseWeekdayNumberSunday");l(KP,"parseWeekdayNumberMonday");l(ZP,"parseWeekNumberSunday");l(QP,"parseWeekNumberISO");l(JP,"parseWeekNumberMonday");l(G7,"parseFullYear");l(q7,"parseYear");l(eF,"parseZone");l(tF,"parseQuarter");l(rF,"parseMonthNumber");l(U7,"parseDayOfMonth");l(iF,"parseDayOfYear");l(j7,"parseHour24");l(nF,"parseMinutes");l(aF,"parseSeconds");l(sF,"parseMilliseconds");l(oF,"parseMicroseconds");l(lF,"parseLiteralPercent");l(cF,"parseUnixTimestamp");l(hF,"parseUnixTimestampSeconds");l(W7,"formatDayOfMonth");l(uF,"formatHour24");l(dF,"formatHour12");l(pF,"formatDayOfYear");l(Y8,"formatMilliseconds");l(gF,"formatMicroseconds");l(fF,"formatMonthNumber");l(mF,"formatMinutes");l(yF,"formatSeconds");l(vF,"formatWeekdayNumberMonday");l(bF,"formatWeekNumberSunday");l(H8,"dISO");l(xF,"formatWeekNumberISO");l(wF,"formatWeekdayNumberSunday");l(kF,"formatWeekNumberMonday");l(TF,"formatYear");l(EF,"formatYearISO");l(CF,"formatFullYear");l(SF,"formatFullYearISO");l(_F,"formatZone");l(V7,"formatUTCDayOfMonth");l(AF,"formatUTCHour24");l(LF,"formatUTCHour12");l(NF,"formatUTCDayOfYear");l(X8,"formatUTCMilliseconds");l(IF,"formatUTCMicroseconds");l(RF,"formatUTCMonthNumber");l(DF,"formatUTCMinutes");l(MF,"formatUTCSeconds");l(OF,"formatUTCWeekdayNumberMonday");l($F,"formatUTCWeekNumberSunday");l(K8,"UTCdISO");l(BF,"formatUTCWeekNumberISO");l(PF,"formatUTCWeekdayNumberSunday");l(FF,"formatUTCWeekNumberMonday");l(zF,"formatUTCYear");l(GF,"formatUTCYearISO");l(qF,"formatUTCFullYear");l(UF,"formatUTCFullYearISO");l(jF,"formatUTCZone");l(Y7,"formatLiteralPercent");l(H7,"formatUnixTimestamp");l(X7,"formatUnixTimestampSeconds");WF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});l(WF,"defaultLocale");l(VF,"nice");l(YF,"date");l(HF,"number");l(Z8,"calendar");l(Q8,"time");l(c2,"band");l(XF,"default");KF=XF("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");l(Ni,"default");NO=Math.abs,zn=Math.atan2,iu=Math.cos,d2e=Math.max,S7=Math.min,Co=Math.sin,v0=Math.sqrt,Gn=1e-12,Ky=Math.PI,k4=Ky/2,h4=2*Ky;l(ZF,"acos");l(K7,"asin");Z7=Math.PI,Q7=2*Z7,nu=1e-6,p2e=Q7-nu;l(J8,"append");l(QF,"appendRound");eE=(k0=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?J8:QF(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,i,n){this._append`Q${+e},${+r},${this._x1=+i},${this._y1=+n}`}bezierCurveTo(e,r,i,n,a,s){this._append`C${+e},${+r},${+i},${+n},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,i,n,a){if(e=+e,r=+r,i=+i,n=+n,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,h=i-e,u=n-r,d=s-e,p=o-r,g=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>nu)if(!(Math.abs(p*h-u*d)>nu)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let f=i-s,m=n-o,y=h*h+u*u,b=f*f+m*m,v=Math.sqrt(y),x=Math.sqrt(g),w=a*Math.tan((Z7-Math.acos((y+g-b)/(2*v*x)))/2),k=w/x,T=w/v;Math.abs(k-1)>nu&&this._append`L${e+k*d},${r+k*p}`,this._append`A${a},${a},0,0,${+(p*f>d*m)},${this._x1=e+T*h},${this._y1=r+T*u}`}}arc(e,r,i,n,a,s){if(e=+e,r=+r,i=+i,s=!!s,i<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(n),h=i*Math.sin(n),u=e+o,d=r+h,p=1^s,g=s?n-a:a-n;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>nu||Math.abs(this._y1-d)>nu)&&this._append`L${u},${d}`,i&&(g<0&&(g=g%Q7+Q7),g>p2e?this._append`A${i},${i},0,1,${p},${e-o},${r-h}A${i},${i},0,1,${p},${this._x1=u},${this._y1=d}`:g>nu&&this._append`A${i},${i},0,${+(g>=Z7)},${p},${this._x1=e+i*Math.cos(a)},${this._y1=r+i*Math.sin(a)}`)}rect(e,r,i,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${i=+i}v${+n}h${-i}Z`}toString(){return this._}},l(k0,"Path"),k0);l(JF,"path");JF.prototype=eE.prototype;l(tE,"withPath");l(ez,"arcInnerRadius");l(tz,"arcOuterRadius");l(rz,"arcStartAngle");l(iz,"arcEndAngle");l(nz,"arcPadAngle");l(az,"intersect");l($y,"cornerTangents");l(No,"default");l(rE,"Linear");rE.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}},"point")};l(du,"default");sje=Array.prototype.slice;l(iE,"default");l(sz,"x");l(oz,"y");l(Io,"default");l(lz,"default");l(cz,"default");l(nE,"default");hz=(T0=class{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}},l(T0,"Bump"),T0);l(h2,"bumpX");l(u2,"bumpY");l(Zy,"point");l(d2,"Basis");d2.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 3:Zy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e},"point")};l(Hs,"default");l(El,"default");l(aE,"BasisClosed");aE.prototype={areaStart:El,areaEnd:El,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},"lineEnd"),point:l(function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e},"point")};l(sE,"default");l(oE,"BasisOpen");oE.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:Zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e},"point")};l(lE,"default");l(cE,"Bundle");cE.prototype={lineStart:l(function(){this._x=[],this._y=[],this._basis.lineStart()},"lineStart"),lineEnd:l(function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var i=t[0],n=e[0],a=t[r]-i,s=e[r]-n,o=-1,h;++o<=r;)h=o/r,this._basis.point(this._beta*t[o]+(1-this._beta)*(i+h*a),this._beta*e[o]+(1-this._beta)*(n+h*s));this._x=this._y=null,this._basis.lineEnd()},"lineEnd"),point:l(function(t,e){this._x.push(+t),this._y.push(+e)},"point")};uz=l((function t(e){function r(i){return e===1?new d2(i):new cE(i,e)}return l(r,"bundle"),r.beta=function(i){return t(+i)},r}),"custom")(.85);l(Qy,"point");l(D4,"Cardinal");D4.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Qy(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Qy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e},"point")};M4=l((function t(e){function r(i){return new D4(i,e)}return l(r,"cardinal"),r.tension=function(i){return t(+i)},r}),"custom")(0);l(O4,"CardinalClosed");O4.prototype={areaStart:El,areaEnd:El,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:l(function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Qy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e},"point")};dz=l((function t(e){function r(i){return new O4(i,e)}return l(r,"cardinal"),r.tension=function(i){return t(+i)},r}),"custom")(0);l($4,"CardinalOpen");$4.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e},"point")};pz=l((function t(e){function r(i){return new $4(i,e)}return l(r,"cardinal"),r.tension=function(i){return t(+i)},r}),"custom")(0);l(B4,"point");l(hE,"CatmullRom");hE.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:B4(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e},"point")};P4=l((function t(e){function r(i){return e?new hE(i,e):new D4(i,0)}return l(r,"catmullRom"),r.alpha=function(i){return t(+i)},r}),"custom")(.5);l(uE,"CatmullRomClosed");uE.prototype={areaStart:El,areaEnd:El,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:l(function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:B4(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e},"point")};gz=l((function t(e){function r(i){return e?new uE(i,e):new O4(i,0)}return l(r,"catmullRom"),r.alpha=function(i){return t(+i)},r}),"custom")(.5);l(dE,"CatmullRomOpen");dE.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:B4(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e},"point")};fz=l((function t(e){function r(i){return e?new dE(i,e):new $4(i,0)}return l(r,"catmullRom"),r.alpha=function(i){return t(+i)},r}),"custom")(.5);l(pE,"LinearClosed");pE.prototype={areaStart:El,areaEnd:El,lineStart:l(function(){this._point=0},"lineStart"),lineEnd:l(function(){this._point&&this._context.closePath()},"lineEnd"),point:l(function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))},"point")};l(gE,"default");l(J7,"sign");l(e8,"slope3");l(t8,"slope2");l(u4,"point");l(Jy,"MonotoneX");Jy.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:u4(this,this._t0,t8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,u4(this,t8(this,r=e8(this,t,e)),r);break;default:u4(this,this._t0,r=e8(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}},"point")};l(fE,"MonotoneY");(fE.prototype=Object.create(Jy.prototype)).point=function(t,e){Jy.prototype.point.call(this,e,t)};l(mE,"ReflectContext");mE.prototype={moveTo:l(function(t,e){this._context.moveTo(e,t)},"moveTo"),closePath:l(function(){this._context.closePath()},"closePath"),lineTo:l(function(t,e){this._context.lineTo(e,t)},"lineTo"),bezierCurveTo:l(function(t,e,r,i,n,a){this._context.bezierCurveTo(e,t,i,r,a,n)},"bezierCurveTo")};l(p2,"monotoneX");l(g2,"monotoneY");l(yE,"Natural");yE.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x=[],this._y=[]},"lineStart"),lineEnd:l(function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var i=r8(t),n=r8(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(i[0][a],n[0][a],i[1][a],n[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},"lineEnd"),point:l(function(t,e){this._x.push(+t),this._y.push(+e)},"point")};l(r8,"controlPoints");l(f2,"default");l(m2,"Step");m2.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x=this._y=NaN,this._point=0},"lineStart"),lineEnd:l(function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},"lineEnd"),point:l(function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e},"point")};l(y2,"default");l(v2,"stepBefore");l(b2,"stepAfter");g2e={value:l(()=>{},"value")};l(vE,"dispatch");l(zy,"Dispatch");l(mz,"parseTypenames");zy.prototype=vE.prototype={constructor:zy,on:l(function(t,e){var r=this._,i=mz(t+"",r),n,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((n=(t=i[a]).type)&&(n=yz(r[n],t.name)))return n;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=i[a]).type)r[n]=i8(r[n],t.name,e);else if(e==null)for(n in r)r[n]=i8(r[n],t.name,null);return this},"on"),copy:l(function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new zy(t)},"copy"),call:l(function(t,e){if((n=arguments.length-2)>0)for(var r=new Array(n),i=0,n,a;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,n=a.length;i<n;++i)a[i].value.apply(e,r)},"call"),apply:l(function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],n=0,a=i.length;n<a;++n)i[n].value.apply(e,r)},"apply")};l(yz,"get");l(i8,"set");f2e=vE,S0=0,By=0,Dy=0,vz=1e3,E4=0,uu=0,F4=0,e2=typeof performance=="object"&&performance.now?performance:Date,bz=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};l(z4,"now");l(xz,"clearNow");l(t2,"Timer");t2.prototype=bE.prototype={constructor:t2,restart:l(function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?z4():+r)+(e==null?0:+e),!this._next&&Py!==this&&(Py?Py._next=this:T4=this,Py=this),this._call=t,this._time=r,C4()},"restart"),stop:l(function(){this._call&&(this._call=null,this._time=1/0,C4())},"stop")};l(bE,"timer");l(wz,"timerFlush");l(n8,"wake");l(kz,"poke");l(Tz,"nap");l(C4,"sleep");l(a8,"default");m2e=f2e("start","end","cancel","interrupt"),y2e=[],Ez=0,IO=1,s8=2,d4=3,RO=4,o8=5,p4=6;l(x2,"default");l(G4,"init");l(Xs,"set");l(vs,"get");l(Cz,"create");l(Sz,"default");l(_z,"default");l(Az,"tweenRemove");l(Lz,"tweenFunction");l(Nz,"default");l(q4,"tweenValue");l(xE,"default");l(Iz,"attrRemove");l(Rz,"attrRemoveNS");l(Dz,"attrConstant");l(Mz,"attrConstantNS");l(Oz,"attrFunction");l($z,"attrFunctionNS");l(Bz,"default");l(Pz,"attrInterpolate");l(Fz,"attrInterpolateNS");l(zz,"attrTweenNS");l(Gz,"attrTween");l(qz,"default");l(Uz,"delayFunction");l(jz,"delayConstant");l(Wz,"default");l(Vz,"durationFunction");l(Yz,"durationConstant");l(Hz,"default");l(Xz,"easeConstant");l(Kz,"default");l(Zz,"easeVarying");l(Qz,"default");l(Jz,"default");l(eG,"default");l(tG,"start");l(rG,"onFunction");l(iG,"default");l(nG,"removeFunction");l(aG,"default");l(sG,"default");l(oG,"default");v2e=n2.prototype.constructor;l(lG,"default");l(cG,"styleNull");l(wE,"styleRemove");l(hG,"styleConstant");l(uG,"styleFunction");l(dG,"styleMaybeRemove");l(pG,"default");l(gG,"styleInterpolate");l(fG,"styleTween");l(mG,"default");l(yG,"textConstant");l(vG,"textFunction");l(bG,"default");l(xG,"textInterpolate");l(wG,"textTween");l(kG,"default");l(TG,"default");l(EG,"default");b2e=0;l(Ao,"Transition");l(CG,"transition");l(kE,"newId");wl=n2.prototype;Ao.prototype=CG.prototype={constructor:Ao,select:sG,selectAll:oG,selectChild:wl.selectChild,selectChildren:wl.selectChildren,filter:Jz,merge:eG,selection:lG,transition:TG,call:wl.call,nodes:wl.nodes,node:wl.node,size:wl.size,empty:wl.empty,each:wl.each,on:iG,attr:Bz,attrTween:qz,style:pG,styleTween:mG,text:bG,textTween:kG,remove:aG,tween:Nz,delay:Wz,duration:Hz,ease:Kz,easeVarying:Qz,end:EG,[Symbol.iterator]:wl[Symbol.iterator]};l(SG,"cubicInOut");x2e={time:null,delay:0,duration:250,ease:SG};l(_G,"inherit");l(AG,"default");n2.prototype.interrupt=_z;n2.prototype.transition=AG;({abs:oje,max:lje,min:cje}=Math);l(l8,"number1");l(LG,"number2");hje={name:"x",handles:["w","e"].map(U4),input:l(function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},"input"),output:l(function(t){return t&&[t[0][0],t[1][0]]},"output")},uje={name:"y",handles:["n","s"].map(U4),input:l(function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},"input"),output:l(function(t){return t&&[t[0][1],t[1][1]]},"output")},dje={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(U4),input:l(function(t){return t==null?null:LG(t)},"input"),output:l(function(t){return t},"output")};l(U4,"type");l(su,"Transform");su.prototype={constructor:su,scale:l(function(t){return t===1?this:new su(this.k*t,this.x,this.y)},"scale"),translate:l(function(t,e){return t===0&e===0?this:new su(this.k,this.x+this.k*t,this.y+this.k*e)},"translate"),apply:l(function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},"apply"),applyX:l(function(t){return t*this.k+this.x},"applyX"),applyY:l(function(t){return t*this.k+this.y},"applyY"),invert:l(function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},"invert"),invertX:l(function(t){return(t-this.x)/this.k},"invertX"),invertY:l(function(t){return(t-this.y)/this.k},"invertY"),rescaleX:l(function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},"rescaleX"),rescaleY:l(function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},"rescaleY"),toString:l(function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"},"toString")};w2e=new su(1,0,0);NG.prototype=su.prototype;l(NG,"transform")});var lU={};Tr(lU,{ParseError:()=>lt,SETTINGS_SCHEMA:()=>C2,__defineFunction:()=>bt,__defineMacro:()=>le,__defineSymbol:()=>G,__domTree:()=>oU,__parse:()=>iU,__renderToDomTree:()=>m3,__renderToHTMLTree:()=>aU,__setFontMetrics:()=>KE,default:()=>cbe,render:()=>gC,renderToString:()=>rU,version:()=>sU});function aq(t){return String(t).replace(_2e,e=>S2e[e])}function oq(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}function lq(t){for(var e=0;e<OE.length;e++)for(var r=OE[e],i=0;i<r.blocks.length;i++){var n=r.blocks[i];if(t>=n[0]&&t<=n[1])return r.name}return null}function XE(t){for(var e=0;e<e3.length;e+=2)if(t>=e3[e]&&t<=e3[e+1])return!0;return!1}function KE(t,e){Do[t]=e}function l3(t,e,r){if(!Do[e])throw new Error("Font metrics not found for font: "+e+".");var i=t.charCodeAt(0),n=Do[e][i];if(!n&&t[0]in RG&&(i=RG[t[0]].charCodeAt(0),n=Do[e][i]),!n&&r==="text"&&XE(i)&&(n=Do[e][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}function cq(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!TE[e]){var r=TE[e]={cssEmPerMu:j4.quad[e]/18};for(var i in j4)j4.hasOwnProperty(i)&&(r[i]=j4[i][e])}return TE[e]}function PE(t){if(t instanceof ws)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function fq(t){if(t instanceof N2)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}function G(t,e,r,i,n,a){ti[t][n]={font:e,group:r,replace:i},a&&i&&(ti[t][i]=ti[t][n])}function bt(t){for(var{type:e,names:r,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:n},h=0;h<r.length;++h)wq[r[h]]=o;e&&(a&&(n3[e]=a),s&&(a3[e]=s))}function Gc(t){var{type:e,htmlBuilder:r,mathmlBuilder:i}=t;bt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:i})}function T2(t,e){var r=Nl(["base"],t,e),i=Nl(["strut"]);return i.style.height=gt(r.height+r.depth),r.depth&&(i.style.verticalAlign=gt(-r.depth)),r.children.unshift(i),r}function o3(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var i=nn(t,e,"root"),n;i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var a=[],s=[],o=0;o<i.length;o++)if(s.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var h=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,s.push(i[o]),i[o].hasClass("nobreak")&&(h=!0);h||(a.push(T2(s,e)),s=[])}else i[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(T2(s,e)),s=[]),a.push(i[o]));s.length>0&&a.push(T2(s,e));var u;r?(u=T2(nn(r,e,!0)),u.classes=["tag"],a.push(u)):n&&a.push(n);var d=Nl(["katex-html"],a);if(d.setAttribute("aria-hidden","true"),u){var p=u.children[0];p.style.height=gt(d.height+d.depth),d.depth&&(p.style.verticalAlign=gt(-d.depth))}return d}function JE(t){return new L2(t)}function t3(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Mo&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof Mo&&r.text===","}else return!1}function GE(t,e,r,i,n){var a=Na(t,r),s;a.length===1&&a[0]instanceof Ja&&qt.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new nt.MathNode("mrow",a);var o=new nt.MathNode("annotation",[new nt.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var h=new nt.MathNode("semantics",[s,o]),u=new nt.MathNode("math",[h]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var d=n?"katex":"katex-mathml";return Me.makeSpan([d],[u])}function ar(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function u3(t){var e=I2(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function I2(t){return t&&(t.type==="atom"||J2e.hasOwnProperty(t.type))?t:null}function iC(t,e){var r=nn(t.body,e,!0);return Nve([t.mclass],r,e)}function nC(t,e){var r,i=Na(t.body,e);return t.mclass==="minner"?r=new nt.MathNode("mpadded",i):t.mclass==="mord"?t.isCharacterBox?(r=i[0],r.type="mi"):r=new nt.MathNode("mi",i):(t.isCharacterBox?(r=i[0],r.type="mo"):r=new nt.MathNode("mo",i),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}function Sq(t,e,r){var i=Ive[t];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var n=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),h={type:"ordgroup",mode:"math",body:[n,s,o]};return r.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function _q(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new lt("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var i=[],n=[i],a=0;a<e.length;a++){for(var s=e[a],o=FG(),h=0;h<s.length;h++)if(!zG(s[h]))o.body.push(s[h]);else{i.push(o),h+=1;var u=u3(s[h]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var p=0;p<2;p++){for(var g=!0,f=h+1;f<s.length;f++){if(Rve(s[f],u)){g=!1,h=f;break}if(zG(s[f]))throw new lt("Missing a "+u+" character to complete a CD arrow.",s[f]);d[p].body.push(s[f])}if(g)throw new lt("Missing a "+u+" character to complete a CD arrow.",s[h])}else throw new lt('Expected one of "<>AV=|." after @',s[h]);var m=Sq(u,d,t),y={type:"styling",body:[m],mode:"math",style:"display"};i.push(y),o=FG()}a%2===0?i.push(o):i.shift(),i=[],n.push(i)}t.gullet.endGroup(),t.gullet.endGroup();var b=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}function R2(t,e){var r=I2(t);if(r&&qt.contains(Wve,r.text))return r;throw r?new lt("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new lt("Invalid delimiter type '"+t.type+"'",t)}function jE(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function Qs(t){for(var{type:e,names:r,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},h=0;h<r.length;++h)zq[r[h]]=o;a&&(n3[e]=a),s&&(a3[e]=s)}function le(t,e){Gq[t]=e}function WE(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}function g3(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Dl(t,e,r){var{hskipBeforeAndAfter:i,addJot:n,cols:a,arraystretch:s,colSeparationType:o,autoTag:h,singleRow:u,emptySingleRow:d,maxNumCols:p,leqno:g}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)s=1;else if(s=parseFloat(f),!s||s<0)throw new lt("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var m=[],y=[m],b=[],v=[],x=h!=null?[]:void 0;function w(){h&&t.gullet.macros.set("\\@eqnsw","1",!0)}l(w,"beginRow");function k(){x&&(t.gullet.macros.get("\\df@tag")?(x.push(t.subparse([new Oo("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):x.push(!!h&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(l(k,"endRow"),w(),v.push(WE(t));;){var T=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),T={type:"ordgroup",mode:t.mode,body:T},r&&(T={type:"styling",mode:t.mode,style:r,body:[T]}),m.push(T);var S=t.fetch().text;if(S==="&"){if(p&&m.length===p){if(u||o)throw new lt("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(S==="\\end"){k(),m.length===1&&T.type==="styling"&&T.body[0].body.length===0&&(y.length>1||!d)&&y.pop(),v.length<y.length+1&&v.push([]);break}else if(S==="\\\\"){t.consume();var C=void 0;t.gullet.future().text!==" "&&(C=t.parseSizeGroup(!0)),b.push(C?C.value:null),k(),v.push(WE(t)),m=[],y.push(m),w()}else throw new lt("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:n,arraystretch:s,body:y,cols:a,rowGaps:b,hskipBeforeAndAfter:i,hLinesBeforeRow:v,colSeparationType:o,tags:x,leqno:g}}function f3(t){return t.slice(0,1)==="d"?"display":"text"}function hC(t,e,r){for(var i=nn(t,e,!1),n=e.sizeMultiplier/r.sizeMultiplier,a=0;a<i.length;a++){var s=i[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[a].classes,e.sizingClasses(r)):i[a].classes[s+1]==="reset-size"+e.size&&(i[a].classes[s+1]="reset-size"+r.size),i[a].height*=n,i[a].depth*=n}return Me.makeFragment(i)}var gu,Ks,fu,Oo,mu,lt,k2e,T2e,E2e,C2e,S2e,_2e,sq,A2e,L2e,N2e,qt,C2,M0,YE,O0,Oc,HE,r3,D0,_l,_2,xs,K0,aa,Ro,I2e,R2e,D2e,M2e,O2e,$2e,Vt,OE,e3,R0,B2e,P2e,F2e,z2e,G2e,q2e,U2e,j2e,W2e,IG,V2e,$0,L2,Do,j4,RG,TE,Y2e,DG,MG,bs,hq,$E,H2e,uq,ki,gt,Pc,dq,pq,X2e,gq,B0,N2,P0,ZE,F0,K2e,Z2e,z0,ws,G0,Ll,q0,Fc,U0,BE,Q2e,J2e,ti,U,tt,re,we,mi,At,sa,Z0,Wt,Hi,es,c3,ke,Rl,_e,mq,OG,EE,W4,$G,CE,V4,i3,w2,Y4,Zt,xi,qn,Cl,$c,FE,k2,H4,X4,BG,eve,h3,Zs,tve,rve,ive,nve,ave,QE,La,yq,sve,ove,vq,lve,cve,hve,uve,K4,bq,xq,dve,Me,wi,pu,Sl,pve,gve,wq,n3,a3,s3,Bi,Nl,fve,mve,yve,vve,nn,PG,kq,bve,zE,A2,Dr,j0,Ja,W0,Mo,V0,xve,nt,ks,eC,tC,Na,zc,Qr,Tq,Eq,wve,kve,Tve,Eve,Cve,Sve,_ve,Ave,Il,rC,Cq,Lve,Z4,Nve,d3,Ive,FG,zG,Rve,Aq,Lq,qE,Nq,Dve,Iq,E2,aC,Rq,Mve,Ove,Dq,SE,_E,UE,Q4,$ve,Bve,Mq,AE,LE,NE,Pve,Oq,Fve,$q,S2,zve,Gve,qve,Bq,Uve,Pq,Fq,jve,Al,GG,Wve,sC,oC,zq,Gq,p3,$o,Vve,Bo,qq,qG,Uq,jq,UG,Wq,lC,cC,jG,WG,Vq,Yve,IE,VG,Yq,Hq,Q0,D2,Hve,Xve,Xq,Kve,YG,Zve,HG,Qve,Kq,RE,DE,XG,KG,ZG,Jve,QG,JG,Bc,Zq,ebe,tbe,rbe,ibe,VE,nbe,abe,Y0,eq,H0,sbe,obe,tq,uC,rq,dC,Qq,Jq,eU,X0,lbe,iq,J4,ME,nq,yu,tU,pC,gC,rU,iU,nU,m3,aU,sU,oU,cbe,cU=wt(()=>{kt();Ks=(gu=class{constructor(e,r,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=i}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new gu(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}},l(gu,"SourceLocation"),gu),Oo=(fu=class{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new fu(r,Ks.range(this,e))}},l(fu,"Token"),fu),lt=(mu=class{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+e,n,a,s=r&&r.loc;if(s&&s.start<=s.end){var o=s.lexer.input;n=s.start,a=s.end,n===o.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var h=o.slice(n,a).replace(/[^]/g,"$&\u0332"),u;n>15?u="\u2026"+o.slice(n-15,n):u=o.slice(0,n);var d;a+15<o.length?d=o.slice(a,a+15)+"\u2026":d=o.slice(a),i+=u+h+d}var p=new Error(i);return p.name="ParseError",p.__proto__=mu.prototype,p.position=n,n!=null&&a!=null&&(p.length=a-n),p.rawMessage=e,p}},l(mu,"ParseError"),mu);lt.prototype.__proto__=Error.prototype;k2e=l(function(t,e){return t.indexOf(e)!==-1},"contains"),T2e=l(function(t,e){return t===void 0?e:t},"deflt"),E2e=/([A-Z])/g,C2e=l(function(t){return t.replace(E2e,"-$1").toLowerCase()},"hyphenate"),S2e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},_2e=/[&><"']/g;l(aq,"escape");sq=l(function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},"getBaseElem"),A2e=l(function(t){var e=sq(t);return e.type==="mathord"||e.type==="textord"||e.type==="atom"},"isCharacterBox"),L2e=l(function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},"assert"),N2e=l(function(t){var e=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return e?e[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(e[1])?null:e[1].toLowerCase():"_relative"},"protocolFromUrl"),qt={contains:k2e,deflt:T2e,escape:aq,hyphenate:C2e,getBaseElem:sq,isCharacterBox:A2e,protocolFromUrl:N2e},C2={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:l(t=>"#"+t,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:l((t,e)=>(e.push(t),e),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:l(t=>Math.max(0,t),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:l(t=>Math.max(0,t),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:l(t=>Math.max(0,t),"processor"),cli:"-e, --max-expand <n>",cliProcessor:l(t=>t==="Infinity"?1/0:parseInt(t),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}};l(oq,"getDefaultValue");YE=(M0=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in C2)if(C2.hasOwnProperty(r)){var i=C2[r];this[r]=e[r]!==void 0?i.processor?i.processor(e[r]):e[r]:oq(i)}}reportNonstrict(e,r,i){var n=this.strict;if(typeof n=="function"&&(n=n(e,r,i)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new lt("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),i);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,i){var n=this.strict;if(typeof n=="function")try{n=n(e,r,i)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=qt.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var i=typeof this.trust=="function"?this.trust(e):this.trust;return!!i}},l(M0,"Settings"),M0),Oc=(O0=class{constructor(e,r,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=i}sup(){return Ro[I2e[this.id]]}sub(){return Ro[R2e[this.id]]}fracNum(){return Ro[D2e[this.id]]}fracDen(){return Ro[M2e[this.id]]}cramp(){return Ro[O2e[this.id]]}text(){return Ro[$2e[this.id]]}isTight(){return this.size>=2}},l(O0,"Style"),O0),HE=0,r3=1,D0=2,_l=3,_2=4,xs=5,K0=6,aa=7,Ro=[new Oc(HE,0,!1),new Oc(r3,0,!0),new Oc(D0,1,!1),new Oc(_l,1,!0),new Oc(_2,2,!1),new Oc(xs,2,!0),new Oc(K0,3,!1),new Oc(aa,3,!0)],I2e=[_2,xs,_2,xs,K0,aa,K0,aa],R2e=[xs,xs,xs,xs,aa,aa,aa,aa],D2e=[D0,_l,_2,xs,K0,aa,K0,aa],M2e=[_l,_l,xs,xs,aa,aa,aa,aa],O2e=[r3,r3,_l,_l,xs,xs,aa,aa],$2e=[HE,r3,D0,_l,D0,_l,D0,_l],Vt={DISPLAY:Ro[HE],TEXT:Ro[D0],SCRIPT:Ro[_2],SCRIPTSCRIPT:Ro[K0]},OE=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];l(lq,"scriptFromCodepoint");e3=[];OE.forEach(t=>t.blocks.forEach(e=>e3.push(...e)));l(XE,"supportedCodepoint");R0=80,B2e=l(function(t,e){return"M95,"+(622+t+e)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},"sqrtMain"),P2e=l(function(t,e){return"M263,"+(601+t+e)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},"sqrtSize1"),F2e=l(function(t,e){return"M983 "+(10+t+e)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"},"sqrtSize2"),z2e=l(function(t,e){return"M424,"+(2398+t+e)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+e+`
h400000v`+(40+t)+"h-400000z"},"sqrtSize3"),G2e=l(function(t,e){return"M473,"+(2713+t+e)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+e+"h400000v"+(40+t)+"H1017.7z"},"sqrtSize4"),q2e=l(function(t){var e=t/2;return"M400000 "+t+" H0 L"+e+" 0 l65 45 L145 "+(t-80)+" H400000z"},"phasePath"),U2e=l(function(t,e,r){var i=r-54-e-t;return"M702 "+(t+e)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+e+"H400000v"+(40+t)+"H742z"},"sqrtTall"),j2e=l(function(t,e,r){e=1e3*e;var i="";switch(t){case"sqrtMain":i=B2e(e,R0);break;case"sqrtSize1":i=P2e(e,R0);break;case"sqrtSize2":i=F2e(e,R0);break;case"sqrtSize3":i=z2e(e,R0);break;case"sqrtSize4":i=G2e(e,R0);break;case"sqrtTall":i=U2e(e,R0,r)}return i},"sqrtPath"),W2e=l(function(t,e){switch(t){case"\u239C":return"M291 0 H417 V"+e+" H291z M291 0 H417 V"+e+" H291z";case"\u2223":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145z";case"\u2225":return"M145 0 H188 V"+e+" H145z M145 0 H188 V"+e+" H145z"+("M367 0 H410 V"+e+" H367z M367 0 H410 V"+e+" H367z");case"\u239F":return"M457 0 H583 V"+e+" H457z M457 0 H583 V"+e+" H457z";case"\u23A2":return"M319 0 H403 V"+e+" H319z M319 0 H403 V"+e+" H319z";case"\u23A5":return"M263 0 H347 V"+e+" H263z M263 0 H347 V"+e+" H263z";case"\u23AA":return"M384 0 H504 V"+e+" H384z M384 0 H504 V"+e+" H384z";case"\u23D0":return"M312 0 H355 V"+e+" H312z M312 0 H355 V"+e+" H312z";case"\u2016":return"M257 0 H300 V"+e+" H257z M257 0 H300 V"+e+" H257z"+("M478 0 H521 V"+e+" H478z M478 0 H521 V"+e+" H478z");default:return""}},"innerPath"),IG={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},V2e=l(function(t,e){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+e+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+e+" v1759 h84z";case"vert":return"M145 15 v585 v"+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+e+" v585 h43z";case"doublevert":return"M145 15 v585 v"+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+e+` v585 h43z
M367 15 v585 v`+e+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-e+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+e+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+e+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+e+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+e+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+e+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+e+` v602 h84z
M403 1759 V0 H319 V1759 v`+e+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+e+` v602 h84z
M347 1759 V0 h-84 V1759 v`+e+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(e+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(e+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(e+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(e+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim"),L2=($0=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return qt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=l(r=>r.toText(),"toText");return this.children.map(e).join("")}},l($0,"DocumentFragment"),$0),Do={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},j4={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},RG={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};l(KE,"setFontMetrics");l(l3,"getCharacterMetrics");TE={};l(cq,"getGlobalMetrics");Y2e=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],DG=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],MG=l(function(t,e){return e.size<2?t:Y2e[t-1][e.size-1]},"sizeAtStyle"),hq=(bs=class{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||bs.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=DG[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return new bs(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:MG(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:DG[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=MG(bs.BASESIZE,e);return this.size===r&&this.textSize===bs.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==bs.BASESIZE?["sizing","reset-size"+this.size,"size"+bs.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=cq(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}},l(bs,"Options"),bs);hq.BASESIZE=6;$E={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},H2e={ex:!0,em:!0,mu:!0},uq=l(function(t){return typeof t!="string"&&(t=t.unit),t in $E||t in H2e||t==="ex"},"validUnit"),ki=l(function(t,e){var r;if(t.unit in $E)r=$E[t.unit]/e.fontMetrics().ptPerEm/e.sizeMultiplier;else if(t.unit==="mu")r=e.fontMetrics().cssEmPerMu;else{var i;if(e.style.isTight()?i=e.havingStyle(e.style.text()):i=e,t.unit==="ex")r=i.fontMetrics().xHeight;else if(t.unit==="em")r=i.fontMetrics().quad;else throw new lt("Invalid unit: '"+t.unit+"'");i!==e&&(r*=i.sizeMultiplier/e.sizeMultiplier)}return Math.min(t.number*r,e.maxSize)},"calculateSize"),gt=l(function(t){return+t.toFixed(4)+"em"},"makeEm"),Pc=l(function(t){return t.filter(e=>e).join(" ")},"createClass"),dq=l(function(t,e,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},e){e.style.isTight()&&this.classes.push("mtight");var i=e.getColor();i&&(this.style.color=i)}},"initNode"),pq=l(function(t){var e=document.createElement(t);e.className=Pc(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&e.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e},"toNode"),X2e=/[\s"'>/=\x00-\x1f]/,gq=l(function(t){var e="<"+t;this.classes.length&&(e+=' class="'+qt.escape(Pc(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=qt.hyphenate(i)+":"+this.style[i]+";");r&&(e+=' style="'+qt.escape(r)+'"');for(var n in this.attributes)if(this.attributes.hasOwnProperty(n)){if(X2e.test(n))throw new lt("Invalid attribute name '"+n+"'");e+=" "+n+'="'+qt.escape(this.attributes[n])+'"'}e+=">";for(var a=0;a<this.children.length;a++)e+=this.children[a].toMarkup();return e+="</"+t+">",e},"toMarkup"),N2=(B0=class{constructor(e,r,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,dq.call(this,e,i,n),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return qt.contains(this.classes,e)}toNode(){return pq.call(this,"span")}toMarkup(){return gq.call(this,"span")}},l(B0,"Span"),B0),ZE=(P0=class{constructor(e,r,i,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,dq.call(this,r,n),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return qt.contains(this.classes,e)}toNode(){return pq.call(this,"a")}toMarkup(){return gq.call(this,"a")}},l(P0,"Anchor"),P0),K2e=(F0=class{constructor(e,r,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return qt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+qt.escape(this.src)+'"'+(' alt="'+qt.escape(this.alt)+'"'),r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=qt.hyphenate(i)+":"+this.style[i]+";");return r&&(e+=' style="'+qt.escape(r)+'"'),e+="'/>",e}},l(F0,"Img"),F0),Z2e={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"},ws=(z0=class{constructor(e,r,i,n,a,s,o,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=i||0,this.italic=n||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=h||{},this.maxFontSize=0;var u=lq(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Z2e[this.text])}hasClass(e){return qt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=gt(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Pc(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(r=r||document.createElement("span"),r.style[i]=this.style[i]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=qt.escape(Pc(this.classes)),r+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=qt.hyphenate(n)+":"+this.style[n]+";");i&&(e=!0,r+=' style="'+qt.escape(i)+'"');var a=qt.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}},l(z0,"SymbolNode"),z0),Ll=(G0=class{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);for(var n=0;n<this.children.length;n++)r.appendChild(this.children[n].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+qt.escape(this.attributes[r])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}},l(G0,"SvgNode"),G0),Fc=(q0=class{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",IG[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+qt.escape(this.alternate)+'"/>':'<path d="'+qt.escape(IG[this.pathName])+'"/>'}},l(q0,"PathNode"),q0),BE=(U0=class{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&r.setAttribute(i,this.attributes[i]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+qt.escape(this.attributes[r])+'"');return e+="/>",e}},l(U0,"LineNode"),U0);l(PE,"assertSymbolDomNode");l(fq,"assertSpan");Q2e={bin:1,close:1,inner:1,open:1,punct:1,rel:1},J2e={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ti={math:{},text:{}};l(G,"defineSymbol");U="math",tt="text",re="main",we="ams",mi="accent-token",At="bin",sa="close",Z0="inner",Wt="mathord",Hi="op-token",es="open",c3="punct",ke="rel",Rl="spacing",_e="textord";G(U,re,ke,"\u2261","\\equiv",!0);G(U,re,ke,"\u227A","\\prec",!0);G(U,re,ke,"\u227B","\\succ",!0);G(U,re,ke,"\u223C","\\sim",!0);G(U,re,ke,"\u22A5","\\perp");G(U,re,ke,"\u2AAF","\\preceq",!0);G(U,re,ke,"\u2AB0","\\succeq",!0);G(U,re,ke,"\u2243","\\simeq",!0);G(U,re,ke,"\u2223","\\mid",!0);G(U,re,ke,"\u226A","\\ll",!0);G(U,re,ke,"\u226B","\\gg",!0);G(U,re,ke,"\u224D","\\asymp",!0);G(U,re,ke,"\u2225","\\parallel");G(U,re,ke,"\u22C8","\\bowtie",!0);G(U,re,ke,"\u2323","\\smile",!0);G(U,re,ke,"\u2291","\\sqsubseteq",!0);G(U,re,ke,"\u2292","\\sqsupseteq",!0);G(U,re,ke,"\u2250","\\doteq",!0);G(U,re,ke,"\u2322","\\frown",!0);G(U,re,ke,"\u220B","\\ni",!0);G(U,re,ke,"\u221D","\\propto",!0);G(U,re,ke,"\u22A2","\\vdash",!0);G(U,re,ke,"\u22A3","\\dashv",!0);G(U,re,ke,"\u220B","\\owns");G(U,re,c3,".","\\ldotp");G(U,re,c3,"\u22C5","\\cdotp");G(U,re,_e,"#","\\#");G(tt,re,_e,"#","\\#");G(U,re,_e,"&","\\&");G(tt,re,_e,"&","\\&");G(U,re,_e,"\u2135","\\aleph",!0);G(U,re,_e,"\u2200","\\forall",!0);G(U,re,_e,"\u210F","\\hbar",!0);G(U,re,_e,"\u2203","\\exists",!0);G(U,re,_e,"\u2207","\\nabla",!0);G(U,re,_e,"\u266D","\\flat",!0);G(U,re,_e,"\u2113","\\ell",!0);G(U,re,_e,"\u266E","\\natural",!0);G(U,re,_e,"\u2663","\\clubsuit",!0);G(U,re,_e,"\u2118","\\wp",!0);G(U,re,_e,"\u266F","\\sharp",!0);G(U,re,_e,"\u2662","\\diamondsuit",!0);G(U,re,_e,"\u211C","\\Re",!0);G(U,re,_e,"\u2661","\\heartsuit",!0);G(U,re,_e,"\u2111","\\Im",!0);G(U,re,_e,"\u2660","\\spadesuit",!0);G(U,re,_e,"\xA7","\\S",!0);G(tt,re,_e,"\xA7","\\S");G(U,re,_e,"\xB6","\\P",!0);G(tt,re,_e,"\xB6","\\P");G(U,re,_e,"\u2020","\\dag");G(tt,re,_e,"\u2020","\\dag");G(tt,re,_e,"\u2020","\\textdagger");G(U,re,_e,"\u2021","\\ddag");G(tt,re,_e,"\u2021","\\ddag");G(tt,re,_e,"\u2021","\\textdaggerdbl");G(U,re,sa,"\u23B1","\\rmoustache",!0);G(U,re,es,"\u23B0","\\lmoustache",!0);G(U,re,sa,"\u27EF","\\rgroup",!0);G(U,re,es,"\u27EE","\\lgroup",!0);G(U,re,At,"\u2213","\\mp",!0);G(U,re,At,"\u2296","\\ominus",!0);G(U,re,At,"\u228E","\\uplus",!0);G(U,re,At,"\u2293","\\sqcap",!0);G(U,re,At,"\u2217","\\ast");G(U,re,At,"\u2294","\\sqcup",!0);G(U,re,At,"\u25EF","\\bigcirc",!0);G(U,re,At,"\u2219","\\bullet",!0);G(U,re,At,"\u2021","\\ddagger");G(U,re,At,"\u2240","\\wr",!0);G(U,re,At,"\u2A3F","\\amalg");G(U,re,At,"&","\\And");G(U,re,ke,"\u27F5","\\longleftarrow",!0);G(U,re,ke,"\u21D0","\\Leftarrow",!0);G(U,re,ke,"\u27F8","\\Longleftarrow",!0);G(U,re,ke,"\u27F6","\\longrightarrow",!0);G(U,re,ke,"\u21D2","\\Rightarrow",!0);G(U,re,ke,"\u27F9","\\Longrightarrow",!0);G(U,re,ke,"\u2194","\\leftrightarrow",!0);G(U,re,ke,"\u27F7","\\longleftrightarrow",!0);G(U,re,ke,"\u21D4","\\Leftrightarrow",!0);G(U,re,ke,"\u27FA","\\Longleftrightarrow",!0);G(U,re,ke,"\u21A6","\\mapsto",!0);G(U,re,ke,"\u27FC","\\longmapsto",!0);G(U,re,ke,"\u2197","\\nearrow",!0);G(U,re,ke,"\u21A9","\\hookleftarrow",!0);G(U,re,ke,"\u21AA","\\hookrightarrow",!0);G(U,re,ke,"\u2198","\\searrow",!0);G(U,re,ke,"\u21BC","\\leftharpoonup",!0);G(U,re,ke,"\u21C0","\\rightharpoonup",!0);G(U,re,ke,"\u2199","\\swarrow",!0);G(U,re,ke,"\u21BD","\\leftharpoondown",!0);G(U,re,ke,"\u21C1","\\rightharpoondown",!0);G(U,re,ke,"\u2196","\\nwarrow",!0);G(U,re,ke,"\u21CC","\\rightleftharpoons",!0);G(U,we,ke,"\u226E","\\nless",!0);G(U,we,ke,"\uE010","\\@nleqslant");G(U,we,ke,"\uE011","\\@nleqq");G(U,we,ke,"\u2A87","\\lneq",!0);G(U,we,ke,"\u2268","\\lneqq",!0);G(U,we,ke,"\uE00C","\\@lvertneqq");G(U,we,ke,"\u22E6","\\lnsim",!0);G(U,we,ke,"\u2A89","\\lnapprox",!0);G(U,we,ke,"\u2280","\\nprec",!0);G(U,we,ke,"\u22E0","\\npreceq",!0);G(U,we,ke,"\u22E8","\\precnsim",!0);G(U,we,ke,"\u2AB9","\\precnapprox",!0);G(U,we,ke,"\u2241","\\nsim",!0);G(U,we,ke,"\uE006","\\@nshortmid");G(U,we,ke,"\u2224","\\nmid",!0);G(U,we,ke,"\u22AC","\\nvdash",!0);G(U,we,ke,"\u22AD","\\nvDash",!0);G(U,we,ke,"\u22EA","\\ntriangleleft");G(U,we,ke,"\u22EC","\\ntrianglelefteq",!0);G(U,we,ke,"\u228A","\\subsetneq",!0);G(U,we,ke,"\uE01A","\\@varsubsetneq");G(U,we,ke,"\u2ACB","\\subsetneqq",!0);G(U,we,ke,"\uE017","\\@varsubsetneqq");G(U,we,ke,"\u226F","\\ngtr",!0);G(U,we,ke,"\uE00F","\\@ngeqslant");G(U,we,ke,"\uE00E","\\@ngeqq");G(U,we,ke,"\u2A88","\\gneq",!0);G(U,we,ke,"\u2269","\\gneqq",!0);G(U,we,ke,"\uE00D","\\@gvertneqq");G(U,we,ke,"\u22E7","\\gnsim",!0);G(U,we,ke,"\u2A8A","\\gnapprox",!0);G(U,we,ke,"\u2281","\\nsucc",!0);G(U,we,ke,"\u22E1","\\nsucceq",!0);G(U,we,ke,"\u22E9","\\succnsim",!0);G(U,we,ke,"\u2ABA","\\succnapprox",!0);G(U,we,ke,"\u2246","\\ncong",!0);G(U,we,ke,"\uE007","\\@nshortparallel");G(U,we,ke,"\u2226","\\nparallel",!0);G(U,we,ke,"\u22AF","\\nVDash",!0);G(U,we,ke,"\u22EB","\\ntriangleright");G(U,we,ke,"\u22ED","\\ntrianglerighteq",!0);G(U,we,ke,"\uE018","\\@nsupseteqq");G(U,we,ke,"\u228B","\\supsetneq",!0);G(U,we,ke,"\uE01B","\\@varsupsetneq");G(U,we,ke,"\u2ACC","\\supsetneqq",!0);G(U,we,ke,"\uE019","\\@varsupsetneqq");G(U,we,ke,"\u22AE","\\nVdash",!0);G(U,we,ke,"\u2AB5","\\precneqq",!0);G(U,we,ke,"\u2AB6","\\succneqq",!0);G(U,we,ke,"\uE016","\\@nsubseteqq");G(U,we,At,"\u22B4","\\unlhd");G(U,we,At,"\u22B5","\\unrhd");G(U,we,ke,"\u219A","\\nleftarrow",!0);G(U,we,ke,"\u219B","\\nrightarrow",!0);G(U,we,ke,"\u21CD","\\nLeftarrow",!0);G(U,we,ke,"\u21CF","\\nRightarrow",!0);G(U,we,ke,"\u21AE","\\nleftrightarrow",!0);G(U,we,ke,"\u21CE","\\nLeftrightarrow",!0);G(U,we,ke,"\u25B3","\\vartriangle");G(U,we,_e,"\u210F","\\hslash");G(U,we,_e,"\u25BD","\\triangledown");G(U,we,_e,"\u25CA","\\lozenge");G(U,we,_e,"\u24C8","\\circledS");G(U,we,_e,"\xAE","\\circledR");G(tt,we,_e,"\xAE","\\circledR");G(U,we,_e,"\u2221","\\measuredangle",!0);G(U,we,_e,"\u2204","\\nexists");G(U,we,_e,"\u2127","\\mho");G(U,we,_e,"\u2132","\\Finv",!0);G(U,we,_e,"\u2141","\\Game",!0);G(U,we,_e,"\u2035","\\backprime");G(U,we,_e,"\u25B2","\\blacktriangle");G(U,we,_e,"\u25BC","\\blacktriangledown");G(U,we,_e,"\u25A0","\\blacksquare");G(U,we,_e,"\u29EB","\\blacklozenge");G(U,we,_e,"\u2605","\\bigstar");G(U,we,_e,"\u2222","\\sphericalangle",!0);G(U,we,_e,"\u2201","\\complement",!0);G(U,we,_e,"\xF0","\\eth",!0);G(tt,re,_e,"\xF0","\xF0");G(U,we,_e,"\u2571","\\diagup");G(U,we,_e,"\u2572","\\diagdown");G(U,we,_e,"\u25A1","\\square");G(U,we,_e,"\u25A1","\\Box");G(U,we,_e,"\u25CA","\\Diamond");G(U,we,_e,"\xA5","\\yen",!0);G(tt,we,_e,"\xA5","\\yen",!0);G(U,we,_e,"\u2713","\\checkmark",!0);G(tt,we,_e,"\u2713","\\checkmark");G(U,we,_e,"\u2136","\\beth",!0);G(U,we,_e,"\u2138","\\daleth",!0);G(U,we,_e,"\u2137","\\gimel",!0);G(U,we,_e,"\u03DD","\\digamma",!0);G(U,we,_e,"\u03F0","\\varkappa");G(U,we,es,"\u250C","\\@ulcorner",!0);G(U,we,sa,"\u2510","\\@urcorner",!0);G(U,we,es,"\u2514","\\@llcorner",!0);G(U,we,sa,"\u2518","\\@lrcorner",!0);G(U,we,ke,"\u2266","\\leqq",!0);G(U,we,ke,"\u2A7D","\\leqslant",!0);G(U,we,ke,"\u2A95","\\eqslantless",!0);G(U,we,ke,"\u2272","\\lesssim",!0);G(U,we,ke,"\u2A85","\\lessapprox",!0);G(U,we,ke,"\u224A","\\approxeq",!0);G(U,we,At,"\u22D6","\\lessdot");G(U,we,ke,"\u22D8","\\lll",!0);G(U,we,ke,"\u2276","\\lessgtr",!0);G(U,we,ke,"\u22DA","\\lesseqgtr",!0);G(U,we,ke,"\u2A8B","\\lesseqqgtr",!0);G(U,we,ke,"\u2251","\\doteqdot");G(U,we,ke,"\u2253","\\risingdotseq",!0);G(U,we,ke,"\u2252","\\fallingdotseq",!0);G(U,we,ke,"\u223D","\\backsim",!0);G(U,we,ke,"\u22CD","\\backsimeq",!0);G(U,we,ke,"\u2AC5","\\subseteqq",!0);G(U,we,ke,"\u22D0","\\Subset",!0);G(U,we,ke,"\u228F","\\sqsubset",!0);G(U,we,ke,"\u227C","\\preccurlyeq",!0);G(U,we,ke,"\u22DE","\\curlyeqprec",!0);G(U,we,ke,"\u227E","\\precsim",!0);G(U,we,ke,"\u2AB7","\\precapprox",!0);G(U,we,ke,"\u22B2","\\vartriangleleft");G(U,we,ke,"\u22B4","\\trianglelefteq");G(U,we,ke,"\u22A8","\\vDash",!0);G(U,we,ke,"\u22AA","\\Vvdash",!0);G(U,we,ke,"\u2323","\\smallsmile");G(U,we,ke,"\u2322","\\smallfrown");G(U,we,ke,"\u224F","\\bumpeq",!0);G(U,we,ke,"\u224E","\\Bumpeq",!0);G(U,we,ke,"\u2267","\\geqq",!0);G(U,we,ke,"\u2A7E","\\geqslant",!0);G(U,we,ke,"\u2A96","\\eqslantgtr",!0);G(U,we,ke,"\u2273","\\gtrsim",!0);G(U,we,ke,"\u2A86","\\gtrapprox",!0);G(U,we,At,"\u22D7","\\gtrdot");G(U,we,ke,"\u22D9","\\ggg",!0);G(U,we,ke,"\u2277","\\gtrless",!0);G(U,we,ke,"\u22DB","\\gtreqless",!0);G(U,we,ke,"\u2A8C","\\gtreqqless",!0);G(U,we,ke,"\u2256","\\eqcirc",!0);G(U,we,ke,"\u2257","\\circeq",!0);G(U,we,ke,"\u225C","\\triangleq",!0);G(U,we,ke,"\u223C","\\thicksim");G(U,we,ke,"\u2248","\\thickapprox");G(U,we,ke,"\u2AC6","\\supseteqq",!0);G(U,we,ke,"\u22D1","\\Supset",!0);G(U,we,ke,"\u2290","\\sqsupset",!0);G(U,we,ke,"\u227D","\\succcurlyeq",!0);G(U,we,ke,"\u22DF","\\curlyeqsucc",!0);G(U,we,ke,"\u227F","\\succsim",!0);G(U,we,ke,"\u2AB8","\\succapprox",!0);G(U,we,ke,"\u22B3","\\vartriangleright");G(U,we,ke,"\u22B5","\\trianglerighteq");G(U,we,ke,"\u22A9","\\Vdash",!0);G(U,we,ke,"\u2223","\\shortmid");G(U,we,ke,"\u2225","\\shortparallel");G(U,we,ke,"\u226C","\\between",!0);G(U,we,ke,"\u22D4","\\pitchfork",!0);G(U,we,ke,"\u221D","\\varpropto");G(U,we,ke,"\u25C0","\\blacktriangleleft");G(U,we,ke,"\u2234","\\therefore",!0);G(U,we,ke,"\u220D","\\backepsilon");G(U,we,ke,"\u25B6","\\blacktriangleright");G(U,we,ke,"\u2235","\\because",!0);G(U,we,ke,"\u22D8","\\llless");G(U,we,ke,"\u22D9","\\gggtr");G(U,we,At,"\u22B2","\\lhd");G(U,we,At,"\u22B3","\\rhd");G(U,we,ke,"\u2242","\\eqsim",!0);G(U,re,ke,"\u22C8","\\Join");G(U,we,ke,"\u2251","\\Doteq",!0);G(U,we,At,"\u2214","\\dotplus",!0);G(U,we,At,"\u2216","\\smallsetminus");G(U,we,At,"\u22D2","\\Cap",!0);G(U,we,At,"\u22D3","\\Cup",!0);G(U,we,At,"\u2A5E","\\doublebarwedge",!0);G(U,we,At,"\u229F","\\boxminus",!0);G(U,we,At,"\u229E","\\boxplus",!0);G(U,we,At,"\u22C7","\\divideontimes",!0);G(U,we,At,"\u22C9","\\ltimes",!0);G(U,we,At,"\u22CA","\\rtimes",!0);G(U,we,At,"\u22CB","\\leftthreetimes",!0);G(U,we,At,"\u22CC","\\rightthreetimes",!0);G(U,we,At,"\u22CF","\\curlywedge",!0);G(U,we,At,"\u22CE","\\curlyvee",!0);G(U,we,At,"\u229D","\\circleddash",!0);G(U,we,At,"\u229B","\\circledast",!0);G(U,we,At,"\u22C5","\\centerdot");G(U,we,At,"\u22BA","\\intercal",!0);G(U,we,At,"\u22D2","\\doublecap");G(U,we,At,"\u22D3","\\doublecup");G(U,we,At,"\u22A0","\\boxtimes",!0);G(U,we,ke,"\u21E2","\\dashrightarrow",!0);G(U,we,ke,"\u21E0","\\dashleftarrow",!0);G(U,we,ke,"\u21C7","\\leftleftarrows",!0);G(U,we,ke,"\u21C6","\\leftrightarrows",!0);G(U,we,ke,"\u21DA","\\Lleftarrow",!0);G(U,we,ke,"\u219E","\\twoheadleftarrow",!0);G(U,we,ke,"\u21A2","\\leftarrowtail",!0);G(U,we,ke,"\u21AB","\\looparrowleft",!0);G(U,we,ke,"\u21CB","\\leftrightharpoons",!0);G(U,we,ke,"\u21B6","\\curvearrowleft",!0);G(U,we,ke,"\u21BA","\\circlearrowleft",!0);G(U,we,ke,"\u21B0","\\Lsh",!0);G(U,we,ke,"\u21C8","\\upuparrows",!0);G(U,we,ke,"\u21BF","\\upharpoonleft",!0);G(U,we,ke,"\u21C3","\\downharpoonleft",!0);G(U,re,ke,"\u22B6","\\origof",!0);G(U,re,ke,"\u22B7","\\imageof",!0);G(U,we,ke,"\u22B8","\\multimap",!0);G(U,we,ke,"\u21AD","\\leftrightsquigarrow",!0);G(U,we,ke,"\u21C9","\\rightrightarrows",!0);G(U,we,ke,"\u21C4","\\rightleftarrows",!0);G(U,we,ke,"\u21A0","\\twoheadrightarrow",!0);G(U,we,ke,"\u21A3","\\rightarrowtail",!0);G(U,we,ke,"\u21AC","\\looparrowright",!0);G(U,we,ke,"\u21B7","\\curvearrowright",!0);G(U,we,ke,"\u21BB","\\circlearrowright",!0);G(U,we,ke,"\u21B1","\\Rsh",!0);G(U,we,ke,"\u21CA","\\downdownarrows",!0);G(U,we,ke,"\u21BE","\\upharpoonright",!0);G(U,we,ke,"\u21C2","\\downharpoonright",!0);G(U,we,ke,"\u21DD","\\rightsquigarrow",!0);G(U,we,ke,"\u21DD","\\leadsto");G(U,we,ke,"\u21DB","\\Rrightarrow",!0);G(U,we,ke,"\u21BE","\\restriction");G(U,re,_e,"\u2018","`");G(U,re,_e,"$","\\$");G(tt,re,_e,"$","\\$");G(tt,re,_e,"$","\\textdollar");G(U,re,_e,"%","\\%");G(tt,re,_e,"%","\\%");G(U,re,_e,"_","\\_");G(tt,re,_e,"_","\\_");G(tt,re,_e,"_","\\textunderscore");G(U,re,_e,"\u2220","\\angle",!0);G(U,re,_e,"\u221E","\\infty",!0);G(U,re,_e,"\u2032","\\prime");G(U,re,_e,"\u25B3","\\triangle");G(U,re,_e,"\u0393","\\Gamma",!0);G(U,re,_e,"\u0394","\\Delta",!0);G(U,re,_e,"\u0398","\\Theta",!0);G(U,re,_e,"\u039B","\\Lambda",!0);G(U,re,_e,"\u039E","\\Xi",!0);G(U,re,_e,"\u03A0","\\Pi",!0);G(U,re,_e,"\u03A3","\\Sigma",!0);G(U,re,_e,"\u03A5","\\Upsilon",!0);G(U,re,_e,"\u03A6","\\Phi",!0);G(U,re,_e,"\u03A8","\\Psi",!0);G(U,re,_e,"\u03A9","\\Omega",!0);G(U,re,_e,"A","\u0391");G(U,re,_e,"B","\u0392");G(U,re,_e,"E","\u0395");G(U,re,_e,"Z","\u0396");G(U,re,_e,"H","\u0397");G(U,re,_e,"I","\u0399");G(U,re,_e,"K","\u039A");G(U,re,_e,"M","\u039C");G(U,re,_e,"N","\u039D");G(U,re,_e,"O","\u039F");G(U,re,_e,"P","\u03A1");G(U,re,_e,"T","\u03A4");G(U,re,_e,"X","\u03A7");G(U,re,_e,"\xAC","\\neg",!0);G(U,re,_e,"\xAC","\\lnot");G(U,re,_e,"\u22A4","\\top");G(U,re,_e,"\u22A5","\\bot");G(U,re,_e,"\u2205","\\emptyset");G(U,we,_e,"\u2205","\\varnothing");G(U,re,Wt,"\u03B1","\\alpha",!0);G(U,re,Wt,"\u03B2","\\beta",!0);G(U,re,Wt,"\u03B3","\\gamma",!0);G(U,re,Wt,"\u03B4","\\delta",!0);G(U,re,Wt,"\u03F5","\\epsilon",!0);G(U,re,Wt,"\u03B6","\\zeta",!0);G(U,re,Wt,"\u03B7","\\eta",!0);G(U,re,Wt,"\u03B8","\\theta",!0);G(U,re,Wt,"\u03B9","\\iota",!0);G(U,re,Wt,"\u03BA","\\kappa",!0);G(U,re,Wt,"\u03BB","\\lambda",!0);G(U,re,Wt,"\u03BC","\\mu",!0);G(U,re,Wt,"\u03BD","\\nu",!0);G(U,re,Wt,"\u03BE","\\xi",!0);G(U,re,Wt,"\u03BF","\\omicron",!0);G(U,re,Wt,"\u03C0","\\pi",!0);G(U,re,Wt,"\u03C1","\\rho",!0);G(U,re,Wt,"\u03C3","\\sigma",!0);G(U,re,Wt,"\u03C4","\\tau",!0);G(U,re,Wt,"\u03C5","\\upsilon",!0);G(U,re,Wt,"\u03D5","\\phi",!0);G(U,re,Wt,"\u03C7","\\chi",!0);G(U,re,Wt,"\u03C8","\\psi",!0);G(U,re,Wt,"\u03C9","\\omega",!0);G(U,re,Wt,"\u03B5","\\varepsilon",!0);G(U,re,Wt,"\u03D1","\\vartheta",!0);G(U,re,Wt,"\u03D6","\\varpi",!0);G(U,re,Wt,"\u03F1","\\varrho",!0);G(U,re,Wt,"\u03C2","\\varsigma",!0);G(U,re,Wt,"\u03C6","\\varphi",!0);G(U,re,At,"\u2217","*",!0);G(U,re,At,"+","+");G(U,re,At,"\u2212","-",!0);G(U,re,At,"\u22C5","\\cdot",!0);G(U,re,At,"\u2218","\\circ",!0);G(U,re,At,"\xF7","\\div",!0);G(U,re,At,"\xB1","\\pm",!0);G(U,re,At,"\xD7","\\times",!0);G(U,re,At,"\u2229","\\cap",!0);G(U,re,At,"\u222A","\\cup",!0);G(U,re,At,"\u2216","\\setminus",!0);G(U,re,At,"\u2227","\\land");G(U,re,At,"\u2228","\\lor");G(U,re,At,"\u2227","\\wedge",!0);G(U,re,At,"\u2228","\\vee",!0);G(U,re,_e,"\u221A","\\surd");G(U,re,es,"\u27E8","\\langle",!0);G(U,re,es,"\u2223","\\lvert");G(U,re,es,"\u2225","\\lVert");G(U,re,sa,"?","?");G(U,re,sa,"!","!");G(U,re,sa,"\u27E9","\\rangle",!0);G(U,re,sa,"\u2223","\\rvert");G(U,re,sa,"\u2225","\\rVert");G(U,re,ke,"=","=");G(U,re,ke,":",":");G(U,re,ke,"\u2248","\\approx",!0);G(U,re,ke,"\u2245","\\cong",!0);G(U,re,ke,"\u2265","\\ge");G(U,re,ke,"\u2265","\\geq",!0);G(U,re,ke,"\u2190","\\gets");G(U,re,ke,">","\\gt",!0);G(U,re,ke,"\u2208","\\in",!0);G(U,re,ke,"\uE020","\\@not");G(U,re,ke,"\u2282","\\subset",!0);G(U,re,ke,"\u2283","\\supset",!0);G(U,re,ke,"\u2286","\\subseteq",!0);G(U,re,ke,"\u2287","\\supseteq",!0);G(U,we,ke,"\u2288","\\nsubseteq",!0);G(U,we,ke,"\u2289","\\nsupseteq",!0);G(U,re,ke,"\u22A8","\\models");G(U,re,ke,"\u2190","\\leftarrow",!0);G(U,re,ke,"\u2264","\\le");G(U,re,ke,"\u2264","\\leq",!0);G(U,re,ke,"<","\\lt",!0);G(U,re,ke,"\u2192","\\rightarrow",!0);G(U,re,ke,"\u2192","\\to");G(U,we,ke,"\u2271","\\ngeq",!0);G(U,we,ke,"\u2270","\\nleq",!0);G(U,re,Rl,"\xA0","\\ ");G(U,re,Rl,"\xA0","\\space");G(U,re,Rl,"\xA0","\\nobreakspace");G(tt,re,Rl,"\xA0","\\ ");G(tt,re,Rl,"\xA0"," ");G(tt,re,Rl,"\xA0","\\space");G(tt,re,Rl,"\xA0","\\nobreakspace");G(U,re,Rl,null,"\\nobreak");G(U,re,Rl,null,"\\allowbreak");G(U,re,c3,",",",");G(U,re,c3,";",";");G(U,we,At,"\u22BC","\\barwedge",!0);G(U,we,At,"\u22BB","\\veebar",!0);G(U,re,At,"\u2299","\\odot",!0);G(U,re,At,"\u2295","\\oplus",!0);G(U,re,At,"\u2297","\\otimes",!0);G(U,re,_e,"\u2202","\\partial",!0);G(U,re,At,"\u2298","\\oslash",!0);G(U,we,At,"\u229A","\\circledcirc",!0);G(U,we,At,"\u22A1","\\boxdot",!0);G(U,re,At,"\u25B3","\\bigtriangleup");G(U,re,At,"\u25BD","\\bigtriangledown");G(U,re,At,"\u2020","\\dagger");G(U,re,At,"\u22C4","\\diamond");G(U,re,At,"\u22C6","\\star");G(U,re,At,"\u25C3","\\triangleleft");G(U,re,At,"\u25B9","\\triangleright");G(U,re,es,"{","\\{");G(tt,re,_e,"{","\\{");G(tt,re,_e,"{","\\textbraceleft");G(U,re,sa,"}","\\}");G(tt,re,_e,"}","\\}");G(tt,re,_e,"}","\\textbraceright");G(U,re,es,"{","\\lbrace");G(U,re,sa,"}","\\rbrace");G(U,re,es,"[","\\lbrack",!0);G(tt,re,_e,"[","\\lbrack",!0);G(U,re,sa,"]","\\rbrack",!0);G(tt,re,_e,"]","\\rbrack",!0);G(U,re,es,"(","\\lparen",!0);G(U,re,sa,")","\\rparen",!0);G(tt,re,_e,"<","\\textless",!0);G(tt,re,_e,">","\\textgreater",!0);G(U,re,es,"\u230A","\\lfloor",!0);G(U,re,sa,"\u230B","\\rfloor",!0);G(U,re,es,"\u2308","\\lceil",!0);G(U,re,sa,"\u2309","\\rceil",!0);G(U,re,_e,"\\","\\backslash");G(U,re,_e,"\u2223","|");G(U,re,_e,"\u2223","\\vert");G(tt,re,_e,"|","\\textbar",!0);G(U,re,_e,"\u2225","\\|");G(U,re,_e,"\u2225","\\Vert");G(tt,re,_e,"\u2225","\\textbardbl");G(tt,re,_e,"~","\\textasciitilde");G(tt,re,_e,"\\","\\textbackslash");G(tt,re,_e,"^","\\textasciicircum");G(U,re,ke,"\u2191","\\uparrow",!0);G(U,re,ke,"\u21D1","\\Uparrow",!0);G(U,re,ke,"\u2193","\\downarrow",!0);G(U,re,ke,"\u21D3","\\Downarrow",!0);G(U,re,ke,"\u2195","\\updownarrow",!0);G(U,re,ke,"\u21D5","\\Updownarrow",!0);G(U,re,Hi,"\u2210","\\coprod");G(U,re,Hi,"\u22C1","\\bigvee");G(U,re,Hi,"\u22C0","\\bigwedge");G(U,re,Hi,"\u2A04","\\biguplus");G(U,re,Hi,"\u22C2","\\bigcap");G(U,re,Hi,"\u22C3","\\bigcup");G(U,re,Hi,"\u222B","\\int");G(U,re,Hi,"\u222B","\\intop");G(U,re,Hi,"\u222C","\\iint");G(U,re,Hi,"\u222D","\\iiint");G(U,re,Hi,"\u220F","\\prod");G(U,re,Hi,"\u2211","\\sum");G(U,re,Hi,"\u2A02","\\bigotimes");G(U,re,Hi,"\u2A01","\\bigoplus");G(U,re,Hi,"\u2A00","\\bigodot");G(U,re,Hi,"\u222E","\\oint");G(U,re,Hi,"\u222F","\\oiint");G(U,re,Hi,"\u2230","\\oiiint");G(U,re,Hi,"\u2A06","\\bigsqcup");G(U,re,Hi,"\u222B","\\smallint");G(tt,re,Z0,"\u2026","\\textellipsis");G(U,re,Z0,"\u2026","\\mathellipsis");G(tt,re,Z0,"\u2026","\\ldots",!0);G(U,re,Z0,"\u2026","\\ldots",!0);G(U,re,Z0,"\u22EF","\\@cdots",!0);G(U,re,Z0,"\u22F1","\\ddots",!0);G(U,re,_e,"\u22EE","\\varvdots");G(tt,re,_e,"\u22EE","\\varvdots");G(U,re,mi,"\u02CA","\\acute");G(U,re,mi,"\u02CB","\\grave");G(U,re,mi,"\xA8","\\ddot");G(U,re,mi,"~","\\tilde");G(U,re,mi,"\u02C9","\\bar");G(U,re,mi,"\u02D8","\\breve");G(U,re,mi,"\u02C7","\\check");G(U,re,mi,"^","\\hat");G(U,re,mi,"\u20D7","\\vec");G(U,re,mi,"\u02D9","\\dot");G(U,re,mi,"\u02DA","\\mathring");G(U,re,Wt,"\uE131","\\@imath");G(U,re,Wt,"\uE237","\\@jmath");G(U,re,_e,"\u0131","\u0131");G(U,re,_e,"\u0237","\u0237");G(tt,re,_e,"\u0131","\\i",!0);G(tt,re,_e,"\u0237","\\j",!0);G(tt,re,_e,"\xDF","\\ss",!0);G(tt,re,_e,"\xE6","\\ae",!0);G(tt,re,_e,"\u0153","\\oe",!0);G(tt,re,_e,"\xF8","\\o",!0);G(tt,re,_e,"\xC6","\\AE",!0);G(tt,re,_e,"\u0152","\\OE",!0);G(tt,re,_e,"\xD8","\\O",!0);G(tt,re,mi,"\u02CA","\\'");G(tt,re,mi,"\u02CB","\\`");G(tt,re,mi,"\u02C6","\\^");G(tt,re,mi,"\u02DC","\\~");G(tt,re,mi,"\u02C9","\\=");G(tt,re,mi,"\u02D8","\\u");G(tt,re,mi,"\u02D9","\\.");G(tt,re,mi,"\xB8","\\c");G(tt,re,mi,"\u02DA","\\r");G(tt,re,mi,"\u02C7","\\v");G(tt,re,mi,"\xA8",'\\"');G(tt,re,mi,"\u02DD","\\H");G(tt,re,mi,"\u25EF","\\textcircled");mq={"--":!0,"---":!0,"``":!0,"''":!0};G(tt,re,_e,"\u2013","--",!0);G(tt,re,_e,"\u2013","\\textendash");G(tt,re,_e,"\u2014","---",!0);G(tt,re,_e,"\u2014","\\textemdash");G(tt,re,_e,"\u2018","`",!0);G(tt,re,_e,"\u2018","\\textquoteleft");G(tt,re,_e,"\u2019","'",!0);G(tt,re,_e,"\u2019","\\textquoteright");G(tt,re,_e,"\u201C","``",!0);G(tt,re,_e,"\u201C","\\textquotedblleft");G(tt,re,_e,"\u201D","''",!0);G(tt,re,_e,"\u201D","\\textquotedblright");G(U,re,_e,"\xB0","\\degree",!0);G(tt,re,_e,"\xB0","\\degree");G(tt,re,_e,"\xB0","\\textdegree",!0);G(U,re,_e,"\xA3","\\pounds");G(U,re,_e,"\xA3","\\mathsterling",!0);G(tt,re,_e,"\xA3","\\pounds");G(tt,re,_e,"\xA3","\\textsterling",!0);G(U,we,_e,"\u2720","\\maltese");G(tt,we,_e,"\u2720","\\maltese");OG='0123456789/@."';for(W4=0;W4<OG.length;W4++)EE=OG.charAt(W4),G(U,re,_e,EE,EE);$G='0123456789!@*()-=+";:?/.,';for(V4=0;V4<$G.length;V4++)CE=$G.charAt(V4),G(tt,re,_e,CE,CE);i3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(Y4=0;Y4<i3.length;Y4++)w2=i3.charAt(Y4),G(U,re,Wt,w2,w2),G(tt,re,_e,w2,w2);G(U,we,_e,"C","\u2102");G(tt,we,_e,"C","\u2102");G(U,we,_e,"H","\u210D");G(tt,we,_e,"H","\u210D");G(U,we,_e,"N","\u2115");G(tt,we,_e,"N","\u2115");G(U,we,_e,"P","\u2119");G(tt,we,_e,"P","\u2119");G(U,we,_e,"Q","\u211A");G(tt,we,_e,"Q","\u211A");G(U,we,_e,"R","\u211D");G(tt,we,_e,"R","\u211D");G(U,we,_e,"Z","\u2124");G(tt,we,_e,"Z","\u2124");G(U,re,Wt,"h","\u210E");G(tt,re,Wt,"h","\u210E");Zt="";for(qn=0;qn<i3.length;qn++)xi=i3.charAt(qn),Zt=String.fromCharCode(55349,56320+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt),Zt=String.fromCharCode(55349,56372+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt),Zt=String.fromCharCode(55349,56424+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt),Zt=String.fromCharCode(55349,56580+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt),Zt=String.fromCharCode(55349,56684+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt),Zt=String.fromCharCode(55349,56736+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt),Zt=String.fromCharCode(55349,56788+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt),Zt=String.fromCharCode(55349,56840+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt),Zt=String.fromCharCode(55349,56944+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt),qn<26&&(Zt=String.fromCharCode(55349,56632+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt),Zt=String.fromCharCode(55349,56476+qn),G(U,re,Wt,xi,Zt),G(tt,re,_e,xi,Zt));Zt="\u{1D55C}";G(U,re,Wt,"k",Zt);G(tt,re,_e,"k",Zt);for($c=0;$c<10;$c++)Cl=$c.toString(),Zt=String.fromCharCode(55349,57294+$c),G(U,re,Wt,Cl,Zt),G(tt,re,_e,Cl,Zt),Zt=String.fromCharCode(55349,57314+$c),G(U,re,Wt,Cl,Zt),G(tt,re,_e,Cl,Zt),Zt=String.fromCharCode(55349,57324+$c),G(U,re,Wt,Cl,Zt),G(tt,re,_e,Cl,Zt),Zt=String.fromCharCode(55349,57334+$c),G(U,re,Wt,Cl,Zt),G(tt,re,_e,Cl,Zt);FE="\xD0\xDE\xFE";for(H4=0;H4<FE.length;H4++)k2=FE.charAt(H4),G(U,re,Wt,k2,k2),G(tt,re,_e,k2,k2);X4=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],BG=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],eve=l(function(t,e){var r=t.charCodeAt(0),i=t.charCodeAt(1),n=(r-55296)*1024+(i-56320)+65536,a=e==="math"?0:1;if(119808<=n&&n<120484){var s=Math.floor((n-119808)/26);return[X4[s][2],X4[s][a]]}else if(120782<=n&&n<=120831){var o=Math.floor((n-120782)/10);return[BG[o][2],BG[o][a]]}else{if(n===120485||n===120486)return[X4[0][2],X4[0][a]];if(120486<n&&n<120782)return["",""];throw new lt("Unsupported character: "+t)}},"wideCharacterFont"),h3=l(function(t,e,r){return ti[r][t]&&ti[r][t].replace&&(t=ti[r][t].replace),{value:t,metrics:l3(t,e,r)}},"lookupSymbol"),Zs=l(function(t,e,r,i,n){var a=h3(t,e,r),s=a.metrics;t=a.value;var o;if(s){var h=s.italic;(r==="text"||i&&i.font==="mathit")&&(h=0),o=new ws(t,s.height,s.depth,h,s.skew,s.width,n)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+e+"' and mode '"+r+"'")),o=new ws(t,0,0,0,0,0,n);if(i){o.maxFontSize=i.sizeMultiplier,i.style.isTight()&&o.classes.push("mtight");var u=i.getColor();u&&(o.style.color=u)}return o},"makeSymbol"),tve=l(function(t,e,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&h3(t,"Main-Bold",e).metrics?Zs(t,"Main-Bold",e,r,i.concat(["mathbf"])):t==="\\"||ti[e][t].font==="main"?Zs(t,"Main-Regular",e,r,i):Zs(t,"AMS-Regular",e,r,i.concat(["amsrm"]))},"mathsym"),rve=l(function(t,e,r,i,n){return n!=="textord"&&h3(t,"Math-BoldItalic",e).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol"),ive=l(function(t,e,r){var i=t.mode,n=t.text,a=["mord"],s=i==="math"||i==="text"&&e.font,o=s?e.font:e.fontFamily,h="",u="";if(n.charCodeAt(0)===55349&&([h,u]=eve(n,i)),h.length>0)return Zs(n,h,i,e,a.concat(u));if(o){var d,p;if(o==="boldsymbol"){var g=rve(n,i,e,a,r);d=g.fontName,p=[g.fontClass]}else s?(d=bq[o].fontName,p=[o]):(d=K4(o,e.fontWeight,e.fontShape),p=[o,e.fontWeight,e.fontShape]);if(h3(n,d,i).metrics)return Zs(n,d,i,e,a.concat(p));if(mq.hasOwnProperty(n)&&d.slice(0,10)==="Typewriter"){for(var f=[],m=0;m<n.length;m++)f.push(Zs(n[m],d,i,e,a.concat(p)));return vq(f)}}if(r==="mathord")return Zs(n,"Math-Italic",i,e,a.concat(["mathnormal"]));if(r==="textord"){var y=ti[i][n]&&ti[i][n].font;if(y==="ams"){var b=K4("amsrm",e.fontWeight,e.fontShape);return Zs(n,b,i,e,a.concat("amsrm",e.fontWeight,e.fontShape))}else if(y==="main"||!y){var v=K4("textrm",e.fontWeight,e.fontShape);return Zs(n,v,i,e,a.concat(e.fontWeight,e.fontShape))}else{var x=K4(y,e.fontWeight,e.fontShape);return Zs(n,x,i,e,a.concat(x,e.fontWeight,e.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},"makeOrd"),nve=l((t,e)=>{if(Pc(t.classes)!==Pc(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var i in t.style)if(t.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;for(var n in e.style)if(e.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;return!0},"canCombine"),ave=l(t=>{for(var e=0;e<t.length-1;e++){var r=t[e],i=t[e+1];r instanceof ws&&i instanceof ws&&nve(r,i)&&(r.text+=i.text,r.height=Math.max(r.height,i.height),r.depth=Math.max(r.depth,i.depth),r.italic=i.italic,t.splice(e+1,1),e--)}return t},"tryCombineChars"),QE=l(function(t){for(var e=0,r=0,i=0,n=0;n<t.children.length;n++){var a=t.children[n];a.height>e&&(e=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}t.height=e,t.depth=r,t.maxFontSize=i},"sizeElementFromChildren"),La=l(function(t,e,r,i){var n=new N2(t,e,r,i);return QE(n),n},"makeSpan"),yq=l((t,e,r,i)=>new N2(t,e,r,i),"makeSvgSpan"),sve=l(function(t,e,r){var i=La([t],[],e);return i.height=Math.max(r||e.fontMetrics().defaultRuleThickness,e.minRuleThickness),i.style.borderBottomWidth=gt(i.height),i.maxFontSize=1,i},"makeLineSpan"),ove=l(function(t,e,r,i){var n=new ZE(t,e,r,i);return QE(n),n},"makeAnchor"),vq=l(function(t){var e=new L2(t);return QE(e),e},"makeFragment"),lve=l(function(t,e){return t instanceof L2?La([],[t],e):t},"wrapFragment"),cve=l(function(t){if(t.positionType==="individualShift"){for(var e=t.children,r=[e[0]],i=-e[0].shift-e[0].elem.depth,n=i,a=1;a<e.length;a++){var s=-e[a].shift-n-e[a].elem.depth,o=s-(e[a-1].elem.height+e[a-1].elem.depth);n=n+s,r.push({type:"kern",size:o}),r.push(e[a])}return{children:r,depth:i}}var h;if(t.positionType==="top"){for(var u=t.positionData,d=0;d<t.children.length;d++){var p=t.children[d];u-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}h=u}else if(t.positionType==="bottom")h=-t.positionData;else{var g=t.children[0];if(g.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")h=-g.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")h=-g.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:h}},"getVListChildrenAndDepth"),hve=l(function(t,e){for(var{children:r,depth:i}=cve(t),n=0,a=0;a<r.length;a++){var s=r[a];if(s.type==="elem"){var o=s.elem;n=Math.max(n,o.maxFontSize,o.height)}}n+=2;var h=La(["pstrut"],[]);h.style.height=gt(n);for(var u=[],d=i,p=i,g=i,f=0;f<r.length;f++){var m=r[f];if(m.type==="kern")g+=m.size;else{var y=m.elem,b=m.wrapperClasses||[],v=m.wrapperStyle||{},x=La(b,[h,y],void 0,v);x.style.top=gt(-n-g-y.depth),m.marginLeft&&(x.style.marginLeft=m.marginLeft),m.marginRight&&(x.style.marginRight=m.marginRight),u.push(x),g+=y.height+y.depth}d=Math.min(d,g),p=Math.max(p,g)}var w=La(["vlist"],u);w.style.height=gt(p);var k;if(d<0){var T=La([],[]),S=La(["vlist"],[T]);S.style.height=gt(-d);var C=La(["vlist-s"],[new ws("\u200B")]);k=[La(["vlist-r"],[w,C]),La(["vlist-r"],[S])]}else k=[La(["vlist-r"],[w])];var E=La(["vlist-t"],k);return k.length===2&&E.classes.push("vlist-t2"),E.height=p,E.depth=-d,E},"makeVList"),uve=l((t,e)=>{var r=La(["mspace"],[],e),i=ki(t,e);return r.style.marginRight=gt(i),r},"makeGlue"),K4=l(function(t,e,r){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var n;return e==="textbf"&&r==="textit"?n="BoldItalic":e==="textbf"?n="Bold":e==="textit"?n="Italic":n="Regular",i+"-"+n},"retrieveTextFontName"),bq={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},xq={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},dve=l(function(t,e){var[r,i,n]=xq[t],a=new Fc(r),s=new Ll([a],{width:gt(i),height:gt(n),style:"width:"+gt(i),viewBox:"0 0 "+1e3*i+" "+1e3*n,preserveAspectRatio:"xMinYMin"}),o=yq(["overlay"],[s],e);return o.height=n,o.style.height=gt(n),o.style.width=gt(i),o},"staticSvg"),Me={fontMap:bq,makeSymbol:Zs,mathsym:tve,makeSpan:La,makeSvgSpan:yq,makeLineSpan:sve,makeAnchor:ove,makeFragment:vq,wrapFragment:lve,makeVList:hve,makeOrd:ive,makeGlue:uve,staticSvg:dve,svgData:xq,tryCombineChars:ave},wi={number:3,unit:"mu"},pu={number:4,unit:"mu"},Sl={number:5,unit:"mu"},pve={mord:{mop:wi,mbin:pu,mrel:Sl,minner:wi},mop:{mord:wi,mop:wi,mrel:Sl,minner:wi},mbin:{mord:pu,mop:pu,mopen:pu,minner:pu},mrel:{mord:Sl,mop:Sl,mopen:Sl,minner:Sl},mopen:{},mclose:{mop:wi,mbin:pu,mrel:Sl,minner:wi},mpunct:{mord:wi,mop:wi,mrel:Sl,mopen:wi,mclose:wi,mpunct:wi,minner:wi},minner:{mord:wi,mop:wi,mbin:pu,mrel:Sl,mopen:wi,mpunct:wi,minner:wi}},gve={mord:{mop:wi},mop:{mord:wi,mop:wi},mbin:{},mrel:{},mopen:{},mclose:{mop:wi},mpunct:{},minner:{mop:wi}},wq={},n3={},a3={};l(bt,"defineFunction");l(Gc,"defineFunctionBuilders");s3=l(function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},"normalizeArgument"),Bi=l(function(t){return t.type==="ordgroup"?t.body:[t]},"ordargument"),Nl=Me.makeSpan,fve=["leftmost","mbin","mopen","mrel","mop","mpunct"],mve=["rightmost","mrel","mclose","mpunct"],yve={display:Vt.DISPLAY,text:Vt.TEXT,script:Vt.SCRIPT,scriptscript:Vt.SCRIPTSCRIPT},vve={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},nn=l(function(t,e,r,i){i===void 0&&(i=[null,null]);for(var n=[],a=0;a<t.length;a++){var s=Dr(t[a],e);if(s instanceof L2){var o=s.children;n.push(...o)}else n.push(s)}if(Me.tryCombineChars(n),!r)return n;var h=e;if(t.length===1){var u=t[0];u.type==="sizing"?h=e.havingSize(u.size):u.type==="styling"&&(h=e.havingStyle(yve[u.style]))}var d=Nl([i[0]||"leftmost"],[],e),p=Nl([i[1]||"rightmost"],[],e),g=r==="root";return PG(n,(f,m)=>{var y=m.classes[0],b=f.classes[0];y==="mbin"&&qt.contains(mve,b)?m.classes[0]="mord":b==="mbin"&&qt.contains(fve,y)&&(f.classes[0]="mord")},{node:d},p,g),PG(n,(f,m)=>{var y=zE(m),b=zE(f),v=y&&b?f.hasClass("mtight")?gve[y][b]:pve[y][b]:null;if(v)return Me.makeGlue(v,h)},{node:d},p,g),n},"buildExpression"),PG=l(function t(e,r,i,n,a){n&&e.push(n);for(var s=0;s<e.length;s++){var o=e[s],h=kq(o);if(h){t(h.children,r,i,null,a);continue}var u=!o.hasClass("mspace");if(u){var d=r(o,i.node);d&&(i.insertAfter?i.insertAfter(d):(e.unshift(d),s++))}u?i.node=o:a&&o.hasClass("newline")&&(i.node=Nl(["leftmost"])),i.insertAfter=(p=>g=>{e.splice(p+1,0,g),s++})(s)}n&&e.pop()},"traverseNonSpaceNodes"),kq=l(function(t){return t instanceof L2||t instanceof ZE||t instanceof N2&&t.hasClass("enclosing")?t:null},"checkPartialGroup"),bve=l(function t(e,r){var i=kq(e);if(i){var n=i.children;if(n.length){if(r==="right")return t(n[n.length-1],"right");if(r==="left")return t(n[0],"left")}}return e},"getOutermostNode"),zE=l(function(t,e){return t?(e&&(t=bve(t,e)),vve[t.classes[0]]||null):null},"getTypeOfDomTree"),A2=l(function(t,e){var r=["nulldelimiter"].concat(t.baseSizingClasses());return Nl(e.concat(r))},"makeNullDelimiter"),Dr=l(function(t,e,r){if(!t)return Nl();if(n3[t.type]){var i=n3[t.type](t,e);if(r&&e.size!==r.size){i=Nl(e.sizingClasses(r),[i],e);var n=e.sizeMultiplier/r.sizeMultiplier;i.height*=n,i.depth*=n}return i}else throw new lt("Got group of unknown type: '"+t.type+"'")},"buildGroup");l(T2,"buildHTMLUnbreakable");l(o3,"buildHTML");l(JE,"newDocumentFragment");Ja=(j0=class{constructor(e,r,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=i||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=Pc(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof Mo&&this.children[i+1]instanceof Mo){for(var n=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof Mo;)n+=this.children[++i].toText();e.appendChild(new Mo(n).toNode())}else e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=qt.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+qt.escape(Pc(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},l(j0,"MathNode"),j0),Mo=(W0=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return qt.escape(this.toText())}toText(){return this.text}},l(W0,"TextNode"),W0),xve=(V0=class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",gt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+gt(this.width)+'"/>'}toText(){return this.character?this.character:" "}},l(V0,"SpaceNode"),V0),nt={MathNode:Ja,TextNode:Mo,SpaceNode:xve,newDocumentFragment:JE},ks=l(function(t,e,r){return ti[e][t]&&ti[e][t].replace&&t.charCodeAt(0)!==55349&&!(mq.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=ti[e][t].replace),new nt.TextNode(t)},"makeText"),eC=l(function(t){return t.length===1?t[0]:new nt.MathNode("mrow",t)},"makeRow"),tC=l(function(t,e){if(e.fontFamily==="texttt")return"monospace";if(e.fontFamily==="textsf")return e.fontShape==="textit"&&e.fontWeight==="textbf"?"sans-serif-bold-italic":e.fontShape==="textit"?"sans-serif-italic":e.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(e.fontShape==="textit"&&e.fontWeight==="textbf")return"bold-italic";if(e.fontShape==="textit")return"italic";if(e.fontWeight==="textbf")return"bold";var r=e.font;if(!r||r==="mathnormal")return null;var i=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var n=t.text;if(qt.contains(["\\imath","\\jmath"],n))return null;ti[i][n]&&ti[i][n].replace&&(n=ti[i][n].replace);var a=Me.fontMap[r].fontName;return l3(n,a,i)?Me.fontMap[r].variant:null},"getVariant");l(t3,"isNumberPunctuation");Na=l(function(t,e,r){if(t.length===1){var i=Qr(t[0],e);return r&&i instanceof Ja&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var n=[],a,s=0;s<t.length;s++){var o=Qr(t[s],e);if(o instanceof Ja&&a instanceof Ja){if(o.type==="mtext"&&a.type==="mtext"&&o.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...o.children);continue}else if(o.type==="mn"&&a.type==="mn"){a.children.push(...o.children);continue}else if(t3(o)&&a.type==="mn"){a.children.push(...o.children);continue}else if(o.type==="mn"&&t3(a))o.children=[...a.children,...o.children],n.pop();else if((o.type==="msup"||o.type==="msub")&&o.children.length>=1&&(a.type==="mn"||t3(a))){var h=o.children[0];h instanceof Ja&&h.type==="mn"&&(h.children=[...a.children,...h.children],n.pop())}else if(a.type==="mi"&&a.children.length===1){var u=a.children[0];if(u instanceof Mo&&u.text==="\u0338"&&(o.type==="mo"||o.type==="mi"||o.type==="mn")){var d=o.children[0];d instanceof Mo&&d.text.length>0&&(d.text=d.text.slice(0,1)+"\u0338"+d.text.slice(1),n.pop())}}}n.push(o),a=o}return n},"buildExpression"),zc=l(function(t,e,r){return eC(Na(t,e,r))},"buildExpressionRow"),Qr=l(function(t,e){if(!t)return new nt.MathNode("mrow");if(a3[t.type]){var r=a3[t.type](t,e);return r}else throw new lt("Got group of unknown type: '"+t.type+"'")},"buildGroup");l(GE,"buildMathML");Tq=l(function(t){return new hq({style:t.displayMode?Vt.DISPLAY:Vt.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},"optionsFromSettings"),Eq=l(function(t,e){if(e.displayMode){var r=["katex-display"];e.leqno&&r.push("leqno"),e.fleqn&&r.push("fleqn"),t=Me.makeSpan(r,[t])}return t},"displayWrap"),wve=l(function(t,e,r){var i=Tq(r),n;if(r.output==="mathml")return GE(t,e,i,r.displayMode,!0);if(r.output==="html"){var a=o3(t,i);n=Me.makeSpan(["katex"],[a])}else{var s=GE(t,e,i,r.displayMode,!1),o=o3(t,i);n=Me.makeSpan(["katex"],[s,o])}return Eq(n,r)},"buildTree"),kve=l(function(t,e,r){var i=Tq(r),n=o3(t,i),a=Me.makeSpan(["katex"],[n]);return Eq(a,r)},"buildHTMLTree"),Tve={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Eve=l(function(t){var e=new nt.MathNode("mo",[new nt.TextNode(Tve[t.replace(/^\\/,"")])]);return e.setAttribute("stretchy","true"),e},"mathMLnode"),Cve={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Sve=l(function(t){return t.type==="ordgroup"?t.body.length:1},"groupLength"),_ve=l(function(t,e){function r(){var s=4e5,o=t.label.slice(1);if(qt.contains(["widehat","widecheck","widetilde","utilde"],o)){var h=t,u=Sve(h.base),d,p,g;if(u>5)o==="widehat"||o==="widecheck"?(d=420,s=2364,g=.42,p=o+"4"):(d=312,s=2340,g=.34,p="tilde4");else{var f=[1,1,2,2,3,3][u];o==="widehat"||o==="widecheck"?(s=[0,1062,2364,2364,2364][f],d=[0,239,300,360,420][f],g=[0,.24,.3,.3,.36,.42][f],p=o+f):(s=[0,600,1033,2339,2340][f],d=[0,260,286,306,312][f],g=[0,.26,.286,.3,.306,.34][f],p="tilde"+f)}var m=new Fc(p),y=new Ll([m],{width:"100%",height:gt(g),viewBox:"0 0 "+s+" "+d,preserveAspectRatio:"none"});return{span:Me.makeSvgSpan([],[y],e),minWidth:0,height:g}}else{var b=[],v=Cve[o],[x,w,k]=v,T=k/1e3,S=x.length,C,E;if(S===1){var L=v[3];C=["hide-tail"],E=[L]}else if(S===2)C=["halfarrow-left","halfarrow-right"],E=["xMinYMin","xMaxYMin"];else if(S===3)C=["brace-left","brace-center","brace-right"],E=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+S+" children.");for(var I=0;I<S;I++){var M=new Fc(x[I]),N=new Ll([M],{width:"400em",height:gt(T),viewBox:"0 0 "+s+" "+k,preserveAspectRatio:E[I]+" slice"}),$=Me.makeSvgSpan([C[I]],[N],e);if(S===1)return{span:$,minWidth:w,height:T};$.style.height=gt(T),b.push($)}return{span:Me.makeSpan(["stretchy"],b,e),minWidth:w,height:T}}}l(r,"buildSvgSpan_");var{span:i,minWidth:n,height:a}=r();return i.height=a,i.style.height=gt(a),n>0&&(i.style.minWidth=gt(n)),i},"svgSpan"),Ave=l(function(t,e,r,i,n){var a,s=t.height+t.depth+r+i;if(/fbox|color|angl/.test(e)){if(a=Me.makeSpan(["stretchy",e],[],n),e==="fbox"){var o=n.color&&n.getColor();o&&(a.style.borderColor=o)}}else{var h=[];/^[bx]cancel$/.test(e)&&h.push(new BE({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(e)&&h.push(new BE({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Ll(h,{width:"100%",height:gt(s)});a=Me.makeSvgSpan([],[u],n)}return a.height=s,a.style.height=gt(s),a},"encloseSpan"),Il={encloseSpan:Ave,mathMLnode:Eve,svgSpan:_ve};l(ar,"assertNodeType");l(u3,"assertSymbolNodeType");l(I2,"checkSymbolNodeType");rC=l((t,e)=>{var r,i,n;t&&t.type==="supsub"?(i=ar(t.base,"accent"),r=i.base,t.base=r,n=fq(Dr(t,e)),t.base=i):(i=ar(t,"accent"),r=i.base);var a=Dr(r,e.havingCrampedStyle()),s=i.isShifty&&qt.isCharacterBox(r),o=0;if(s){var h=qt.getBaseElem(r),u=Dr(h,e.havingCrampedStyle());o=PE(u).skew}var d=i.label==="\\c",p=d?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),g;if(i.isStretchy)g=Il.svgSpan(i,e),g=Me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+gt(2*o)+")",marginLeft:gt(2*o)}:void 0}]},e);else{var f,m;i.label==="\\vec"?(f=Me.staticSvg("vec",e),m=Me.svgData.vec[1]):(f=Me.makeOrd({mode:i.mode,text:i.label},e,"textord"),f=PE(f),f.italic=0,m=f.width,d&&(p+=f.depth)),g=Me.makeSpan(["accent-body"],[f]);var y=i.label==="\\textcircled";y&&(g.classes.push("accent-full"),p=a.height);var b=o;y||(b-=m/2),g.style.left=gt(b),i.label==="\\textcircled"&&(g.style.top=".2em"),g=Me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-p},{type:"elem",elem:g}]},e)}var v=Me.makeSpan(["mord","accent"],[g],e);return n?(n.children[0]=v,n.height=Math.max(v.height,n.height),n.classes[0]="mord",n):v},"htmlBuilder$a"),Cq=l((t,e)=>{var r=t.isStretchy?Il.mathMLnode(t.label):new nt.MathNode("mo",[ks(t.label,t.mode)]),i=new nt.MathNode("mover",[Qr(t.base,e),r]);return i.setAttribute("accent","true"),i},"mathmlBuilder$9"),Lve=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));bt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:l((t,e)=>{var r=s3(e[0]),i=!Lve.test(t.funcName),n=!i||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:i,isShifty:n,base:r}},"handler"),htmlBuilder:rC,mathmlBuilder:Cq});bt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:l((t,e)=>{var r=e[0],i=t.parser.mode;return i==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},"handler"),htmlBuilder:rC,mathmlBuilder:Cq});bt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:l((t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"accentUnder",mode:r.mode,label:i,base:n}},"handler"),htmlBuilder:l((t,e)=>{var r=Dr(t.base,e),i=Il.svgSpan(t,e),n=t.label==="\\utilde"?.12:0,a=Me.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:r}]},e);return Me.makeSpan(["mord","accentunder"],[a],e)},"htmlBuilder"),mathmlBuilder:l((t,e)=>{var r=Il.mathMLnode(t.label),i=new nt.MathNode("munder",[Qr(t.base,e),r]);return i.setAttribute("accentunder","true"),i},"mathmlBuilder")});Z4=l(t=>{var e=new nt.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e},"paddedNode");bt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:i,funcName:n}=t;return{type:"xArrow",mode:i.mode,label:n,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,i=e.havingStyle(r.sup()),n=Me.wrapFragment(Dr(t.body,i,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(a+"-arrow-pad");var s;t.below&&(i=e.havingStyle(r.sub()),s=Me.wrapFragment(Dr(t.below,i,e),e),s.classes.push(a+"-arrow-pad"));var o=Il.svgSpan(t,e),h=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(n.depth>.25||t.label==="\\xleftequilibrium")&&(u-=n.depth);var d;if(s){var p=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;d=Me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:h},{type:"elem",elem:s,shift:p}]},e)}else d=Me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:u},{type:"elem",elem:o,shift:h}]},e);return d.children[0].children[0].children[1].classes.push("svg-align"),Me.makeSpan(["mrel","x-arrow"],[d],e)},mathmlBuilder(t,e){var r=Il.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(t.body){var n=Z4(Qr(t.body,e));if(t.below){var a=Z4(Qr(t.below,e));i=new nt.MathNode("munderover",[r,a,n])}else i=new nt.MathNode("mover",[r,n])}else if(t.below){var s=Z4(Qr(t.below,e));i=new nt.MathNode("munder",[r,s])}else i=Z4(),i=new nt.MathNode("mover",[r,i]);return i}});Nve=Me.makeSpan;l(iC,"htmlBuilder$9");l(nC,"mathmlBuilder$8");bt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+i.slice(5),body:Bi(n),isCharacterBox:qt.isCharacterBox(n)}},htmlBuilder:iC,mathmlBuilder:nC});d3=l(t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"},"binrelClass");bt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:d3(e[0]),body:Bi(e[1]),isCharacterBox:qt.isCharacterBox(e[1])}}});bt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:i}=t,n=e[1],a=e[0],s;i!=="\\stackrel"?s=d3(n):s="mrel";var o={type:"op",mode:n.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:Bi(n)},h={type:"supsub",mode:a.mode,base:o,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[h],isCharacterBox:qt.isCharacterBox(h)}},htmlBuilder:iC,mathmlBuilder:nC});bt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:d3(e[0]),body:Bi(e[0])}},htmlBuilder(t,e){var r=nn(t.body,e,!0),i=Me.makeSpan([t.mclass],r,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(t,e){var r=Na(t.body,e),i=new nt.MathNode("mstyle",r);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});Ive={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},FG=l(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),zG=l(t=>t.type==="textord"&&t.text==="@","isStartOfArrow"),Rve=l((t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e,"isLabelEnd");l(Sq,"cdArrow");l(_q,"parseCD");bt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t;return{type:"cdlabel",mode:r.mode,side:i.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),i=Me.wrapFragment(Dr(t.label,r,e),e);return i.classes.push("cd-label-"+t.side),i.style.bottom=gt(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(t,e){var r=new nt.MathNode("mrow",[Qr(t.label,e)]);return r=new nt.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new nt.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});bt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=Me.wrapFragment(Dr(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new nt.MathNode("mrow",[Qr(t.fragment,e)])}});bt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,i=ar(e[0],"ordgroup"),n=i.body,a="",s=0;s<n.length;s++){var o=ar(n[s],"textord");a+=o.text}var h=parseInt(a),u;if(isNaN(h))throw new lt("\\@char has non-numeric argument "+a);if(h<0||h>=1114111)throw new lt("\\@char with invalid code point "+a);return h<=65535?u=String.fromCharCode(h):(h-=65536,u=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});Aq=l((t,e)=>{var r=nn(t.body,e.withColor(t.color),!1);return Me.makeFragment(r)},"htmlBuilder$8"),Lq=l((t,e)=>{var r=Na(t.body,e.withColor(t.color)),i=new nt.MathNode("mstyle",r);return i.setAttribute("mathcolor",t.color),i},"mathmlBuilder$7");bt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,i=ar(e[0],"color-token").color,n=e[1];return{type:"color",mode:r.mode,color:i,body:Bi(n)}},htmlBuilder:Aq,mathmlBuilder:Lq});bt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:i}=t,n=ar(e[0],"color-token").color;r.gullet.macros.set("\\current@color",n);var a=r.parseExpression(!0,i);return{type:"color",mode:r.mode,color:n,body:a}},htmlBuilder:Aq,mathmlBuilder:Lq});bt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:i}=t,n=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:n&&ar(n,"size").value}},htmlBuilder(t,e){var r=Me.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=gt(ki(t.size,e)))),r},mathmlBuilder(t,e){var r=new nt.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",gt(ki(t.size,e)))),r}});qE={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Nq=l(t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new lt("Expected a control sequence",t);return e},"checkControlSequence"),Dve=l(t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},"getRHS"),Iq=l((t,e,r,i)=>{var n=t.gullet.macros.get(r.text);n==null&&(r.noexpand=!0,n={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,n,i)},"letCommand");bt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var i=e.fetch();if(qE[i.text])return(r==="\\global"||r==="\\\\globallong")&&(i.text=qE[i.text]),ar(e.parseFunction(),"internal");throw new lt("Invalid token after macro prefix",i)}});bt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=e.gullet.popToken(),n=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new lt("Expected a control sequence",i);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new lt('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new lt('Argument number "'+i.text+'" out of order');a++,o.push([])}else{if(i.text==="EOF")throw new lt("Expected a macro definition");o[a].push(i.text)}var{tokens:h}=e.gullet.consumeArg();return s&&h.unshift(s),(r==="\\edef"||r==="\\xdef")&&(h=e.gullet.expandTokens(h),h.reverse()),e.gullet.macros.set(n,{tokens:h,numArgs:a,delimiters:o},r===qE[r]),{type:"internal",mode:e.mode}}});bt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=Nq(e.gullet.popToken());e.gullet.consumeSpaces();var n=Dve(e);return Iq(e,i,n,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});bt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,i=Nq(e.gullet.popToken()),n=e.gullet.popToken(),a=e.gullet.popToken();return Iq(e,i,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(n),{type:"internal",mode:e.mode}}});E2=l(function(t,e,r){var i=ti.math[t]&&ti.math[t].replace,n=l3(i||t,e,r);if(!n)throw new Error("Unsupported symbol "+t+" and font size "+e+".");return n},"getMetrics"),aC=l(function(t,e,r,i){var n=r.havingBaseStyle(e),a=Me.makeSpan(i.concat(n.sizingClasses(r)),[t],r),s=n.sizeMultiplier/r.sizeMultiplier;return a.height*=s,a.depth*=s,a.maxFontSize=n.sizeMultiplier,a},"styleWrap"),Rq=l(function(t,e,r){var i=e.havingBaseStyle(r),n=(1-e.sizeMultiplier/i.sizeMultiplier)*e.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=gt(n),t.height-=n,t.depth+=n},"centerSpan"),Mve=l(function(t,e,r,i,n,a){var s=Me.makeSymbol(t,"Main-Regular",n,i),o=aC(s,e,i,a);return r&&Rq(o,i,e),o},"makeSmallDelim"),Ove=l(function(t,e,r,i){return Me.makeSymbol(t,"Size"+e+"-Regular",r,i)},"mathrmSize"),Dq=l(function(t,e,r,i,n,a){var s=Ove(t,e,n,i),o=aC(Me.makeSpan(["delimsizing","size"+e],[s],i),Vt.TEXT,i,a);return r&&Rq(o,i,Vt.TEXT),o},"makeLargeDelim"),SE=l(function(t,e,r){var i;e==="Size1-Regular"?i="delim-size1":i="delim-size4";var n=Me.makeSpan(["delimsizinginner",i],[Me.makeSpan([],[Me.makeSymbol(t,e,r)])]);return{type:"elem",elem:n}},"makeGlyphSpan"),_E=l(function(t,e,r){var i=Do["Size4-Regular"][t.charCodeAt(0)]?Do["Size4-Regular"][t.charCodeAt(0)][4]:Do["Size1-Regular"][t.charCodeAt(0)][4],n=new Fc("inner",W2e(t,Math.round(1e3*e))),a=new Ll([n],{width:gt(i),height:gt(e),style:"width:"+gt(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*e),preserveAspectRatio:"xMinYMin"}),s=Me.makeSvgSpan([],[a],r);return s.height=e,s.style.height=gt(e),s.style.width=gt(i),{type:"elem",elem:s}},"makeInner"),UE=.008,Q4={type:"kern",size:-1*UE},$ve=["|","\\lvert","\\rvert","\\vert"],Bve=["\\|","\\lVert","\\rVert","\\Vert"],Mq=l(function(t,e,r,i,n,a){var s,o,h,u,d="",p=0;s=h=u=t,o=null;var g="Size1-Regular";t==="\\uparrow"?h=u="\u23D0":t==="\\Uparrow"?h=u="\u2016":t==="\\downarrow"?s=h="\u23D0":t==="\\Downarrow"?s=h="\u2016":t==="\\updownarrow"?(s="\\uparrow",h="\u23D0",u="\\downarrow"):t==="\\Updownarrow"?(s="\\Uparrow",h="\u2016",u="\\Downarrow"):qt.contains($ve,t)?(h="\u2223",d="vert",p=333):qt.contains(Bve,t)?(h="\u2225",d="doublevert",p=556):t==="["||t==="\\lbrack"?(s="\u23A1",h="\u23A2",u="\u23A3",g="Size4-Regular",d="lbrack",p=667):t==="]"||t==="\\rbrack"?(s="\u23A4",h="\u23A5",u="\u23A6",g="Size4-Regular",d="rbrack",p=667):t==="\\lfloor"||t==="\u230A"?(h=s="\u23A2",u="\u23A3",g="Size4-Regular",d="lfloor",p=667):t==="\\lceil"||t==="\u2308"?(s="\u23A1",h=u="\u23A2",g="Size4-Regular",d="lceil",p=667):t==="\\rfloor"||t==="\u230B"?(h=s="\u23A5",u="\u23A6",g="Size4-Regular",d="rfloor",p=667):t==="\\rceil"||t==="\u2309"?(s="\u23A4",h=u="\u23A5",g="Size4-Regular",d="rceil",p=667):t==="("||t==="\\lparen"?(s="\u239B",h="\u239C",u="\u239D",g="Size4-Regular",d="lparen",p=875):t===")"||t==="\\rparen"?(s="\u239E",h="\u239F",u="\u23A0",g="Size4-Regular",d="rparen",p=875):t==="\\{"||t==="\\lbrace"?(s="\u23A7",o="\u23A8",u="\u23A9",h="\u23AA",g="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(s="\u23AB",o="\u23AC",u="\u23AD",h="\u23AA",g="Size4-Regular"):t==="\\lgroup"||t==="\u27EE"?(s="\u23A7",u="\u23A9",h="\u23AA",g="Size4-Regular"):t==="\\rgroup"||t==="\u27EF"?(s="\u23AB",u="\u23AD",h="\u23AA",g="Size4-Regular"):t==="\\lmoustache"||t==="\u23B0"?(s="\u23A7",u="\u23AD",h="\u23AA",g="Size4-Regular"):(t==="\\rmoustache"||t==="\u23B1")&&(s="\u23AB",u="\u23A9",h="\u23AA",g="Size4-Regular");var f=E2(s,g,n),m=f.height+f.depth,y=E2(h,g,n),b=y.height+y.depth,v=E2(u,g,n),x=v.height+v.depth,w=0,k=1;if(o!==null){var T=E2(o,g,n);w=T.height+T.depth,k=2}var S=m+x+w,C=Math.max(0,Math.ceil((e-S)/(k*b))),E=S+C*k*b,L=i.fontMetrics().axisHeight;r&&(L*=i.sizeMultiplier);var I=E/2-L,M=[];if(d.length>0){var N=E-m-x,$=Math.round(E*1e3),_=V2e(d,Math.round(N*1e3)),D=new Fc(d,_),R=(p/1e3).toFixed(3)+"em",O=($/1e3).toFixed(3)+"em",A=new Ll([D],{width:R,height:O,viewBox:"0 0 "+p+" "+$}),B=Me.makeSvgSpan([],[A],i);B.height=$/1e3,B.style.width=R,B.style.height=O,M.push({type:"elem",elem:B})}else{if(M.push(SE(u,g,n)),M.push(Q4),o===null){var P=E-m-x+2*UE;M.push(_E(h,P,i))}else{var z=(E-m-x-w)/2+2*UE;M.push(_E(h,z,i)),M.push(Q4),M.push(SE(o,g,n)),M.push(Q4),M.push(_E(h,z,i))}M.push(Q4),M.push(SE(s,g,n))}var q=i.havingBaseStyle(Vt.TEXT),K=Me.makeVList({positionType:"bottom",positionData:I,children:M},q);return aC(Me.makeSpan(["delimsizing","mult"],[K],q),Vt.TEXT,i,a)},"makeStackedDelim"),AE=80,LE=.08,NE=l(function(t,e,r,i,n){var a=j2e(t,i,r),s=new Fc(t,a),o=new Ll([s],{width:"400em",height:gt(e),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Me.makeSvgSpan(["hide-tail"],[o],n)},"sqrtSvg"),Pve=l(function(t,e){var r=e.havingBaseSizing(),i=Pq("\\surd",t*r.sizeMultiplier,Bq,r),n=r.sizeMultiplier,a=Math.max(0,e.minRuleThickness-e.fontMetrics().sqrtRuleThickness),s,o=0,h=0,u=0,d;return i.type==="small"?(u=1e3+1e3*a+AE,t<1?n=1:t<1.4&&(n=.7),o=(1+a+LE)/n,h=(1+a)/n,s=NE("sqrtMain",o,u,a,e),s.style.minWidth="0.853em",d=.833/n):i.type==="large"?(u=(1e3+AE)*S2[i.size],h=(S2[i.size]+a)/n,o=(S2[i.size]+a+LE)/n,s=NE("sqrtSize"+i.size,o,u,a,e),s.style.minWidth="1.02em",d=1/n):(o=t+a+LE,h=t+a,u=Math.floor(1e3*t+a)+AE,s=NE("sqrtTall",o,u,a,e),s.style.minWidth="0.742em",d=1.056),s.height=h,s.style.height=gt(o),{span:s,advanceWidth:d,ruleWidth:(e.fontMetrics().sqrtRuleThickness+a)*n}},"makeSqrtImage"),Oq=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],Fve=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],$q=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],S2=[0,1.2,1.8,2.4,3],zve=l(function(t,e,r,i,n){if(t==="<"||t==="\\lt"||t==="\u27E8"?t="\\langle":(t===">"||t==="\\gt"||t==="\u27E9")&&(t="\\rangle"),qt.contains(Oq,t)||qt.contains($q,t))return Dq(t,e,!1,r,i,n);if(qt.contains(Fve,t))return Mq(t,S2[e],!1,r,i,n);throw new lt("Illegal delimiter: '"+t+"'")},"makeSizedDelim"),Gve=[{type:"small",style:Vt.SCRIPTSCRIPT},{type:"small",style:Vt.SCRIPT},{type:"small",style:Vt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],qve=[{type:"small",style:Vt.SCRIPTSCRIPT},{type:"small",style:Vt.SCRIPT},{type:"small",style:Vt.TEXT},{type:"stack"}],Bq=[{type:"small",style:Vt.SCRIPTSCRIPT},{type:"small",style:Vt.SCRIPT},{type:"small",style:Vt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Uve=l(function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},"delimTypeToFont"),Pq=l(function(t,e,r,i){for(var n=Math.min(2,3-i.style.size),a=n;a<r.length&&r[a].type!=="stack";a++){var s=E2(t,Uve(r[a]),"math"),o=s.height+s.depth;if(r[a].type==="small"){var h=i.havingBaseStyle(r[a].style);o*=h.sizeMultiplier}if(o>e)return r[a]}return r[r.length-1]},"traverseSequence"),Fq=l(function(t,e,r,i,n,a){t==="<"||t==="\\lt"||t==="\u27E8"?t="\\langle":(t===">"||t==="\\gt"||t==="\u27E9")&&(t="\\rangle");var s;qt.contains($q,t)?s=Gve:qt.contains(Oq,t)?s=Bq:s=qve;var o=Pq(t,e,s,i);return o.type==="small"?Mve(t,o.style,r,i,n,a):o.type==="large"?Dq(t,o.size,r,i,n,a):Mq(t,e,r,i,n,a)},"makeCustomSizedDelim"),jve=l(function(t,e,r,i,n,a){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,o=901,h=5/i.fontMetrics().ptPerEm,u=Math.max(e-s,r+s),d=Math.max(u/500*o,2*u-h);return Fq(t,d,!0,i,n,a)},"makeLeftRightDelim"),Al={sqrtImage:Pve,sizedDelim:zve,sizeToMaxHeight:S2,customSizedDelim:Fq,leftRightDelim:jve},GG={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Wve=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];l(R2,"checkDelimiter");bt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:l((t,e)=>{var r=R2(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:GG[t.funcName].size,mclass:GG[t.funcName].mclass,delim:r.text}},"handler"),htmlBuilder:l((t,e)=>t.delim==="."?Me.makeSpan([t.mclass]):Al.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),"htmlBuilder"),mathmlBuilder:l(t=>{var e=[];t.delim!=="."&&e.push(ks(t.delim,t.mode));var r=new nt.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var i=gt(Al.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",i),r.setAttribute("maxsize",i),r},"mathmlBuilder")});l(jE,"assertParsed");bt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:l((t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new lt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:R2(e[0],t).text,color:r}},"handler")});bt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:l((t,e)=>{var r=R2(e[0],t),i=t.parser;++i.leftrightDepth;var n=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=ar(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:n,left:r.text,right:a.delim,rightColor:a.color}},"handler"),htmlBuilder:l((t,e)=>{jE(t);for(var r=nn(t.body,e,!0,["mopen","mclose"]),i=0,n=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(i=Math.max(r[s].height,i),n=Math.max(r[s].depth,n));i*=e.sizeMultiplier,n*=e.sizeMultiplier;var o;if(t.left==="."?o=A2(e,["mopen"]):o=Al.leftRightDelim(t.left,i,n,e,t.mode,["mopen"]),r.unshift(o),a)for(var h=1;h<r.length;h++){var u=r[h],d=u.isMiddle;d&&(r[h]=Al.leftRightDelim(d.delim,i,n,d.options,t.mode,[]))}var p;if(t.right===".")p=A2(e,["mclose"]);else{var g=t.rightColor?e.withColor(t.rightColor):e;p=Al.leftRightDelim(t.right,i,n,g,t.mode,["mclose"])}return r.push(p),Me.makeSpan(["minner"],r,e)},"htmlBuilder"),mathmlBuilder:l((t,e)=>{jE(t);var r=Na(t.body,e);if(t.left!=="."){var i=new nt.MathNode("mo",[ks(t.left,t.mode)]);i.setAttribute("fence","true"),r.unshift(i)}if(t.right!=="."){var n=new nt.MathNode("mo",[ks(t.right,t.mode)]);n.setAttribute("fence","true"),t.rightColor&&n.setAttribute("mathcolor",t.rightColor),r.push(n)}return eC(r)},"mathmlBuilder")});bt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:l((t,e)=>{var r=R2(e[0],t);if(!t.parser.leftrightDepth)throw new lt("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},"handler"),htmlBuilder:l((t,e)=>{var r;if(t.delim===".")r=A2(e,[]);else{r=Al.sizedDelim(t.delim,1,e,t.mode,[]);var i={delim:t.delim,options:e};r.isMiddle=i}return r},"htmlBuilder"),mathmlBuilder:l((t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?ks("|","text"):ks(t.delim,t.mode),i=new nt.MathNode("mo",[r]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i},"mathmlBuilder")});sC=l((t,e)=>{var r=Me.wrapFragment(Dr(t.body,e),e),i=t.label.slice(1),n=e.sizeMultiplier,a,s=0,o=qt.isCharacterBox(t.body);if(i==="sout")a=Me.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/n,s=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var h=ki({number:.6,unit:"pt"},e),u=ki({number:.35,unit:"ex"},e),d=e.havingBaseSizing();n=n/d.sizeMultiplier;var p=r.height+r.depth+h+u;r.style.paddingLeft=gt(p/2+h);var g=Math.floor(1e3*p*n),f=q2e(g),m=new Ll([new Fc("phase",f)],{width:"400em",height:gt(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});a=Me.makeSvgSpan(["hide-tail"],[m],e),a.style.height=gt(p),s=r.depth+h+u}else{/cancel/.test(i)?o||r.classes.push("cancel-pad"):i==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var y=0,b=0,v=0;/box/.test(i)?(v=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=e.fontMetrics().fboxsep+(i==="colorbox"?0:v),b=y):i==="angl"?(v=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),y=4*v,b=Math.max(0,.25-r.depth)):(y=o?.2:0,b=y),a=Il.encloseSpan(r,i,y,b,e),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=gt(v)):i==="angl"&&v!==.049&&(a.style.borderTopWidth=gt(v),a.style.borderRightWidth=gt(v)),s=r.depth+b,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var x;if(t.backgroundColor)x=Me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},e);else{var w=/cancel|phase/.test(i)?["svg-align"]:[];x=Me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:w}]},e)}return/cancel/.test(i)&&(x.height=r.height,x.depth=r.depth),/cancel/.test(i)&&!o?Me.makeSpan(["mord","cancel-lap"],[x],e):Me.makeSpan(["mord"],[x],e)},"htmlBuilder$7"),oC=l((t,e)=>{var r=0,i=new nt.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Qr(t.body,e)]);switch(t.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*r+"pt"),i.setAttribute("height","+"+2*r+"pt"),i.setAttribute("lspace",r+"pt"),i.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var n=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+n+"em solid "+String(t.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&i.setAttribute("mathbackground",t.backgroundColor),i},"mathmlBuilder$6");bt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:i,funcName:n}=t,a=ar(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:i.mode,label:n,backgroundColor:a,body:s}},htmlBuilder:sC,mathmlBuilder:oC});bt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:i,funcName:n}=t,a=ar(e[0],"color-token").color,s=ar(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:i.mode,label:n,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:sC,mathmlBuilder:oC});bt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});bt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"enclose",mode:r.mode,label:i,body:n}},htmlBuilder:sC,mathmlBuilder:oC});bt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});zq={};l(Qs,"defineEnvironment");Gq={};l(le,"defineMacro");l(WE,"getHLines");p3=l(t=>{var e=t.parser.settings;if(!e.displayMode)throw new lt("{"+t.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext");l(g3,"getAutoTag");l(Dl,"parseArray");l(f3,"dCellStyle");$o=l(function(t,e){var r,i,n=t.body.length,a=t.hLinesBeforeRow,s=0,o=new Array(n),h=[],u=Math.max(e.fontMetrics().arrayRuleWidth,e.minRuleThickness),d=1/e.fontMetrics().ptPerEm,p=5*d;if(t.colSeparationType&&t.colSeparationType==="small"){var g=e.havingStyle(Vt.SCRIPT).sizeMultiplier;p=.2778*(g/e.sizeMultiplier)}var f=t.colSeparationType==="CD"?ki({number:3,unit:"ex"},e):12*d,m=3*d,y=t.arraystretch*f,b=.7*y,v=.3*y,x=0;function w(V){for(var Se=0;Se<V.length;++Se)Se>0&&(x+=.25),h.push({pos:x,isDashed:V[Se]})}for(l(w,"setHLinePos"),w(a[0]),r=0;r<t.body.length;++r){var k=t.body[r],T=b,S=v;s<k.length&&(s=k.length);var C=new Array(k.length);for(i=0;i<k.length;++i){var E=Dr(k[i],e);S<E.depth&&(S=E.depth),T<E.height&&(T=E.height),C[i]=E}var L=t.rowGaps[r],I=0;L&&(I=ki(L,e),I>0&&(I+=v,S<I&&(S=I),I=0)),t.addJot&&(S+=m),C.height=T,C.depth=S,x+=T,C.pos=x,x+=S+I,o[r]=C,w(a[r+1])}var M=x/2+e.fontMetrics().axisHeight,N=t.cols||[],$=[],_,D,R=[];if(t.tags&&t.tags.some(V=>V))for(r=0;r<n;++r){var O=o[r],A=O.pos-M,B=t.tags[r],P=void 0;B===!0?P=Me.makeSpan(["eqn-num"],[],e):B===!1?P=Me.makeSpan([],[],e):P=Me.makeSpan([],nn(B,e,!0),e),P.depth=O.depth,P.height=O.height,R.push({type:"elem",elem:P,shift:A})}for(i=0,D=0;i<s||D<N.length;++i,++D){for(var z=N[D]||{},q=!0;z.type==="separator";){if(q||(_=Me.makeSpan(["arraycolsep"],[]),_.style.width=gt(e.fontMetrics().doubleRuleSep),$.push(_)),z.separator==="|"||z.separator===":"){var K=z.separator==="|"?"solid":"dashed",W=Me.makeSpan(["vertical-separator"],[],e);W.style.height=gt(x),W.style.borderRightWidth=gt(u),W.style.borderRightStyle=K,W.style.margin="0 "+gt(-u/2);var ae=x-M;ae&&(W.style.verticalAlign=gt(-ae)),$.push(W)}else throw new lt("Invalid separator type: "+z.separator);D++,z=N[D]||{},q=!1}if(!(i>=s)){var ie=void 0;(i>0||t.hskipBeforeAndAfter)&&(ie=qt.deflt(z.pregap,p),ie!==0&&(_=Me.makeSpan(["arraycolsep"],[]),_.style.width=gt(ie),$.push(_)));var se=[];for(r=0;r<n;++r){var oe=o[r],Y=oe[i];if(Y){var Q=oe.pos-M;Y.depth=oe.depth,Y.height=oe.height,se.push({type:"elem",elem:Y,shift:Q})}}se=Me.makeVList({positionType:"individualShift",children:se},e),se=Me.makeSpan(["col-align-"+(z.align||"c")],[se]),$.push(se),(i<s-1||t.hskipBeforeAndAfter)&&(ie=qt.deflt(z.postgap,p),ie!==0&&(_=Me.makeSpan(["arraycolsep"],[]),_.style.width=gt(ie),$.push(_)))}}if(o=Me.makeSpan(["mtable"],$),h.length>0){for(var j=Me.makeLineSpan("hline",e,u),H=Me.makeLineSpan("hdashline",e,u),J=[{type:"elem",elem:o,shift:0}];h.length>0;){var he=h.pop(),X=he.pos-M;he.isDashed?J.push({type:"elem",elem:H,shift:X}):J.push({type:"elem",elem:j,shift:X})}o=Me.makeVList({positionType:"individualShift",children:J},e)}if(R.length===0)return Me.makeSpan(["mord"],[o],e);var fe=Me.makeVList({positionType:"individualShift",children:R},e);return fe=Me.makeSpan(["tag"],[fe],e),Me.makeFragment([o,fe])},"htmlBuilder"),Vve={c:"center ",l:"left ",r:"right "},Bo=l(function(t,e){for(var r=[],i=new nt.MathNode("mtd",[],["mtr-glue"]),n=new nt.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<t.body.length;a++){for(var s=t.body[a],o=[],h=0;h<s.length;h++)o.push(new nt.MathNode("mtd",[Qr(s[h],e)]));t.tags&&t.tags[a]&&(o.unshift(i),o.push(i),t.leqno?o.unshift(n):o.push(n)),r.push(new nt.MathNode("mtr",o))}var u=new nt.MathNode("mtable",r),d=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);u.setAttribute("rowspacing",gt(d));var p="",g="";if(t.cols&&t.cols.length>0){var f=t.cols,m="",y=!1,b=0,v=f.length;f[0].type==="separator"&&(p+="top ",b=1),f[f.length-1].type==="separator"&&(p+="bottom ",v-=1);for(var x=b;x<v;x++)f[x].type==="align"?(g+=Vve[f[x].align],y&&(m+="none "),y=!0):f[x].type==="separator"&&y&&(m+=f[x].separator==="|"?"solid ":"dashed ",y=!1);u.setAttribute("columnalign",g.trim()),/[sd]/.test(m)&&u.setAttribute("columnlines",m.trim())}if(t.colSeparationType==="align"){for(var w=t.cols||[],k="",T=1;T<w.length;T++)k+=T%2?"0em ":"1em ";u.setAttribute("columnspacing",k.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var S="",C=t.hLinesBeforeRow;p+=C[0].length>0?"left ":"",p+=C[C.length-1].length>0?"right ":"";for(var E=1;E<C.length-1;E++)S+=C[E].length===0?"none ":C[E][0]?"dashed ":"solid ";return/[sd]/.test(S)&&u.setAttribute("rowlines",S.trim()),p!==""&&(u=new nt.MathNode("menclose",[u]),u.setAttribute("notation",p.trim())),t.arraystretch&&t.arraystretch<1&&(u=new nt.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},"mathmlBuilder"),qq=l(function(t,e){t.envName.indexOf("ed")===-1&&p3(t);var r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",n=t.envName==="split",a=Dl(t.parser,{cols:r,addJot:!0,autoTag:n?void 0:g3(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:n?2:void 0,leqno:t.parser.settings.leqno},"display"),s,o=0,h={type:"ordgroup",mode:t.mode,body:[]};if(e[0]&&e[0].type==="ordgroup"){for(var u="",d=0;d<e[0].body.length;d++){var p=ar(e[0].body[d],"textord");u+=p.text}s=Number(u),o=s*2}var g=!o;a.body.forEach(function(b){for(var v=1;v<b.length;v+=2){var x=ar(b[v],"styling"),w=ar(x.body[0],"ordgroup");w.body.unshift(h)}if(g)o<b.length&&(o=b.length);else{var k=b.length/2;if(s<k)throw new lt("Too many math in a row: "+("expected "+s+", but got "+k),b[0])}});for(var f=0;f<o;++f){var m="r",y=0;f%2===1?m="l":f>0&&g&&(y=1),r[f]={type:"align",align:m,pregap:y,postgap:0}}return a.colSeparationType=g?"align":"alignat",a},"alignedHandler");Qs({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=I2(e[0]),i=r?[e[0]]:ar(e[0],"ordgroup").body,n=i.map(function(s){var o=u3(s),h=o.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new lt("Unknown column alignment: "+h,s)}),a={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Dl(t.parser,a,f3(t.envName))},htmlBuilder:$o,mathmlBuilder:Bo});Qs({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var n=t.parser;if(n.consumeSpaces(),n.fetch().text==="["){if(n.consume(),n.consumeSpaces(),r=n.fetch().text,"lcr".indexOf(r)===-1)throw new lt("Expected l or c or r",n.nextToken);n.consume(),n.consumeSpaces(),n.expect("]"),n.consume(),i.cols=[{type:"align",align:r}]}}var a=Dl(t.parser,i,f3(t.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:$o,mathmlBuilder:Bo});Qs({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Dl(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:$o,mathmlBuilder:Bo});Qs({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=I2(e[0]),i=r?[e[0]]:ar(e[0],"ordgroup").body,n=i.map(function(s){var o=u3(s),h=o.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new lt("Unknown column alignment: "+h,s)});if(n.length>1)throw new lt("{subarray} can contain only one column");var a={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Dl(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new lt("{subarray} can contain only one column");return a},htmlBuilder:$o,mathmlBuilder:Bo});Qs({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Dl(t.parser,e,f3(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:$o,mathmlBuilder:Bo});Qs({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:qq,htmlBuilder:$o,mathmlBuilder:Bo});Qs({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){qt.contains(["gather","gather*"],t.envName)&&p3(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:g3(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Dl(t.parser,e,"display")},htmlBuilder:$o,mathmlBuilder:Bo});Qs({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:qq,htmlBuilder:$o,mathmlBuilder:Bo});Qs({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){p3(t);var e={autoTag:g3(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Dl(t.parser,e,"display")},htmlBuilder:$o,mathmlBuilder:Bo});Qs({type:"array",names:["CD"],props:{numArgs:0},handler(t){return p3(t),_q(t.parser)},htmlBuilder:$o,mathmlBuilder:Bo});le("\\nonumber","\\gdef\\@eqnsw{0}");le("\\notag","\\nonumber");bt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new lt(t.funcName+" valid only within array environment")}});qG=zq;bt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];if(n.type!=="ordgroup")throw new lt("Invalid environment name",n);for(var a="",s=0;s<n.body.length;++s)a+=ar(n.body[s],"textord").text;if(i==="\\begin"){if(!qG.hasOwnProperty(a))throw new lt("No such environment: "+a,n);var o=qG[a],{args:h,optArgs:u}=r.parseArguments("\\begin{"+a+"}",o),d={mode:r.mode,envName:a,parser:r},p=o.handler(d,h,u);r.expect("\\end",!1);var g=r.nextToken,f=ar(r.parseFunction(),"environment");if(f.name!==a)throw new lt("Mismatch: \\begin{"+a+"} matched by \\end{"+f.name+"}",g);return p}return{type:"environment",mode:r.mode,name:a,nameGroup:n}}});Uq=l((t,e)=>{var r=t.font,i=e.withFont(r);return Dr(t.body,i)},"htmlBuilder$5"),jq=l((t,e)=>{var r=t.font,i=e.withFont(r);return Qr(t.body,i)},"mathmlBuilder$4"),UG={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};bt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:l((t,e)=>{var{parser:r,funcName:i}=t,n=s3(e[0]),a=i;return a in UG&&(a=UG[a]),{type:"font",mode:r.mode,font:a.slice(1),body:n}},"handler"),htmlBuilder:Uq,mathmlBuilder:jq});bt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:l((t,e)=>{var{parser:r}=t,i=e[0],n=qt.isCharacterBox(i);return{type:"mclass",mode:r.mode,mclass:d3(i),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:i}],isCharacterBox:n}},"handler")});bt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:l((t,e)=>{var{parser:r,funcName:i,breakOnTokenText:n}=t,{mode:a}=r,s=r.parseExpression(!0,n),o="math"+i.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:r.mode,body:s}}},"handler"),htmlBuilder:Uq,mathmlBuilder:jq});Wq=l((t,e)=>{var r=e;return t==="display"?r=r.id>=Vt.SCRIPT.id?r.text():Vt.DISPLAY:t==="text"&&r.size===Vt.DISPLAY.size?r=Vt.TEXT:t==="script"?r=Vt.SCRIPT:t==="scriptscript"&&(r=Vt.SCRIPTSCRIPT),r},"adjustStyle"),lC=l((t,e)=>{var r=Wq(t.size,e.style),i=r.fracNum(),n=r.fracDen(),a;a=e.havingStyle(i);var s=Dr(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,h=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<h?h:s.depth}a=e.havingStyle(n);var u=Dr(t.denom,a,e),d,p,g;t.hasBarLine?(t.barSize?(p=ki(t.barSize,e),d=Me.makeLineSpan("frac-line",e,p)):d=Me.makeLineSpan("frac-line",e),p=d.height,g=d.height):(d=null,p=0,g=e.fontMetrics().defaultRuleThickness);var f,m,y;r.size===Vt.DISPLAY.size||t.size==="display"?(f=e.fontMetrics().num1,p>0?m=3*g:m=7*g,y=e.fontMetrics().denom1):(p>0?(f=e.fontMetrics().num2,m=g):(f=e.fontMetrics().num3,m=3*g),y=e.fontMetrics().denom2);var b;if(d){var v=e.fontMetrics().axisHeight;f-s.depth-(v+.5*p)<m&&(f+=m-(f-s.depth-(v+.5*p))),v-.5*p-(u.height-y)<m&&(y+=m-(v-.5*p-(u.height-y)));var x=-(v-.5*p);b=Me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:d,shift:x},{type:"elem",elem:s,shift:-f}]},e)}else{var w=f-s.depth-(u.height-y);w<m&&(f+=.5*(m-w),y+=.5*(m-w)),b=Me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:s,shift:-f}]},e)}a=e.havingStyle(r),b.height*=a.sizeMultiplier/e.sizeMultiplier,b.depth*=a.sizeMultiplier/e.sizeMultiplier;var k;r.size===Vt.DISPLAY.size?k=e.fontMetrics().delim1:r.size===Vt.SCRIPTSCRIPT.size?k=e.havingStyle(Vt.SCRIPT).fontMetrics().delim2:k=e.fontMetrics().delim2;var T,S;return t.leftDelim==null?T=A2(e,["mopen"]):T=Al.customSizedDelim(t.leftDelim,k,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?S=Me.makeSpan([]):t.rightDelim==null?S=A2(e,["mclose"]):S=Al.customSizedDelim(t.rightDelim,k,!0,e.havingStyle(r),t.mode,["mclose"]),Me.makeSpan(["mord"].concat(a.sizingClasses(e)),[T,Me.makeSpan(["mfrac"],[b]),S],e)},"htmlBuilder$4"),cC=l((t,e)=>{var r=new nt.MathNode("mfrac",[Qr(t.numer,e),Qr(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var i=ki(t.barSize,e);r.setAttribute("linethickness",gt(i))}var n=Wq(t.size,e.style);if(n.size!==e.style.size){r=new nt.MathNode("mstyle",[r]);var a=n.size===Vt.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var o=new nt.MathNode("mo",[new nt.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(r),t.rightDelim!=null){var h=new nt.MathNode("mo",[new nt.TextNode(t.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),s.push(h)}return eC(s)}return r},"mathmlBuilder$3");bt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:l((t,e)=>{var{parser:r,funcName:i}=t,n=e[0],a=e[1],s,o=null,h=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",h=")";break;case"\\\\bracefrac":s=!1,o="\\{",h="\\}";break;case"\\\\brackfrac":s=!1,o="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:n,denom:a,hasBarLine:s,leftDelim:o,rightDelim:h,size:u,barSize:null}},"handler"),htmlBuilder:lC,mathmlBuilder:cC});bt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:l((t,e)=>{var{parser:r,funcName:i}=t,n=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:n,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")});bt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:i}=t,n;switch(r){case"\\over":n="\\frac";break;case"\\choose":n="\\binom";break;case"\\atop":n="\\\\atopfrac";break;case"\\brace":n="\\\\bracefrac";break;case"\\brack":n="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:n,token:i}}});jG=["display","text","script","scriptscript"],WG=l(function(t){var e=null;return t.length>0&&(e=t,e=e==="."?null:e),e},"delimFromValue");bt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,i=e[4],n=e[5],a=s3(e[0]),s=a.type==="atom"&&a.family==="open"?WG(a.text):null,o=s3(e[1]),h=o.type==="atom"&&o.family==="close"?WG(o.text):null,u=ar(e[2],"size"),d,p=null;u.isBlank?d=!0:(p=u.value,d=p.number>0);var g="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var m=ar(f.body[0],"textord");g=jG[Number(m.text)]}}else f=ar(f,"textord"),g=jG[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:i,denom:n,continued:!1,hasBarLine:d,barSize:p,leftDelim:s,rightDelim:h,size:g}},htmlBuilder:lC,mathmlBuilder:cC});bt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:i,token:n}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:ar(e[0],"size").value,token:n}}});bt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:l((t,e)=>{var{parser:r,funcName:i}=t,n=e[0],a=L2e(ar(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:r.mode,numer:n,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:lC,mathmlBuilder:cC});Vq=l((t,e)=>{var r=e.style,i,n;t.type==="supsub"?(i=t.sup?Dr(t.sup,e.havingStyle(r.sup()),e):Dr(t.sub,e.havingStyle(r.sub()),e),n=ar(t.base,"horizBrace")):n=ar(t,"horizBrace");var a=Dr(n.base,e.havingBaseStyle(Vt.DISPLAY)),s=Il.svgSpan(n,e),o;if(n.isOver?(o=Me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Me.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),i){var h=Me.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e);n.isOver?o=Me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:i}]},e):o=Me.makeVList({positionType:"bottom",positionData:h.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return Me.makeSpan(["mord",n.isOver?"mover":"munder"],[o],e)},"htmlBuilder$3"),Yve=l((t,e)=>{var r=Il.mathMLnode(t.label);return new nt.MathNode(t.isOver?"mover":"munder",[Qr(t.base,e),r])},"mathmlBuilder$2");bt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:i}=t;return{type:"horizBrace",mode:r.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:Vq,mathmlBuilder:Yve});bt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:l((t,e)=>{var{parser:r}=t,i=e[1],n=ar(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:r.mode,href:n,body:Bi(i)}:r.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:l((t,e)=>{var r=nn(t.body,e,!1);return Me.makeAnchor(t.href,[],r,e)},"htmlBuilder"),mathmlBuilder:l((t,e)=>{var r=zc(t.body,e);return r instanceof Ja||(r=new Ja("mrow",[r])),r.setAttribute("href",t.href),r},"mathmlBuilder")});bt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:l((t,e)=>{var{parser:r}=t,i=ar(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:i}))return r.formatUnsupportedCmd("\\url");for(var n=[],a=0;a<i.length;a++){var s=i[a];s==="~"&&(s="\\textasciitilde"),n.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:r.mode,font:"\\texttt",body:n};return{type:"href",mode:r.mode,href:i,body:Bi(o)}},"handler")});bt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:Bi(e[0])}},htmlBuilder(t,e){var r=nn(t.body,e,!1);return Me.makeFragment(r)},mathmlBuilder(t,e){return new nt.MathNode("mrow",Na(t.body,e))}});bt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:l((t,e)=>{var{parser:r,funcName:i,token:n}=t,a=ar(e[0],"raw").string,s=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,h={};switch(i){case"\\htmlClass":h.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":h.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":h.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),d=0;d<u.length;d++){var p=u[d].split("=");if(p.length!==2)throw new lt("Error parsing key-value for \\htmlData");h["data-"+p[0].trim()]=p[1].trim()}o={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:h,body:Bi(s)}:r.formatUnsupportedCmd(i)},"handler"),htmlBuilder:l((t,e)=>{var r=nn(t.body,e,!1),i=["enclosing"];t.attributes.class&&i.push(...t.attributes.class.trim().split(/\s+/));var n=Me.makeSpan(i,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&n.setAttribute(a,t.attributes[a]);return n},"htmlBuilder"),mathmlBuilder:l((t,e)=>zc(t.body,e),"mathmlBuilder")});bt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:l((t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:Bi(e[0]),mathml:Bi(e[1])}},"handler"),htmlBuilder:l((t,e)=>{var r=nn(t.html,e,!1);return Me.makeFragment(r)},"htmlBuilder"),mathmlBuilder:l((t,e)=>zc(t.mathml,e),"mathmlBuilder")});IE=l(function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var e=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!e)throw new lt("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(e[1]+e[2]),unit:e[3]};if(!uq(r))throw new lt("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r},"sizeData");bt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:l((t,e,r)=>{var{parser:i}=t,n={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(r[0])for(var h=ar(r[0],"raw").string,u=h.split(","),d=0;d<u.length;d++){var p=u[d].split("=");if(p.length===2){var g=p[1].trim();switch(p[0].trim()){case"alt":o=g;break;case"width":n=IE(g);break;case"height":a=IE(g);break;case"totalheight":s=IE(g);break;default:throw new lt("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var f=ar(e[0],"url").url;return o===""&&(o=f,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:i.mode,alt:o,width:n,height:a,totalheight:s,src:f}:i.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:l((t,e)=>{var r=ki(t.height,e),i=0;t.totalheight.number>0&&(i=ki(t.totalheight,e)-r);var n=0;t.width.number>0&&(n=ki(t.width,e));var a={height:gt(r+i)};n>0&&(a.width=gt(n)),i>0&&(a.verticalAlign=gt(-i));var s=new K2e(t.src,t.alt,a);return s.height=r,s.depth=i,s},"htmlBuilder"),mathmlBuilder:l((t,e)=>{var r=new nt.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var i=ki(t.height,e),n=0;if(t.totalheight.number>0&&(n=ki(t.totalheight,e)-i,r.setAttribute("valign",gt(-n))),r.setAttribute("height",gt(i+n)),t.width.number>0){var a=ki(t.width,e);r.setAttribute("width",gt(a))}return r.setAttribute("src",t.src),r},"mathmlBuilder")});bt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:i}=t,n=ar(e[0],"size");if(r.settings.strict){var a=i[1]==="m",s=n.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+n.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:n.value}},htmlBuilder(t,e){return Me.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=ki(t.dimension,e);return new nt.SpaceNode(r)}});bt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:l((t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"lap",mode:r.mode,alignment:i.slice(5),body:n}},"handler"),htmlBuilder:l((t,e)=>{var r;t.alignment==="clap"?(r=Me.makeSpan([],[Dr(t.body,e)]),r=Me.makeSpan(["inner"],[r],e)):r=Me.makeSpan(["inner"],[Dr(t.body,e)]);var i=Me.makeSpan(["fix"],[]),n=Me.makeSpan([t.alignment],[r,i],e),a=Me.makeSpan(["strut"]);return a.style.height=gt(n.height+n.depth),n.depth&&(a.style.verticalAlign=gt(-n.depth)),n.children.unshift(a),n=Me.makeSpan(["thinbox"],[n],e),Me.makeSpan(["mord","vbox"],[n],e)},"htmlBuilder"),mathmlBuilder:l((t,e)=>{var r=new nt.MathNode("mpadded",[Qr(t.body,e)]);if(t.alignment!=="rlap"){var i=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",i+"width")}return r.setAttribute("width","0px"),r},"mathmlBuilder")});bt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:i}=t,n=i.mode;i.switchMode("math");var a=r==="\\("?"\\)":"$",s=i.parseExpression(!1,a);return i.expect(a),i.switchMode(n),{type:"styling",mode:i.mode,style:"text",body:s}}});bt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new lt("Mismatched "+t.funcName)}});VG=l((t,e)=>{switch(e.style.size){case Vt.DISPLAY.size:return t.display;case Vt.TEXT.size:return t.text;case Vt.SCRIPT.size:return t.script;case Vt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}},"chooseMathStyle");bt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:l((t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:Bi(e[0]),text:Bi(e[1]),script:Bi(e[2]),scriptscript:Bi(e[3])}},"handler"),htmlBuilder:l((t,e)=>{var r=VG(t,e),i=nn(r,e,!1);return Me.makeFragment(i)},"htmlBuilder"),mathmlBuilder:l((t,e)=>{var r=VG(t,e);return zc(r,e)},"mathmlBuilder")});Yq=l((t,e,r,i,n,a,s)=>{t=Me.makeSpan([],[t]);var o=r&&qt.isCharacterBox(r),h,u;if(e){var d=Dr(e,i.havingStyle(n.sup()),i);u={elem:d,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-d.depth)}}if(r){var p=Dr(r,i.havingStyle(n.sub()),i);h={elem:p,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-p.height)}}var g;if(u&&h){var f=i.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+t.depth+s;g=Me.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:gt(-a)},{type:"kern",size:h.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:gt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(h){var m=t.height-s;g=Me.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:gt(-a)},{type:"kern",size:h.kern},{type:"elem",elem:t}]},i)}else if(u){var y=t.depth+s;g=Me.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:gt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return t;var b=[g];if(h&&a!==0&&!o){var v=Me.makeSpan(["mspace"],[],i);v.style.marginRight=gt(a),b.unshift(v)}return Me.makeSpan(["mop","op-limits"],b,i)},"assembleSupSub"),Hq=["\\smallint"],Q0=l((t,e)=>{var r,i,n=!1,a;t.type==="supsub"?(r=t.sup,i=t.sub,a=ar(t.base,"op"),n=!0):a=ar(t,"op");var s=e.style,o=!1;s.size===Vt.DISPLAY.size&&a.symbol&&!qt.contains(Hq,a.name)&&(o=!0);var h;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",d="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(d=a.name.slice(1),a.name=d==="oiint"?"\\iint":"\\iiint"),h=Me.makeSymbol(a.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),d.length>0){var p=h.italic,g=Me.staticSvg(d+"Size"+(o?"2":"1"),e);h=Me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:g,shift:o?.08:0}]},e),a.name="\\"+d,h.classes.unshift("mop"),h.italic=p}}else if(a.body){var f=nn(a.body,e,!0);f.length===1&&f[0]instanceof ws?(h=f[0],h.classes[0]="mop"):h=Me.makeSpan(["mop"],f,e)}else{for(var m=[],y=1;y<a.name.length;y++)m.push(Me.mathsym(a.name[y],a.mode,e));h=Me.makeSpan(["mop"],m,e)}var b=0,v=0;return(h instanceof ws||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(h.height-h.depth)/2-e.fontMetrics().axisHeight,v=h.italic),n?Yq(h,r,i,e,s,v,b):(b&&(h.style.position="relative",h.style.top=gt(b)),h)},"htmlBuilder$2"),D2=l((t,e)=>{var r;if(t.symbol)r=new Ja("mo",[ks(t.name,t.mode)]),qt.contains(Hq,t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new Ja("mo",Na(t.body,e));else{r=new Ja("mi",[new Mo(t.name.slice(1))]);var i=new Ja("mo",[ks("\u2061","text")]);t.parentIsSupSub?r=new Ja("mrow",[r,i]):r=JE([r,i])}return r},"mathmlBuilder$1"),Hve={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};bt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:l((t,e)=>{var{parser:r,funcName:i}=t,n=i;return n.length===1&&(n=Hve[n]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},"handler"),htmlBuilder:Q0,mathmlBuilder:D2});bt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:l((t,e)=>{var{parser:r}=t,i=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Bi(i)}},"handler"),htmlBuilder:Q0,mathmlBuilder:D2});Xve={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};bt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Q0,mathmlBuilder:D2});bt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Q0,mathmlBuilder:D2});bt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t,i=r;return i.length===1&&(i=Xve[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Q0,mathmlBuilder:D2});Xq=l((t,e)=>{var r,i,n=!1,a;t.type==="supsub"?(r=t.sup,i=t.sub,a=ar(t.base,"operatorname"),n=!0):a=ar(t,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(p=>{var g=p.text;return typeof g=="string"?{type:"textord",mode:p.mode,text:g}:p}),h=nn(o,e.withFont("mathrm"),!0),u=0;u<h.length;u++){var d=h[u];d instanceof ws&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Me.makeSpan(["mop"],h,e)}else s=Me.makeSpan(["mop"],[],e);return n?Yq(s,r,i,e,e.style,0,0):s},"htmlBuilder$1"),Kve=l((t,e)=>{for(var r=Na(t.body,e.withFont("mathrm")),i=!0,n=0;n<r.length;n++){var a=r[n];if(!(a instanceof nt.SpaceNode))if(a instanceof nt.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof nt.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=r.map(d=>d.toText()).join("");r=[new nt.TextNode(o)]}var h=new nt.MathNode("mi",r);h.setAttribute("mathvariant","normal");var u=new nt.MathNode("mo",[ks("\u2061","text")]);return t.parentIsSupSub?new nt.MathNode("mrow",[h,u]):nt.newDocumentFragment([h,u])},"mathmlBuilder");bt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:l((t,e)=>{var{parser:r,funcName:i}=t,n=e[0];return{type:"operatorname",mode:r.mode,body:Bi(n),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:Xq,mathmlBuilder:Kve});le("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Gc({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Me.makeFragment(nn(t.body,e,!1)):Me.makeSpan(["mord"],nn(t.body,e,!0),e)},mathmlBuilder(t,e){return zc(t.body,e,!0)}});bt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,i=e[0];return{type:"overline",mode:r.mode,body:i}},htmlBuilder(t,e){var r=Dr(t.body,e.havingCrampedStyle()),i=Me.makeLineSpan("overline-line",e),n=e.fontMetrics().defaultRuleThickness,a=Me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*n},{type:"elem",elem:i},{type:"kern",size:n}]},e);return Me.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new nt.MathNode("mo",[new nt.TextNode("\u203E")]);r.setAttribute("stretchy","true");var i=new nt.MathNode("mover",[Qr(t.body,e),r]);return i.setAttribute("accent","true"),i}});bt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:l((t,e)=>{var{parser:r}=t,i=e[0];return{type:"phantom",mode:r.mode,body:Bi(i)}},"handler"),htmlBuilder:l((t,e)=>{var r=nn(t.body,e.withPhantom(),!1);return Me.makeFragment(r)},"htmlBuilder"),mathmlBuilder:l((t,e)=>{var r=Na(t.body,e);return new nt.MathNode("mphantom",r)},"mathmlBuilder")});bt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:l((t,e)=>{var{parser:r}=t,i=e[0];return{type:"hphantom",mode:r.mode,body:i}},"handler"),htmlBuilder:l((t,e)=>{var r=Me.makeSpan([],[Dr(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var i=0;i<r.children.length;i++)r.children[i].height=0,r.children[i].depth=0;return r=Me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),Me.makeSpan(["mord"],[r],e)},"htmlBuilder"),mathmlBuilder:l((t,e)=>{var r=Na(Bi(t.body),e),i=new nt.MathNode("mphantom",r),n=new nt.MathNode("mpadded",[i]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n},"mathmlBuilder")});bt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:l((t,e)=>{var{parser:r}=t,i=e[0];return{type:"vphantom",mode:r.mode,body:i}},"handler"),htmlBuilder:l((t,e)=>{var r=Me.makeSpan(["inner"],[Dr(t.body,e.withPhantom())]),i=Me.makeSpan(["fix"],[]);return Me.makeSpan(["mord","rlap"],[r,i],e)},"htmlBuilder"),mathmlBuilder:l((t,e)=>{var r=Na(Bi(t.body),e),i=new nt.MathNode("mphantom",r),n=new nt.MathNode("mpadded",[i]);return n.setAttribute("width","0px"),n},"mathmlBuilder")});bt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,i=ar(e[0],"size").value,n=e[1];return{type:"raisebox",mode:r.mode,dy:i,body:n}},htmlBuilder(t,e){var r=Dr(t.body,e),i=ki(t.dy,e);return Me.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new nt.MathNode("mpadded",[Qr(t.body,e)]),i=t.dy.number+t.dy.unit;return r.setAttribute("voffset",i),r}});bt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});bt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:i}=t,n=r[0],a=ar(e[0],"size"),s=ar(e[1],"size");return{type:"rule",mode:i.mode,shift:n&&ar(n,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var r=Me.makeSpan(["mord","rule"],[],e),i=ki(t.width,e),n=ki(t.height,e),a=t.shift?ki(t.shift,e):0;return r.style.borderRightWidth=gt(i),r.style.borderTopWidth=gt(n),r.style.bottom=gt(a),r.width=i,r.height=n+a,r.depth=-a,r.maxFontSize=n*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=ki(t.width,e),i=ki(t.height,e),n=t.shift?ki(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new nt.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",gt(r)),s.setAttribute("height",gt(i));var o=new nt.MathNode("mpadded",[s]);return n>=0?o.setAttribute("height",gt(n)):(o.setAttribute("height",gt(n)),o.setAttribute("depth",gt(-n))),o.setAttribute("voffset",gt(n)),o}});l(hC,"sizingGroup");YG=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Zve=l((t,e)=>{var r=e.havingSize(t.size);return hC(t.body,r,e)},"htmlBuilder");bt({type:"sizing",names:YG,props:{numArgs:0,allowedInText:!0},handler:l((t,e)=>{var{breakOnTokenText:r,funcName:i,parser:n}=t,a=n.parseExpression(!1,r);return{type:"sizing",mode:n.mode,size:YG.indexOf(i)+1,body:a}},"handler"),htmlBuilder:Zve,mathmlBuilder:l((t,e)=>{var r=e.havingSize(t.size),i=Na(t.body,r),n=new nt.MathNode("mstyle",i);return n.setAttribute("mathsize",gt(r.sizeMultiplier)),n},"mathmlBuilder")});bt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:l((t,e,r)=>{var{parser:i}=t,n=!1,a=!1,s=r[0]&&ar(r[0],"ordgroup");if(s)for(var o="",h=0;h<s.body.length;++h){var u=s.body[h];if(o=u.text,o==="t")n=!0;else if(o==="b")a=!0;else{n=!1,a=!1;break}}else n=!0,a=!0;var d=e[0];return{type:"smash",mode:i.mode,body:d,smashHeight:n,smashDepth:a}},"handler"),htmlBuilder:l((t,e)=>{var r=Me.makeSpan([],[Dr(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].depth=0;var a=Me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return Me.makeSpan(["mord"],[a],e)},"htmlBuilder"),mathmlBuilder:l((t,e)=>{var r=new nt.MathNode("mpadded",[Qr(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r},"mathmlBuilder")});bt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:i}=t,n=r[0],a=e[0];return{type:"sqrt",mode:i.mode,body:a,index:n}},htmlBuilder(t,e){var r=Dr(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=Me.wrapFragment(r,e);var i=e.fontMetrics(),n=i.defaultRuleThickness,a=n;e.style.id<Vt.TEXT.id&&(a=e.fontMetrics().xHeight);var s=n+a/4,o=r.height+r.depth+s+n,{span:h,ruleWidth:u,advanceWidth:d}=Al.sqrtImage(o,e),p=h.height-u;p>r.height+r.depth+s&&(s=(s+p-r.height-r.depth)/2);var g=h.height-r.height-s-u;r.style.paddingLeft=gt(d);var f=Me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+g)},{type:"elem",elem:h},{type:"kern",size:u}]},e);if(t.index){var m=e.havingStyle(Vt.SCRIPTSCRIPT),y=Dr(t.index,m,e),b=.6*(f.height-f.depth),v=Me.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:y}]},e),x=Me.makeSpan(["root"],[v]);return Me.makeSpan(["mord","sqrt"],[x,f],e)}else return Me.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(t,e){var{body:r,index:i}=t;return i?new nt.MathNode("mroot",[Qr(r,e),Qr(i,e)]):new nt.MathNode("msqrt",[Qr(r,e)])}});HG={display:Vt.DISPLAY,text:Vt.TEXT,script:Vt.SCRIPT,scriptscript:Vt.SCRIPTSCRIPT};bt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:i,parser:n}=t,a=n.parseExpression(!0,r),s=i.slice(1,i.length-5);return{type:"styling",mode:n.mode,style:s,body:a}},htmlBuilder(t,e){var r=HG[t.style],i=e.havingStyle(r).withFont("");return hC(t.body,i,e)},mathmlBuilder(t,e){var r=HG[t.style],i=e.havingStyle(r),n=Na(t.body,i),a=new nt.MathNode("mstyle",n),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});Qve=l(function(t,e){var r=t.base;if(r)if(r.type==="op"){var i=r.limits&&(e.style.size===Vt.DISPLAY.size||r.alwaysHandleSupSub);return i?Q0:null}else if(r.type==="operatorname"){var n=r.alwaysHandleSupSub&&(e.style.size===Vt.DISPLAY.size||r.limits);return n?Xq:null}else{if(r.type==="accent")return qt.isCharacterBox(r.base)?rC:null;if(r.type==="horizBrace"){var a=!t.sub;return a===r.isOver?Vq:null}else return null}else return null},"htmlBuilderDelegate");Gc({type:"supsub",htmlBuilder(t,e){var r=Qve(t,e);if(r)return r(t,e);var{base:i,sup:n,sub:a}=t,s=Dr(i,e),o,h,u=e.fontMetrics(),d=0,p=0,g=i&&qt.isCharacterBox(i);if(n){var f=e.havingStyle(e.style.sup());o=Dr(n,f,e),g||(d=s.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(a){var m=e.havingStyle(e.style.sub());h=Dr(a,m,e),g||(p=s.depth+m.fontMetrics().subDrop*m.sizeMultiplier/e.sizeMultiplier)}var y;e.style===Vt.DISPLAY?y=u.sup1:e.style.cramped?y=u.sup3:y=u.sup2;var b=e.sizeMultiplier,v=gt(.5/u.ptPerEm/b),x=null;if(h){var w=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof ws||w)&&(x=gt(-s.italic))}var k;if(o&&h){d=Math.max(d,y,o.depth+.25*u.xHeight),p=Math.max(p,u.sub2);var T=u.defaultRuleThickness,S=4*T;if(d-o.depth-(h.height-p)<S){p=S-(d-o.depth)+h.height;var C=.8*u.xHeight-(d-o.depth);C>0&&(d+=C,p-=C)}var E=[{type:"elem",elem:h,shift:p,marginRight:v,marginLeft:x},{type:"elem",elem:o,shift:-d,marginRight:v}];k=Me.makeVList({positionType:"individualShift",children:E},e)}else if(h){p=Math.max(p,u.sub1,h.height-.8*u.xHeight);var L=[{type:"elem",elem:h,marginLeft:x,marginRight:v}];k=Me.makeVList({positionType:"shift",positionData:p,children:L},e)}else if(o)d=Math.max(d,y,o.depth+.25*u.xHeight),k=Me.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:o,marginRight:v}]},e);else throw new Error("supsub must have either sup or sub.");var I=zE(s,"right")||"mord";return Me.makeSpan([I],[s,Me.makeSpan(["msupsub"],[k])],e)},mathmlBuilder(t,e){var r=!1,i,n;t.base&&t.base.type==="horizBrace"&&(n=!!t.sup,n===t.base.isOver&&(r=!0,i=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Qr(t.base,e)];t.sub&&a.push(Qr(t.sub,e)),t.sup&&a.push(Qr(t.sup,e));var s;if(r)s=i?"mover":"munder";else if(t.sub)if(t.sup){var o=t.base;o&&o.type==="op"&&o.limits&&e.style===Vt.DISPLAY||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(e.style===Vt.DISPLAY||o.limits)?s="munderover":s="msubsup"}else{var h=t.base;h&&h.type==="op"&&h.limits&&(e.style===Vt.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||e.style===Vt.DISPLAY)?s="munder":s="msub"}else{var u=t.base;u&&u.type==="op"&&u.limits&&(e.style===Vt.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||e.style===Vt.DISPLAY)?s="mover":s="msup"}return new nt.MathNode(s,a)}});Gc({type:"atom",htmlBuilder(t,e){return Me.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new nt.MathNode("mo",[ks(t.text,t.mode)]);if(t.family==="bin"){var i=tC(t,e);i==="bold-italic"&&r.setAttribute("mathvariant",i)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});Kq={mi:"italic",mn:"normal",mtext:"normal"};Gc({type:"mathord",htmlBuilder(t,e){return Me.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new nt.MathNode("mi",[ks(t.text,t.mode,e)]),i=tC(t,e)||"italic";return i!==Kq[r.type]&&r.setAttribute("mathvariant",i),r}});Gc({type:"textord",htmlBuilder(t,e){return Me.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=ks(t.text,t.mode,e),i=tC(t,e)||"normal",n;return t.mode==="text"?n=new nt.MathNode("mtext",[r]):/[0-9]/.test(t.text)?n=new nt.MathNode("mn",[r]):t.text==="\\prime"?n=new nt.MathNode("mo",[r]):n=new nt.MathNode("mi",[r]),i!==Kq[n.type]&&n.setAttribute("mathvariant",i),n}});RE={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},DE={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Gc({type:"spacing",htmlBuilder(t,e){if(DE.hasOwnProperty(t.text)){var r=DE[t.text].className||"";if(t.mode==="text"){var i=Me.makeOrd(t,e,"textord");return i.classes.push(r),i}else return Me.makeSpan(["mspace",r],[Me.mathsym(t.text,t.mode,e)],e)}else{if(RE.hasOwnProperty(t.text))return Me.makeSpan(["mspace",RE[t.text]],[],e);throw new lt('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(DE.hasOwnProperty(t.text))r=new nt.MathNode("mtext",[new nt.TextNode("\xA0")]);else{if(RE.hasOwnProperty(t.text))return new nt.MathNode("mspace");throw new lt('Unknown type of space "'+t.text+'"')}return r}});XG=l(()=>{var t=new nt.MathNode("mtd",[]);return t.setAttribute("width","50%"),t},"pad");Gc({type:"tag",mathmlBuilder(t,e){var r=new nt.MathNode("mtable",[new nt.MathNode("mtr",[XG(),new nt.MathNode("mtd",[zc(t.body,e)]),XG(),new nt.MathNode("mtd",[zc(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});KG={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},ZG={"\\textbf":"textbf","\\textmd":"textmd"},Jve={"\\textit":"textit","\\textup":"textup"},QG=l((t,e)=>{var r=t.font;if(r){if(KG[r])return e.withTextFontFamily(KG[r]);if(ZG[r])return e.withTextFontWeight(ZG[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Jve[r])},"optionsWithFont");bt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:i}=t,n=e[0];return{type:"text",mode:r.mode,body:Bi(n),font:i}},htmlBuilder(t,e){var r=QG(t,e),i=nn(t.body,r,!0);return Me.makeSpan(["mord","text"],i,r)},mathmlBuilder(t,e){var r=QG(t,e);return zc(t.body,r)}});bt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Dr(t.body,e),i=Me.makeLineSpan("underline-line",e),n=e.fontMetrics().defaultRuleThickness,a=Me.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:n},{type:"elem",elem:i},{type:"kern",size:3*n},{type:"elem",elem:r}]},e);return Me.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new nt.MathNode("mo",[new nt.TextNode("\u203E")]);r.setAttribute("stretchy","true");var i=new nt.MathNode("munder",[Qr(t.body,e),r]);return i.setAttribute("accentunder","true"),i}});bt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Dr(t.body,e),i=e.fontMetrics().axisHeight,n=.5*(r.height-i-(r.depth+i));return Me.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new nt.MathNode("mpadded",[Qr(t.body,e)],["vcenter"])}});bt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new lt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=JG(t),i=[],n=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push(Me.makeSymbol(s,"Typewriter-Regular",t.mode,n,["mord","texttt"]))}return Me.makeSpan(["mord","text"].concat(n.sizingClasses(e)),Me.tryCombineChars(i),n)},mathmlBuilder(t,e){var r=new nt.TextNode(JG(t)),i=new nt.MathNode("mtext",[r]);return i.setAttribute("mathvariant","monospace"),i}});JG=l(t=>t.body.replace(/ /g,t.star?"\u2423":"\xA0"),"makeVerb"),Bc=wq,Zq=`[ \r
	]`,ebe="\\\\[a-zA-Z@]+",tbe="\\\\[^\uD800-\uDFFF]",rbe="("+ebe+")"+Zq+"*",ibe=`\\\\(
|[ \r	]+
?)[ \r	]*`,VE="[\u0300-\u036F]",nbe=new RegExp(VE+"+$"),abe="("+Zq+"+)|"+(ibe+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(VE+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(VE+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+rbe)+("|"+tbe+")"),eq=(Y0=class{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(abe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new Oo("EOF",new Ks(this,r,r));var i=this.tokenRegex.exec(e);if(i===null||i.index!==r)throw new lt("Unexpected character: '"+e[r]+"'",new Oo(e[r],new Ks(this,r,r+1)));var n=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[n]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Oo(n,new Ks(this,r,this.tokenRegex.lastIndex))}},l(Y0,"Lexer"),Y0),sbe=(H0=class{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new lt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,i){if(i===void 0&&(i=!1),i){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}},l(H0,"Namespace"),H0),obe=Gq;le("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});le("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});le("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});le("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});le("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});le("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");le("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});tq={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};le("\\char",function(t){var e=t.popToken(),r,i="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new lt("\\char` missing argument");i=e.text.charCodeAt(0)}else r=10;if(r){if(i=tq[e.text],i==null||i>=r)throw new lt("Invalid base-"+r+" digit "+e.text);for(var n;(n=tq[t.future().text])!=null&&n<r;)i*=r,i+=n,t.popToken()}return"\\@char{"+i+"}"});uC=l((t,e,r,i)=>{var n=t.consumeArg().tokens;if(n.length!==1)throw new lt("\\newcommand's first argument must be a macro name");var a=n[0].text,s=t.isDefined(a);if(s&&!e)throw new lt("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!r)throw new lt("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(n=t.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var h="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)h+=u.text,u=t.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new lt("Invalid number of arguments: "+h);o=parseInt(h),n=t.consumeArg().tokens}return s&&i||t.macros.set(a,{tokens:n,numArgs:o}),""},"newcommand");le("\\newcommand",t=>uC(t,!1,!0,!1));le("\\renewcommand",t=>uC(t,!0,!1,!1));le("\\providecommand",t=>uC(t,!0,!0,!0));le("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});le("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});le("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Bc[r],ti.math[r],ti.text[r]),""});le("\\bgroup","{");le("\\egroup","}");le("~","\\nobreakspace");le("\\lq","`");le("\\rq","'");le("\\aa","\\r a");le("\\AA","\\r A");le("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");le("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");le("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");le("\u212C","\\mathscr{B}");le("\u2130","\\mathscr{E}");le("\u2131","\\mathscr{F}");le("\u210B","\\mathscr{H}");le("\u2110","\\mathscr{I}");le("\u2112","\\mathscr{L}");le("\u2133","\\mathscr{M}");le("\u211B","\\mathscr{R}");le("\u212D","\\mathfrak{C}");le("\u210C","\\mathfrak{H}");le("\u2128","\\mathfrak{Z}");le("\\Bbbk","\\Bbb{k}");le("\xB7","\\cdotp");le("\\llap","\\mathllap{\\textrm{#1}}");le("\\rlap","\\mathrlap{\\textrm{#1}}");le("\\clap","\\mathclap{\\textrm{#1}}");le("\\mathstrut","\\vphantom{(}");le("\\underbar","\\underline{\\text{#1}}");le("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');le("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");le("\\ne","\\neq");le("\u2260","\\neq");le("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");le("\u2209","\\notin");le("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");le("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");le("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");le("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");le("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");le("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");le("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");le("\u27C2","\\perp");le("\u203C","\\mathclose{!\\mkern-0.8mu!}");le("\u220C","\\notni");le("\u231C","\\ulcorner");le("\u231D","\\urcorner");le("\u231E","\\llcorner");le("\u231F","\\lrcorner");le("\xA9","\\copyright");le("\xAE","\\textregistered");le("\uFE0F","\\textregistered");le("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');le("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');le("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');le("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');le("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");le("\u22EE","\\vdots");le("\\varGamma","\\mathit{\\Gamma}");le("\\varDelta","\\mathit{\\Delta}");le("\\varTheta","\\mathit{\\Theta}");le("\\varLambda","\\mathit{\\Lambda}");le("\\varXi","\\mathit{\\Xi}");le("\\varPi","\\mathit{\\Pi}");le("\\varSigma","\\mathit{\\Sigma}");le("\\varUpsilon","\\mathit{\\Upsilon}");le("\\varPhi","\\mathit{\\Phi}");le("\\varPsi","\\mathit{\\Psi}");le("\\varOmega","\\mathit{\\Omega}");le("\\substack","\\begin{subarray}{c}#1\\end{subarray}");le("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");le("\\boxed","\\fbox{$\\displaystyle{#1}$}");le("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");le("\\implies","\\DOTSB\\;\\Longrightarrow\\;");le("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");le("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");le("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");rq={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};le("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in rq?e=rq[r]:(r.slice(0,4)==="\\not"||r in ti.math&&qt.contains(["bin","rel"],ti.math[r].group))&&(e="\\dotsb"),e});dC={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};le("\\dotso",function(t){var e=t.future().text;return e in dC?"\\ldots\\,":"\\ldots"});le("\\dotsc",function(t){var e=t.future().text;return e in dC&&e!==","?"\\ldots\\,":"\\ldots"});le("\\cdots",function(t){var e=t.future().text;return e in dC?"\\@cdots\\,":"\\@cdots"});le("\\dotsb","\\cdots");le("\\dotsm","\\cdots");le("\\dotsi","\\!\\cdots");le("\\dotsx","\\ldots\\,");le("\\DOTSI","\\relax");le("\\DOTSB","\\relax");le("\\DOTSX","\\relax");le("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");le("\\,","\\tmspace+{3mu}{.1667em}");le("\\thinspace","\\,");le("\\>","\\mskip{4mu}");le("\\:","\\tmspace+{4mu}{.2222em}");le("\\medspace","\\:");le("\\;","\\tmspace+{5mu}{.2777em}");le("\\thickspace","\\;");le("\\!","\\tmspace-{3mu}{.1667em}");le("\\negthinspace","\\!");le("\\negmedspace","\\tmspace-{4mu}{.2222em}");le("\\negthickspace","\\tmspace-{5mu}{.277em}");le("\\enspace","\\kern.5em ");le("\\enskip","\\hskip.5em\\relax");le("\\quad","\\hskip1em\\relax");le("\\qquad","\\hskip2em\\relax");le("\\tag","\\@ifstar\\tag@literal\\tag@paren");le("\\tag@paren","\\tag@literal{({#1})}");le("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new lt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});le("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");le("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");le("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");le("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");le("\\newline","\\\\\\relax");le("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");Qq=gt(Do["Main-Regular"][84][1]-.7*Do["Main-Regular"][65][1]);le("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Qq+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");le("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Qq+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");le("\\hspace","\\@ifstar\\@hspacer\\@hspace");le("\\@hspace","\\hskip #1\\relax");le("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");le("\\ordinarycolon",":");le("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");le("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');le("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');le("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');le("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');le("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');le("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');le("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');le("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');le("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');le("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');le("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');le("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');le("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');le("\u2237","\\dblcolon");le("\u2239","\\eqcolon");le("\u2254","\\coloneqq");le("\u2255","\\eqqcolon");le("\u2A74","\\Coloneqq");le("\\ratio","\\vcentcolon");le("\\coloncolon","\\dblcolon");le("\\colonequals","\\coloneqq");le("\\coloncolonequals","\\Coloneqq");le("\\equalscolon","\\eqqcolon");le("\\equalscoloncolon","\\Eqqcolon");le("\\colonminus","\\coloneq");le("\\coloncolonminus","\\Coloneq");le("\\minuscolon","\\eqcolon");le("\\minuscoloncolon","\\Eqcolon");le("\\coloncolonapprox","\\Colonapprox");le("\\coloncolonsim","\\Colonsim");le("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");le("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");le("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");le("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");le("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");le("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");le("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");le("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");le("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");le("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");le("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");le("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");le("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");le("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");le("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");le("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");le("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");le("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");le("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");le("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");le("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");le("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");le("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");le("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");le("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");le("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");le("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");le("\\imath","\\html@mathml{\\@imath}{\u0131}");le("\\jmath","\\html@mathml{\\@jmath}{\u0237}");le("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");le("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");le("\u27E6","\\llbracket");le("\u27E7","\\rrbracket");le("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");le("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");le("\u2983","\\lBrace");le("\u2984","\\rBrace");le("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");le("\u29B5","\\minuso");le("\\darr","\\downarrow");le("\\dArr","\\Downarrow");le("\\Darr","\\Downarrow");le("\\lang","\\langle");le("\\rang","\\rangle");le("\\uarr","\\uparrow");le("\\uArr","\\Uparrow");le("\\Uarr","\\Uparrow");le("\\N","\\mathbb{N}");le("\\R","\\mathbb{R}");le("\\Z","\\mathbb{Z}");le("\\alef","\\aleph");le("\\alefsym","\\aleph");le("\\Alpha","\\mathrm{A}");le("\\Beta","\\mathrm{B}");le("\\bull","\\bullet");le("\\Chi","\\mathrm{X}");le("\\clubs","\\clubsuit");le("\\cnums","\\mathbb{C}");le("\\Complex","\\mathbb{C}");le("\\Dagger","\\ddagger");le("\\diamonds","\\diamondsuit");le("\\empty","\\emptyset");le("\\Epsilon","\\mathrm{E}");le("\\Eta","\\mathrm{H}");le("\\exist","\\exists");le("\\harr","\\leftrightarrow");le("\\hArr","\\Leftrightarrow");le("\\Harr","\\Leftrightarrow");le("\\hearts","\\heartsuit");le("\\image","\\Im");le("\\infin","\\infty");le("\\Iota","\\mathrm{I}");le("\\isin","\\in");le("\\Kappa","\\mathrm{K}");le("\\larr","\\leftarrow");le("\\lArr","\\Leftarrow");le("\\Larr","\\Leftarrow");le("\\lrarr","\\leftrightarrow");le("\\lrArr","\\Leftrightarrow");le("\\Lrarr","\\Leftrightarrow");le("\\Mu","\\mathrm{M}");le("\\natnums","\\mathbb{N}");le("\\Nu","\\mathrm{N}");le("\\Omicron","\\mathrm{O}");le("\\plusmn","\\pm");le("\\rarr","\\rightarrow");le("\\rArr","\\Rightarrow");le("\\Rarr","\\Rightarrow");le("\\real","\\Re");le("\\reals","\\mathbb{R}");le("\\Reals","\\mathbb{R}");le("\\Rho","\\mathrm{P}");le("\\sdot","\\cdot");le("\\sect","\\S");le("\\spades","\\spadesuit");le("\\sub","\\subset");le("\\sube","\\subseteq");le("\\supe","\\supseteq");le("\\Tau","\\mathrm{T}");le("\\thetasym","\\vartheta");le("\\weierp","\\wp");le("\\Zeta","\\mathrm{Z}");le("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");le("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");le("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");le("\\bra","\\mathinner{\\langle{#1}|}");le("\\ket","\\mathinner{|{#1}\\rangle}");le("\\braket","\\mathinner{\\langle{#1}\\rangle}");le("\\Bra","\\left\\langle#1\\right|");le("\\Ket","\\left|#1\\right\\rangle");Jq=l(t=>e=>{var r=e.consumeArg().tokens,i=e.consumeArg().tokens,n=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var h=l(p=>g=>{t&&(g.macros.set("|",s),n.length&&g.macros.set("\\|",o));var f=p;if(!p&&n.length){var m=g.future();m.text==="|"&&(g.popToken(),f=!0)}return{tokens:f?n:i,numArgs:0}},"midMacro");e.macros.set("|",h(!1)),n.length&&e.macros.set("\\|",h(!0));var u=e.consumeArg().tokens,d=e.expandTokens([...a,...u,...r]);return e.macros.endGroup(),{tokens:d.reverse(),numArgs:0}},"braketHelper");le("\\bra@ket",Jq(!1));le("\\bra@set",Jq(!0));le("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");le("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");le("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");le("\\angln","{\\angl n}");le("\\blue","\\textcolor{##6495ed}{#1}");le("\\orange","\\textcolor{##ffa500}{#1}");le("\\pink","\\textcolor{##ff00af}{#1}");le("\\red","\\textcolor{##df0030}{#1}");le("\\green","\\textcolor{##28ae7b}{#1}");le("\\gray","\\textcolor{gray}{#1}");le("\\purple","\\textcolor{##9d38bd}{#1}");le("\\blueA","\\textcolor{##ccfaff}{#1}");le("\\blueB","\\textcolor{##80f6ff}{#1}");le("\\blueC","\\textcolor{##63d9ea}{#1}");le("\\blueD","\\textcolor{##11accd}{#1}");le("\\blueE","\\textcolor{##0c7f99}{#1}");le("\\tealA","\\textcolor{##94fff5}{#1}");le("\\tealB","\\textcolor{##26edd5}{#1}");le("\\tealC","\\textcolor{##01d1c1}{#1}");le("\\tealD","\\textcolor{##01a995}{#1}");le("\\tealE","\\textcolor{##208170}{#1}");le("\\greenA","\\textcolor{##b6ffb0}{#1}");le("\\greenB","\\textcolor{##8af281}{#1}");le("\\greenC","\\textcolor{##74cf70}{#1}");le("\\greenD","\\textcolor{##1fab54}{#1}");le("\\greenE","\\textcolor{##0d923f}{#1}");le("\\goldA","\\textcolor{##ffd0a9}{#1}");le("\\goldB","\\textcolor{##ffbb71}{#1}");le("\\goldC","\\textcolor{##ff9c39}{#1}");le("\\goldD","\\textcolor{##e07d10}{#1}");le("\\goldE","\\textcolor{##a75a05}{#1}");le("\\redA","\\textcolor{##fca9a9}{#1}");le("\\redB","\\textcolor{##ff8482}{#1}");le("\\redC","\\textcolor{##f9685d}{#1}");le("\\redD","\\textcolor{##e84d39}{#1}");le("\\redE","\\textcolor{##bc2612}{#1}");le("\\maroonA","\\textcolor{##ffbde0}{#1}");le("\\maroonB","\\textcolor{##ff92c6}{#1}");le("\\maroonC","\\textcolor{##ed5fa6}{#1}");le("\\maroonD","\\textcolor{##ca337c}{#1}");le("\\maroonE","\\textcolor{##9e034e}{#1}");le("\\purpleA","\\textcolor{##ddd7ff}{#1}");le("\\purpleB","\\textcolor{##c6b9fc}{#1}");le("\\purpleC","\\textcolor{##aa87ff}{#1}");le("\\purpleD","\\textcolor{##7854ab}{#1}");le("\\purpleE","\\textcolor{##543b78}{#1}");le("\\mintA","\\textcolor{##f5f9e8}{#1}");le("\\mintB","\\textcolor{##edf2df}{#1}");le("\\mintC","\\textcolor{##e0e5cc}{#1}");le("\\grayA","\\textcolor{##f6f7f7}{#1}");le("\\grayB","\\textcolor{##f0f1f2}{#1}");le("\\grayC","\\textcolor{##e3e5e6}{#1}");le("\\grayD","\\textcolor{##d6d8da}{#1}");le("\\grayE","\\textcolor{##babec2}{#1}");le("\\grayF","\\textcolor{##888d93}{#1}");le("\\grayG","\\textcolor{##626569}{#1}");le("\\grayH","\\textcolor{##3b3e40}{#1}");le("\\grayI","\\textcolor{##21242c}{#1}");le("\\kaBlue","\\textcolor{##314453}{#1}");le("\\kaGreen","\\textcolor{##71B307}{#1}");eU={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},lbe=(X0=class{constructor(e,r,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new sbe(obe,r.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new eq(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,i,n;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:n,end:i}=this.consumeArg(["]"])}else({tokens:n,start:r,end:i}=this.consumeArg());return this.pushToken(new Oo("EOF",i.loc)),this.pushTokens(n),r.range(i,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],i=e&&e.length>0;i||this.consumeSpaces();var n=this.future(),a,s=0,o=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new lt("Extra }",a)}else if(a.text==="EOF")throw new lt("Unexpected end of input in a macro argument, expected '"+(e&&i?e[o]:"}")+"'",a);if(e&&i)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(s!==0||i);return n.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:n,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new lt("The length of delimiters doesn't match the number of args!");for(var i=r[0],n=0;n<i.length;n++){var a=this.popToken();if(i[n]!==a.text)throw new lt("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(r&&r[o+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new lt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),i=r.text,n=r.noexpand?null:this._getExpansion(i);if(n==null||e&&n.unexpandable){if(e&&n==null&&i[0]==="\\"&&!this.isDefined(i))throw new lt("Undefined control sequence: "+i);return this.pushToken(r),!1}this.countExpansion(1);var a=n.tokens,s=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var h=a[o];if(h.text==="#"){if(o===0)throw new lt("Incomplete placeholder at end of macro body",h);if(h=a[--o],h.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(h.text))a.splice(o,2,...s[+h.text-1]);else throw new lt("Not a valid argument number",h)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Oo(e)]):void 0}expandTokens(e){var r=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)if(this.expandOnce(!0)===!1){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),r.push(n)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(i=>i.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var n=typeof r=="function"?r(this):r;if(typeof n=="string"){var a=0;if(n.indexOf("#")!==-1)for(var s=n.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new eq(n,this.settings),h=[],u=o.lex();u.text!=="EOF";)h.push(u),u=o.lex();h.reverse();var d={tokens:h,numArgs:a};return d}return n}isDefined(e){return this.macros.has(e)||Bc.hasOwnProperty(e)||ti.math.hasOwnProperty(e)||ti.text.hasOwnProperty(e)||eU.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Bc.hasOwnProperty(e)&&!Bc[e].primitive}},l(X0,"MacroExpander"),X0),iq=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,J4=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),ME={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},nq={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"},tU=(yu=class{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new lbe(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new lt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Oo("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,i}parseExpression(e,r){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var n=this.fetch();if(yu.endOfExpression.indexOf(n.text)!==-1||r&&n.text===r||e&&Bc[n.text]&&Bc[n.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var r=-1,i,n=0;n<e.length;n++)if(e[n].type==="infix"){if(r!==-1)throw new lt("only one infix operator per group",e[n].token);r=n,i=e[n].replaceWith}if(r!==-1&&i){var a,s,o=e.slice(0,r),h=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},h.length===1&&h[0].type==="ordgroup"?s=h[0]:s={type:"ordgroup",mode:this.mode,body:h};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[a,e[r],s],[]):u=this.callFunction(i,[a,s],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),i=r.text;this.consume(),this.consumeSpaces();var n;do{var a;n=this.parseGroup(e)}while(((a=n)==null?void 0:a.type)==="internal");if(!n)throw new lt("Expected group after '"+i+"'",r);return n}formatUnsupportedCmd(e){for(var r=[],i=0;i<e.length;i++)r.push({type:"textord",mode:"text",text:e[i]});var n={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var i,n;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new lt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new lt("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(n)throw new lt("Double subscript",a);n=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new lt("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},h=[o];for(this.consume();this.fetch().text==="'";)h.push(o),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:h}}else if(J4[a.text]){var u=iq.test(a.text),d=[];for(d.push(new Oo(J4[a.text])),this.consume();;){var p=this.fetch().text;if(!J4[p]||iq.test(p)!==u)break;d.unshift(new Oo(J4[p])),this.consume()}var g=this.subparse(d);u?n={type:"ordgroup",mode:"math",body:g}:i={type:"ordgroup",mode:"math",body:g}}else break}return i||n?{type:"supsub",mode:this.mode,base:r,sup:i,sub:n}:r}parseFunction(e,r){var i=this.fetch(),n=i.text,a=Bc[n];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new lt("Got function '"+n+"' with no arguments"+(r?" as "+r:""),i);if(this.mode==="text"&&!a.allowedInText)throw new lt("Can't use function '"+n+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new lt("Can't use function '"+n+"' in math mode",i);var{args:s,optArgs:o}=this.parseArguments(n,a);return this.callFunction(n,s,o,i,e)}callFunction(e,r,i,n,a){var s={funcName:e,parser:this,token:n,breakOnTokenText:a},o=Bc[e];if(o&&o.handler)return o.handler(s,r,i);throw new lt("No function handler for "+e)}parseArguments(e,r){var i=r.numArgs+r.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var n=[],a=[],s=0;s<i;s++){var o=r.argTypes&&r.argTypes[s],h=s<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,h);if(h)a.push(u);else if(u!=null)n.push(u);else throw new lt("Null argument, please report this as a bug")}return{args:n,optArgs:a}}parseGroupOfType(e,r,i){switch(r){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,r);case"hbox":{var n=this.parseArgumentGroup(i,"text");return n!=null?{type:"styling",mode:n.mode,body:[n],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new lt("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new lt("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new lt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var i=this.gullet.scanArgument(r);if(i==null)return null;for(var n="",a;(a=this.fetch()).text!=="EOF";)n+=a.text,this.consume();return this.consume(),i.text=n,i}parseRegexGroup(e,r){for(var i=this.fetch(),n=i,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)n=s,a+=n.text,this.consume();if(a==="")throw new lt("Invalid "+r+": '"+i.text+"'",i);return i.range(n,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!i)throw new lt("Invalid color: '"+r.text+"'",r);var n=i[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(e){var r,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",i=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!n)throw new lt("Invalid size: '"+r.text+"'",r);var a={number:+(n[1]+n[2]),unit:n[3]};if(!uq(a))throw new lt("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var i=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,r){var i=this.gullet.scanArgument(e);if(i==null)return null;var n=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return r&&this.switchMode(n),s}parseGroup(e,r){var i=this.fetch(),n=i.text,a;if(n==="{"||n==="\\begingroup"){this.consume();var s=n==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),h=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Ks.range(i,h),body:o,semisimple:n==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&n[0]==="\\"&&!eU.hasOwnProperty(n)){if(this.settings.throwOnError)throw new lt("Undefined control sequence: "+n,i);a=this.formatUnsupportedCmd(n),this.consume()}return a}formLigatures(e){for(var r=e.length-1,i=0;i<r;++i){var n=e[i],a=n.text;a==="-"&&e[i+1].text==="-"&&(i+1<r&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:Ks.range(n,e[i+2]),text:"---"}),r-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:Ks.range(n,e[i+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[i+1].text===a&&(e.splice(i,2,{type:"textord",mode:"text",loc:Ks.range(n,e[i+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var i=r.slice(5),n=i.charAt(0)==="*";if(n&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new lt(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:n}}nq.hasOwnProperty(r[0])&&!ti[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=nq[r[0]]+r.slice(1));var a=nbe.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="\u0131":r==="j"&&(r="\u0237"));var s;if(ti[this.mode][r]){this.settings.strict&&this.mode==="math"&&FE.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=ti[this.mode][r].group,h=Ks.range(e),u;if(Q2e.hasOwnProperty(o)){var d=o;u={type:"atom",mode:this.mode,family:d,loc:h,text:r}}else u={type:o,mode:this.mode,loc:h,text:r};s=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(XE(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:Ks.range(e),text:r};else return null;if(this.consume(),a)for(var p=0;p<a[0].length;p++){var g=a[0][p];if(!ME[g])throw new lt("Unknown accent ' "+g+"'",e);var f=ME[g][this.mode]||ME[g].text;if(!f)throw new lt("Accent "+g+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:Ks.range(e),label:f,isStretchy:!1,isShifty:!0,base:s}}return s}},l(yu,"Parser"),yu);tU.endOfExpression=["}","\\endgroup","\\end","\\right","&"];pC=l(function(t,e){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new tU(t,e);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!e.displayMode)throw new lt("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Oo("\\df@tag")])}]}return i},"parseTree"),gC=l(function(t,e,r){e.textContent="";var i=m3(t,r).toNode();e.appendChild(i)},"render");typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),gC=l(function(){throw new lt("KaTeX doesn't work in quirks mode.")},"render"));rU=l(function(t,e){var r=m3(t,e).toMarkup();return r},"renderToString"),iU=l(function(t,e){var r=new YE(e);return pC(t,r)},"generateParseTree"),nU=l(function(t,e,r){if(r.throwOnError||!(t instanceof lt))throw t;var i=Me.makeSpan(["katex-error"],[new ws(e)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+r.errorColor),i},"renderError"),m3=l(function(t,e){var r=new YE(e);try{var i=pC(t,r);return wve(i,t,r)}catch(n){return nU(n,t,r)}},"renderToDomTree"),aU=l(function(t,e){var r=new YE(e);try{var i=pC(t,r);return kve(i,t,r)}catch(n){return nU(n,t,r)}},"renderToHTMLTree"),sU="0.16.22",oU={Span:N2,Anchor:ZE,SymbolNode:ws,SvgNode:Ll,PathNode:Fc,LineNode:BE},cbe={version:sU,render:gC,renderToString:rU,ParseError:lt,SETTINGS_SCHEMA:C2,__parse:iU,__renderToDomTree:m3,__renderToHTMLTree:aU,__setFontMetrics:KE,__defineSymbol:G,__defineFunction:bt,__defineMacro:le,__domTree:oU}});function jn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return wC(t,e,i)}}function GU(t){return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return kC(t,r)}}function pr(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E3;dU&&dU(t,null);let i=e.length;for(;i--;){let n=e[i];if(typeof n=="string"){let a=r(n);a!==n&&(Zbe(e)||(e[i]=a),n=a)}t[n]=!0}return t}function qU(t){for(let e=0;e<t.length;e++)Js(t,e)||(t[e]=null);return t}function Fo(t){let e=zU(null);for(let[r,i]of FU(t))Js(t,r)&&(Array.isArray(i)?e[r]=qU(i):i&&typeof i=="object"&&i.constructor===Object?e[r]=Fo(i):e[r]=i);return e}function J0(t,e){for(;t!==null;){let i=Jbe(t,e);if(i){if(i.get)return jn(i.get);if(typeof i.value=="function")return jn(i.value)}t=Qbe(t)}function r(){return null}return l(r,"fallbackValue"),r}function AC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gxe(),e=l(be=>AC(be),"DOMPurify");if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==B2.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t,i=r,n=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:h,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:g,trustedTypes:f}=t,m=h.prototype,y=J0(m,"cloneNode"),b=J0(m,"remove"),v=J0(m,"nextSibling"),x=J0(m,"childNodes"),w=J0(m,"parentNode");if(typeof s=="function"){let be=r.createElement("template");be.content&&be.content.ownerDocument&&(r=be.content.ownerDocument)}let k,T="",{implementation:S,createNodeIterator:C,createDocumentFragment:E,getElementsByTagName:L}=r,{importNode:I}=i,M=xU();e.isSupported=typeof FU=="function"&&typeof w=="function"&&S&&S.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:N,ERB_EXPR:$,TMPLIT_EXPR:_,DATA_ATTR:D,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:A,CUSTOM_ELEMENT:B}=bU,{IS_ALLOWED_URI:P}=bU,z=null,q=pr({},[...fU,...mC,...yC,...vC,...mU]),K=null,W=pr({},[...yU,...bC,...vU,...x3]),ae=Object.seal(zU(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ie=null,se=null,oe=!0,Y=!0,Q=!1,j=!0,H=!1,J=!0,he=!1,X=!1,fe=!1,V=!1,Se=!1,ce=!1,Le=!0,$e=!1,je="user-content-",qe=!0,Ce=!1,De={},ye=null,Pe=pr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ue=null,Ve=pr({},["audio","video","img","source","image","track"]),Z=null,Ne=pr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),F="http://www.w3.org/1998/Math/MathML",te="http://www.w3.org/2000/svg",ne="http://www.w3.org/1999/xhtml",de=ne,ge=!1,xe=null,Ee=pr({},[F,te,ne],fC),Te=pr({},["mi","mo","mn","ms","mtext"]),Fe=pr({},["annotation-xml"]),We=pr({},["title","style","font","a","script"]),it=null,Be=["application/xhtml+xml","text/html"],Ye="text/html",Ge=null,ze=null,Xe=r.createElement("form"),xt=l(function(be){return be instanceof RegExp||be instanceof Function},"isRegexOrFunction"),st=l(function(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ze&&ze===be)){if((!be||typeof be!="object")&&(be={}),be=Fo(be),it=Be.indexOf(be.PARSER_MEDIA_TYPE)===-1?Ye:be.PARSER_MEDIA_TYPE,Ge=it==="application/xhtml+xml"?fC:E3,z=Js(be,"ALLOWED_TAGS")?pr({},be.ALLOWED_TAGS,Ge):q,K=Js(be,"ALLOWED_ATTR")?pr({},be.ALLOWED_ATTR,Ge):W,xe=Js(be,"ALLOWED_NAMESPACES")?pr({},be.ALLOWED_NAMESPACES,fC):Ee,Z=Js(be,"ADD_URI_SAFE_ATTR")?pr(Fo(Ne),be.ADD_URI_SAFE_ATTR,Ge):Ne,ue=Js(be,"ADD_DATA_URI_TAGS")?pr(Fo(Ve),be.ADD_DATA_URI_TAGS,Ge):Ve,ye=Js(be,"FORBID_CONTENTS")?pr({},be.FORBID_CONTENTS,Ge):Pe,ie=Js(be,"FORBID_TAGS")?pr({},be.FORBID_TAGS,Ge):Fo({}),se=Js(be,"FORBID_ATTR")?pr({},be.FORBID_ATTR,Ge):Fo({}),De=Js(be,"USE_PROFILES")?be.USE_PROFILES:!1,oe=be.ALLOW_ARIA_ATTR!==!1,Y=be.ALLOW_DATA_ATTR!==!1,Q=be.ALLOW_UNKNOWN_PROTOCOLS||!1,j=be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,H=be.SAFE_FOR_TEMPLATES||!1,J=be.SAFE_FOR_XML!==!1,he=be.WHOLE_DOCUMENT||!1,V=be.RETURN_DOM||!1,Se=be.RETURN_DOM_FRAGMENT||!1,ce=be.RETURN_TRUSTED_TYPE||!1,fe=be.FORCE_BODY||!1,Le=be.SANITIZE_DOM!==!1,$e=be.SANITIZE_NAMED_PROPS||!1,qe=be.KEEP_CONTENT!==!1,Ce=be.IN_PLACE||!1,P=be.ALLOWED_URI_REGEXP||UU,de=be.NAMESPACE||ne,Te=be.MATHML_TEXT_INTEGRATION_POINTS||Te,Fe=be.HTML_INTEGRATION_POINTS||Fe,ae=be.CUSTOM_ELEMENT_HANDLING||{},be.CUSTOM_ELEMENT_HANDLING&&xt(be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),be.CUSTOM_ELEMENT_HANDLING&&xt(be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),be.CUSTOM_ELEMENT_HANDLING&&typeof be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),H&&(Y=!1),Se&&(V=!0),De&&(z=pr({},mU),K=[],De.html===!0&&(pr(z,fU),pr(K,yU)),De.svg===!0&&(pr(z,mC),pr(K,bC),pr(K,x3)),De.svgFilters===!0&&(pr(z,yC),pr(K,bC),pr(K,x3)),De.mathMl===!0&&(pr(z,vC),pr(K,vU),pr(K,x3))),be.ADD_TAGS&&(z===q&&(z=Fo(z)),pr(z,be.ADD_TAGS,Ge)),be.ADD_ATTR&&(K===W&&(K=Fo(K)),pr(K,be.ADD_ATTR,Ge)),be.ADD_URI_SAFE_ATTR&&pr(Z,be.ADD_URI_SAFE_ATTR,Ge),be.FORBID_CONTENTS&&(ye===Pe&&(ye=Fo(ye)),pr(ye,be.FORBID_CONTENTS,Ge)),qe&&(z["#text"]=!0),he&&pr(z,["html","head","body"]),z.table&&(pr(z,["tbody"]),delete ie.tbody),be.TRUSTED_TYPES_POLICY){if(typeof be.TRUSTED_TYPES_POLICY.createHTML!="function")throw $2('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $2('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=be.TRUSTED_TYPES_POLICY,T=k.createHTML("")}else k===void 0&&(k=fxe(f,n)),k!==null&&typeof T=="string"&&(T=k.createHTML(""));ca&&ca(be),ze=be}},"_parseConfig"),at=pr({},[...mC,...yC,...nxe]),Tt=pr({},[...vC,...axe]),et=l(function(be){let ht=w(be);(!ht||!ht.tagName)&&(ht={namespaceURI:de,tagName:"template"});let ot=E3(be.tagName),nr=E3(ht.tagName);return xe[be.namespaceURI]?be.namespaceURI===te?ht.namespaceURI===ne?ot==="svg":ht.namespaceURI===F?ot==="svg"&&(nr==="annotation-xml"||Te[nr]):!!at[ot]:be.namespaceURI===F?ht.namespaceURI===ne?ot==="math":ht.namespaceURI===te?ot==="math"&&Fe[nr]:!!Tt[ot]:be.namespaceURI===ne?ht.namespaceURI===te&&!Fe[nr]||ht.namespaceURI===F&&!Te[nr]?!1:!Tt[ot]&&(We[ot]||!at[ot]):!!(it==="application/xhtml+xml"&&xe[be.namespaceURI]):!1},"_checkValidNamespace"),ct=l(function(be){M2(e.removed,{element:be});try{w(be).removeChild(be)}catch{b(be)}},"_forceRemove"),pt=l(function(be,ht){try{M2(e.removed,{attribute:ht.getAttributeNode(be),from:ht})}catch{M2(e.removed,{attribute:null,from:ht})}if(ht.removeAttribute(be),be==="is")if(V||Se)try{ct(ht)}catch{}else try{ht.setAttribute(be,"")}catch{}},"_removeAttribute"),Qe=l(function(be){let ht=null,ot=null;if(fe)be="<remove></remove>"+be;else{let Sr=gU(be,/^[\r\n\t ]+/);ot=Sr&&Sr[0]}it==="application/xhtml+xml"&&de===ne&&(be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+be+"</body></html>");let nr=k?k.createHTML(be):be;if(de===ne)try{ht=new g().parseFromString(nr,it)}catch{}if(!ht||!ht.documentElement){ht=S.createDocument(de,"template",null);try{ht.documentElement.innerHTML=ge?T:nr}catch{}}let Ir=ht.body||ht.documentElement;return be&&ot&&Ir.insertBefore(r.createTextNode(ot),Ir.childNodes[0]||null),de===ne?L.call(ht,he?"html":"body")[0]:he?ht.documentElement:Ir},"_initDocument"),Ze=l(function(be){return C.call(be.ownerDocument||be,be,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),_t=l(function(be){return be instanceof p&&(typeof be.nodeName!="string"||typeof be.textContent!="string"||typeof be.removeChild!="function"||!(be.attributes instanceof d)||typeof be.removeAttribute!="function"||typeof be.setAttribute!="function"||typeof be.namespaceURI!="string"||typeof be.insertBefore!="function"||typeof be.hasChildNodes!="function")},"_isClobbered"),Bt=l(function(be){return typeof o=="function"&&be instanceof o},"_isNode");function Dt(be,ht,ot){b3(be,nr=>{nr.call(e,ht,ot,ze)})}l(Dt,"_executeHooks");let Vr=l(function(be){let ht=null;if(Dt(M.beforeSanitizeElements,be,null),_t(be))return ct(be),!0;let ot=Ge(be.nodeName);if(Dt(M.uponSanitizeElement,be,{tagName:ot,allowedTags:z}),J&&be.hasChildNodes()&&!Bt(be.firstElementChild)&&oa(/<[/\w!]/g,be.innerHTML)&&oa(/<[/\w!]/g,be.textContent)||be.nodeType===B2.progressingInstruction||J&&be.nodeType===B2.comment&&oa(/<[/\w]/g,be.data))return ct(be),!0;if(!z[ot]||ie[ot]){if(!ie[ot]&&Ut(ot)&&(ae.tagNameCheck instanceof RegExp&&oa(ae.tagNameCheck,ot)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ot)))return!1;if(qe&&!ye[ot]){let nr=w(be)||be.parentNode,Ir=x(be)||be.childNodes;if(Ir&&nr){let Sr=Ir.length;for(let dn=Sr-1;dn>=0;--dn){let ei=y(Ir[dn],!0);ei.__removalCount=(be.__removalCount||0)+1,nr.insertBefore(ei,v(be))}}}return ct(be),!0}return be instanceof h&&!et(be)||(ot==="noscript"||ot==="noembed"||ot==="noframes")&&oa(/<\/no(script|embed|frames)/i,be.innerHTML)?(ct(be),!0):(H&&be.nodeType===B2.text&&(ht=be.textContent,b3([N,$,_],nr=>{ht=O2(ht,nr," ")}),be.textContent!==ht&&(M2(e.removed,{element:be.cloneNode()}),be.textContent=ht)),Dt(M.afterSanitizeElements,be,null),!1)},"_sanitizeElements"),Jt=l(function(be,ht,ot){if(Le&&(ht==="id"||ht==="name")&&(ot in r||ot in Xe))return!1;if(!(Y&&!se[ht]&&oa(D,ht))&&!(oe&&oa(R,ht))){if(!K[ht]||se[ht]){if(!(Ut(be)&&(ae.tagNameCheck instanceof RegExp&&oa(ae.tagNameCheck,be)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(be))&&(ae.attributeNameCheck instanceof RegExp&&oa(ae.attributeNameCheck,ht)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(ht))||ht==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&oa(ae.tagNameCheck,ot)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(ot))))return!1}else if(!Z[ht]&&!oa(P,O2(ot,A,""))&&!((ht==="src"||ht==="xlink:href"||ht==="href")&&be!=="script"&&rxe(ot,"data:")===0&&ue[be])&&!(Q&&!oa(O,O2(ot,A,"")))&&ot)return!1}return!0},"_isValidAttribute"),Ut=l(function(be){return be!=="annotation-xml"&&gU(be,B)},"_isBasicCustomElement"),or=l(function(be){Dt(M.beforeSanitizeAttributes,be,null);let{attributes:ht}=be;if(!ht||_t(be))return;let ot={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:K,forceKeepAttr:void 0},nr=ht.length;for(;nr--;){let Ir=ht[nr],{name:Sr,namespaceURI:dn,value:ei}=Ir,Vi=Ge(Sr),_a=ei,Kr=Sr==="value"?_a:ixe(_a);if(ot.attrName=Vi,ot.attrValue=Kr,ot.keepAttr=!0,ot.forceKeepAttr=void 0,Dt(M.uponSanitizeAttribute,be,ot),Kr=ot.attrValue,$e&&(Vi==="id"||Vi==="name")&&(pt(Sr,be),Kr=je+Kr),J&&oa(/((--!?|])>)|<\/(style|title)/i,Kr)){pt(Sr,be);continue}if(ot.forceKeepAttr)continue;if(!ot.keepAttr){pt(Sr,be);continue}if(!j&&oa(/\/>/i,Kr)){pt(Sr,be);continue}H&&b3([N,$,_],vt=>{Kr=O2(Kr,vt," ")});let Ai=Ge(be.nodeName);if(!Jt(Ai,Vi,Kr)){pt(Sr,be);continue}if(k&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!dn)switch(f.getAttributeType(Ai,Vi)){case"TrustedHTML":{Kr=k.createHTML(Kr);break}case"TrustedScriptURL":{Kr=k.createScriptURL(Kr);break}}if(Kr!==_a)try{dn?be.setAttributeNS(dn,Sr,Kr):be.setAttribute(Sr,Kr),_t(be)?ct(be):pU(e.removed)}catch{pt(Sr,be)}}Dt(M.afterSanitizeAttributes,be,null)},"_sanitizeAttributes"),Nr=l(function be(ht){let ot=null,nr=Ze(ht);for(Dt(M.beforeSanitizeShadowDOM,ht,null);ot=nr.nextNode();)Dt(M.uponSanitizeShadowNode,ot,null),Vr(ot),or(ot),ot.content instanceof a&&be(ot.content);Dt(M.afterSanitizeShadowDOM,ht,null)},"_sanitizeShadowDOM");return e.sanitize=function(be){let ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=null,nr=null,Ir=null,Sr=null;if(ge=!be,ge&&(be="<!-->"),typeof be!="string"&&!Bt(be))if(typeof be.toString=="function"){if(be=be.toString(),typeof be!="string")throw $2("dirty is not a string, aborting")}else throw $2("toString is not a function");if(!e.isSupported)return be;if(X||st(ht),e.removed=[],typeof be=="string"&&(Ce=!1),Ce){if(be.nodeName){let Vi=Ge(be.nodeName);if(!z[Vi]||ie[Vi])throw $2("root node is forbidden and cannot be sanitized in-place")}}else if(be instanceof o)ot=Qe("<!---->"),nr=ot.ownerDocument.importNode(be,!0),nr.nodeType===B2.element&&nr.nodeName==="BODY"||nr.nodeName==="HTML"?ot=nr:ot.appendChild(nr);else{if(!V&&!H&&!he&&be.indexOf("<")===-1)return k&&ce?k.createHTML(be):be;if(ot=Qe(be),!ot)return V?null:ce?T:""}ot&&fe&&ct(ot.firstChild);let dn=Ze(Ce?be:ot);for(;Ir=dn.nextNode();)Vr(Ir),or(Ir),Ir.content instanceof a&&Nr(Ir.content);if(Ce)return be;if(V){if(Se)for(Sr=E.call(ot.ownerDocument);ot.firstChild;)Sr.appendChild(ot.firstChild);else Sr=ot;return(K.shadowroot||K.shadowrootmode)&&(Sr=I.call(i,Sr,!0)),Sr}let ei=he?ot.outerHTML:ot.innerHTML;return he&&z["!doctype"]&&ot.ownerDocument&&ot.ownerDocument.doctype&&ot.ownerDocument.doctype.name&&oa(jU,ot.ownerDocument.doctype.name)&&(ei="<!DOCTYPE "+ot.ownerDocument.doctype.name+`>
`+ei),H&&b3([N,$,_],Vi=>{ei=O2(ei,Vi," ")}),k&&ce?k.createHTML(ei):ei},e.setConfig=function(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};st(be),X=!0},e.clearConfig=function(){ze=null,X=!1},e.isValidAttribute=function(be,ht,ot){ze||st({});let nr=Ge(be),Ir=Ge(ht);return Jt(nr,Ir,ot)},e.addHook=function(be,ht){typeof ht=="function"&&M2(M[be],ht)},e.removeHook=function(be,ht){if(ht!==void 0){let ot=exe(M[be],ht);return ot===-1?void 0:txe(M[be],ot,1)[0]}return pU(M[be])},e.removeHooks=function(be){M[be]=[]},e.removeAllHooks=function(){M=xU()},e}function WU(){let t="data-temp-href-target";bu.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),bu.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}var EC,cp,hbe,ep,CC,Uc,G2,L3,EU,CU,xC,oi,w3,ube,dbe,pbe,gbe,fbe,mbe,Qt,qc,Un,tp,ybe,vbe,rp,bbe,xbe,wbe,N3,SU,P2,k3,y3,T3,hU,_U,v3,kbe,to,Tbe,AU,Ebe,eo,Cbe,hp,Sbe,_be,Abe,Lbe,Nbe,ro,Ibe,LU,Rbe,Ct,Dbe,Mt,Mbe,Re,Obe,$be,Bbe,yt,I3,R3,la,ip,Pbe,Fbe,np,zbe,Gbe,ap,qbe,xu,sp,Ube,jbe,op,Wbe,Vbe,zo,Po,NU,IU,Ybe,rr,z2,Hbe,wu,Ia,_3,vu,F2,D3,RU,DU,MU,SC,_C,ir,OU,$U,q2,Xbe,uU,Kbe,BU,PU,FU,dU,Zbe,Qbe,Jbe,ca,Ts,zU,wC,kC,b3,exe,pU,M2,txe,E3,fC,gU,O2,rxe,ixe,Js,oa,$2,fU,mC,yC,nxe,vC,axe,mU,yU,bC,vU,x3,sxe,oxe,lxe,cxe,hxe,UU,uxe,dxe,jU,pxe,bU,B2,gxe,fxe,xU,bu,ku,mxe,yxe,VU,wU,tr,vxe,bxe,xxe,wxe,YU,Tu,Mr,kxe,Txe,Go,TC,Exe,Cxe,kU,C3,li,up,Sxe,jc,Ke,_xe,Axe,Yr,Ml,S3,Lxe,Nxe,HU,M3,LC,NC,IC,RC,cr,gr,fr,mr,yr,Er,vr,TU,Ixe,ve,U2,O3,$3,DC,Rxe,A3,j2,B3,lp,Dxe,hr=wt(()=>{lr();kt();EC=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,cp=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,hbe=/\s*%%.*\n/gm,CC=(ep=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},l(ep,"UnknownDiagramError"),ep),Uc={},G2=l(function(t,e){t=t.replace(EC,"").replace(cp,"").replace(hbe,`
`);for(let[r,{detector:i}]of Object.entries(Uc))if(i(t,e))return r;throw new CC(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),L3=l((...t)=>{for(let{id:e,detector:r,loader:i}of t)EU(e,r,i)},"registerLazyLoadedDiagrams"),EU=l((t,e,r)=>{Uc[t]&&ee.warn(`Detector with key ${t} already exists. Overwriting.`),Uc[t]={detector:e,loader:r},ee.debug(`Detector with key ${t} added${r?" with loader":""}`)},"addDetector"),CU=l(t=>Uc[t].loader,"getDiagramLoader"),xC=l((t,e,{depth:r=2,clobber:i=!1}={})=>{let n={depth:r,clobber:i};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>xC(t,a,n)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.includes(a)||t.push(a)}),t):t===void 0||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=xC(t[a],e[a],{depth:r-1,clobber:i})):(i||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)},"assignWithDepth"),oi=xC,w3={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:l(t=>t>=255?255:t<0?0:t,"r"),g:l(t=>t>=255?255:t<0?0:t,"g"),b:l(t=>t>=255?255:t<0?0:t,"b"),h:l(t=>t%360,"h"),s:l(t=>t>=100?100:t<0?0:t,"s"),l:l(t=>t>=100?100:t<0?0:t,"l"),a:l(t=>t>=1?1:t<0?0:t,"a")},toLinear:l(t=>{let e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},"toLinear"),hue2rgb:l((t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?t+(e-t)*6*r:r<.5?e:r<.6666666666666666?t+(e-t)*(.6666666666666666-r)*6:t),"hue2rgb"),hsl2rgb:l(({h:t,s:e,l:r},i)=>{if(!e)return r*2.55;t/=360,e/=100,r/=100;let n=r<.5?r*(1+e):r+e-r*e,a=2*r-n;switch(i){case"r":return w3.hue2rgb(a,n,t+.3333333333333333)*255;case"g":return w3.hue2rgb(a,n,t)*255;case"b":return w3.hue2rgb(a,n,t-.3333333333333333)*255}},"hsl2rgb"),rgb2hsl:l(({r:t,g:e,b:r},i)=>{t/=255,e/=255,r/=255;let n=Math.max(t,e,r),a=Math.min(t,e,r),s=(n+a)/2;if(i==="l")return s*100;if(n===a)return 0;let o=n-a,h=s>.5?o/(2-n-a):o/(n+a);if(i==="s")return h*100;switch(n){case t:return((e-r)/o+(e<r?6:0))*60;case e:return((r-t)/o+2)*60;case r:return((t-e)/o+4)*60;default:return-1}},"rgb2hsl")},ube=w3,dbe={clamp:l((t,e,r)=>e>r?Math.min(e,Math.max(r,t)):Math.min(r,Math.max(e,t)),"clamp"),round:l(t=>Math.round(t*1e10)/1e10,"round")},pbe=dbe,gbe={dec2hex:l(t=>{let e=Math.round(t).toString(16);return e.length>1?e:`0${e}`},"dec2hex")},fbe=gbe,mbe={channel:ube,lang:pbe,unit:fbe},Qt=mbe,qc={};for(let t=0;t<=255;t++)qc[t]=Qt.unit.dec2hex(t);Un={ALL:0,RGB:1,HSL:2},ybe=(tp=class{constructor(){this.type=Un.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Un.ALL}is(e){return this.type===e}},l(tp,"Type"),tp),vbe=ybe,bbe=(rp=class{constructor(e,r){this.color=r,this.changed=!1,this.data=e,this.type=new vbe}set(e,r){return this.color=r,this.changed=!1,this.data=e,this.type.type=Un.ALL,this}_ensureHSL(){let e=this.data,{h:r,s:i,l:n}=e;r===void 0&&(e.h=Qt.channel.rgb2hsl(e,"h")),i===void 0&&(e.s=Qt.channel.rgb2hsl(e,"s")),n===void 0&&(e.l=Qt.channel.rgb2hsl(e,"l"))}_ensureRGB(){let e=this.data,{r,g:i,b:n}=e;r===void 0&&(e.r=Qt.channel.hsl2rgb(e,"r")),i===void 0&&(e.g=Qt.channel.hsl2rgb(e,"g")),n===void 0&&(e.b=Qt.channel.hsl2rgb(e,"b"))}get r(){let e=this.data,r=e.r;return!this.type.is(Un.HSL)&&r!==void 0?r:(this._ensureHSL(),Qt.channel.hsl2rgb(e,"r"))}get g(){let e=this.data,r=e.g;return!this.type.is(Un.HSL)&&r!==void 0?r:(this._ensureHSL(),Qt.channel.hsl2rgb(e,"g"))}get b(){let e=this.data,r=e.b;return!this.type.is(Un.HSL)&&r!==void 0?r:(this._ensureHSL(),Qt.channel.hsl2rgb(e,"b"))}get h(){let e=this.data,r=e.h;return!this.type.is(Un.RGB)&&r!==void 0?r:(this._ensureRGB(),Qt.channel.rgb2hsl(e,"h"))}get s(){let e=this.data,r=e.s;return!this.type.is(Un.RGB)&&r!==void 0?r:(this._ensureRGB(),Qt.channel.rgb2hsl(e,"s"))}get l(){let e=this.data,r=e.l;return!this.type.is(Un.RGB)&&r!==void 0?r:(this._ensureRGB(),Qt.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Un.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Un.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Un.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Un.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Un.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Un.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}},l(rp,"Channels"),rp),xbe=bbe,wbe=new xbe({r:0,g:0,b:0,a:0},"transparent"),N3=wbe,SU={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:l(t=>{if(t.charCodeAt(0)!==35)return;let e=t.match(SU.re);if(!e)return;let r=e[1],i=parseInt(r,16),n=r.length,a=n%4===0,s=n>4,o=s?1:17,h=s?8:4,u=a?0:-1,d=s?255:15;return N3.set({r:(i>>h*(u+3)&d)*o,g:(i>>h*(u+2)&d)*o,b:(i>>h*(u+1)&d)*o,a:a?(i&d)*o/255:1},t)},"parse"),stringify:l(t=>{let{r:e,g:r,b:i,a:n}=t;return n<1?`#${qc[Math.round(e)]}${qc[Math.round(r)]}${qc[Math.round(i)]}${qc[Math.round(n*255)]}`:`#${qc[Math.round(e)]}${qc[Math.round(r)]}${qc[Math.round(i)]}`},"stringify")},P2=SU,k3={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:l(t=>{let e=t.match(k3.hueRe);if(e){let[,r,i]=e;switch(i){case"grad":return Qt.channel.clamp.h(parseFloat(r)*.9);case"rad":return Qt.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Qt.channel.clamp.h(parseFloat(r)*360)}}return Qt.channel.clamp.h(parseFloat(t))},"_hue2deg"),parse:l(t=>{let e=t.charCodeAt(0);if(e!==104&&e!==72)return;let r=t.match(k3.re);if(!r)return;let[,i,n,a,s,o]=r;return N3.set({h:k3._hue2deg(i),s:Qt.channel.clamp.s(parseFloat(n)),l:Qt.channel.clamp.l(parseFloat(a)),a:s?Qt.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},t)},"parse"),stringify:l(t=>{let{h:e,s:r,l:i,a:n}=t;return n<1?`hsla(${Qt.lang.round(e)}, ${Qt.lang.round(r)}%, ${Qt.lang.round(i)}%, ${n})`:`hsl(${Qt.lang.round(e)}, ${Qt.lang.round(r)}%, ${Qt.lang.round(i)}%)`},"stringify")},y3=k3,T3={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:l(t=>{t=t.toLowerCase();let e=T3.colors[t];if(e)return P2.parse(e)},"parse"),stringify:l(t=>{let e=P2.stringify(t);for(let r in T3.colors)if(T3.colors[r]===e)return r},"stringify")},hU=T3,_U={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:l(t=>{let e=t.charCodeAt(0);if(e!==114&&e!==82)return;let r=t.match(_U.re);if(!r)return;let[,i,n,a,s,o,h,u,d]=r;return N3.set({r:Qt.channel.clamp.r(n?parseFloat(i)*2.55:parseFloat(i)),g:Qt.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:Qt.channel.clamp.b(h?parseFloat(o)*2.55:parseFloat(o)),a:u?Qt.channel.clamp.a(d?parseFloat(u)/100:parseFloat(u)):1},t)},"parse"),stringify:l(t=>{let{r:e,g:r,b:i,a:n}=t;return n<1?`rgba(${Qt.lang.round(e)}, ${Qt.lang.round(r)}, ${Qt.lang.round(i)}, ${Qt.lang.round(n)})`:`rgb(${Qt.lang.round(e)}, ${Qt.lang.round(r)}, ${Qt.lang.round(i)})`},"stringify")},v3=_U,kbe={format:{keyword:hU,hex:P2,rgb:v3,rgba:v3,hsl:y3,hsla:y3},parse:l(t=>{if(typeof t!="string")return t;let e=P2.parse(t)||v3.parse(t)||y3.parse(t)||hU.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},"parse"),stringify:l(t=>!t.changed&&t.color?t.color:t.type.is(Un.HSL)||t.data.r===void 0?y3.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?v3.stringify(t):P2.stringify(t),"stringify")},to=kbe,Tbe=l((t,e)=>{let r=to.parse(t);for(let i in e)r[i]=Qt.channel.clamp[i](e[i]);return to.stringify(r)},"change"),AU=Tbe,Ebe=l((t,e,r=0,i=1)=>{if(typeof t!="number")return AU(t,{a:e});let n=N3.set({r:Qt.channel.clamp.r(t),g:Qt.channel.clamp.g(e),b:Qt.channel.clamp.b(r),a:Qt.channel.clamp.a(i)});return to.stringify(n)},"rgba"),eo=Ebe,Cbe=l((t,e)=>Qt.lang.round(to.parse(t)[e]),"channel"),hp=Cbe,Sbe=l(t=>{let{r:e,g:r,b:i}=to.parse(t),n=.2126*Qt.channel.toLinear(e)+.7152*Qt.channel.toLinear(r)+.0722*Qt.channel.toLinear(i);return Qt.lang.round(n)},"luminance"),_be=Sbe,Abe=l(t=>_be(t)>=.5,"isLight"),Lbe=Abe,Nbe=l(t=>!Lbe(t),"isDark"),ro=Nbe,Ibe=l((t,e,r)=>{let i=to.parse(t),n=i[e],a=Qt.channel.clamp[e](n+r);return n!==a&&(i[e]=a),to.stringify(i)},"adjustChannel"),LU=Ibe,Rbe=l((t,e)=>LU(t,"l",e),"lighten"),Ct=Rbe,Dbe=l((t,e)=>LU(t,"l",-e),"darken"),Mt=Dbe,Mbe=l((t,e)=>{let r=to.parse(t),i={};for(let n in e)e[n]&&(i[n]=r[n]+e[n]);return AU(t,i)},"adjust"),Re=Mbe,Obe=l((t,e,r=50)=>{let{r:i,g:n,b:a,a:s}=to.parse(t),{r:o,g:h,b:u,a:d}=to.parse(e),p=r/100,g=p*2-1,f=s-d,m=((g*f===-1?g:(g+f)/(1+g*f))+1)/2,y=1-m,b=i*m+o*y,v=n*m+h*y,x=a*m+u*y,w=s*p+d*(1-p);return eo(b,v,x,w)},"mix"),$be=Obe,Bbe=l((t,e=100)=>{let r=to.parse(t);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,$be(r,t,e)},"invert"),yt=Bbe,I3="#ffffff",R3="#f2f2f2",la=l((t,e)=>e?Re(t,{s:-40,l:10}):Re(t,{s:-40,l:-10}),"mkBorder"),Pbe=(ip=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var r,i,n,a,s,o,h,u,d,p,g,f,m,y,b,v,x,w,k,T,S;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Re(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Re(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||la(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||la(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||la(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||la(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||yt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||yt(this.tertiaryColor),this.lineColor=this.lineColor||yt(this.background),this.arrowheadColor=this.arrowheadColor||yt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Mt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Mt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||yt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ct(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Mt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Mt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Re(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Re(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Re(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Re(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Re(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Re(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Re(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Re(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Re(this.primaryColor,{h:330}),this.darkMode)for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=Mt(this["cScale"+C],75);else for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=Mt(this["cScale"+C],25);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||yt(this["cScale"+C]);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this.darkMode?this["cScalePeer"+C]=this["cScalePeer"+C]||Ct(this["cScale"+C],10):this["cScalePeer"+C]=this["cScalePeer"+C]||Mt(this["cScale"+C],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;let e=this.darkMode?-4:-1;for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||Re(this.mainBkg,{h:180,s:-15,l:e*(5+C*3)}),this["surfacePeer"+C]=this["surfacePeer"+C]||Re(this.mainBkg,{h:180,s:-15,l:e*(8+C*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Re(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Re(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Re(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Re(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Re(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Re(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Re(this.primaryColor,{l:-10}),this.pie5=this.pie5||Re(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Re(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Re(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Re(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Re(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Re(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Re(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Re(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((h=this.radar)==null?void 0:h.graticuleStrokeWidth)||1,graticuleOpacity:((u=this.radar)==null?void 0:u.graticuleOpacity)||.3,legendBoxSize:((d=this.radar)==null?void 0:d.legendBoxSize)||12,legendFontSize:((p=this.radar)==null?void 0:p.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Re(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Re(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Re(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Re(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Re(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Re(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ro(this.quadrant1Fill)?Ct(this.quadrant1Fill):Mt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((g=this.xyChart)==null?void 0:g.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((m=this.xyChart)==null?void 0:m.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((y=this.xyChart)==null?void 0:y.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((b=this.xyChart)==null?void 0:b.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((v=this.xyChart)==null?void 0:v.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((x=this.xyChart)==null?void 0:x.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((w=this.xyChart)==null?void 0:w.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((k=this.xyChart)==null?void 0:k.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((T=this.xyChart)==null?void 0:T.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((S=this.xyChart)==null?void 0:S.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Mt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Re(this.primaryColor,{h:-30}),this.git4=this.git4||Re(this.primaryColor,{h:-60}),this.git5=this.git5||Re(this.primaryColor,{h:-90}),this.git6=this.git6||Re(this.primaryColor,{h:60}),this.git7=this.git7||Re(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Mt(this.git0,25),this.git1=Mt(this.git1,25),this.git2=Mt(this.git2,25),this.git3=Mt(this.git3,25),this.git4=Mt(this.git4,25),this.git5=Mt(this.git5,25),this.git6=Mt(this.git6,25),this.git7=Mt(this.git7,25)),this.gitInv0=this.gitInv0||yt(this.git0),this.gitInv1=this.gitInv1||yt(this.git1),this.gitInv2=this.gitInv2||yt(this.git2),this.gitInv3=this.gitInv3||yt(this.git3),this.gitInv4=this.gitInv4||yt(this.git4),this.gitInv5=this.gitInv5||yt(this.git5),this.gitInv6=this.gitInv6||yt(this.git6),this.gitInv7=this.gitInv7||yt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||I3,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||R3}calculate(e){if(typeof e!="object"){this.updateColors();return}let r=Object.keys(e);r.forEach(i=>{this[i]=e[i]}),this.updateColors(),r.forEach(i=>{this[i]=e[i]})}},l(ip,"Theme"),ip),Fbe=l(t=>{let e=new Pbe;return e.calculate(t),e},"getThemeVariables"),zbe=(np=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ct(this.primaryColor,16),this.tertiaryColor=Re(this.primaryColor,{h:-160}),this.primaryBorderColor=yt(this.background),this.secondaryBorderColor=la(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=la(this.tertiaryColor,this.darkMode),this.primaryTextColor=yt(this.primaryColor),this.secondaryTextColor=yt(this.secondaryColor),this.tertiaryTextColor=yt(this.tertiaryColor),this.lineColor=yt(this.background),this.textColor=yt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ct(yt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=eo(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Mt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Mt(this.sectionBkgColor,10),this.taskBorderColor=eo(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=eo(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ct(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Mt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,r,i,n,a,s,o,h,u,d,p,g,f,m,y,b,v,x,w,k,T;this.secondBkg=Ct(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ct(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ct(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Re(this.primaryColor,{h:64}),this.fillType3=Re(this.secondaryColor,{h:64}),this.fillType4=Re(this.primaryColor,{h:-64}),this.fillType5=Re(this.secondaryColor,{h:-64}),this.fillType6=Re(this.primaryColor,{h:128}),this.fillType7=Re(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Re(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Re(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Re(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Re(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Re(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Re(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Re(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Re(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Re(this.primaryColor,{h:330});for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||yt(this["cScale"+S]);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScalePeer"+S]=this["cScalePeer"+S]||Ct(this["cScale"+S],10);for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||Re(this.mainBkg,{h:30,s:-30,l:-(-10+S*4)}),this["surfacePeer"+S]=this["surfacePeer"+S]||Re(this.mainBkg,{h:30,s:-30,l:-(-7+S*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["pie"+S]=this["cScale"+S];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Re(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Re(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Re(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Re(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Re(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Re(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ro(this.quadrant1Fill)?Ct(this.quadrant1Fill):Mt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((n=this.xyChart)==null?void 0:n.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((g=this.radar)==null?void 0:g.axisColor)||this.lineColor,axisStrokeWidth:((f=this.radar)==null?void 0:f.axisStrokeWidth)||2,axisLabelFontSize:((m=this.radar)==null?void 0:m.axisLabelFontSize)||12,curveOpacity:((y=this.radar)==null?void 0:y.curveOpacity)||.5,curveStrokeWidth:((b=this.radar)==null?void 0:b.curveStrokeWidth)||2,graticuleColor:((v=this.radar)==null?void 0:v.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((x=this.radar)==null?void 0:x.graticuleStrokeWidth)||1,graticuleOpacity:((w=this.radar)==null?void 0:w.graticuleOpacity)||.3,legendBoxSize:((k=this.radar)==null?void 0:k.legendBoxSize)||12,legendFontSize:((T=this.radar)==null?void 0:T.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Mt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ct(this.secondaryColor,20),this.git1=Ct(this.pie2||this.secondaryColor,20),this.git2=Ct(this.pie3||this.tertiaryColor,20),this.git3=Ct(this.pie4||Re(this.primaryColor,{h:-30}),20),this.git4=Ct(this.pie5||Re(this.primaryColor,{h:-60}),20),this.git5=Ct(this.pie6||Re(this.primaryColor,{h:-90}),10),this.git6=Ct(this.pie7||Re(this.primaryColor,{h:60}),10),this.git7=Ct(this.pie8||Re(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||yt(this.git0),this.gitInv1=this.gitInv1||yt(this.git1),this.gitInv2=this.gitInv2||yt(this.git2),this.gitInv3=this.gitInv3||yt(this.git3),this.gitInv4=this.gitInv4||yt(this.git4),this.gitInv5=this.gitInv5||yt(this.git5),this.gitInv6=this.gitInv6||yt(this.git6),this.gitInv7=this.gitInv7||yt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||yt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||yt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ct(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ct(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}let r=Object.keys(e);r.forEach(i=>{this[i]=e[i]}),this.updateColors(),r.forEach(i=>{this[i]=e[i]})}},l(np,"Theme"),np),Gbe=l(t=>{let e=new zbe;return e.calculate(t),e},"getThemeVariables"),qbe=(ap=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Re(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Re(this.primaryColor,{h:-160}),this.primaryBorderColor=la(this.primaryColor,this.darkMode),this.secondaryBorderColor=la(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=la(this.tertiaryColor,this.darkMode),this.primaryTextColor=yt(this.primaryColor),this.secondaryTextColor=yt(this.secondaryColor),this.tertiaryTextColor=yt(this.tertiaryColor),this.lineColor=yt(this.background),this.textColor=yt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=eo(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,r,i,n,a,s,o,h,u,d,p,g,f,m,y,b,v,x,w,k,T;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Re(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Re(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Re(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Re(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Re(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Re(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Re(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Re(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Re(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Mt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Mt(this.tertiaryColor,40);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScale"+S]=Mt(this["cScale"+S],10),this["cScalePeer"+S]=this["cScalePeer"+S]||Mt(this["cScale"+S],25);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||Re(this["cScale"+S],{h:180});for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||Re(this.mainBkg,{h:30,l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||Re(this.mainBkg,{h:30,l:-(7+S*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||yt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||yt(this.labelTextColor);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ct(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ct(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Re(this.primaryColor,{h:64}),this.fillType3=Re(this.secondaryColor,{h:64}),this.fillType4=Re(this.primaryColor,{h:-64}),this.fillType5=Re(this.secondaryColor,{h:-64}),this.fillType6=Re(this.primaryColor,{h:128}),this.fillType7=Re(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Re(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Re(this.primaryColor,{l:-10}),this.pie5=this.pie5||Re(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Re(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Re(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Re(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Re(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Re(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Re(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Re(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Re(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Re(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Re(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Re(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Re(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Re(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ro(this.quadrant1Fill)?Ct(this.quadrant1Fill):Mt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((n=this.radar)==null?void 0:n.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((s=this.radar)==null?void 0:s.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)==null?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((h=this.radar)==null?void 0:h.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.xyChart={backgroundColor:((p=this.xyChart)==null?void 0:p.backgroundColor)||this.background,titleColor:((g=this.xyChart)==null?void 0:g.titleColor)||this.primaryTextColor,xAxisTitleColor:((f=this.xyChart)==null?void 0:f.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((m=this.xyChart)==null?void 0:m.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((y=this.xyChart)==null?void 0:y.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((b=this.xyChart)==null?void 0:b.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((v=this.xyChart)==null?void 0:v.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((x=this.xyChart)==null?void 0:x.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((w=this.xyChart)==null?void 0:w.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((k=this.xyChart)==null?void 0:k.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((T=this.xyChart)==null?void 0:T.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Re(this.primaryColor,{h:-30}),this.git4=this.git4||Re(this.primaryColor,{h:-60}),this.git5=this.git5||Re(this.primaryColor,{h:-90}),this.git6=this.git6||Re(this.primaryColor,{h:60}),this.git7=this.git7||Re(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Mt(this.git0,25),this.git1=Mt(this.git1,25),this.git2=Mt(this.git2,25),this.git3=Mt(this.git3,25),this.git4=Mt(this.git4,25),this.git5=Mt(this.git5,25),this.git6=Mt(this.git6,25),this.git7=Mt(this.git7,25)),this.gitInv0=this.gitInv0||Mt(yt(this.git0),25),this.gitInv1=this.gitInv1||yt(this.git1),this.gitInv2=this.gitInv2||yt(this.git2),this.gitInv3=this.gitInv3||yt(this.git3),this.gitInv4=this.gitInv4||yt(this.git4),this.gitInv5=this.gitInv5||yt(this.git5),this.gitInv6=this.gitInv6||yt(this.git6),this.gitInv7=this.gitInv7||yt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||yt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||yt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||I3,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||R3}calculate(e){if(Object.keys(this).forEach(i=>{this[i]==="calculated"&&(this[i]=void 0)}),typeof e!="object"){this.updateColors();return}let r=Object.keys(e);r.forEach(i=>{this[i]=e[i]}),this.updateColors(),r.forEach(i=>{this[i]=e[i]})}},l(ap,"Theme"),ap),xu=l(t=>{let e=new qbe;return e.calculate(t),e},"getThemeVariables"),Ube=(sp=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ct("#cde498",10),this.primaryBorderColor=la(this.primaryColor,this.darkMode),this.secondaryBorderColor=la(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=la(this.tertiaryColor,this.darkMode),this.primaryTextColor=yt(this.primaryColor),this.secondaryTextColor=yt(this.secondaryColor),this.tertiaryTextColor=yt(this.primaryColor),this.lineColor=yt(this.background),this.textColor=yt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,i,n,a,s,o,h,u,d,p,g,f,m,y,b,v,x,w,k,T;this.actorBorder=Mt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Re(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Re(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Re(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Re(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Re(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Re(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Re(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Re(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Re(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Mt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Mt(this.tertiaryColor,40);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScale"+S]=Mt(this["cScale"+S],10),this["cScalePeer"+S]=this["cScalePeer"+S]||Mt(this["cScale"+S],25);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||Re(this["cScale"+S],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||Re(this.mainBkg,{h:30,s:-30,l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||Re(this.mainBkg,{h:30,s:-30,l:-(8+S*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Re(this.primaryColor,{h:64}),this.fillType3=Re(this.secondaryColor,{h:64}),this.fillType4=Re(this.primaryColor,{h:-64}),this.fillType5=Re(this.secondaryColor,{h:-64}),this.fillType6=Re(this.primaryColor,{h:128}),this.fillType7=Re(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Re(this.primaryColor,{l:-30}),this.pie5=this.pie5||Re(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Re(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Re(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Re(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Re(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Re(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Re(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Re(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Re(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Re(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Re(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Re(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Re(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Re(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ro(this.quadrant1Fill)?Ct(this.quadrant1Fill):Mt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((r=this.radar)==null?void 0:r.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((n=this.radar)==null?void 0:n.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((s=this.radar)==null?void 0:s.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((o=this.radar)==null?void 0:o.graticuleStrokeWidth)||1,graticuleOpacity:((h=this.radar)==null?void 0:h.graticuleOpacity)||.3,legendBoxSize:((u=this.radar)==null?void 0:u.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.xyChart={backgroundColor:((p=this.xyChart)==null?void 0:p.backgroundColor)||this.background,titleColor:((g=this.xyChart)==null?void 0:g.titleColor)||this.primaryTextColor,xAxisTitleColor:((f=this.xyChart)==null?void 0:f.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((m=this.xyChart)==null?void 0:m.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((y=this.xyChart)==null?void 0:y.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((b=this.xyChart)==null?void 0:b.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((v=this.xyChart)==null?void 0:v.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((x=this.xyChart)==null?void 0:x.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((w=this.xyChart)==null?void 0:w.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((k=this.xyChart)==null?void 0:k.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((T=this.xyChart)==null?void 0:T.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Re(this.primaryColor,{h:-30}),this.git4=this.git4||Re(this.primaryColor,{h:-60}),this.git5=this.git5||Re(this.primaryColor,{h:-90}),this.git6=this.git6||Re(this.primaryColor,{h:60}),this.git7=this.git7||Re(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Mt(this.git0,25),this.git1=Mt(this.git1,25),this.git2=Mt(this.git2,25),this.git3=Mt(this.git3,25),this.git4=Mt(this.git4,25),this.git5=Mt(this.git5,25),this.git6=Mt(this.git6,25),this.git7=Mt(this.git7,25)),this.gitInv0=this.gitInv0||yt(this.git0),this.gitInv1=this.gitInv1||yt(this.git1),this.gitInv2=this.gitInv2||yt(this.git2),this.gitInv3=this.gitInv3||yt(this.git3),this.gitInv4=this.gitInv4||yt(this.git4),this.gitInv5=this.gitInv5||yt(this.git5),this.gitInv6=this.gitInv6||yt(this.git6),this.gitInv7=this.gitInv7||yt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||yt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||yt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||I3,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||R3}calculate(e){if(typeof e!="object"){this.updateColors();return}let r=Object.keys(e);r.forEach(i=>{this[i]=e[i]}),this.updateColors(),r.forEach(i=>{this[i]=e[i]})}},l(sp,"Theme"),sp),jbe=l(t=>{let e=new Ube;return e.calculate(t),e},"getThemeVariables"),Wbe=(op=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ct(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Re(this.primaryColor,{h:-160}),this.primaryBorderColor=la(this.primaryColor,this.darkMode),this.secondaryBorderColor=la(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=la(this.tertiaryColor,this.darkMode),this.primaryTextColor=yt(this.primaryColor),this.secondaryTextColor=yt(this.secondaryColor),this.tertiaryTextColor=yt(this.tertiaryColor),this.lineColor=yt(this.background),this.textColor=yt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,r,i,n,a,s,o,h,u,d,p,g,f,m,y,b,v,x,w,k,T;this.secondBkg=Ct(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ct(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleInv"+S]=this["cScaleInv"+S]||yt(this["cScale"+S]);for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this.darkMode?this["cScalePeer"+S]=this["cScalePeer"+S]||Ct(this["cScale"+S],10):this["cScalePeer"+S]=this["cScalePeer"+S]||Mt(this["cScale"+S],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["cScaleLabel"+S]=this["cScaleLabel"+S]||this.scaleLabelColor;for(let S=0;S<5;S++)this["surface"+S]=this["surface"+S]||Re(this.mainBkg,{l:-(5+S*5)}),this["surfacePeer"+S]=this["surfacePeer"+S]||Re(this.mainBkg,{l:-(8+S*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ct(this.contrast,30),this.sectionBkgColor2=Ct(this.contrast,30),this.taskBorderColor=Mt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ct(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Mt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Re(this.primaryColor,{h:64}),this.fillType3=Re(this.secondaryColor,{h:64}),this.fillType4=Re(this.primaryColor,{h:-64}),this.fillType5=Re(this.secondaryColor,{h:-64}),this.fillType6=Re(this.primaryColor,{h:128}),this.fillType7=Re(this.secondaryColor,{h:128});for(let S=0;S<this.THEME_COLOR_LIMIT;S++)this["pie"+S]=this["cScale"+S];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Re(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Re(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Re(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Re(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Re(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Re(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||ro(this.quadrant1Fill)?Ct(this.quadrant1Fill):Mt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((n=this.xyChart)==null?void 0:n.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((a=this.xyChart)==null?void 0:a.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((o=this.xyChart)==null?void 0:o.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((g=this.radar)==null?void 0:g.axisColor)||this.lineColor,axisStrokeWidth:((f=this.radar)==null?void 0:f.axisStrokeWidth)||2,axisLabelFontSize:((m=this.radar)==null?void 0:m.axisLabelFontSize)||12,curveOpacity:((y=this.radar)==null?void 0:y.curveOpacity)||.5,curveStrokeWidth:((b=this.radar)==null?void 0:b.curveStrokeWidth)||2,graticuleColor:((v=this.radar)==null?void 0:v.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((x=this.radar)==null?void 0:x.graticuleStrokeWidth)||1,graticuleOpacity:((w=this.radar)==null?void 0:w.graticuleOpacity)||.3,legendBoxSize:((k=this.radar)==null?void 0:k.legendBoxSize)||12,legendFontSize:((T=this.radar)==null?void 0:T.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Mt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Re(this.primaryColor,{h:-30}),this.git4=this.pie5||Re(this.primaryColor,{h:-60}),this.git5=this.pie6||Re(this.primaryColor,{h:-90}),this.git6=this.pie7||Re(this.primaryColor,{h:60}),this.git7=this.pie8||Re(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||yt(this.git0),this.gitInv1=this.gitInv1||yt(this.git1),this.gitInv2=this.gitInv2||yt(this.git2),this.gitInv3=this.gitInv3||yt(this.git3),this.gitInv4=this.gitInv4||yt(this.git4),this.gitInv5=this.gitInv5||yt(this.git5),this.gitInv6=this.gitInv6||yt(this.git6),this.gitInv7=this.gitInv7||yt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||I3,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||R3}calculate(e){if(typeof e!="object"){this.updateColors();return}let r=Object.keys(e);r.forEach(i=>{this[i]=e[i]}),this.updateColors(),r.forEach(i=>{this[i]=e[i]})}},l(op,"Theme"),op),Vbe=l(t=>{let e=new Wbe;return e.calculate(t),e},"getThemeVariables"),zo={base:{getThemeVariables:Fbe},dark:{getThemeVariables:Gbe},default:{getThemeVariables:xu},forest:{getThemeVariables:jbe},neutral:{getThemeVariables:Vbe}},Po={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},NU={...Po,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:zo.default.getThemeVariables(),sequence:{...Po.sequence,messageFont:l(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:l(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:l(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Po.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Po.c4,useWidth:void 0,personFont:l(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Po.flowchart,inheritDir:!1},external_personFont:l(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:l(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:l(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:l(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:l(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:l(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:l(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:l(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:l(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:l(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:l(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:l(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:l(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:l(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:l(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:l(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:l(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:l(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:l(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:l(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:l(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Po.pie,useWidth:984},xyChart:{...Po.xyChart,useWidth:void 0},requirement:{...Po.requirement,useWidth:void 0},packet:{...Po.packet},radar:{...Po.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},IU=l((t,e="")=>Object.keys(t).reduce((r,i)=>Array.isArray(t[i])?r:typeof t[i]=="object"&&t[i]!==null?[...r,e+i,...IU(t[i],"")]:[...r,e+i],[]),"keyify"),Ybe=new Set(IU(NU,"")),rr=NU,z2=l(t=>{if(ee.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>z2(e));return}for(let e of Object.keys(t)){if(ee.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!Ybe.has(e)||t[e]==null){ee.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){ee.debug("sanitizing object",e),z2(t[e]);continue}let r=["themeCSS","fontFamily","altFontFamily"];for(let i of r)e.includes(i)&&(ee.debug("sanitizing css option",e),t[e]=Hbe(t[e]))}if(t.themeVariables)for(let e of Object.keys(t.themeVariables)){let r=t.themeVariables[e];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}ee.debug("After sanitization",t)}},"sanitizeDirective"),Hbe=l(t=>{let e=0,r=0;for(let i of t){if(e<r)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?e++:i==="}"&&r++}return e!==r?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),wu=Object.freeze(rr),Ia=oi({},wu),vu=[],F2=oi({},wu),D3=l((t,e)=>{let r=oi({},t),i={};for(let n of e)OU(n),i=oi(i,n);if(r=oi(r,i),i.theme&&i.theme in zo){let n=oi({},_3),a=oi(n.themeVariables||{},i.themeVariables);r.theme&&r.theme in zo&&(r.themeVariables=zo[r.theme].getThemeVariables(a))}return F2=r,BU(F2),F2},"updateCurrentConfig"),RU=l(t=>(Ia=oi({},wu),Ia=oi(Ia,t),t.theme&&zo[t.theme]&&(Ia.themeVariables=zo[t.theme].getThemeVariables(t.themeVariables)),D3(Ia,vu),Ia),"setSiteConfig"),DU=l(t=>{_3=oi({},t)},"saveConfigFromInitialize"),MU=l(t=>(Ia=oi(Ia,t),D3(Ia,vu),Ia),"updateSiteConfig"),SC=l(()=>oi({},Ia),"getSiteConfig"),_C=l(t=>(BU(t),oi(F2,t),ir()),"setConfig"),ir=l(()=>oi({},F2),"getConfig"),OU=l(t=>{t&&(["secure",...Ia.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(ee.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&OU(t[e])}))},"sanitize"),$U=l(t=>{var e;z2(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),vu.push(t),D3(Ia,vu)},"addDirective"),q2=l((t=Ia)=>{vu=[],D3(t,vu)},"reset"),Xbe={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},uU={},Kbe=l(t=>{uU[t]||(ee.warn(Xbe[t]),uU[t]=!0)},"issueWarning"),BU=l(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&Kbe("LAZY_LOAD_DEPRECATED")},"checkConfig"),PU=l(()=>{let t={};_3&&(t=oi(t,_3));for(let e of vu)t=oi(t,e);return t},"getUserDefinedConfig"),{entries:FU,setPrototypeOf:dU,isFrozen:Zbe,getPrototypeOf:Qbe,getOwnPropertyDescriptor:Jbe}=Object,{freeze:ca,seal:Ts,create:zU}=Object,{apply:wC,construct:kC}=typeof Reflect<"u"&&Reflect;ca||(ca=l(function(t){return t},"freeze"));Ts||(Ts=l(function(t){return t},"seal"));wC||(wC=l(function(t,e,r){return t.apply(e,r)},"apply"));kC||(kC=l(function(t,e){return new t(...e)},"construct"));b3=jn(Array.prototype.forEach),exe=jn(Array.prototype.lastIndexOf),pU=jn(Array.prototype.pop),M2=jn(Array.prototype.push),txe=jn(Array.prototype.splice),E3=jn(String.prototype.toLowerCase),fC=jn(String.prototype.toString),gU=jn(String.prototype.match),O2=jn(String.prototype.replace),rxe=jn(String.prototype.indexOf),ixe=jn(String.prototype.trim),Js=jn(Object.prototype.hasOwnProperty),oa=jn(RegExp.prototype.test),$2=GU(TypeError);l(jn,"unapply");l(GU,"unconstruct");l(pr,"addToSet");l(qU,"cleanArray");l(Fo,"clone");l(J0,"lookupGetter");fU=ca(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),mC=ca(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),yC=ca(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),nxe=ca(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),vC=ca(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),axe=ca(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mU=ca(["#text"]),yU=ca(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),bC=ca(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),vU=ca(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),x3=ca(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),sxe=Ts(/\{\{[\w\W]*|[\w\W]*\}\}/gm),oxe=Ts(/<%[\w\W]*|[\w\W]*%>/gm),lxe=Ts(/\$\{[\w\W]*/gm),cxe=Ts(/^data-[\-\w.\u00B7-\uFFFF]+$/),hxe=Ts(/^aria-[\-\w]+$/),UU=Ts(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),uxe=Ts(/^(?:\w+script|data):/i),dxe=Ts(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jU=Ts(/^html$/i),pxe=Ts(/^[a-z][.\w]*(-[.\w]+)+$/i),bU=Object.freeze({__proto__:null,ARIA_ATTR:hxe,ATTR_WHITESPACE:dxe,CUSTOM_ELEMENT:pxe,DATA_ATTR:cxe,DOCTYPE_NAME:jU,ERB_EXPR:oxe,IS_ALLOWED_URI:UU,IS_SCRIPT_OR_DATA:uxe,MUSTACHE_EXPR:sxe,TMPLIT_EXPR:lxe}),B2={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},gxe=l(function(){return typeof window>"u"?null:window},"getGlobal"),fxe=l(function(t,e){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null,i="data-tt-policy-suffix";e&&e.hasAttribute(i)&&(r=e.getAttribute(i));let n="dompurify"+(r?"#"+r:"");try{return t.createPolicy(n,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+n+" could not be created."),null}},"_createTrustedTypesPolicy"),xU=l(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap");l(AC,"createDOMPurify");bu=AC(),ku=/<br\s*\/?>/gi,mxe=l(t=>t?YU(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),yxe=(()=>{let t=!1;return()=>{t||(WU(),t=!0)}})();l(WU,"setupDompurifyHooks");VU=l(t=>(yxe(),bu.sanitize(t)),"removeScript"),wU=l((t,e)=>{var r;if(((r=e.flowchart)==null?void 0:r.htmlLabels)!==!1){let i=e.securityLevel;i==="antiscript"||i==="strict"?t=VU(t):i!=="loose"&&(t=YU(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=wxe(t))}return t},"sanitizeMore"),tr=l((t,e)=>t&&(e.dompurifyConfig?t=bu.sanitize(wU(t,e),e.dompurifyConfig).toString():t=bu.sanitize(wU(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),vxe=l((t,e)=>typeof t=="string"?tr(t,e):t.flat().map(r=>tr(r,e)),"sanitizeTextOrArray"),bxe=l(t=>ku.test(t),"hasBreaks"),xxe=l(t=>t.split(ku),"splitBreaks"),wxe=l(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),YU=l(t=>t.replace(ku,"#br#"),"breakToPlaceholder"),Tu=l(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),Mr=l(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),kxe=l(function(...t){let e=t.filter(r=>!isNaN(r));return Math.max(...e)},"getMax"),Txe=l(function(...t){let e=t.filter(r=>!isNaN(r));return Math.min(...e)},"getMin"),Go=l(function(t){let e=t.split(/(,)/),r=[];for(let i=0;i<e.length;i++){let n=e[i];if(n===","&&i>0&&i+1<e.length){let a=e[i-1],s=e[i+1];Exe(a,s)&&(n=a+","+s,i++,r.pop())}r.push(Cxe(n))}return r.join("")},"parseGenericTypes"),TC=l((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),Exe=l((t,e)=>{let r=TC(t,"~"),i=TC(e,"~");return r===1&&i===1},"shouldCombineSets"),Cxe=l(t=>{let e=TC(t,"~"),r=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),r=!0);let i=[...t],n=i.indexOf("~"),a=i.lastIndexOf("~");for(;n!==-1&&a!==-1&&n!==a;)i[n]="<",i[a]=">",n=i.indexOf("~"),a=i.lastIndexOf("~");return r&&i.unshift("~"),i.join("")},"processSet"),kU=l(()=>window.MathMLElement!==void 0,"isMathMLSupported"),C3=/\$\$(.*)\$\$/g,li=l(t=>{var e;return(((e=t.match(C3))==null?void 0:e.length)??0)>0},"hasKatex"),up=l(async(t,e)=>{var n;let r=document.createElement("div");r.innerHTML=await jc(t,e),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",(n=document.querySelector("body"))==null||n.insertAdjacentElement("beforeend",r);let i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i},"calculateMathMLDimensions"),Sxe=l(async(t,e)=>{if(!li(t))return t;if(!(kU()||e.legacyMathML||e.forceLegacyMathML))return t.replace(C3,"MathML is unsupported in this environment.");{let{default:r}=await Promise.resolve().then(()=>(cU(),lU)),i=e.forceLegacyMathML||!kU()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(ku).map(n=>li(n)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${n}</div>`:`<div>${n}</div>`).join("").replace(C3,(n,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}return t.replace(C3,"Katex is not supported in @mermaid-js/tiny. Please use the full mermaid library.")},"renderKatexUnsanitized"),jc=l(async(t,e)=>tr(await Sxe(t,e),e),"renderKatexSanitized"),Ke={getRows:mxe,sanitizeText:tr,sanitizeTextOrArray:vxe,hasBreaks:bxe,splitBreaks:xxe,lineBreakRegex:ku,removeScript:VU,getUrl:Tu,evaluate:Mr,getMax:kxe,getMin:Txe},_xe=l(function(t,e){for(let r of e)t.attr(r[0],r[1])},"d3Attrs"),Axe=l(function(t,e,r){let i=new Map;return r?(i.set("width","100%"),i.set("style",`max-width: ${e}px;`)):(i.set("height",t),i.set("width",e)),i},"calculateSvgSizeAttrs"),Yr=l(function(t,e,r,i){let n=Axe(e,r,i);_xe(t,n)},"configureSvgSize"),Ml=l(function(t,e,r,i){let n=e.node().getBBox(),a=n.width,s=n.height;ee.info(`SVG bounds: ${a}x${s}`,n);let o=0,h=0;ee.info(`Graph bounds: ${o}x${h}`,t),o=a+r*2,h=s+r*2,ee.info(`Calculated bounds: ${o}x${h}`),Yr(e,h,o,i);let u=`${n.x-r} ${n.y-r} ${n.width+2*r} ${n.height+2*r}`;e.attr("viewBox",u)},"setupGraphViewbox"),S3={},Lxe=l((t,e,r)=>{let i="";return t in S3&&S3[t]?i=S3[t](r):ee.warn(`No theme found for ${t}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${e}
`},"getStyles"),Nxe=l((t,e)=>{e!==void 0&&(S3[t]=e)},"addStylesForDiagram"),HU=Lxe,M3={};Fn(M3,{clear:()=>cr,getAccDescription:()=>yr,getAccTitle:()=>fr,getDiagramTitle:()=>vr,setAccDescription:()=>mr,setAccTitle:()=>gr,setDiagramTitle:()=>Er});LC="",NC="",IC="",RC=l(t=>tr(t,ir()),"sanitizeText"),cr=l(()=>{LC="",IC="",NC=""},"clear"),gr=l(t=>{LC=RC(t).replace(/^\s+/g,"")},"setAccTitle"),fr=l(()=>LC,"getAccTitle"),mr=l(t=>{IC=RC(t).replace(/\n\s+/g,`
`)},"setAccDescription"),yr=l(()=>IC,"getAccDescription"),Er=l(t=>{NC=RC(t)},"setDiagramTitle"),vr=l(()=>NC,"getDiagramTitle"),TU=ee,Ixe=r2,ve=ir,U2=_C,O3=wu,$3=l(t=>tr(t,ve()),"sanitizeText"),DC=Ml,Rxe=l(()=>M3,"getCommonDb"),A3={},j2=l((t,e,r)=>{var i;A3[t]&&TU.warn(`Diagram with id ${t} already registered. Overwriting.`),A3[t]=e,r&&EU(t,r),Nxe(t,e.styles),(i=e.injectUtils)==null||i.call(e,TU,Ixe,ve,$3,DC,Rxe(),()=>{})},"registerDiagram"),B3=l(t=>{if(t in A3)return A3[t];throw new Dxe(t)},"getDiagram"),Dxe=(lp=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},l(lp,"DiagramNotFoundError"),lp);});var fn,qo=wt(()=>{hr();lr();kt();fn=l(t=>{var i;let{securityLevel:e}=ve(),r=Ue("body");if(e==="sandbox"){let n=((i=Ue(`#i${t}`).node())==null?void 0:i.contentDocument)??document;r=Ue(n.body)}return r.select(`#${t}`)},"selectSvgElement")});function KC(t){return typeof t>"u"||t===null}function ZU(t){return typeof t=="object"&&t!==null}function QU(t){return Array.isArray(t)?t:KC(t)?[]:[t]}function JU(t,e){var r,i,n,a;if(e)for(a=Object.keys(e),r=0,i=a.length;r<i;r+=1)n=a[r],t[n]=e[n];return t}function ej(t,e){var r="",i;for(i=0;i<e;i+=1)r+=t;return r}function tj(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}function ZC(t,e){var r="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),i+" "+r):i}function gp(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=ZC(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function P3(t,e,r,i,n){var a="",s="",o=Math.floor(n/2)-1;return i-e>o&&(a=" ... ",e=i-o+a.length),r-i>o&&(s=" ...",r=i+o-s.length),{str:a+t.slice(e,r).replace(/\t/g,"\u2192")+s,pos:i-e+a.length}}function F3(t,e){return an.repeat(" ",e-t.length)+t}function rj(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],n=[],a,s=-1;a=r.exec(t.buffer);)n.push(a.index),i.push(a.index+a[0].length),t.position<=a.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var o="",h,u,d=Math.min(t.line+e.linesAfter,n.length).toString().length,p=e.maxLength-(e.indent+d+3);for(h=1;h<=e.linesBefore&&!(s-h<0);h++)u=P3(t.buffer,i[s-h],n[s-h],t.position-(i[s]-i[s-h]),p),o=an.repeat(" ",e.indent)+F3((t.line-h+1).toString(),d)+" | "+u.str+`
`+o;for(u=P3(t.buffer,i[s],n[s],t.position,p),o+=an.repeat(" ",e.indent)+F3((t.line+1).toString(),d)+" | "+u.str+`
`,o+=an.repeat("-",e.indent+d+3+u.pos)+`^
`,h=1;h<=e.linesAfter&&!(s+h>=n.length);h++)u=P3(t.buffer,i[s+h],n[s+h],t.position-(i[s]-i[s+h]),p),o+=an.repeat(" ",e.indent)+F3((t.line+h+1).toString(),d)+" | "+u.str+`
`;return o.replace(/\n$/,"")}function ij(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(i){e[String(i)]=r})}),e}function nj(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(Gxe.indexOf(r)===-1)throw new Ra('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=ij(e.styleAliases||null),qxe.indexOf(this.kind)===-1)throw new Ra('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}function OC(t,e){var r=[];return t[e].forEach(function(i){var n=r.length;r.forEach(function(a,s){a.tag===i.tag&&a.kind===i.kind&&a.multi===i.multi&&(n=s)}),r[n]=i}),r}function aj(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function i(n){n.multi?(t.multi[n.kind].push(n),t.multi.fallback.push(n)):t[n.kind][n.tag]=t.fallback[n.tag]=n}for(l(i,"collectType"),e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(i);return t}function z3(t){return this.extend(t)}function sj(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function oj(){return null}function lj(t){return t===null}function cj(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function hj(t){return t==="true"||t==="True"||t==="TRUE"}function uj(t){return Object.prototype.toString.call(t)==="[object Boolean]"}function dj(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function pj(t){return 48<=t&&t<=55}function gj(t){return 48<=t&&t<=57}function fj(t){if(t===null)return!1;var e=t.length,r=0,i=!1,n;if(!e)return!1;if(n=t[r],(n==="-"||n==="+")&&(n=t[++r]),n==="0"){if(r+1===e)return!0;if(n=t[++r],n==="b"){for(r++;r<e;r++)if(n=t[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<e;r++)if(n=t[r],n!=="_"){if(!dj(t.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="o"){for(r++;r<e;r++)if(n=t[r],n!=="_"){if(!pj(t.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}}if(n==="_")return!1;for(;r<e;r++)if(n=t[r],n!=="_"){if(!gj(t.charCodeAt(r)))return!1;i=!0}return!(!i||n==="_")}function mj(t){var e=t,r=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}function yj(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!an.isNegativeZero(t)}function vj(t){return!(t===null||!Zxe.test(t)||t[t.length-1]==="_")}function bj(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}function xj(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(an.isNegativeZero(t))return"-0.0";return r=t.toString(10),Qxe.test(r)?r.replace("e",".e"):r}function wj(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||an.isNegativeZero(t))}function Cj(t){return t===null?!1:Tj.exec(t)!==null||Ej.exec(t)!==null}function Sj(t){var e,r,i,n,a,s,o,h=0,u=null,d,p,g;if(e=Tj.exec(t),e===null&&(e=Ej.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],i=+e[2]-1,n=+e[3],!e[4])return new Date(Date.UTC(r,i,n));if(a=+e[4],s=+e[5],o=+e[6],e[7]){for(h=e[7].slice(0,3);h.length<3;)h+="0";h=+h}return e[9]&&(d=+e[10],p=+(e[11]||0),u=(d*60+p)*6e4,e[9]==="-"&&(u=-u)),g=new Date(Date.UTC(r,i,n,a,s,o,h)),u&&g.setTime(g.getTime()-u),g}function _j(t){return t.toISOString()}function Aj(t){return t==="<<"||t===null}function Lj(t){if(t===null)return!1;var e,r,i=0,n=t.length,a=QC;for(r=0;r<n;r++)if(e=a.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function Nj(t){var e,r,i=t.replace(/[\r\n=]/g,""),n=i.length,a=QC,s=0,o=[];for(e=0;e<n;e++)e%4===0&&e&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|a.indexOf(i.charAt(e));return r=n%4*6,r===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):r===18?(o.push(s>>10&255),o.push(s>>2&255)):r===12&&o.push(s>>4&255),new Uint8Array(o)}function Ij(t){var e="",r=0,i,n,a=t.length,s=QC;for(i=0;i<a;i++)i%3===0&&i&&(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]),r=(r<<8)+t[i];return n=a%3,n===0?(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]):n===2?(e+=s[r>>10&63],e+=s[r>>4&63],e+=s[r<<2&63],e+=s[64]):n===1&&(e+=s[r>>2&63],e+=s[r<<4&63],e+=s[64],e+=s[64]),e}function Rj(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function Dj(t){if(t===null)return!0;var e=[],r,i,n,a,s,o=t;for(r=0,i=o.length;r<i;r+=1){if(n=o[r],s=!1,a4e.call(n)!=="[object Object]")return!1;for(a in n)if(n4e.call(n,a))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}function Mj(t){return t!==null?t:[]}function Oj(t){if(t===null)return!0;var e,r,i,n,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1){if(i=s[e],o4e.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;a[e]=[n[0],i[n[0]]]}return!0}function $j(t){if(t===null)return[];var e,r,i,n,a,s=t;for(a=new Array(s.length),e=0,r=s.length;e<r;e+=1)i=s[e],n=Object.keys(i),a[e]=[n[0],i[n[0]]];return a}function Bj(t){if(t===null)return!0;var e,r=t;for(e in r)if(c4e.call(r,e)&&r[e]!==null)return!1;return!0}function Pj(t){return t!==null?t:{}}function $C(t){return Object.prototype.toString.call(t)}function io(t){return t===10||t===13}function Wc(t){return t===9||t===32}function ha(t){return t===9||t===32||t===10||t===13}function Cu(t){return t===44||t===91||t===93||t===123||t===125}function jj(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function Wj(t){return t===120?2:t===117?4:t===85?8:0}function Vj(t){return 48<=t&&t<=57?t-48:-1}function BC(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function Yj(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}function Kj(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||Fj,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function JC(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=zxe(r),new Ra(e,r)}function Pt(t,e){throw JC(t,e)}function W2(t,e){t.onWarning&&t.onWarning.call(null,JC(t,e))}function Ol(t,e,r,i){var n,a,s,o;if(e<r){if(o=t.input.slice(e,r),i)for(n=0,a=o.length;n<a;n+=1)s=o.charCodeAt(n),s===9||32<=s&&s<=1114111||Pt(t,"expected valid JSON character");else d4e.test(o)&&Pt(t,"the stream contains non-printable characters");t.result+=o}}function PC(t,e,r,i){var n,a,s,o;for(an.isObject(r)||Pt(t,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),s=0,o=n.length;s<o;s+=1)a=n[s],Vc.call(e,a)||(e[a]=r[a],i[a]=!0)}function Su(t,e,r,i,n,a,s,o,h){var u,d;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),u=0,d=n.length;u<d;u+=1)Array.isArray(n[u])&&Pt(t,"nested arrays are not supported inside keys"),typeof n=="object"&&$C(n[u])==="[object Object]"&&(n[u]="[object Object]");if(typeof n=="object"&&$C(n)==="[object Object]"&&(n="[object Object]"),n=String(n),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,d=a.length;u<d;u+=1)PC(t,e,a[u],r);else PC(t,e,a,r);else!t.json&&!Vc.call(r,n)&&Vc.call(e,n)&&(t.line=s||t.line,t.lineStart=o||t.lineStart,t.position=h||t.position,Pt(t,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[n]=a,delete r[n];return e}function V3(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Pt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Pi(t,e,r){for(var i=0,n=t.input.charCodeAt(t.position);n!==0;){for(;Wc(n);)n===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),n=t.input.charCodeAt(++t.position);if(e&&n===35)do n=t.input.charCodeAt(++t.position);while(n!==10&&n!==13&&n!==0);if(io(n))for(V3(t),n=t.input.charCodeAt(t.position),i++,t.lineIndent=0;n===32;)t.lineIndent++,n=t.input.charCodeAt(++t.position);else break}return r!==-1&&i!==0&&t.lineIndent<r&&W2(t,"deficient indentation"),i}function X2(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||ha(r)))}function Y3(t,e){e===1?t.result+=" ":e>1&&(t.result+=an.repeat(`
`,e-1))}function Zj(t,e,r){var i,n,a,s,o,h,u,d,p=t.kind,g=t.result,f;if(f=t.input.charCodeAt(t.position),ha(f)||Cu(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(n=t.input.charCodeAt(t.position+1),ha(n)||r&&Cu(n)))return!1;for(t.kind="scalar",t.result="",a=s=t.position,o=!1;f!==0;){if(f===58){if(n=t.input.charCodeAt(t.position+1),ha(n)||r&&Cu(n))break}else if(f===35){if(i=t.input.charCodeAt(t.position-1),ha(i))break}else{if(t.position===t.lineStart&&X2(t)||r&&Cu(f))break;if(io(f))if(h=t.line,u=t.lineStart,d=t.lineIndent,Pi(t,!1,-1),t.lineIndent>=e){o=!0,f=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=h,t.lineStart=u,t.lineIndent=d;break}}o&&(Ol(t,a,s,!1),Y3(t,t.line-h),a=s=t.position,o=!1),Wc(f)||(s=t.position+1),f=t.input.charCodeAt(++t.position)}return Ol(t,a,s,!1),t.result?!0:(t.kind=p,t.result=g,!1)}function Qj(t,e){var r,i,n;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=n=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(Ol(t,i,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)i=t.position,t.position++,n=t.position;else return!0;else io(r)?(Ol(t,i,n,!0),Y3(t,Pi(t,!1,e)),i=n=t.position):t.position===t.lineStart&&X2(t)?Pt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,n=t.position);Pt(t,"unexpected end of the stream within a single quoted scalar")}function Jj(t,e){var r,i,n,a,s,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return Ol(t,r,t.position,!0),t.position++,!0;if(o===92){if(Ol(t,r,t.position,!0),o=t.input.charCodeAt(++t.position),io(o))Pi(t,!1,e);else if(o<256&&Hj[o])t.result+=Xj[o],t.position++;else if((s=Wj(o))>0){for(n=s,a=0;n>0;n--)o=t.input.charCodeAt(++t.position),(s=jj(o))>=0?a=(a<<4)+s:Pt(t,"expected hexadecimal character");t.result+=Yj(a),t.position++}else Pt(t,"unknown escape sequence");r=i=t.position}else io(o)?(Ol(t,r,i,!0),Y3(t,Pi(t,!1,e)),r=i=t.position):t.position===t.lineStart&&X2(t)?Pt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}Pt(t,"unexpected end of the stream within a double quoted scalar")}function eW(t,e){var r=!0,i,n,a,s=t.tag,o,h=t.anchor,u,d,p,g,f,m=Object.create(null),y,b,v,x;if(x=t.input.charCodeAt(t.position),x===91)d=93,f=!1,o=[];else if(x===123)d=125,f=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),x=t.input.charCodeAt(++t.position);x!==0;){if(Pi(t,!0,e),x=t.input.charCodeAt(t.position),x===d)return t.position++,t.tag=s,t.anchor=h,t.kind=f?"mapping":"sequence",t.result=o,!0;r?x===44&&Pt(t,"expected the node content, but found ','"):Pt(t,"missed comma between flow collection entries"),b=y=v=null,p=g=!1,x===63&&(u=t.input.charCodeAt(t.position+1),ha(u)&&(p=g=!0,t.position++,Pi(t,!0,e))),i=t.line,n=t.lineStart,a=t.position,_u(t,e,G3,!1,!0),b=t.tag,y=t.result,Pi(t,!0,e),x=t.input.charCodeAt(t.position),(g||t.line===i)&&x===58&&(p=!0,x=t.input.charCodeAt(++t.position),Pi(t,!0,e),_u(t,e,G3,!1,!0),v=t.result),f?Su(t,o,m,b,y,v,i,n,a):p?o.push(Su(t,null,m,b,y,v,i,n,a)):o.push(y),Pi(t,!0,e),x=t.input.charCodeAt(t.position),x===44?(r=!0,x=t.input.charCodeAt(++t.position)):r=!1}Pt(t,"unexpected end of the stream within a flow collection")}function tW(t,e){var r,i,n=MC,a=!1,s=!1,o=e,h=0,u=!1,d,p;if(p=t.input.charCodeAt(t.position),p===124)i=!1;else if(p===62)i=!0;else return!1;for(t.kind="scalar",t.result="";p!==0;)if(p=t.input.charCodeAt(++t.position),p===43||p===45)MC===n?n=p===43?XU:u4e:Pt(t,"repeat of a chomping mode identifier");else if((d=Vj(p))>=0)d===0?Pt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Pt(t,"repeat of an indentation width identifier"):(o=e+d-1,s=!0);else break;if(Wc(p)){do p=t.input.charCodeAt(++t.position);while(Wc(p));if(p===35)do p=t.input.charCodeAt(++t.position);while(!io(p)&&p!==0)}for(;p!==0;){for(V3(t),t.lineIndent=0,p=t.input.charCodeAt(t.position);(!s||t.lineIndent<o)&&p===32;)t.lineIndent++,p=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>o&&(o=t.lineIndent),io(p)){h++;continue}if(t.lineIndent<o){n===XU?t.result+=an.repeat(`
`,a?1+h:h):n===MC&&a&&(t.result+=`
`);break}for(i?Wc(p)?(u=!0,t.result+=an.repeat(`
`,a?1+h:h)):u?(u=!1,t.result+=an.repeat(`
`,h+1)):h===0?a&&(t.result+=" "):t.result+=an.repeat(`
`,h):t.result+=an.repeat(`
`,a?1+h:h),a=!0,s=!0,h=0,r=t.position;!io(p)&&p!==0;)p=t.input.charCodeAt(++t.position);Ol(t,r,t.position,!1)}return!0}function FC(t,e){var r,i=t.tag,n=t.anchor,a=[],s,o=!1,h;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),h=t.input.charCodeAt(t.position);h!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Pt(t,"tab characters must not be used in indentation")),!(h!==45||(s=t.input.charCodeAt(t.position+1),!ha(s))));){if(o=!0,t.position++,Pi(t,!0,-1)&&t.lineIndent<=e){a.push(null),h=t.input.charCodeAt(t.position);continue}if(r=t.line,_u(t,e,Gj,!1,!0),a.push(t.result),Pi(t,!0,-1),h=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&h!==0)Pt(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=i,t.anchor=n,t.kind="sequence",t.result=a,!0):!1}function rW(t,e,r){var i,n,a,s,o,h,u=t.tag,d=t.anchor,p={},g=Object.create(null),f=null,m=null,y=null,b=!1,v=!1,x;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=p),x=t.input.charCodeAt(t.position);x!==0;){if(!b&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Pt(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),a=t.line,(x===63||x===58)&&ha(i))x===63?(b&&(Su(t,p,g,f,m,null,s,o,h),f=m=y=null),v=!0,b=!0,n=!0):b?(b=!1,n=!0):Pt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,x=i;else{if(s=t.line,o=t.lineStart,h=t.position,!_u(t,r,zj,!1,!0))break;if(t.line===a){for(x=t.input.charCodeAt(t.position);Wc(x);)x=t.input.charCodeAt(++t.position);if(x===58)x=t.input.charCodeAt(++t.position),ha(x)||Pt(t,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Su(t,p,g,f,m,null,s,o,h),f=m=y=null),v=!0,b=!1,n=!1,f=t.tag,m=t.result;else if(v)Pt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=d,!0}else if(v)Pt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=d,!0}if((t.line===a||t.lineIndent>e)&&(b&&(s=t.line,o=t.lineStart,h=t.position),_u(t,e,q3,!0,n)&&(b?m=t.result:y=t.result),b||(Su(t,p,g,f,m,y,s,o,h),f=m=y=null),Pi(t,!0,-1),x=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&x!==0)Pt(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return b&&Su(t,p,g,f,m,null,s,o,h),v&&(t.tag=u,t.anchor=d,t.kind="mapping",t.result=p),v}function iW(t){var e,r=!1,i=!1,n,a,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&Pt(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(r=!0,s=t.input.charCodeAt(++t.position)):s===33?(i=!0,n="!!",s=t.input.charCodeAt(++t.position)):n="!",e=t.position,r){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(a=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):Pt(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!ha(s);)s===33&&(i?Pt(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),qj.test(n)||Pt(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),g4e.test(a)&&Pt(t,"tag suffix cannot contain flow indicator characters")}a&&!Uj.test(a)&&Pt(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{Pt(t,"tag name is malformed: "+a)}return r?t.tag=a:Vc.call(t.tagMap,n)?t.tag=t.tagMap[n]+a:n==="!"?t.tag="!"+a:n==="!!"?t.tag="tag:yaml.org,2002:"+a:Pt(t,'undeclared tag handle "'+n+'"'),!0}function nW(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&Pt(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!ha(r)&&!Cu(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Pt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function aW(t){var e,r,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!ha(i)&&!Cu(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&Pt(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),Vc.call(t.anchorMap,r)||Pt(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],Pi(t,!0,-1),!0}function _u(t,e,r,i,n){var a,s,o,h=1,u=!1,d=!1,p,g,f,m,y,b;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=s=o=q3===r||Gj===r,i&&Pi(t,!0,-1)&&(u=!0,t.lineIndent>e?h=1:t.lineIndent===e?h=0:t.lineIndent<e&&(h=-1)),h===1)for(;iW(t)||nW(t);)Pi(t,!0,-1)?(u=!0,o=a,t.lineIndent>e?h=1:t.lineIndent===e?h=0:t.lineIndent<e&&(h=-1)):o=!1;if(o&&(o=u||n),(h===1||q3===r)&&(G3===r||zj===r?y=e:y=e+1,b=t.position-t.lineStart,h===1?o&&(FC(t,b)||rW(t,b,y))||eW(t,y)?d=!0:(s&&tW(t,y)||Qj(t,y)||Jj(t,y)?d=!0:aW(t)?(d=!0,(t.tag!==null||t.anchor!==null)&&Pt(t,"alias node should not have any properties")):Zj(t,y,G3===r)&&(d=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):h===0&&(d=o&&FC(t,b))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Pt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),p=0,g=t.implicitTypes.length;p<g;p+=1)if(m=t.implicitTypes[p],m.resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Vc.call(t.typeMap[t.kind||"fallback"],t.tag))m=t.typeMap[t.kind||"fallback"][t.tag];else for(m=null,f=t.typeMap.multi[t.kind||"fallback"],p=0,g=f.length;p<g;p+=1)if(t.tag.slice(0,f[p].tag.length)===f[p].tag){m=f[p];break}m||Pt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&m.kind!==t.kind&&Pt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result,t.tag)?(t.result=m.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Pt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||d}function sW(t){var e=t.position,r,i,n,a=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(Pi(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(a=!0,s=t.input.charCodeAt(++t.position),r=t.position;s!==0&&!ha(s);)s=t.input.charCodeAt(++t.position);for(i=t.input.slice(r,t.position),n=[],i.length<1&&Pt(t,"directive name must not be less than one character in length");s!==0;){for(;Wc(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!io(s));break}if(io(s))break;for(r=t.position;s!==0&&!ha(s);)s=t.input.charCodeAt(++t.position);n.push(t.input.slice(r,t.position))}s!==0&&V3(t),Vc.call(KU,i)?KU[i](t,i,n):W2(t,'unknown document directive "'+i+'"')}if(Pi(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Pi(t,!0,-1)):a&&Pt(t,"directives end mark is expected"),_u(t,t.lineIndent-1,q3,!1,!0),Pi(t,!0,-1),t.checkLineBreaks&&p4e.test(t.input.slice(e,t.position))&&W2(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&X2(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Pi(t,!0,-1));return}if(t.position<t.length-1)Pt(t,"end of the stream or a document separator is expected");else return}function eS(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new Kj(t,e),i=t.indexOf("\0");for(i!==-1&&(r.position=i,Pt(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)sW(r);return r.documents}function oW(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var i=eS(t,r);if(typeof e!="function")return i;for(var n=0,a=i.length;n<a;n+=1)e(i[n])}function lW(t,e){var r=eS(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new Ra("expected a single document in the stream, but found more")}}function yW(t,e){var r,i,n,a,s,o,h;if(e===null)return{};for(r={},i=Object.keys(e),n=0,a=i.length;n<a;n+=1)s=i[n],o=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),h=t.compiledTypeMap.fallback[s],h&&uW.call(h.styleAliases,o)&&(o=h.styleAliases[o]),r[s]=o;return r}function vW(t){var e,r,i;if(e=t.toString(16).toUpperCase(),t<=255)r="x",i=2;else if(t<=65535)r="u",i=4;else if(t<=4294967295)r="U",i=8;else throw new Ra("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+an.repeat("0",i-e.length)+e}function bW(t){this.schema=t.schema||Fj,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=an.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=yW(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Y2:O4e,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function GC(t,e){for(var r=an.repeat(" ",e),i=0,n=-1,a="",s,o=t.length;i<o;)n=t.indexOf(`
`,i),n===-1?(s=t.slice(i),i=o):(s=t.slice(i,n+1),i=n+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}function j3(t,e){return`
`+an.repeat(" ",t.indent*e)}function xW(t,e){var r,i,n;for(r=0,i=t.implicitTypes.length;r<i;r+=1)if(n=t.implicitTypes[r],n.resolve(e))return!0;return!1}function H2(t){return t===b4e||t===y4e}function fp(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==tS||65536<=t&&t<=1114111}function qC(t){return fp(t)&&t!==tS&&t!==v4e&&t!==V2}function UC(t,e,r){var i=qC(t),n=i&&!H2(t);return(r?i:i&&t!==dW&&t!==pW&&t!==gW&&t!==fW&&t!==mW)&&t!==zC&&!(e===U3&&!n)||qC(e)&&!H2(e)&&t===zC||e===U3&&n}function wW(t){return fp(t)&&t!==tS&&!H2(t)&&t!==S4e&&t!==L4e&&t!==U3&&t!==dW&&t!==pW&&t!==gW&&t!==fW&&t!==mW&&t!==zC&&t!==T4e&&t!==C4e&&t!==x4e&&t!==R4e&&t!==_4e&&t!==A4e&&t!==E4e&&t!==w4e&&t!==k4e&&t!==N4e&&t!==I4e}function kW(t){return!H2(t)&&t!==U3}function pp(t,e){var r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&e+1<t.length&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function rS(t){var e=/^\n* /;return e.test(t)}function SW(t,e,r,i,n,a,s,o){var h,u=0,d=null,p=!1,g=!1,f=i!==-1,m=-1,y=wW(pp(t,0))&&kW(pp(t,t.length-1));if(e||s)for(h=0;h<t.length;u>=65536?h+=2:h++){if(u=pp(t,h),!fp(u))return dp;y=y&&UC(u,d,o),d=u}else{for(h=0;h<t.length;u>=65536?h+=2:h++){if(u=pp(t,h),u===V2)p=!0,f&&(g=g||h-m-1>i&&t[m+1]!==" ",m=h);else if(!fp(u))return dp;y=y&&UC(u,d,o),d=u}g=g||f&&h-m-1>i&&t[m+1]!==" "}return!p&&!g?y&&!s&&!n(t)?TW:a===Y2?dp:jC:r>9&&rS(t)?dp:s?a===Y2?dp:jC:g?CW:EW}function _W(t,e,r,i,n){t.dump=(function(){if(e.length===0)return t.quotingType===Y2?'""':"''";if(!t.noCompatMode&&(D4e.indexOf(e)!==-1||M4e.test(e)))return t.quotingType===Y2?'"'+e+'"':"'"+e+"'";var a=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),o=i||t.flowLevel>-1&&r>=t.flowLevel;function h(u){return xW(t,u)}switch(l(h,"testAmbiguity"),SW(e,o,t.indent,s,h,t.quotingType,t.forceQuotes&&!i,n)){case TW:return e;case jC:return"'"+e.replace(/'/g,"''")+"'";case EW:return"|"+WC(e,t.indent)+VC(GC(e,a));case CW:return">"+WC(e,t.indent)+VC(GC(AW(e,s),a));case dp:return'"'+LW(e)+'"';default:throw new Ra("impossible error: invalid scalar style")}})()}function WC(t,e){var r=rS(t)?String(e):"",i=t[t.length-1]===`
`,n=i&&(t[t.length-2]===`
`||t===`
`),a=n?"+":i?"":"-";return r+a+`
`}function VC(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function AW(t,e){for(var r=/(\n+)([^\n]*)/g,i=(function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,r.lastIndex=u,YC(t.slice(0,u),e)})(),n=t[0]===`
`||t[0]===" ",a,s;s=r.exec(t);){var o=s[1],h=s[2];a=h[0]===" ",i+=o+(!n&&!a&&h!==""?`
`:"")+YC(h,e),n=a}return i}function YC(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,i,n=0,a,s=0,o=0,h="";i=r.exec(t);)o=i.index,o-n>e&&(a=s>n?s:o,h+=`
`+t.slice(n,a),n=a+1),s=o;return h+=`
`,t.length-n>e&&s>n?h+=t.slice(n,s)+`
`+t.slice(s+1):h+=t.slice(n),h.slice(1)}function LW(t){for(var e="",r=0,i,n=0;n<t.length;r>=65536?n+=2:n++)r=pp(t,n),i=Vn[r],!i&&fp(r)?(e+=t[n],r>=65536&&(e+=t[n+1])):e+=i||vW(r);return e}function NW(t,e,r){var i="",n=t.tag,a,s,o;for(a=0,s=r.length;a<s;a+=1)o=r[a],t.replacer&&(o=t.replacer.call(r,String(a),o)),(Uo(t,e,o,!1,!1)||typeof o>"u"&&Uo(t,e,null,!1,!1))&&(i!==""&&(i+=","+(t.condenseFlow?"":" ")),i+=t.dump);t.tag=n,t.dump="["+i+"]"}function HC(t,e,r,i){var n="",a=t.tag,s,o,h;for(s=0,o=r.length;s<o;s+=1)h=r[s],t.replacer&&(h=t.replacer.call(r,String(s),h)),(Uo(t,e+1,h,!0,!0,!1,!0)||typeof h>"u"&&Uo(t,e+1,null,!0,!0,!1,!0))&&((!i||n!=="")&&(n+=j3(t,e)),t.dump&&V2===t.dump.charCodeAt(0)?n+="-":n+="- ",n+=t.dump);t.tag=a,t.dump=n||"[]"}function IW(t,e,r){var i="",n=t.tag,a=Object.keys(r),s,o,h,u,d;for(s=0,o=a.length;s<o;s+=1)d="",i!==""&&(d+=", "),t.condenseFlow&&(d+='"'),h=a[s],u=r[h],t.replacer&&(u=t.replacer.call(r,h,u)),Uo(t,e,h,!1,!1)&&(t.dump.length>1024&&(d+="? "),d+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Uo(t,e,u,!1,!1)&&(d+=t.dump,i+=d));t.tag=n,t.dump="{"+i+"}"}function RW(t,e,r,i){var n="",a=t.tag,s=Object.keys(r),o,h,u,d,p,g;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new Ra("sortKeys must be a boolean or a function");for(o=0,h=s.length;o<h;o+=1)g="",(!i||n!=="")&&(g+=j3(t,e)),u=s[o],d=r[u],t.replacer&&(d=t.replacer.call(r,u,d)),Uo(t,e+1,u,!0,!0,!0)&&(p=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,p&&(t.dump&&V2===t.dump.charCodeAt(0)?g+="?":g+="? "),g+=t.dump,p&&(g+=j3(t,e)),Uo(t,e+1,d,!0,p)&&(t.dump&&V2===t.dump.charCodeAt(0)?g+=":":g+=": ",g+=t.dump,n+=g));t.tag=a,t.dump=n||"{}"}function XC(t,e,r){var i,n,a,s,o,h;for(n=r?t.explicitTypes:t.implicitTypes,a=0,s=n.length;a<s;a+=1)if(o=n[a],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(r?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(h=t.styleMap[o.tag]||o.defaultStyle,hW.call(o.represent)==="[object Function]")i=o.represent(e,h);else if(uW.call(o.represent,h))i=o.represent[h](e,h);else throw new Ra("!<"+o.tag+'> tag resolver accepts not "'+h+'" style');t.dump=i}return!0}return!1}function Uo(t,e,r,i,n,a,s){t.tag=null,t.dump=r,XC(t,r,!1)||XC(t,r,!0);var o=hW.call(t.dump),h=i,u;i&&(i=t.flowLevel<0||t.flowLevel>e);var d=o==="[object Object]"||o==="[object Array]",p,g;if(d&&(p=t.duplicates.indexOf(r),g=p!==-1),(t.tag!==null&&t.tag!=="?"||g||t.indent!==2&&e>0)&&(n=!1),g&&t.usedDuplicates[p])t.dump="*ref_"+p;else{if(d&&g&&!t.usedDuplicates[p]&&(t.usedDuplicates[p]=!0),o==="[object Object]")i&&Object.keys(t.dump).length!==0?(RW(t,e,t.dump,n),g&&(t.dump="&ref_"+p+t.dump)):(IW(t,e,t.dump),g&&(t.dump="&ref_"+p+" "+t.dump));else if(o==="[object Array]")i&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?HC(t,e-1,t.dump,n):HC(t,e,t.dump,n),g&&(t.dump="&ref_"+p+t.dump)):(NW(t,e,t.dump),g&&(t.dump="&ref_"+p+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&_W(t,t.dump,e,a,h);else{if(o==="[object Undefined]"||t.skipInvalid)return!1;throw new Ra("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}function DW(t,e){var r=[],i=[],n,a;for(W3(t,r,i),n=0,a=i.length;n<a;n+=1)e.duplicates.push(r[i[n]]);e.usedDuplicates=new Array(a)}function W3(t,e,r){var i,n,a;if(t!==null&&typeof t=="object")if(n=e.indexOf(t),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(e.push(t),Array.isArray(t))for(n=0,a=t.length;n<a;n+=1)W3(t[n],e,r);else for(i=Object.keys(t),n=0,a=i.length;n<a;n+=1)W3(t[i[n]],e,r)}function MW(t,e){e=e||{};var r=new bW(e);r.noRefs||DW(t,r);var i=t;return r.replacer&&(i=r.replacer.call({"":i},"",i)),Uo(r,0,i,!0,!0)?r.dump+`
`:""}function H3(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Mxe,Oxe,$xe,Bxe,Pxe,Fxe,an,Ra,zxe,Gxe,qxe,Wn,Uxe,jxe,Wxe,Vxe,Yxe,Hxe,Xxe,Kxe,Zxe,Qxe,Jxe,kj,e4e,Tj,Ej,t4e,r4e,QC,i4e,n4e,a4e,s4e,o4e,l4e,c4e,h4e,Fj,Vc,G3,zj,Gj,q3,MC,u4e,XU,d4e,p4e,g4e,qj,Uj,Hj,Xj,Eu,KU,f4e,m4e,cW,hW,uW,tS,y4e,V2,v4e,b4e,x4e,w4e,zC,k4e,T4e,E4e,C4e,dW,S4e,U3,_4e,A4e,L4e,N4e,pW,gW,I4e,fW,R4e,mW,Vn,D4e,M4e,O4e,Y2,TW,jC,EW,CW,dp,$4e,B4e,Yc,Hc,Tje,Eje,Cje,Sje,_je,K2=wt(()=>{kt();l(KC,"isNothing");l(ZU,"isObject");l(QU,"toArray");l(JU,"extend");l(ej,"repeat");l(tj,"isNegativeZero");Mxe=KC,Oxe=ZU,$xe=QU,Bxe=ej,Pxe=tj,Fxe=JU,an={isNothing:Mxe,isObject:Oxe,toArray:$xe,repeat:Bxe,isNegativeZero:Pxe,extend:Fxe};l(ZC,"formatError");l(gp,"YAMLException$1");gp.prototype=Object.create(Error.prototype);gp.prototype.constructor=gp;gp.prototype.toString=l(function(t){return this.name+": "+ZC(this,t)},"toString");Ra=gp;l(P3,"getLine");l(F3,"padStart");l(rj,"makeSnippet");zxe=rj,Gxe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],qxe=["scalar","sequence","mapping"];l(ij,"compileStyleAliases");l(nj,"Type$1");Wn=nj;l(OC,"compileList");l(aj,"compileMap");l(z3,"Schema$1");z3.prototype.extend=l(function(t){var e=[],r=[];if(t instanceof Wn)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(e=e.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Ra("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.forEach(function(n){if(!(n instanceof Wn))throw new Ra("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(n.loadKind&&n.loadKind!=="scalar")throw new Ra("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(n.multi)throw new Ra("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(n){if(!(n instanceof Wn))throw new Ra("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(z3.prototype);return i.implicit=(this.implicit||[]).concat(e),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=OC(i,"implicit"),i.compiledExplicit=OC(i,"explicit"),i.compiledTypeMap=aj(i.compiledImplicit,i.compiledExplicit),i},"extend");Uxe=z3,jxe=new Wn("tag:yaml.org,2002:str",{kind:"scalar",construct:l(function(t){return t!==null?t:""},"construct")}),Wxe=new Wn("tag:yaml.org,2002:seq",{kind:"sequence",construct:l(function(t){return t!==null?t:[]},"construct")}),Vxe=new Wn("tag:yaml.org,2002:map",{kind:"mapping",construct:l(function(t){return t!==null?t:{}},"construct")}),Yxe=new Uxe({explicit:[jxe,Wxe,Vxe]});l(sj,"resolveYamlNull");l(oj,"constructYamlNull");l(lj,"isNull");Hxe=new Wn("tag:yaml.org,2002:null",{kind:"scalar",resolve:sj,construct:oj,predicate:lj,represent:{canonical:l(function(){return"~"},"canonical"),lowercase:l(function(){return"null"},"lowercase"),uppercase:l(function(){return"NULL"},"uppercase"),camelcase:l(function(){return"Null"},"camelcase"),empty:l(function(){return""},"empty")},defaultStyle:"lowercase"});l(cj,"resolveYamlBoolean");l(hj,"constructYamlBoolean");l(uj,"isBoolean");Xxe=new Wn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:cj,construct:hj,predicate:uj,represent:{lowercase:l(function(t){return t?"true":"false"},"lowercase"),uppercase:l(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:l(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});l(dj,"isHexCode");l(pj,"isOctCode");l(gj,"isDecCode");l(fj,"resolveYamlInteger");l(mj,"constructYamlInteger");l(yj,"isInteger");Kxe=new Wn("tag:yaml.org,2002:int",{kind:"scalar",resolve:fj,construct:mj,predicate:yj,represent:{binary:l(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:l(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:l(function(t){return t.toString(10)},"decimal"),hexadecimal:l(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Zxe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");l(vj,"resolveYamlFloat");l(bj,"constructYamlFloat");Qxe=/^[-+]?[0-9]+e/;l(xj,"representYamlFloat");l(wj,"isFloat");Jxe=new Wn("tag:yaml.org,2002:float",{kind:"scalar",resolve:vj,construct:bj,predicate:wj,represent:xj,defaultStyle:"lowercase"}),kj=Yxe.extend({implicit:[Hxe,Xxe,Kxe,Jxe]}),e4e=kj,Tj=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ej=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");l(Cj,"resolveYamlTimestamp");l(Sj,"constructYamlTimestamp");l(_j,"representYamlTimestamp");t4e=new Wn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Cj,construct:Sj,instanceOf:Date,represent:_j});l(Aj,"resolveYamlMerge");r4e=new Wn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Aj}),QC=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;l(Lj,"resolveYamlBinary");l(Nj,"constructYamlBinary");l(Ij,"representYamlBinary");l(Rj,"isBinary");i4e=new Wn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Lj,construct:Nj,predicate:Rj,represent:Ij}),n4e=Object.prototype.hasOwnProperty,a4e=Object.prototype.toString;l(Dj,"resolveYamlOmap");l(Mj,"constructYamlOmap");s4e=new Wn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Dj,construct:Mj}),o4e=Object.prototype.toString;l(Oj,"resolveYamlPairs");l($j,"constructYamlPairs");l4e=new Wn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Oj,construct:$j}),c4e=Object.prototype.hasOwnProperty;l(Bj,"resolveYamlSet");l(Pj,"constructYamlSet");h4e=new Wn("tag:yaml.org,2002:set",{kind:"mapping",resolve:Bj,construct:Pj}),Fj=e4e.extend({implicit:[t4e,r4e],explicit:[i4e,s4e,l4e,h4e]}),Vc=Object.prototype.hasOwnProperty,G3=1,zj=2,Gj=3,q3=4,MC=1,u4e=2,XU=3,d4e=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,p4e=/[\x85\u2028\u2029]/,g4e=/[,\[\]\{\}]/,qj=/^(?:!|!!|![a-z\-]+!)$/i,Uj=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;l($C,"_class");l(io,"is_EOL");l(Wc,"is_WHITE_SPACE");l(ha,"is_WS_OR_EOL");l(Cu,"is_FLOW_INDICATOR");l(jj,"fromHexCode");l(Wj,"escapedHexLen");l(Vj,"fromDecimalCode");l(BC,"simpleEscapeSequence");l(Yj,"charFromCodepoint");Hj=new Array(256),Xj=new Array(256);for(Eu=0;Eu<256;Eu++)Hj[Eu]=BC(Eu)?1:0,Xj[Eu]=BC(Eu);l(Kj,"State$1");l(JC,"generateError");l(Pt,"throwError");l(W2,"throwWarning");KU={YAML:l(function(t,e,r){var i,n,a;t.version!==null&&Pt(t,"duplication of %YAML directive"),r.length!==1&&Pt(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Pt(t,"ill-formed argument of the YAML directive"),n=parseInt(i[1],10),a=parseInt(i[2],10),n!==1&&Pt(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&W2(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:l(function(t,e,r){var i,n;r.length!==2&&Pt(t,"TAG directive accepts exactly two arguments"),i=r[0],n=r[1],qj.test(i)||Pt(t,"ill-formed tag handle (first argument) of the TAG directive"),Vc.call(t.tagMap,i)&&Pt(t,'there is a previously declared suffix for "'+i+'" tag handle'),Uj.test(n)||Pt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{n=decodeURIComponent(n)}catch{Pt(t,"tag prefix is malformed: "+n)}t.tagMap[i]=n},"handleTagDirective")};l(Ol,"captureSegment");l(PC,"mergeMappings");l(Su,"storeMappingPair");l(V3,"readLineBreak");l(Pi,"skipSeparationSpace");l(X2,"testDocumentSeparator");l(Y3,"writeFoldedLines");l(Zj,"readPlainScalar");l(Qj,"readSingleQuotedScalar");l(Jj,"readDoubleQuotedScalar");l(eW,"readFlowCollection");l(tW,"readBlockScalar");l(FC,"readBlockSequence");l(rW,"readBlockMapping");l(iW,"readTagProperty");l(nW,"readAnchorProperty");l(aW,"readAlias");l(_u,"composeNode");l(sW,"readDocument");l(eS,"loadDocuments");l(oW,"loadAll$1");l(lW,"load$1");f4e=oW,m4e=lW,cW={loadAll:f4e,load:m4e},hW=Object.prototype.toString,uW=Object.prototype.hasOwnProperty,tS=65279,y4e=9,V2=10,v4e=13,b4e=32,x4e=33,w4e=34,zC=35,k4e=37,T4e=38,E4e=39,C4e=42,dW=44,S4e=45,U3=58,_4e=61,A4e=62,L4e=63,N4e=64,pW=91,gW=93,I4e=96,fW=123,R4e=124,mW=125,Vn={};Vn[0]="\\0";Vn[7]="\\a";Vn[8]="\\b";Vn[9]="\\t";Vn[10]="\\n";Vn[11]="\\v";Vn[12]="\\f";Vn[13]="\\r";Vn[27]="\\e";Vn[34]='\\"';Vn[92]="\\\\";Vn[133]="\\N";Vn[160]="\\_";Vn[8232]="\\L";Vn[8233]="\\P";D4e=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],M4e=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;l(yW,"compileStyleMap");l(vW,"encodeHex");O4e=1,Y2=2;l(bW,"State");l(GC,"indentString");l(j3,"generateNextLine");l(xW,"testImplicitResolving");l(H2,"isWhitespace");l(fp,"isPrintable");l(qC,"isNsCharOrWhitespace");l(UC,"isPlainSafe");l(wW,"isPlainSafeFirst");l(kW,"isPlainSafeLast");l(pp,"codePointAt");l(rS,"needIndentIndicator");TW=1,jC=2,EW=3,CW=4,dp=5;l(SW,"chooseScalarStyle");l(_W,"writeScalar");l(WC,"blockHeader");l(VC,"dropEndingNewline");l(AW,"foldString");l(YC,"foldLine");l(LW,"escapeString");l(NW,"writeFlowSequence");l(HC,"writeBlockSequence");l(IW,"writeFlowMapping");l(RW,"writeBlockMapping");l(XC,"detectType");l(Uo,"writeNode");l(DW,"getDuplicateReferences");l(W3,"inspectNode");l(MW,"dump$1");$4e=MW,B4e={dump:$4e};l(H3,"renamed");Yc=kj,Hc=cW.load,Tje=cW.loadAll,Eje=B4e.dump,Cje=H3("safeLoad","load"),Sje=H3("safeLoadAll","loadAll"),_je=H3("safeDump","dump");});function Z2(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=yi(t),e=yi(e);let[r,i]=[t.x,t.y],[n,a]=[e.x,e.y],s=n-r,o=a-i;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}var Tn,iS,yi,X3,ts=wt(()=>{kt();Tn={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},iS={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};l(Z2,"calculateDeltaAndAngle");yi=l(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),X3=l(t=>({x:l(function(e,r,i){let n=0,a=yi(i[0]).x<yi(i[i.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(Tn,t.arrowTypeStart)){let{angle:f,deltaX:m}=Z2(i[0],i[1]);n=Tn[t.arrowTypeStart]*Math.cos(f)*(m>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(Tn,t.arrowTypeEnd)){let{angle:f,deltaX:m}=Z2(i[i.length-1],i[i.length-2]);n=Tn[t.arrowTypeEnd]*Math.cos(f)*(m>=0?1:-1)}let s=Math.abs(yi(e).x-yi(i[i.length-1]).x),o=Math.abs(yi(e).y-yi(i[i.length-1]).y),h=Math.abs(yi(e).x-yi(i[0]).x),u=Math.abs(yi(e).y-yi(i[0]).y),d=Tn[t.arrowTypeStart],p=Tn[t.arrowTypeEnd],g=1;if(s<p&&s>0&&o<p){let f=p+g-s;f*=a==="right"?-1:1,n-=f}if(h<d&&h>0&&u<d){let f=d+g-h;f*=a==="right"?-1:1,n+=f}return yi(e).x+n},"x"),y:l(function(e,r,i){let n=0,a=yi(i[0]).y<yi(i[i.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(Tn,t.arrowTypeStart)){let{angle:f,deltaY:m}=Z2(i[0],i[1]);n=Tn[t.arrowTypeStart]*Math.abs(Math.sin(f))*(m>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(Tn,t.arrowTypeEnd)){let{angle:f,deltaY:m}=Z2(i[i.length-1],i[i.length-2]);n=Tn[t.arrowTypeEnd]*Math.abs(Math.sin(f))*(m>=0?1:-1)}let s=Math.abs(yi(e).y-yi(i[i.length-1]).y),o=Math.abs(yi(e).x-yi(i[i.length-1]).x),h=Math.abs(yi(e).y-yi(i[0]).y),u=Math.abs(yi(e).x-yi(i[0]).x),d=Tn[t.arrowTypeStart],p=Tn[t.arrowTypeEnd],g=1;if(s<p&&s>0&&o<p){let f=p+g-s;f*=a==="up"?-1:1,n-=f}if(h<d&&h>0&&u<d){let f=d+g-h;f*=a==="up"?-1:1,n+=f}return yi(e).y+n},"y")}),"getLineFunctionsWithOffset")});var $l,ua=wt(()=>{kt();$l=l(({flowchart:t})=>{var n,a;let e=((n=t==null?void 0:t.subGraphTitleMargin)==null?void 0:n.top)??0,r=((a=t==null?void 0:t.subGraphTitleMargin)==null?void 0:a.bottom)??0,i=e+r;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins")});var OW,Au,P4e,Q2,Et,It,F4e,da=wt(()=>{hr();kt();OW=l(t=>{let{handDrawnSeed:e}=ve();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),Au=l(t=>{let e=P4e([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),P4e=l(t=>{let e=new Map;return t.forEach(r=>{let[i,n]=r.split(":");e.set(i.trim(),n==null?void 0:n.trim())}),e},"styles2Map"),Q2=l(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),Et=l(t=>{let{stylesArray:e}=Au(t),r=[],i=[],n=[],a=[];return e.forEach(s=>{let o=s[0];Q2(o)?r.push(s.join(":")+" !important"):(i.push(s.join(":")+" !important"),o.includes("stroke")&&n.push(s.join(":")+" !important"),o==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:i.join(";"),stylesArray:e,borderStyles:n,backgroundStyles:a}},"styles2String"),It=l((t,e)=>{var o;let{themeVariables:r,handDrawnSeed:i}=ve(),{nodeBorder:n,mainBkg:a}=r,{stylesMap:s}=Au(t);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||n,seed:i,strokeWidth:((o=s.get("stroke-width"))==null?void 0:o.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:F4e(s.get("stroke-dasharray"))},e)},"userNodeOverrides"),F4e=l(t=>{if(!t)return[0,0];let e=t.trim().split(/\s+/).map(Number);if(e.length===1){let n=isNaN(e[0])?0:e[0];return[n,n]}let r=isNaN(e[0])?0:e[0],i=isNaN(e[1])?0:e[1];return[r,i]},"getStrokeDashArray")});var z4e,jo,ri=wt(()=>{kt();z4e=Li(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLANK_URL=t.relativeFirstCharacters=t.whitespaceEscapeCharsRegex=t.urlSchemeRegex=t.ctrlCharactersRegex=t.htmlCtrlEntityRegex=t.htmlEntitiesRegex=t.invalidProtocolRegex=void 0,t.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,t.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,t.htmlCtrlEntityRegex=/&(newline|tab);/gi,t.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,t.urlSchemeRegex=/^.+(:|&colon;)/gim,t.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,t.relativeFirstCharacters=[".","/"],t.BLANK_URL="about:blank"}),jo=Li(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeUrl=void 0;var e=z4e();function r(o){return e.relativeFirstCharacters.indexOf(o[0])>-1}l(r,"isRelativeUrlWithoutProtocol");function i(o){var h=o.replace(e.ctrlCharactersRegex,"");return h.replace(e.htmlEntitiesRegex,function(u,d){return String.fromCharCode(d)})}l(i,"decodeHtmlCharacters");function n(o){return URL.canParse(o)}l(n,"isValidUrl");function a(o){try{return decodeURIComponent(o)}catch{return o}}l(a,"decodeURI");function s(o){if(!o)return e.BLANK_URL;var h,u=a(o.trim());do u=i(u).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),u=a(u),h=u.match(e.ctrlCharactersRegex)||u.match(e.htmlEntitiesRegex)||u.match(e.htmlCtrlEntityRegex)||u.match(e.whitespaceEscapeCharsRegex);while(h&&h.length>0);var d=u;if(!d)return e.BLANK_URL;if(r(d))return d;var p=d.trimStart(),g=p.match(e.urlSchemeRegex);if(!g)return d;var f=g[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(f))return e.BLANK_URL;var m=p.replace(/\\/g,"/");if(f==="mailto:"||f.includes("://"))return m;if(f==="http:"||f==="https:"){if(!n(m))return e.BLANK_URL;var y=new URL(m);return y.protocol=y.protocol.toLowerCase(),y.hostname=y.hostname.toLowerCase(),y.toString()}return m}l(s,"sanitizeUrl"),t.sanitizeUrl=s})});function KW(t){var e=W4e.call(t,J2),r=t[J2];try{t[J2]=void 0;var i=!0}catch{}var n=V4e.call(t);return i&&(e?t[J2]=r:delete t[J2]),n}function ZW(t){return X4e.call(t)}function QW(t){return t==null?t===void 0?Q4e:Z4e:$W&&$W in Object(t)?Y4e(t):K4e(t)}function JW(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function eV(t){if(!Yn(t))return!1;var e=no(t);return e==e3e||e==t3e||e==J4e||e==r3e}function tV(t){return!!BW&&BW in t}function rV(t){if(t!=null){try{return s3e.call(t)}catch{}try{return t+""}catch{}}return""}function iV(t){if(!Yn(t)||n3e(t))return!1;var e=Da(t)?p3e:l3e;return e.test(Kc(t))}function nV(t,e){return t==null?void 0:t[e]}function aV(t,e){var r=f3e(t,e);return g3e(r)?r:void 0}function sV(){this.__data__=tv?tv(null):{},this.size=0}function oV(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function lV(t){var e=this.__data__;if(tv){var r=e[t];return r===b3e?void 0:r}return w3e.call(e,t)?e[t]:void 0}function cV(t){var e=this.__data__;return tv?e[t]!==void 0:E3e.call(e,t)}function hV(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=tv&&e===void 0?S3e:e,this}function Lu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function uV(){this.__data__=[],this.size=0}function dV(t,e){return t===e||t!==t&&e!==e}function pV(t,e){for(var r=t.length;r--;)if(Nu(t[r][0],e))return r;return-1}function gV(t){var e=this.__data__,r=Z3(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():N3e.call(e,r,1),--this.size,!0}function fV(t){var e=this.__data__,r=Z3(e,t);return r<0?void 0:e[r][1]}function mV(t){return Z3(this.__data__,t)>-1}function yV(t,e){var r=this.__data__,i=Z3(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}function Iu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function vV(){this.size=0,this.__data__={hash:new PW,map:new(mp||Q3),string:new PW}}function bV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function xV(t,e){var r=t.__data__;return B3e(e)?r[typeof e=="string"?"string":"hash"]:r.map}function wV(t){var e=J3(this,t).delete(t);return this.size-=e?1:0,e}function kV(t){return J3(this,t).get(t)}function TV(t){return J3(this,t).has(t)}function EV(t,e){var r=J3(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}function Ru(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function e5(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(q3e);var r=l(function(){var i=arguments,n=e?e.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var s=t.apply(this,i);return r.cache=a.set(n,s)||a,s},"memoized");return r.cache=new(e5.Cache||iv),r}function CV(t){return function(){return t}}function SV(){this.__data__=new Q3,this.size=0}function _V(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function AV(t){return this.__data__.get(t)}function LV(t){return this.__data__.has(t)}function NV(t,e){var r=this.__data__;if(r instanceof Q3){var i=r.__data__;if(!mp||i.length<Y3e-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new iv(i)}return r.set(t,e),this.size=r.size,this}function Du(t){var e=this.__data__=new Q3(t);this.size=e.size}function IV(t,e,r){e=="__proto__"&&K3?K3(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function RV(t,e,r){(r!==void 0&&!Nu(t[e],r)||r===void 0&&!(e in t))&&vp(t,e,r)}function DV(t){return function(e,r,i){for(var n=-1,a=Object(e),s=i(e),o=s.length;o--;){var h=s[t?o:++n];if(r(a[h],h,a)===!1)break}return e}}function OV(t,e){if(e)return t.slice();var r=t.length,i=GW?GW(r):new t.constructor(r);return t.copy(i),i}function $V(t){var e=new t.constructor(t.byteLength);return new rv(e).set(new rv(t)),e}function BV(t,e){var r=e?r5(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function PV(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}function FV(t,e){return function(r){return t(e(r))}}function zV(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||i5e;return t===r}function GV(t){return typeof t.constructor=="function"&&!Ou(t)?t5e(i5(t)):{}}function qV(t){return t!=null&&typeof t=="object"}function UV(t){return ns(t)&&no(t)==n5e}function WV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=c5e}function VV(t){return t!=null&&n5(t.length)&&!Da(t)}function YV(t){return ns(t)&&as(t)}function HV(){return!1}function ZV(t){if(!ns(t)||no(t)!=g5e)return!1;var e=i5(t);if(e===null)return!0;var r=y5e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&KV.call(r)==v5e}function QV(t){return ns(t)&&n5(t.length)&&!!ci[no(t)]}function JV(t){return function(e){return t(e)}}function tY(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function rY(t,e,r){var i=t[e];(!(X5e.call(t,e)&&Nu(i,r))||r===void 0&&!(e in t))&&vp(t,e,r)}function iY(t,e,r,i){var n=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var o=e[a],h=i?i(r[o],t[o],o,r,t):void 0;h===void 0&&(h=t[o]),n?vp(r,o,h):xp(r,o,h)}return r}function nY(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}function aY(t,e){var r=typeof t;return e=e??Z5e,!!e&&(r=="number"||r!="symbol"&&Q5e.test(t))&&t>-1&&t%1==0&&t<e}function sY(t,e){var r=sr(t),i=!r&&Xc(t),n=!r&&!i&&Qc(t),a=!r&&!i&&!n&&bp(t),s=r||i||n||a,o=s?K5e(t.length,String):[],h=o.length;for(var u in t)(e||e6e.call(t,u))&&!(s&&(u=="length"||n&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||av(u,h)))&&o.push(u);return o}function oY(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}function lY(t){if(!Yn(t))return t6e(t);var e=Ou(t),r=[];for(var i in t)i=="constructor"&&(e||!i6e.call(t,i))||r.push(i);return r}function cY(t){return as(t)?pS(t,!0):n6e(t)}function hY(t){return Bu(t,Jc(t))}function uY(t,e,r,i,n,a,s){var o=oS(t,r),h=oS(e,r),u=s.get(h);if(u){sS(t,r,u);return}var d=a?a(o,h,r+"",t,e,s):void 0,p=d===void 0;if(p){var g=sr(h),f=!g&&Qc(h),m=!g&&!f&&bp(h);d=h,g||f||m?sr(o)?d=o:nv(o)?d=hS(o):f?(p=!1,d=lS(h,!0)):m?(p=!1,d=cS(h,!0)):d=[]:b5e(h)||Xc(h)?(d=o,Xc(o)?d=a6e(o):(!Yn(o)||Da(o))&&(d=dS(h))):p=!1}p&&(s.set(h,d),n(d,h,i,a,s),s.delete(h)),sS(t,r,d)}function gS(t,e,r,i,n){t!==e&&t5(e,function(a,s){if(n||(n=new Mu),Yn(a))s6e(t,e,s,r,gS,i,n);else{var o=i?i(oS(t,s),a,s+"",t,e,n):void 0;o===void 0&&(o=a),sS(t,s,o)}},Jc)}function dY(t){return t}function pY(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function gY(t,e,r){return e=YW(e===void 0?t.length-1:e,0),function(){for(var i=arguments,n=-1,a=YW(i.length-e,0),s=Array(a);++n<a;)s[n]=i[e+n];n=-1;for(var o=Array(e+1);++n<e;)o[n]=i[n];return o[e]=r(s),l6e(t,this,o)}}function fY(t){var e=0,r=0;return function(){var i=p6e(),n=d6e-(i-r);if(r=i,n>0){if(++e>=u6e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function mY(t,e){return mS(fS(t,e,ao),t+"")}function yY(t,e,r){if(!Yn(r))return!1;var i=typeof e;return(i=="number"?as(r)&&av(e,r.length):i=="string"&&e in r)?Nu(r[e],t):!1}function vY(t){return wp(function(e,r){var i=-1,n=r.length,a=n>1?r[n-1]:void 0,s=n>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(n--,a):void 0,s&&eh(r[0],r[1],s)&&(a=n<3?void 0:a,n=1),e=Object(e);++i<n;){var o=r[i];o&&t(e,o,i,a)}return e})}var G4e,HW,q4e,U4e,is,j4e,rs,XW,W4e,V4e,J2,Y4e,H4e,X4e,K4e,Z4e,Q4e,$W,no,Yn,J4e,e3e,t3e,r3e,Da,i3e,nS,BW,n3e,a3e,s3e,Kc,o3e,l3e,c3e,h3e,u3e,d3e,p3e,g3e,f3e,Zc,m3e,tv,y3e,v3e,b3e,x3e,w3e,k3e,T3e,E3e,C3e,S3e,_3e,PW,A3e,Nu,Z3,L3e,N3e,I3e,R3e,D3e,M3e,Q3,O3e,mp,$3e,B3e,J3,P3e,F3e,z3e,G3e,iv,q3e,yp,Wo,U3e,j3e,W3e,V3e,Y3e,H3e,Mu,X3e,K3,vp,sS,K3e,Z3e,t5,MV,FW,Q3e,zW,GW,lS,J3e,rv,r5,cS,hS,qW,e5e,t5e,uS,r5e,i5,i5e,Ou,dS,ns,n5e,UW,jV,a5e,s5e,o5e,Xc,l5e,sr,c5e,n5,as,nv,h5e,XV,jW,u5e,WW,d5e,p5e,Qc,g5e,f5e,m5e,KV,y5e,v5e,b5e,x5e,w5e,k5e,T5e,E5e,C5e,S5e,_5e,A5e,L5e,N5e,I5e,R5e,D5e,M5e,O5e,$5e,B5e,P5e,F5e,z5e,G5e,q5e,U5e,ci,j5e,$u,eY,ev,W5e,aS,V5e,Bl,VW,Y5e,bp,oS,H5e,X5e,xp,Bu,K5e,Z5e,Q5e,av,J5e,e6e,pS,t6e,r6e,i6e,n6e,Jc,a6e,s6e,o6e,ao,l6e,YW,fS,c6e,h6e,u6e,d6e,p6e,g6e,f6e,mS,wp,eh,yS,m6e,kp,br=wt(()=>{kt();G4e=typeof global=="object"&&global&&global.Object===Object&&global,HW=G4e,q4e=typeof self=="object"&&self&&self.Object===Object&&self,U4e=HW||q4e||Function("return this")(),is=U4e,j4e=is.Symbol,rs=j4e,XW=Object.prototype,W4e=XW.hasOwnProperty,V4e=XW.toString,J2=rs?rs.toStringTag:void 0;l(KW,"getRawTag");Y4e=KW,H4e=Object.prototype,X4e=H4e.toString;l(ZW,"objectToString");K4e=ZW,Z4e="[object Null]",Q4e="[object Undefined]",$W=rs?rs.toStringTag:void 0;l(QW,"baseGetTag");no=QW;l(JW,"isObject");Yn=JW,J4e="[object AsyncFunction]",e3e="[object Function]",t3e="[object GeneratorFunction]",r3e="[object Proxy]";l(eV,"isFunction");Da=eV,i3e=is["__core-js_shared__"],nS=i3e,BW=(function(){var t=/[^.]+$/.exec(nS&&nS.keys&&nS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();l(tV,"isMasked");n3e=tV,a3e=Function.prototype,s3e=a3e.toString;l(rV,"toSource");Kc=rV,o3e=/[\\^$.*+?()[\]{}|]/g,l3e=/^\[object .+?Constructor\]$/,c3e=Function.prototype,h3e=Object.prototype,u3e=c3e.toString,d3e=h3e.hasOwnProperty,p3e=RegExp("^"+u3e.call(d3e).replace(o3e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");l(iV,"baseIsNative");g3e=iV;l(nV,"getValue");f3e=nV;l(aV,"getNative");Zc=aV,m3e=Zc(Object,"create"),tv=m3e;l(sV,"hashClear");y3e=sV;l(oV,"hashDelete");v3e=oV,b3e="__lodash_hash_undefined__",x3e=Object.prototype,w3e=x3e.hasOwnProperty;l(lV,"hashGet");k3e=lV,T3e=Object.prototype,E3e=T3e.hasOwnProperty;l(cV,"hashHas");C3e=cV,S3e="__lodash_hash_undefined__";l(hV,"hashSet");_3e=hV;l(Lu,"Hash");Lu.prototype.clear=y3e;Lu.prototype.delete=v3e;Lu.prototype.get=k3e;Lu.prototype.has=C3e;Lu.prototype.set=_3e;PW=Lu;l(uV,"listCacheClear");A3e=uV;l(dV,"eq");Nu=dV;l(pV,"assocIndexOf");Z3=pV,L3e=Array.prototype,N3e=L3e.splice;l(gV,"listCacheDelete");I3e=gV;l(fV,"listCacheGet");R3e=fV;l(mV,"listCacheHas");D3e=mV;l(yV,"listCacheSet");M3e=yV;l(Iu,"ListCache");Iu.prototype.clear=A3e;Iu.prototype.delete=I3e;Iu.prototype.get=R3e;Iu.prototype.has=D3e;Iu.prototype.set=M3e;Q3=Iu,O3e=Zc(is,"Map"),mp=O3e;l(vV,"mapCacheClear");$3e=vV;l(bV,"isKeyable");B3e=bV;l(xV,"getMapData");J3=xV;l(wV,"mapCacheDelete");P3e=wV;l(kV,"mapCacheGet");F3e=kV;l(TV,"mapCacheHas");z3e=TV;l(EV,"mapCacheSet");G3e=EV;l(Ru,"MapCache");Ru.prototype.clear=$3e;Ru.prototype.delete=P3e;Ru.prototype.get=F3e;Ru.prototype.has=z3e;Ru.prototype.set=G3e;iv=Ru,q3e="Expected a function";l(e5,"memoize");e5.Cache=iv;yp=e5;l(CV,"constant");Wo=CV;l(SV,"stackClear");U3e=SV;l(_V,"stackDelete");j3e=_V;l(AV,"stackGet");W3e=AV;l(LV,"stackHas");V3e=LV,Y3e=200;l(NV,"stackSet");H3e=NV;l(Du,"Stack");Du.prototype.clear=U3e;Du.prototype.delete=j3e;Du.prototype.get=W3e;Du.prototype.has=V3e;Du.prototype.set=H3e;Mu=Du,X3e=(function(){try{var t=Zc(Object,"defineProperty");return t({},"",{}),t}catch{}})(),K3=X3e;l(IV,"baseAssignValue");vp=IV;l(RV,"assignMergeValue");sS=RV;l(DV,"createBaseFor");K3e=DV,Z3e=K3e(),t5=Z3e,MV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,FW=MV&&typeof module=="object"&&module&&!module.nodeType&&module,Q3e=FW&&FW.exports===MV,zW=Q3e?is.Buffer:void 0,GW=zW?zW.allocUnsafe:void 0;l(OV,"cloneBuffer");lS=OV,J3e=is.Uint8Array,rv=J3e;l($V,"cloneArrayBuffer");r5=$V;l(BV,"cloneTypedArray");cS=BV;l(PV,"copyArray");hS=PV,qW=Object.create,e5e=(function(){function t(){}return l(t,"object"),function(e){if(!Yn(e))return{};if(qW)return qW(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}})(),t5e=e5e;l(FV,"overArg");uS=FV,r5e=uS(Object.getPrototypeOf,Object),i5=r5e,i5e=Object.prototype;l(zV,"isPrototype");Ou=zV;l(GV,"initCloneObject");dS=GV;l(qV,"isObjectLike");ns=qV,n5e="[object Arguments]";l(UV,"baseIsArguments");UW=UV,jV=Object.prototype,a5e=jV.hasOwnProperty,s5e=jV.propertyIsEnumerable,o5e=UW((function(){return arguments})())?UW:function(t){return ns(t)&&a5e.call(t,"callee")&&!s5e.call(t,"callee")},Xc=o5e,l5e=Array.isArray,sr=l5e,c5e=9007199254740991;l(WV,"isLength");n5=WV;l(VV,"isArrayLike");as=VV;l(YV,"isArrayLikeObject");nv=YV;l(HV,"stubFalse");h5e=HV,XV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jW=XV&&typeof module=="object"&&module&&!module.nodeType&&module,u5e=jW&&jW.exports===XV,WW=u5e?is.Buffer:void 0,d5e=WW?WW.isBuffer:void 0,p5e=d5e||h5e,Qc=p5e,g5e="[object Object]",f5e=Function.prototype,m5e=Object.prototype,KV=f5e.toString,y5e=m5e.hasOwnProperty,v5e=KV.call(Object);l(ZV,"isPlainObject");b5e=ZV,x5e="[object Arguments]",w5e="[object Array]",k5e="[object Boolean]",T5e="[object Date]",E5e="[object Error]",C5e="[object Function]",S5e="[object Map]",_5e="[object Number]",A5e="[object Object]",L5e="[object RegExp]",N5e="[object Set]",I5e="[object String]",R5e="[object WeakMap]",D5e="[object ArrayBuffer]",M5e="[object DataView]",O5e="[object Float32Array]",$5e="[object Float64Array]",B5e="[object Int8Array]",P5e="[object Int16Array]",F5e="[object Int32Array]",z5e="[object Uint8Array]",G5e="[object Uint8ClampedArray]",q5e="[object Uint16Array]",U5e="[object Uint32Array]",ci={};ci[O5e]=ci[$5e]=ci[B5e]=ci[P5e]=ci[F5e]=ci[z5e]=ci[G5e]=ci[q5e]=ci[U5e]=!0;ci[x5e]=ci[w5e]=ci[D5e]=ci[k5e]=ci[M5e]=ci[T5e]=ci[E5e]=ci[C5e]=ci[S5e]=ci[_5e]=ci[A5e]=ci[L5e]=ci[N5e]=ci[I5e]=ci[R5e]=!1;l(QV,"baseIsTypedArray");j5e=QV;l(JV,"baseUnary");$u=JV,eY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ev=eY&&typeof module=="object"&&module&&!module.nodeType&&module,W5e=ev&&ev.exports===eY,aS=W5e&&HW.process,V5e=(function(){try{var t=ev&&ev.require&&ev.require("util").types;return t||aS&&aS.binding&&aS.binding("util")}catch{}})(),Bl=V5e,VW=Bl&&Bl.isTypedArray,Y5e=VW?$u(VW):j5e,bp=Y5e;l(tY,"safeGet");oS=tY,H5e=Object.prototype,X5e=H5e.hasOwnProperty;l(rY,"assignValue");xp=rY;l(iY,"copyObject");Bu=iY;l(nY,"baseTimes");K5e=nY,Z5e=9007199254740991,Q5e=/^(?:0|[1-9]\d*)$/;l(aY,"isIndex");av=aY,J5e=Object.prototype,e6e=J5e.hasOwnProperty;l(sY,"arrayLikeKeys");pS=sY;l(oY,"nativeKeysIn");t6e=oY,r6e=Object.prototype,i6e=r6e.hasOwnProperty;l(lY,"baseKeysIn");n6e=lY;l(cY,"keysIn");Jc=cY;l(hY,"toPlainObject");a6e=hY;l(uY,"baseMergeDeep");s6e=uY;l(gS,"baseMerge");o6e=gS;l(dY,"identity");ao=dY;l(pY,"apply");l6e=pY,YW=Math.max;l(gY,"overRest");fS=gY,c6e=K3?function(t,e){return K3(t,"toString",{configurable:!0,enumerable:!1,value:Wo(e),writable:!0})}:ao,h6e=c6e,u6e=800,d6e=16,p6e=Date.now;l(fY,"shortOut");g6e=fY,f6e=g6e(h6e),mS=f6e;l(mY,"baseRest");wp=mY;l(yY,"isIterateeCall");eh=yY;l(vY,"createAssigner");yS=vY,m6e=yS(function(t,e,r){o6e(t,e,r)}),kp=m6e});function s5(t,e){if(!t)return e;let r=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return v6e[r]??e}function TY(t,e){let r=t.trim();if(r)return e.securityLevel!=="loose"?(0,y6e.sanitizeUrl)(r):r}function bS(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function EY(t){let e,r=0;t.forEach(n=>{r+=bS(n,e),e=n});let i=r/2;return xS(t,i)}function CY(t){return t.length===1?t[0]:EY(t)}function SY(t,e,r){let i=structuredClone(r);ee.info("our points",i),e!=="start_left"&&e!=="start_right"&&i.reverse();let n=25+t,a=xS(i,n),s=10+t*.5,o=Math.atan2(i[0].y-a.y,i[0].x-a.x),h={x:0,y:0};return e==="start_left"?(h.x=Math.sin(o+Math.PI)*s+(i[0].x+a.x)/2,h.y=-Math.cos(o+Math.PI)*s+(i[0].y+a.y)/2):e==="end_right"?(h.x=Math.sin(o-Math.PI)*s+(i[0].x+a.x)/2-5,h.y=-Math.cos(o-Math.PI)*s+(i[0].y+a.y)/2-5):e==="end_left"?(h.x=Math.sin(o)*s+(i[0].x+a.x)/2-5,h.y=-Math.cos(o)*s+(i[0].y+a.y)/2-5):(h.x=Math.sin(o)*s+(i[0].x+a.x)/2,h.y=-Math.cos(o)*s+(i[0].y+a.y)/2),h}function o5(t){let e="",r="";for(let i of t)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?r=r+i+";":e=e+i+";");return{style:e,labelStyle:r}}function _Y(t){let e="",r="0123456789abcdef",i=r.length;for(let n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*i));return e}function sv(t,e){return ES(t,e).height}function En(t,e){return ES(t,e).width}function l5(t){return"str"in t}function Ti(t,e){return kp({},t,e)}function Cn(t){return t??null}function LY(t,e){let r=Math.round(t.x),i=Math.round(t.y),n=e.replace(/(\d+\.\d+)/g,a=>Math.round(parseFloat(a)).toString());return n.includes(r.toString())||n.includes(i.toString())}var y6e,vS,v6e,b6e,x6e,wY,kY,w6e,k6e,bY,xS,T6e,xY,wS,kS,E6e,C6e,TS,S6e,ES,Tp,_6e,a5,A6e,L6e,Vo,$t,AY,Ma,Yo,Hr=wt(()=>{ri();hr();lr();br();kt();y6e=fi(jo(),1),vS="\u200B",v6e={curveBasis:Hs,curveBasisClosed:sE,curveBasisOpen:lE,curveBumpX:h2,curveBumpY:u2,curveBundle:uz,curveCardinalClosed:dz,curveCardinalOpen:pz,curveCardinal:M4,curveCatmullRomClosed:gz,curveCatmullRomOpen:fz,curveCatmullRom:P4,curveLinear:du,curveLinearClosed:gE,curveMonotoneX:p2,curveMonotoneY:g2,curveNatural:f2,curveStep:y2,curveStepAfter:b2,curveStepBefore:v2},b6e=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,x6e=l(function(t,e){let r=wY(t,/(?:init\b)|(?:initialize\b)/),i={};if(Array.isArray(r)){let s=r.map(o=>o.args);z2(s),i=oi(i,[...s])}else i=r.args;if(!i)return;let n=G2(t,e),a="config";return i[a]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),i[n]=i[a],delete i[a]),i},"detectInit"),wY=l(function(t,e=null){var r,i;try{let n=new RegExp(`[%]{2}(?![{]${b6e.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),ee.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let a,s=[];for(;(a=cp.exec(t))!==null;)if(a.index===cp.lastIndex&&cp.lastIndex++,a&&!e||e&&((r=a[1])==null?void 0:r.match(e))||e&&((i=a[2])==null?void 0:i.match(e))){let o=a[1]?a[1]:a[2],h=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;s.push({type:o,args:h})}return s.length===0?{type:t,args:null}:s.length===1?s[0]:s}catch(n){return ee.error(`ERROR: ${n.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),kY=l(function(t){return t.replace(cp,"")},"removeDirectives"),w6e=l(function(t,e){for(let[r,i]of e.entries())if(i.match(t))return r;return-1},"isSubstringInArray");l(s5,"interpolateToCurve");l(TY,"formatUrl");k6e=l((t,...e)=>{let r=t.split("."),i=r.length-1,n=r[i],a=window;for(let s=0;s<i;s++)if(a=a[r[s]],!a){ee.error(`Function name: ${t} not found in window`);return}a[n](...e)},"runFunc");l(bS,"distance");l(EY,"traverseEdge");l(CY,"calcLabelPosition");bY=l((t,e=2)=>{let r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),xS=l((t,e)=>{let r,i=e;for(let n of t){if(r){let a=bS(n,r);if(a===0)return r;if(a<i)i-=a;else{let s=i/a;if(s<=0)return r;if(s>=1)return{x:n.x,y:n.y};if(s>0&&s<1)return{x:bY((1-s)*r.x+s*n.x,5),y:bY((1-s)*r.y+s*n.y,5)}}}r=n}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),T6e=l((t,e,r)=>{ee.info(`our points ${JSON.stringify(e)}`),e[0]!==r&&(e=e.reverse());let i=xS(e,25),n=t?10:5,a=Math.atan2(e[0].y-i.y,e[0].x-i.x),s={x:0,y:0};return s.x=Math.sin(a)*n+(e[0].x+i.x)/2,s.y=-Math.cos(a)*n+(e[0].y+i.y)/2,s},"calcCardinalityPosition");l(SY,"calcTerminalLabelPosition");l(o5,"getStylesFromArray");xY=0,wS=l(()=>(xY++,"id-"+Math.random().toString(36).substr(2,12)+"-"+xY),"generateId");l(_Y,"makeRandomHex");kS=l(t=>_Y(t.length),"random"),E6e=l(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),C6e=l(function(t,e){let r=e.text.replace(Ke.lineBreakRegex," "),[,i]=Vo(e.fontSize),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.style("text-anchor",e.anchor),n.style("font-family",e.fontFamily),n.style("font-size",i),n.style("font-weight",e.fontWeight),n.attr("fill",e.fill),e.class!==void 0&&n.attr("class",e.class);let a=n.append("tspan");return a.attr("x",e.x+e.textMargin*2),a.attr("fill",e.fill),a.text(r),n},"drawSimpleText"),TS=yp((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Ke.lineBreakRegex.test(t)))return t;let i=t.split(" ").filter(Boolean),n=[],a="";return i.forEach((s,o)=>{let h=En(`${s} `,r),u=En(a,r);if(h>e){let{hyphenatedStrings:d,remainingWord:p}=S6e(s,e,"-",r);n.push(a,...d),a=p}else u+h>=e?(n.push(a),a=s):a=[a,s].filter(Boolean).join(" ");o+1===i.length&&n.push(a)}),n.filter(s=>s!=="").join(r.joinWith)},(t,e,r)=>`${t}${e}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),S6e=yp((t,e,r="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);let n=[...t],a=[],s="";return n.forEach((o,h)=>{let u=`${s}${o}`;if(En(u,i)>=e){let d=h+1,p=n.length===d,g=`${u}${r}`;a.push(p?u:g),s=""}else s=u}),{hyphenatedStrings:a,remainingWord:s}},(t,e,r="-",i)=>`${t}${e}${r}${i.fontSize}${i.fontWeight}${i.fontFamily}`);l(sv,"calculateTextHeight");l(En,"calculateTextWidth");ES=yp((t,e)=>{let{fontSize:r=12,fontFamily:i="Arial",fontWeight:n=400}=e;if(!t)return{width:0,height:0};let[,a]=Vo(r),s=["sans-serif",i],o=t.split(Ke.lineBreakRegex),h=[],u=Ue("body");if(!u.remove)return{width:0,height:0,lineHeight:0};let d=u.append("svg");for(let g of s){let f=0,m={width:0,height:0,lineHeight:0};for(let y of o){let b=E6e();b.text=y||vS;let v=C6e(d,b).style("font-size",a).style("font-weight",n).style("font-family",g),x=(v._groups||v)[0][0].getBBox();if(x.width===0&&x.height===0)throw new Error("svg element not in render tree");m.width=Math.round(Math.max(m.width,x.width)),f=Math.round(x.height),m.height+=f,m.lineHeight=Math.round(Math.max(m.lineHeight,f))}h.push(m)}d.remove();let p=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[p]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),_6e=(Tp=class{constructor(e=!1,r){this.count=0,this.count=r?r.length:0,this.next=e?()=>this.count++:()=>Date.now()}},l(Tp,"InitIDGenerator"),Tp),A6e=l(function(t){return a5=a5||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),a5.innerHTML=t,unescape(a5.textContent)},"entityDecode");l(l5,"isDetailedError");L6e=l((t,e,r,i)=>{var a;if(!i)return;let n=(a=t.node())==null?void 0:a.getBBox();n&&t.append("text").text(i).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-r).attr("class",e)},"insertTitle"),Vo=l(t=>{if(typeof t=="number")return[t,t+"px"];let e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");l(Ti,"cleanAndMerge");$t={assignWithDepth:oi,wrapLabel:TS,calculateTextHeight:sv,calculateTextWidth:En,calculateTextDimensions:ES,cleanAndMerge:Ti,detectInit:x6e,detectDirective:wY,isSubstringInArray:w6e,interpolateToCurve:s5,calcLabelPosition:CY,calcCardinalityPosition:T6e,calcTerminalLabelPosition:SY,formatUrl:TY,getStylesFromArray:o5,generateId:wS,random:kS,runFunc:k6e,entityDecode:A6e,insertTitle:L6e,isLabelCoordinateInPath:LY,parseFontSize:Vo,InitIDGenerator:_6e},AY=l(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),e=e.replace(/#\w+;/g,function(r){let i=r.substring(1,r.length-1);return/^\+?\d+$/.test(i)?"\uFB02\xB0\xB0"+i+"\xB6\xDF":"\uFB02\xB0"+i+"\xB6\xDF"}),e},"encodeEntities"),Ma=l(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),Yo=l((t,e,{counter:r=0,prefix:i,suffix:n},a)=>a||`${i?`${i}_`:""}${t}_${e}_${r}${n?`_${n}`:""}`,"getEdgeId");l(Cn,"handleUndefinedAttr");l(LY,"isLabelCoordinateInPath")});function DY(t,e){let r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);let i=((t.rotate||0)+(e.rotate||0))%4;return i&&(r.rotate=i),r}function SS(t,e){let r=DY(t,e);for(let i in I6e)i in h5?i in t&&!(i in r)&&(r[i]=h5[i]):i in e?r[i]=e[i]:i in t&&(r[i]=t[i]);return r}function MY(t,e){let r=t.icons,i=t.aliases||Object.create(null),n=Object.create(null);function a(s){if(r[s])return n[s]=[];if(!(s in n)){n[s]=null;let o=i[s]&&i[s].parent,h=o&&a(o);h&&(n[s]=[o].concat(h))}return n[s]}return l(a,"resolve"),(e||Object.keys(r).concat(Object.keys(i))).forEach(a),n}function _S(t,e,r){let i=t.icons,n=t.aliases||Object.create(null),a={};function s(o){a=SS(i[o]||n[o],a)}return l(s,"parse"),s(e),r.forEach(s),SS(t,a)}function OY(t,e){if(t.icons[e])return _S(t,e,[]);let r=MY(t,[e])[e];return r?_S(t,e,r):null}function AS(t,e,r){if(e===1)return t;if(r=r||100,typeof t=="number")return Math.ceil(t*e*r)/r;if(typeof t!="string")return t;let i=t.split(O6e);if(i===null||!i.length)return t;let n=[],a=i.shift(),s=$6e.test(a);for(;;){if(s){let o=parseFloat(a);isNaN(o)?n.push(a):n.push(Math.ceil(o*e*r)/r)}else n.push(a);if(a=i.shift(),a===void 0)return n.join("");s=!s}}function $Y(t,e="defs"){let r="",i=t.indexOf("<"+e);for(;i>=0;){let n=t.indexOf(">",i),a=t.indexOf("</"+e);if(n===-1||a===-1)break;let s=t.indexOf(">",a);if(s===-1)break;r+=t.slice(n+1,a).trim(),t=t.slice(0,i).trim()+t.slice(s+1)}return{defs:r,content:t}}function BY(t,e){return t?"<defs>"+t+"</defs>"+e:e}function PY(t,e,r){let i=$Y(t);return BY(i.defs,e+i.content+r)}function FY(t,e){let r={...RY,...t},i={...D6e,...e},n={left:r.left,top:r.top,width:r.width,height:r.height},a=r.body;[r,i].forEach(y=>{let b=[],v=y.hFlip,x=y.vFlip,w=y.rotate;v?x?w+=2:(b.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),b.push("scale(-1 1)"),n.top=n.left=0):x&&(b.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),b.push("scale(1 -1)"),n.top=n.left=0);let k;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:k=n.height/2+n.top,b.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:b.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:k=n.width/2+n.left,b.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}w%2===1&&(n.left!==n.top&&(k=n.left,n.left=n.top,n.top=k),n.width!==n.height&&(k=n.width,n.width=n.height,n.height=k)),b.length&&(a=PY(a,'<g transform="'+b.join(" ")+'">',"</g>"))});let s=i.width,o=i.height,h=n.width,u=n.height,d,p;s===null?(p=o===null?"1em":o==="auto"?u:o,d=AS(p,h/u)):(d=s==="auto"?h:s,p=o===null?AS(d,u/h):o==="auto"?u:o);let g={},f=l((y,b)=>{B6e(b)||(g[y]=b.toString())},"setAttr");f("width",d),f("height",p);let m=[n.left,n.top,h,u];return g.viewBox=m.join(" "),{attributes:g,viewBox:m,body:a}}function zY(t,e=F6e){let r=[],i;for(;i=P6e.exec(t);)r.push(i[1]);if(!r.length)return t;let n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{let s=typeof e=="function"?e(a):e+(z6e++).toString(),o=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+n+"$3")}),t=t.replace(new RegExp(n,"g"),""),t}function GY(t,e){let r=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let i in e)r+=" "+i+'="'+e[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}function m5(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=Array.from(typeof t=="string"?[t]:t);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var n=i.reduce(function(o,h){var u=h.match(/\n([\t ]+|(?!\s).)/g);return u?o.concat(u.map(function(d){var p,g;return(g=(p=d.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0})):o},[]);if(n.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,n)+"}","g");i=i.map(function(o){return o.replace(a,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var s=i[0];return e.forEach(function(o,h){var u=s.match(/(?:^|\n)( *)$/),d=u?u[1]:"",p=o;typeof o=="string"&&o.includes(`
`)&&(p=String(o).split(`
`).map(function(g,f){return f===0?g:""+d+g}).join(`
`)),s+=p+i[h+1]}),s}function y5(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function $S(t){Fu=t}function zr(t,e=""){let r=typeof t=="string"?t:t.source,i={replace:l((n,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(pa.caret,"$1"),r=r.replace(n,s),i},"replace"),getRegex:l(()=>new RegExp(r,e),"getRegex")};return i}function so(t,e){if(e){if(pa.escapeTest.test(t))return t.replace(pa.escapeReplace,IY)}else if(pa.escapeTestNoEncode.test(t))return t.replace(pa.escapeReplaceNoEncode,IY);return t}function IS(t){try{t=encodeURI(t).replace(pa.percentDecode,"%")}catch{return null}return t}function RS(t,e){var a;let r=t.replace(pa.findPipe,(s,o,h)=>{let u=!1,d=o;for(;--d>=0&&h[d]==="\\";)u=!u;return u?"|":" |"}),i=r.split(pa.splitPipe),n=0;if(i[0].trim()||i.shift(),i.length>0&&!((a=i.at(-1))!=null&&a.trim())&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(pa.slashPipe,"|");return i}function Ep(t,e,r){let i=t.length;if(i===0)return"";let n=0;for(;n<i;){let a=t.charAt(i-n-1);if(a===e&&!r)n++;else if(a!==e&&r)n++;else break}return t.slice(0,i-n)}function eH(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let i=0;i<t.length;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return r>0?-2:-1}function DS(t,e,r,i,n){let a=e.href,s=e.title||null,o=t[1].replace(n.other.outputLinkReplace,"$1");i.state.inLink=!0;let h={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:a,title:s,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,h}function tH(t,e,r){let i=t.match(r.other.indentCodeCompensation);if(i===null)return e;let n=i[1];return e.split(`
`).map(a=>{let s=a.match(r.other.beginningSpace);if(s===null)return a;let[o]=s;return o.length>=n.length?a.slice(n.length):a}).join(`
`)}function Fr(t,e){return Pu.parse(t,e)}function rH(t,{markdownAutoWrap:e}){let r=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=m5(r);return e===!1?i.replace(/ /g,"&nbsp;"):i}function iH(t,e={}){let r=rH(t,e),i=Fr.lexer(r),n=[[]],a=0;function s(o,h="normal"){o.type==="text"?o.text.split(`
`).forEach((u,d)=>{d!==0&&(a++,n.push([])),u.split(" ").forEach(p=>{p=p.replace(/&#39;/g,"'"),p&&n[a].push({content:p,type:h})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(u=>{s(u,o.type)}):o.type==="html"&&n[a].push({content:o.text,type:"normal"})}return l(s,"processNode"),i.forEach(o=>{var h;o.type==="paragraph"?(h=o.tokens)==null||h.forEach(u=>{s(u)}):o.type==="html"?n[a].push({content:o.text,type:"normal"}):n[a].push({content:o.raw,type:"normal"})}),n}function nH(t,{markdownAutoWrap:e}={}){let r=Fr.lexer(t);function i(n){var a,s,o;return n.type==="text"?e===!1?n.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):n.text.replace(/\n */g,"<br/>"):n.type==="strong"?`<strong>${(a=n.tokens)==null?void 0:a.map(i).join("")}</strong>`:n.type==="em"?`<em>${(s=n.tokens)==null?void 0:s.map(i).join("")}</em>`:n.type==="paragraph"?`<p>${(o=n.tokens)==null?void 0:o.map(i).join("")}</p>`:n.type==="space"?"":n.type==="html"?`${n.text}`:n.type==="escape"?n.text:(ee.warn(`Unsupported markdown: ${n.type}`),n.raw)}return l(i,"output"),r.map(i).join("")}function aH(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}function sH(t,e){let r=aH(e.content);return WS(t,[],r,e.type)}function WS(t,e,r,i){if(r.length===0)return[{content:e.join(""),type:i},{content:"",type:i}];let[n,...a]=r,s=[...e,n];return t([{content:s.join(""),type:i}])?WS(t,s,a,i):(e.length===0&&n&&(e.push(n),r.shift()),[{content:e.join(""),type:i},{content:r.join(""),type:i}])}function oH(t,e){if(t.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return g5(t,e)}function g5(t,e,r=[],i=[]){if(t.length===0)return i.length>0&&r.push(i),r.length>0?r:[];let n="";t[0].content===" "&&(n=" ",t.shift());let a=t.shift()??{content:" ",type:"normal"},s=[...i];if(n!==""&&s.push({content:n,type:"normal"}),s.push(a),e(s))return g5(t,e,r,s);if(i.length>0)r.push(i),t.unshift(a);else if(a.content){let[o,h]=sH(e,a);r.push([o]),h.content&&t.unshift(h)}return g5(t,e,r)}function MS(t,e){e&&t.attr("style",e)}async function lH(t,e,r,i,n=!1,a=ir()){let s=t.append("foreignObject");s.attr("width",`${10*r}px`),s.attr("height",`${10*r}px`);let o=s.append("xhtml:div"),h=li(e.label)?await jc(e.label.replace(Ke.lineBreakRegex,`
`),a):tr(e.label,a),u=e.isNode?"nodeLabel":"edgeLabel",d=o.append("span");d.html(h),MS(d,e.labelStyle),d.attr("class",`${u} ${i}`),MS(o,e.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",r+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),n&&o.attr("class","labelBkg");let p=o.node().getBoundingClientRect();return p.width===r&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",r+"px"),p=o.node().getBoundingClientRect()),s.node()}function x5(t,e,r){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*r-.1+"em").attr("dy",r+"em")}function cH(t,e,r){let i=t.append("text"),n=x5(i,1,e);w5(n,r);let a=n.node().getComputedTextLength();return i.remove(),a}function VS(t,e,r){var s;let i=t.append("text"),n=x5(i,1,e);w5(n,[{content:r,type:"normal"}]);let a=(s=n.node())==null?void 0:s.getBoundingClientRect();return a&&i.remove(),a}function hH(t,e,r,i=!1){let n=e.append("g"),a=n.insert("rect").attr("class","background").attr("style","stroke: none"),s=n.append("text").attr("y","-10.1"),o=0;for(let h of r){let u=l(p=>cH(n,1.1,p)<=t,"checkWidth"),d=u(h)?[h]:oH(h,u);for(let p of d){let g=x5(s,o,1.1);w5(g,p),o++}}if(i){let h=s.node().getBBox(),u=2;return a.attr("x",h.x-u).attr("y",h.y-u).attr("width",h.width+2*u).attr("height",h.height+2*u),n.node()}else return s.node()}function w5(t,e){t.text(""),e.forEach((r,i)=>{let n=t.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");i===0?n.text(r.content):n.text(" "+r.content)})}async function k5(t,e={}){let r=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(n,a,s)=>(r.push((async()=>{let o=`${a}:${s}`;return await G6e(o)?await Ho(o,void 0,{class:"label-icon"}):`<i class='${tr(n,e).replace(":"," ")}'></i>`})()),n));let i=await Promise.all(r);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}var N6e,h5,RY,I6e,R6e,D6e,M6e,CS,O6e,$6e,B6e,P6e,F6e,z6e,OS,LS,qY,f5,UY,G6e,Ho,Fu,cv,pa,q6e,U6e,j6e,hv,W6e,BS,jY,WY,V6e,PS,Y6e,FS,H6e,X6e,v5,zS,K6e,VY,Z6e,GS,NY,Q6e,J6e,ewe,twe,YY,rwe,b5,qS,HY,iwe,XY,nwe,awe,swe,KY,owe,lwe,ZY,cwe,hwe,uwe,dwe,pwe,gwe,fwe,u5,mwe,QY,JY,ywe,US,vwe,NS,bwe,c5,ov,xwe,IY,Cp,d5,rh,Pl,Sp,p5,_p,jS,ih,Fl,th,lv,Ap,wwe,Pu,Kje,Zje,Qje,Jje,eWe,tWe,rWe,Sn,_n=wt(()=>{Hr();hr();lr();kt();N6e=Object.freeze({left:0,top:0,width:16,height:16}),h5=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),RY=Object.freeze({...N6e,...h5}),I6e=Object.freeze({...RY,body:"",hidden:!1}),R6e=Object.freeze({width:null,height:null}),D6e=Object.freeze({...R6e,...h5}),M6e=l((t,e,r,i="")=>{let n=t.split(":");if(t.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;i=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){let o=n.pop(),h=n.pop(),u={provider:n.length>0?n[0]:i,prefix:h,name:o};return e&&!CS(u)?null:u}let a=n[0],s=a.split("-");if(s.length>1){let o={provider:i,prefix:s.shift(),name:s.join("-")};return e&&!CS(o)?null:o}if(r&&i===""){let o={provider:i,prefix:"",name:a};return e&&!CS(o,r)?null:o}return null},"stringToIcon"),CS=l((t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,"validateIconName");l(DY,"mergeIconTransformations");l(SS,"mergeIconData");l(MY,"getIconsTree");l(_S,"internalGetIconData");l(OY,"getIconData");O6e=/(-?[0-9.]*[0-9]+[0-9.]*)/g,$6e=/^-?[0-9.]*[0-9]+[0-9.]*$/g;l(AS,"calculateSize");l($Y,"splitSVGDefs");l(BY,"mergeDefsAndContent");l(PY,"wrapSVGContent");B6e=l(t=>t==="unset"||t==="undefined"||t==="none","isUnsetKeyword");l(FY,"iconToSVG");P6e=/\sid="(\S+)"/g,F6e="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16),z6e=0;l(zY,"replaceIDs");l(GY,"iconToHTML");OS={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},LS=new Map,qY=new Map,f5=l(t=>{for(let e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(ee.debug("Registering icon pack:",e.name),"loader"in e)qY.set(e.name,e.loader);else if("icons"in e)LS.set(e.name,e.icons);else throw ee.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),UY=l(async(t,e)=>{let r=M6e(t,!0,e!==void 0);if(!r)throw new Error(`Invalid icon name: ${t}`);let i=r.prefix||e;if(!i)throw new Error(`Icon name must contain a prefix: ${t}`);let n=LS.get(i);if(!n){let s=qY.get(i);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{n={...await s(),prefix:i},LS.set(i,n)}catch(o){throw ee.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}let a=OY(n,r.name);if(!a)throw new Error(`Icon not found: ${t}`);return a},"getRegisteredIconData"),G6e=l(async t=>{try{return await UY(t),!0}catch{return!1}},"isIconAvailable"),Ho=l(async(t,e,r)=>{let i;try{i=await UY(t,e==null?void 0:e.fallbackPrefix)}catch(s){ee.error(s),i=OS}let n=FY(i,e),a=GY(zY(n.body),{...n.attributes,...r});return tr(a,ir())},"getIconSVG");l(m5,"dedent");l(y5,"L");Fu=y5();l($S,"G");cv={exec:l(()=>null,"exec")};l(zr,"h");pa={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:l(t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:l(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:l(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:l(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:l(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),"headingBeginRegex"),htmlBeginRegex:l(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")},q6e=/^(?:[ \t]*(?:\n|$))+/,U6e=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,j6e=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hv=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,W6e=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,BS=/(?:[*+-]|\d{1,9}[.)])/,jY=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,WY=zr(jY).replace(/bull/g,BS).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),V6e=zr(jY).replace(/bull/g,BS).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),PS=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Y6e=/^[^\n]+/,FS=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,H6e=zr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",FS).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),X6e=zr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,BS).getRegex(),v5="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",zS=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,K6e=zr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",zS).replace("tag",v5).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),VY=zr(PS).replace("hr",hv).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v5).getRegex(),Z6e=zr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",VY).getRegex(),GS={blockquote:Z6e,code:U6e,def:H6e,fences:j6e,heading:W6e,hr:hv,html:K6e,lheading:WY,list:X6e,newline:q6e,paragraph:VY,table:cv,text:Y6e},NY=zr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hv).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v5).getRegex(),Q6e={...GS,lheading:V6e,table:NY,paragraph:zr(PS).replace("hr",hv).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",NY).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v5).getRegex()},J6e={...GS,html:zr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",zS).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cv,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:zr(PS).replace("hr",hv).replace("heading",` *#{1,6} *[^
]`).replace("lheading",WY).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ewe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,twe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,YY=/^( {2,}|\\)\n(?!\s*$)/,rwe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,b5=/[\p{P}\p{S}]/u,qS=/[\s\p{P}\p{S}]/u,HY=/[^\s\p{P}\p{S}]/u,iwe=zr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,qS).getRegex(),XY=/(?!~)[\p{P}\p{S}]/u,nwe=/(?!~)[\s\p{P}\p{S}]/u,awe=/(?:[^\s\p{P}\p{S}]|~)/u,swe=/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,KY=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,owe=zr(KY,"u").replace(/punct/g,b5).getRegex(),lwe=zr(KY,"u").replace(/punct/g,XY).getRegex(),ZY="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",cwe=zr(ZY,"gu").replace(/notPunctSpace/g,HY).replace(/punctSpace/g,qS).replace(/punct/g,b5).getRegex(),hwe=zr(ZY,"gu").replace(/notPunctSpace/g,awe).replace(/punctSpace/g,nwe).replace(/punct/g,XY).getRegex(),uwe=zr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,HY).replace(/punctSpace/g,qS).replace(/punct/g,b5).getRegex(),dwe=zr(/\\(punct)/,"gu").replace(/punct/g,b5).getRegex(),pwe=zr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),gwe=zr(zS).replace("(?:-->|$)","-->").getRegex(),fwe=zr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",gwe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),u5=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,mwe=zr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",u5).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),QY=zr(/^!?\[(label)\]\[(ref)\]/).replace("label",u5).replace("ref",FS).getRegex(),JY=zr(/^!?\[(ref)\](?:\[\])?/).replace("ref",FS).getRegex(),ywe=zr("reflink|nolink(?!\\()","g").replace("reflink",QY).replace("nolink",JY).getRegex(),US={_backpedal:cv,anyPunctuation:dwe,autolink:pwe,blockSkip:swe,br:YY,code:twe,del:cv,emStrongLDelim:owe,emStrongRDelimAst:cwe,emStrongRDelimUnd:uwe,escape:ewe,link:mwe,nolink:JY,punctuation:iwe,reflink:QY,reflinkSearch:ywe,tag:fwe,text:rwe,url:cv},vwe={...US,link:zr(/^!?\[(label)\]\((.*?)\)/).replace("label",u5).getRegex(),reflink:zr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",u5).getRegex()},NS={...US,emStrongRDelimAst:hwe,emStrongLDelim:lwe,url:zr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},bwe={...NS,br:zr(YY).replace("{2,}","*").getRegex(),text:zr(NS.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},c5={normal:GS,gfm:Q6e,pedantic:J6e},ov={normal:US,gfm:NS,breaks:bwe,pedantic:vwe},xwe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},IY=l(t=>xwe[t],"ke");l(so,"w");l(IS,"J");l(RS,"V");l(Ep,"z");l(eH,"ge");l(DS,"fe");l(tH,"Je");d5=(Cp=class{constructor(e){wr(this,"options");wr(this,"rules");wr(this,"lexer");this.options=e||Fu}space(e){let r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){let r=this.rules.block.code.exec(e);if(r){let i=r[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Ep(i,`
`)}}}fences(e){let r=this.rules.block.fences.exec(e);if(r){let i=r[0],n=tH(i,r[3]||"",this.rules);return{type:"code",raw:i,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:n}}}heading(e){let r=this.rules.block.heading.exec(e);if(r){let i=r[2].trim();if(this.rules.other.endingHash.test(i)){let n=Ep(i,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(i=n.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){let r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:Ep(r[0],`
`)}}blockquote(e){let r=this.rules.block.blockquote.exec(e);if(r){let i=Ep(r[0],`
`).split(`
`),n="",a="",s=[];for(;i.length>0;){let o=!1,h=[],u;for(u=0;u<i.length;u++)if(this.rules.other.blockquoteStart.test(i[u]))h.push(i[u]),o=!0;else if(!o)h.push(i[u]);else break;i=i.slice(u);let d=h.join(`
`),p=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${d}`:d,a=a?`${a}
${p}`:p;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,s,!0),this.lexer.state.top=g,i.length===0)break;let f=s.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){let m=f,y=m.raw+`
`+i.join(`
`),b=this.blockquote(y);s[s.length-1]=b,n=n.substring(0,n.length-m.raw.length)+b.raw,a=a.substring(0,a.length-m.text.length)+b.text;break}else if((f==null?void 0:f.type)==="list"){let m=f,y=m.raw+`
`+i.join(`
`),b=this.list(y);s[s.length-1]=b,n=n.substring(0,n.length-f.raw.length)+b.raw,a=a.substring(0,a.length-m.raw.length)+b.raw,i=y.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:a}}}list(e){let r=this.rules.block.list.exec(e);if(r){let i=r[1].trim(),n=i.length>1,a={type:"list",raw:"",ordered:n,start:n?+i.slice(0,-1):"",loose:!1,items:[]};i=n?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=n?i:"[*+-]");let s=this.rules.other.listItemRegex(i),o=!1;for(;e;){let u=!1,d="",p="";if(!(r=s.exec(e))||this.rules.block.hr.test(e))break;d=r[0],e=e.substring(d.length);let g=r[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),f=e.split(`
`,1)[0],m=!g.trim(),y=0;if(this.options.pedantic?(y=2,p=g.trimStart()):m?y=r[1].length+1:(y=r[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,p=g.slice(y),y+=r[1].length),m&&this.rules.other.blankLine.test(f)&&(d+=f+`
`,e=e.substring(f.length+1),u=!0),!u){let x=this.rules.other.nextBulletRegex(y),w=this.rules.other.hrRegex(y),k=this.rules.other.fencesBeginRegex(y),T=this.rules.other.headingBeginRegex(y),S=this.rules.other.htmlBeginRegex(y);for(;e;){let C=e.split(`
`,1)[0],E;if(f=C,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),E=f):E=f.replace(this.rules.other.tabCharGlobal,"    "),k.test(f)||T.test(f)||S.test(f)||x.test(f)||w.test(f))break;if(E.search(this.rules.other.nonSpaceChar)>=y||!f.trim())p+=`
`+E.slice(y);else{if(m||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(g)||T.test(g)||w.test(g))break;p+=`
`+f}!m&&!f.trim()&&(m=!0),d+=C+`
`,e=e.substring(C.length+1),g=E.slice(y)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(o=!0));let b=null,v;this.options.gfm&&(b=this.rules.other.listIsTask.exec(p),b&&(v=b[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:d,task:!!b,checked:v,loose:!1,text:p,tokens:[]}),a.raw+=d}let h=a.items.at(-1);if(h)h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let u=0;u<a.items.length;u++)if(this.lexer.state.top=!1,a.items[u].tokens=this.lexer.blockTokens(a.items[u].text,[]),!a.loose){let d=a.items[u].tokens.filter(g=>g.type==="space"),p=d.length>0&&d.some(g=>this.rules.other.anyLine.test(g.raw));a.loose=p}if(a.loose)for(let u=0;u<a.items.length;u++)a.items[u].loose=!0;return a}}html(e){let r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){let r=this.rules.block.def.exec(e);if(r){let i=r[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=r[2]?r[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:i,raw:r[0],href:n,title:a}}}table(e){var o;let r=this.rules.block.table.exec(e);if(!r||!this.rules.other.tableDelimiter.test(r[2]))return;let i=RS(r[1]),n=r[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=(o=r[3])!=null&&o.trim()?r[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:r[0],header:[],align:[],rows:[]};if(i.length===n.length){for(let h of n)this.rules.other.tableAlignRight.test(h)?s.align.push("right"):this.rules.other.tableAlignCenter.test(h)?s.align.push("center"):this.rules.other.tableAlignLeft.test(h)?s.align.push("left"):s.align.push(null);for(let h=0;h<i.length;h++)s.header.push({text:i[h],tokens:this.lexer.inline(i[h]),header:!0,align:s.align[h]});for(let h of a)s.rows.push(RS(h,s.header.length).map((u,d)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:s.align[d]})));return s}}lheading(e){let r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){let r=this.rules.block.paragraph.exec(e);if(r){let i=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:i,tokens:this.lexer.inline(i)}}}text(e){let r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){let r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:r[1]}}tag(e){let r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&this.rules.other.startATag.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){let r=this.rules.inline.link.exec(e);if(r){let i=r[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let s=Ep(i.slice(0,-1),"\\");if((i.length-s.length)%2===0)return}else{let s=eH(r[2],"()");if(s===-2)return;if(s>-1){let o=(r[0].indexOf("!")===0?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,o).trim(),r[3]=""}}let n=r[2],a="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],a=s[3])}else a=r[3]?r[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?n=n.slice(1):n=n.slice(1,-1)),DS(r,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer,this.rules)}}reflink(e,r){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let n=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=r[n.toLowerCase()];if(!a){let s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return DS(i,a,i[0],this.lexer,this.rules)}}emStrong(e,r,i=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!i||this.rules.inline.punctuation.exec(i))){let a=[...n[0]].length-1,s,o,h=a,u=0,d=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,r=r.slice(-1*e.length+a);(n=d.exec(r))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(o=[...s].length,n[3]||n[4]){h+=o;continue}else if((n[5]||n[6])&&a%3&&!((a+o)%3)){u+=o;continue}if(h-=o,h>0)continue;o=Math.min(o,o+h+u);let p=[...n[0]][0].length,g=e.slice(0,a+n.index+p+o);if(Math.min(a,o)%2){let m=g.slice(1,-1);return{type:"em",raw:g,text:m,tokens:this.lexer.inlineTokens(m)}}let f=g.slice(2,-2);return{type:"strong",raw:g,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){let r=this.rules.inline.code.exec(e);if(r){let i=r[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(i),a=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return n&&a&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:r[0],text:i}}}br(e){let r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){let r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){let r=this.rules.inline.autolink.exec(e);if(r){let i,n;return r[2]==="@"?(i=r[1],n="mailto:"+i):(i=r[1],n=i),{type:"link",raw:r[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}}}url(e){var i;let r;if(r=this.rules.inline.url.exec(e)){let n,a;if(r[2]==="@")n=r[0],a="mailto:"+n;else{let s;do s=r[0],r[0]=((i=this.rules.inline._backpedal.exec(r[0]))==null?void 0:i[0])??"";while(s!==r[0]);n=r[0],r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let r=this.rules.inline.text.exec(e);if(r){let i=this.lexer.state.inRawBlock;return{type:"text",raw:r[0],text:r[0],escaped:i}}}},l(Cp,"y"),Cp),Pl=(rh=class{constructor(e){wr(this,"tokens");wr(this,"options");wr(this,"state");wr(this,"tokenizer");wr(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Fu,this.options.tokenizer=this.options.tokenizer||new d5,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={other:pa,block:c5.normal,inline:ov.normal};this.options.pedantic?(r.block=c5.pedantic,r.inline=ov.pedantic):this.options.gfm&&(r.block=c5.gfm,this.options.breaks?r.inline=ov.breaks:r.inline=ov.gfm),this.tokenizer.rules=r}static get rules(){return{block:c5,inline:ov}}static lex(e,r){return new rh(r).lex(e)}static lexInline(e,r){return new rh(r).inlineTokens(e)}lex(e){e=e.replace(pa.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let i=this.inlineQueue[r];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],i=!1){var n,a,s;for(this.options.pedantic&&(e=e.replace(pa.tabCharGlobal,"    ").replace(pa.spaceLine,""));e;){let o;if((a=(n=this.options.extensions)==null?void 0:n.block)!=null&&a.some(u=>(o=u.call({lexer:this},e,r))?(e=e.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let u=r.at(-1);o.raw.length===1&&u!==void 0?u.raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.text,this.inlineQueue.at(-1).src=u.text):r.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},r.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),r.push(o);continue}let h=e;if((s=this.options.extensions)!=null&&s.startBlock){let u=1/0,d=e.slice(1),p;this.options.extensions.startBlock.forEach(g=>{p=g.call({lexer:this},d),typeof p=="number"&&p>=0&&(u=Math.min(u,p))}),u<1/0&&u>=0&&(h=e.substring(0,u+1))}if(this.state.top&&(o=this.tokenizer.paragraph(h))){let u=r.at(-1);i&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):r.push(o),i=h.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let u=r.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=(u.raw.endsWith(`
`)?"":`
`)+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):r.push(o);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){var o,h,u,d,p;let i=e,n=null;if(this.tokens.links){let g=Object.keys(this.tokens.links);if(g.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)g.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,n.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=((h=(o=this.options.hooks)==null?void 0:o.emStrongMask)==null?void 0:h.call({lexer:this},i))??i;let a=!1,s="";for(;e;){a||(s=""),a=!1;let g;if((d=(u=this.options.extensions)==null?void 0:u.inline)!=null&&d.some(m=>(g=m.call({lexer:this},e,r))?(e=e.substring(g.raw.length),r.push(g),!0):!1))continue;if(g=this.tokenizer.escape(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.tag(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.link(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(g.raw.length);let m=r.at(-1);g.type==="text"&&(m==null?void 0:m.type)==="text"?(m.raw+=g.raw,m.text+=g.text):r.push(g);continue}if(g=this.tokenizer.emStrong(e,i,s)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.codespan(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.br(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.del(e)){e=e.substring(g.raw.length),r.push(g);continue}if(g=this.tokenizer.autolink(e)){e=e.substring(g.raw.length),r.push(g);continue}if(!this.state.inLink&&(g=this.tokenizer.url(e))){e=e.substring(g.raw.length),r.push(g);continue}let f=e;if((p=this.options.extensions)!=null&&p.startInline){let m=1/0,y=e.slice(1),b;this.options.extensions.startInline.forEach(v=>{b=v.call({lexer:this},y),typeof b=="number"&&b>=0&&(m=Math.min(m,b))}),m<1/0&&m>=0&&(f=e.substring(0,m+1))}if(g=this.tokenizer.inlineText(f)){e=e.substring(g.raw.length),g.raw.slice(-1)!=="_"&&(s=g.raw.slice(-1)),a=!0;let m=r.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=g.raw,m.text+=g.text):r.push(g);continue}if(e){let m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return r}},l(rh,"l"),rh),p5=(Sp=class{constructor(e){wr(this,"options");wr(this,"parser");this.options=e||Fu}space(e){return""}code({text:e,lang:r,escaped:i}){var s;let n=(s=(r||"").match(pa.notSpaceStart))==null?void 0:s[0],a=e.replace(pa.endingNewline,"")+`
`;return n?'<pre><code class="language-'+so(n)+'">'+(i?a:so(a,!0))+`</code></pre>
`:"<pre><code>"+(i?a:so(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:r}){return`<h${r}>${this.parser.parseInline(e)}</h${r}>
`}hr(e){return`<hr>
`}list(e){let r=e.ordered,i=e.start,n="";for(let o=0;o<e.items.length;o++){let h=e.items[o];n+=this.listitem(h)}let a=r?"ol":"ul",s=r&&i!==1?' start="'+i+'"':"";return"<"+a+s+`>
`+n+"</"+a+`>
`}listitem(e){var i;let r="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?((i=e.tokens[0])==null?void 0:i.type)==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+so(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):r+=n+" "}return r+=this.parser.parse(e.tokens,!!e.loose),`<li>${r}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let r="",i="";for(let a=0;a<e.header.length;a++)i+=this.tablecell(e.header[a]);r+=this.tablerow({text:i});let n="";for(let a=0;a<e.rows.length;a++){let s=e.rows[a];i="";for(let o=0;o<s.length;o++)i+=this.tablecell(s[o]);n+=this.tablerow({text:i})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+r+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let r=this.parser.parseInline(e.tokens),i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+r+`</${i}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${so(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:r,tokens:i}){let n=this.parser.parseInline(i),a=IS(e);if(a===null)return n;e=a;let s='<a href="'+e+'"';return r&&(s+=' title="'+so(r)+'"'),s+=">"+n+"</a>",s}image({href:e,title:r,text:i,tokens:n}){n&&(i=this.parser.parseInline(n,this.parser.textRenderer));let a=IS(e);if(a===null)return so(i);e=a;let s=`<img src="${e}" alt="${i}"`;return r&&(s+=` title="${so(r)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:so(e.text)}},l(Sp,"P"),Sp),jS=(_p=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},l(_p,"$"),_p),Fl=(ih=class{constructor(e){wr(this,"options");wr(this,"renderer");wr(this,"textRenderer");this.options=e||Fu,this.options.renderer=this.options.renderer||new p5,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new jS}static parse(e,r){return new ih(r).parse(e)}static parseInline(e,r){return new ih(r).parseInline(e)}parse(e,r=!0){var n,a;let i="";for(let s=0;s<e.length;s++){let o=e[s];if((a=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&a[o.type]){let u=o,d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){i+=d||"";continue}}let h=o;switch(h.type){case"space":{i+=this.renderer.space(h);continue}case"hr":{i+=this.renderer.hr(h);continue}case"heading":{i+=this.renderer.heading(h);continue}case"code":{i+=this.renderer.code(h);continue}case"table":{i+=this.renderer.table(h);continue}case"blockquote":{i+=this.renderer.blockquote(h);continue}case"list":{i+=this.renderer.list(h);continue}case"html":{i+=this.renderer.html(h);continue}case"def":{i+=this.renderer.def(h);continue}case"paragraph":{i+=this.renderer.paragraph(h);continue}case"text":{let u=h,d=this.renderer.text(u);for(;s+1<e.length&&e[s+1].type==="text";)u=e[++s],d+=`
`+this.renderer.text(u);r?i+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):i+=d;continue}default:{let u='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}parseInline(e,r=this.renderer){var n,a;let i="";for(let s=0;s<e.length;s++){let o=e[s];if((a=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&a[o.type]){let u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=u||"";continue}}let h=o;switch(h.type){case"escape":{i+=r.text(h);break}case"html":{i+=r.html(h);break}case"link":{i+=r.link(h);break}case"image":{i+=r.image(h);break}case"strong":{i+=r.strong(h);break}case"em":{i+=r.em(h);break}case"codespan":{i+=r.codespan(h);break}case"br":{i+=r.br(h);break}case"del":{i+=r.del(h);break}case"text":{i+=r.text(h);break}default:{let u='Token with "'+h.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return i}},l(ih,"l"),ih),lv=(th=class{constructor(e){wr(this,"options");wr(this,"block");this.options=e||Fu}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Pl.lex:Pl.lexInline}provideParser(){return this.block?Fl.parse:Fl.parseInline}},l(th,"S"),wr(th,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),wr(th,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),th),wwe=(Ap=class{constructor(...e){wr(this,"defaults",y5());wr(this,"options",this.setOptions);wr(this,"parse",this.parseMarkdown(!0));wr(this,"parseInline",this.parseMarkdown(!1));wr(this,"Parser",Fl);wr(this,"Renderer",p5);wr(this,"TextRenderer",jS);wr(this,"Lexer",Pl);wr(this,"Tokenizer",d5);wr(this,"Hooks",lv);this.use(...e)}walkTokens(e,r){var n,a;let i=[];for(let s of e)switch(i=i.concat(r.call(this,s)),s.type){case"table":{let o=s;for(let h of o.header)i=i.concat(this.walkTokens(h.tokens,r));for(let h of o.rows)for(let u of h)i=i.concat(this.walkTokens(u.tokens,r));break}case"list":{let o=s;i=i.concat(this.walkTokens(o.items,r));break}default:{let o=s;(a=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&a[o.type]?this.defaults.extensions.childTokens[o.type].forEach(h=>{let u=o[h].flat(1/0);i=i.concat(this.walkTokens(u,r))}):o.tokens&&(i=i.concat(this.walkTokens(o.tokens,r)))}}return i}use(...e){let r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{let n={...i};if(n.async=this.defaults.async||n.async||!1,i.extensions&&(i.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){let s=r.renderers[a.name];s?r.renderers[a.name]=function(...o){let h=a.renderer.apply(this,o);return h===!1&&(h=s.apply(this,o)),h}:r.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=r[a.level];s?s.unshift(a.tokenizer):r[a.level]=[a.tokenizer],a.start&&(a.level==="block"?r.startBlock?r.startBlock.push(a.start):r.startBlock=[a.start]:a.level==="inline"&&(r.startInline?r.startInline.push(a.start):r.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(r.childTokens[a.name]=a.childTokens)}),n.extensions=r),i.renderer){let a=this.defaults.renderer||new p5(this.defaults);for(let s in i.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,h=i.renderer[o],u=a[o];a[o]=(...d)=>{let p=h.apply(a,d);return p===!1&&(p=u.apply(a,d)),p||""}}n.renderer=a}if(i.tokenizer){let a=this.defaults.tokenizer||new d5(this.defaults);for(let s in i.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,h=i.tokenizer[o],u=a[o];a[o]=(...d)=>{let p=h.apply(a,d);return p===!1&&(p=u.apply(a,d)),p}}n.tokenizer=a}if(i.hooks){let a=this.defaults.hooks||new lv;for(let s in i.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,h=i.hooks[o],u=a[o];lv.passThroughHooks.has(s)?a[o]=d=>{if(this.defaults.async&&lv.passThroughHooksRespectAsync.has(s))return Promise.resolve(h.call(a,d)).then(g=>u.call(a,g));let p=h.call(a,d);return u.call(a,p)}:a[o]=(...d)=>{let p=h.apply(a,d);return p===!1&&(p=u.apply(a,d)),p}}n.hooks=a}if(i.walkTokens){let a=this.defaults.walkTokens,s=i.walkTokens;n.walkTokens=function(o){let h=[];return h.push(s.call(this,o)),a&&(h=h.concat(a.call(this,o))),h}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return Pl.lex(e,r??this.defaults)}parser(e,r){return Fl.parse(e,r??this.defaults)}parseMarkdown(e){return(r,i)=>{let n={...i},a={...this.defaults,...n},s=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&n.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);let o=a.hooks?a.hooks.provideLexer():e?Pl.lex:Pl.lexInline,h=a.hooks?a.hooks.provideParser():e?Fl.parse:Fl.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then(u=>o(u,a)).then(u=>a.hooks?a.hooks.processAllTokens(u):u).then(u=>a.walkTokens?Promise.all(this.walkTokens(u,a.walkTokens)).then(()=>u):u).then(u=>h(u,a)).then(u=>a.hooks?a.hooks.postprocess(u):u).catch(s);try{a.hooks&&(r=a.hooks.preprocess(r));let u=o(r,a);a.hooks&&(u=a.hooks.processAllTokens(u)),a.walkTokens&&this.walkTokens(u,a.walkTokens);let d=h(u,a);return a.hooks&&(d=a.hooks.postprocess(d)),d}catch(u){return s(u)}}}onError(e,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+so(i.message+"",!0)+"</pre>";return r?Promise.resolve(n):n}if(r)return Promise.reject(i);throw i}}},l(Ap,"B"),Ap),Pu=new wwe;l(Fr,"d");Fr.options=Fr.setOptions=function(t){return Pu.setOptions(t),Fr.defaults=Pu.defaults,$S(Fr.defaults),Fr};Fr.getDefaults=y5;Fr.defaults=Fu;Fr.use=function(...t){return Pu.use(...t),Fr.defaults=Pu.defaults,$S(Fr.defaults),Fr};Fr.walkTokens=function(t,e){return Pu.walkTokens(t,e)};Fr.parseInline=Pu.parseInline;Fr.Parser=Fl;Fr.parser=Fl.parse;Fr.Renderer=p5;Fr.TextRenderer=jS;Fr.Lexer=Pl;Fr.lexer=Pl.lex;Fr.Tokenizer=d5;Fr.Hooks=lv;Fr.parse=Fr;Kje=Fr.options,Zje=Fr.setOptions,Qje=Fr.use,Jje=Fr.walkTokens,eWe=Fr.parseInline,tWe=Fl.parse,rWe=Pl.lex;l(rH,"preprocessMarkdown");l(iH,"markdownToLines");l(nH,"markdownToHTML");l(aH,"splitTextToChars");l(sH,"splitWordToFitWidth");l(WS,"splitWordToFitWidthRecursion");l(oH,"splitLineToFitWidth");l(g5,"splitLineToFitWidthRecursion");l(MS,"applyStyle");l(lH,"addHtmlSpan");l(x5,"createTspan");l(cH,"computeWidthOfText");l(VS,"computeDimensionOfText");l(hH,"createFormattedText");l(w5,"updateTextContentAndStyles");l(k5,"replaceIconSubstring");Sn=l(async(t,e="",{style:r="",isTitle:i=!1,classes:n="",useHtmlLabels:a=!0,isNode:s=!0,width:o=200,addSvgBackground:h=!1}={},u)=>{if(ee.debug("XYZ createText",e,r,i,n,a,s,"addSvgBackground: ",h),a){let d=nH(e,u),p=await k5(Ma(d),u),g=e.replace(/\\\\/g,"\\"),f={isNode:s,label:li(e)?g:p,labelStyle:r.replace("fill:","color:")};return await lH(t,f,o,n,h,u)}else{let d=e.replace(/<br\s*\/?>/g,"<br/>"),p=iH(d.replace("<br>","<br/>"),u),g=hH(o,t,p,e?h:!1);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));let f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Ue(g).attr("style",f)}else{let f=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Ue(g).select("rect").attr("style",f.replace(/background:/g,"fill:"));let m=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Ue(g).select("text").attr("style",m)}return g}},"createText")});function xr(t){let e=t.map((r,i)=>`${i===0?"M":"L"}${r.x},${r.y}`);return e.push("Z"),e.join(" ")}function ah(t,e,r,i,n,a){let s=[],o=r-t,h=i-e,u=o/a,d=2*Math.PI/u,p=e+h/2;for(let g=0;g<=50;g++){let f=g/50,m=t+f*o,y=p+n*Math.sin(d*(m-t));s.push({x:m,y})}return s}function mv(t,e,r,i,n,a){let s=[],o=n*Math.PI/180,h=(a*Math.PI/180-o)/(i-1);for(let u=0;u<i;u++){let d=o+u*h,p=t+r*Math.cos(d),g=e+r*Math.sin(d);s.push({x:-p,y:-g})}return s}function C5(t,e,r){if(t&&t.length){let[i,n]=e,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(let h of t){let[u,d]=h;h[0]=(u-i)*s-(d-n)*o+i,h[1]=(u-i)*o+(d-n)*s+n}}}function dH(t,e){return t[0]===e[0]&&t[1]===e[1]}function pH(t,e,r,i=1){let n=r,a=Math.max(e,.1),s=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(n)for(let u of s)C5(u,o,n);let h=(function(u,d,p){let g=[];for(let x of u){let w=[...x];dH(w[0],w[w.length-1])||w.push([w[0][0],w[0][1]]),w.length>2&&g.push(w)}let f=[];d=Math.max(d,.1);let m=[];for(let x of g)for(let w=0;w<x.length-1;w++){let k=x[w],T=x[w+1];if(k[1]!==T[1]){let S=Math.min(k[1],T[1]);m.push({ymin:S,ymax:Math.max(k[1],T[1]),x:S===k[1]?k[0]:T[0],islope:(T[0]-k[0])/(T[1]-k[1])})}}if(m.sort(((x,w)=>x.ymin<w.ymin?-1:x.ymin>w.ymin?1:x.x<w.x?-1:x.x>w.x?1:x.ymax===w.ymax?0:(x.ymax-w.ymax)/Math.abs(x.ymax-w.ymax))),!m.length)return f;let y=[],b=m[0].ymin,v=0;for(;y.length||m.length;){if(m.length){let x=-1;for(let w=0;w<m.length&&!(m[w].ymin>b);w++)x=w;m.splice(0,x+1).forEach((w=>{y.push({s:b,edge:w})}))}if(y=y.filter((x=>!(x.edge.ymax<=b))),y.sort(((x,w)=>x.edge.x===w.edge.x?0:(x.edge.x-w.edge.x)/Math.abs(x.edge.x-w.edge.x))),(p!==1||v%d==0)&&y.length>1)for(let x=0;x<y.length;x+=2){let w=x+1;if(w>=y.length)break;let k=y[x].edge,T=y[w].edge;f.push([[Math.round(k.x),b],[Math.round(T.x),b]])}b+=p,y.forEach((x=>{x.edge.x=x.edge.x+p*x.edge.islope})),v++}return f})(s,a,i);if(n){for(let u of s)C5(u,o,-n);(function(u,d,p){let g=[];u.forEach((f=>g.push(...f))),C5(g,d,p)})(h,o,-n)}return h}function qp(t,e){var r;let i=e.hachureAngle+90,n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.round(Math.max(n,.1));let a=1;return e.roughness>=1&&(((r=e.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=n),pH(t,n,i,a||1)}function xv(t){let e=t[0],r=t[1];return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}function S5(t,e){return t.type===e}function D5(t){let e=[],r=(function(s){let o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:Awe,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:HS,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:uH,text:""},o})(t),i="BOD",n=0,a=r[n];for(;!S5(a,uH);){let s=0,o=[];if(i==="BOD"){if(a.text!=="M"&&a.text!=="m")return D5("M0,0"+t);n++,s=T5[a.text],i=a.text}else S5(a,HS)?s=T5[i]:(n++,s=T5[a.text],i=a.text);if(!(n+s<r.length))throw new Error("Path data ended short");for(let h=n;h<n+s;h++){let u=r[h];if(!S5(u,HS))throw new Error("Param not a number: "+i+","+u.text);o[o.length]=+u.text}if(typeof T5[i]!="number")throw new Error("Bad segment: "+i);{let h={key:i,data:o};e.push(h),n+=s,a=r[n],i==="M"&&(i="L"),i==="m"&&(i="l")}}return e}function a_(t){let e=0,r=0,i=0,n=0,a=[];for(let{key:s,data:o}of t)switch(s){case"M":a.push({key:"M",data:[...o]}),[e,r]=o,[i,n]=o;break;case"m":e+=o[0],r+=o[1],a.push({key:"M",data:[e,r]}),i=e,n=r;break;case"L":a.push({key:"L",data:[...o]}),[e,r]=o;break;case"l":e+=o[0],r+=o[1],a.push({key:"L",data:[e,r]});break;case"C":a.push({key:"C",data:[...o]}),e=o[4],r=o[5];break;case"c":{let h=o.map(((u,d)=>d%2?u+r:u+e));a.push({key:"C",data:h}),e=h[4],r=h[5];break}case"Q":a.push({key:"Q",data:[...o]}),e=o[2],r=o[3];break;case"q":{let h=o.map(((u,d)=>d%2?u+r:u+e));a.push({key:"Q",data:h}),e=h[2],r=h[3];break}case"A":a.push({key:"A",data:[...o]}),e=o[5],r=o[6];break;case"a":e+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,r]});break;case"H":a.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),e=o[2],r=o[3];break;case"s":{let h=o.map(((u,d)=>d%2?u+r:u+e));a.push({key:"S",data:h}),e=h[2],r=h[3];break}case"T":a.push({key:"T",data:[...o]}),e=o[0],r=o[1];break;case"t":e+=o[0],r+=o[1],a.push({key:"T",data:[e,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=i,r=n}return a}function s_(t){let e=[],r="",i=0,n=0,a=0,s=0,o=0,h=0;for(let{key:u,data:d}of t){switch(u){case"M":e.push({key:"M",data:[...d]}),[i,n]=d,[a,s]=d;break;case"C":e.push({key:"C",data:[...d]}),i=d[4],n=d[5],o=d[2],h=d[3];break;case"L":e.push({key:"L",data:[...d]}),[i,n]=d;break;case"H":i=d[0],e.push({key:"L",data:[i,n]});break;case"V":n=d[0],e.push({key:"L",data:[i,n]});break;case"S":{let p=0,g=0;r==="C"||r==="S"?(p=i+(i-o),g=n+(n-h)):(p=i,g=n),e.push({key:"C",data:[p,g,...d]}),o=d[0],h=d[1],i=d[2],n=d[3];break}case"T":{let[p,g]=d,f=0,m=0;r==="Q"||r==="T"?(f=i+(i-o),m=n+(n-h)):(f=i,m=n);let y=i+2*(f-i)/3,b=n+2*(m-n)/3,v=p+2*(f-p)/3,x=g+2*(m-g)/3;e.push({key:"C",data:[y,b,v,x,p,g]}),o=f,h=m,i=p,n=g;break}case"Q":{let[p,g,f,m]=d,y=i+2*(p-i)/3,b=n+2*(g-n)/3,v=f+2*(p-f)/3,x=m+2*(g-m)/3;e.push({key:"C",data:[y,b,v,x,f,m]}),o=p,h=g,i=f,n=m;break}case"A":{let p=Math.abs(d[0]),g=Math.abs(d[1]),f=d[2],m=d[3],y=d[4],b=d[5],v=d[6];p===0||g===0?(e.push({key:"C",data:[i,n,b,v,b,v]}),i=b,n=v):(i!==b||n!==v)&&(o_(i,n,b,v,p,g,f,m,y).forEach((function(x){e.push({key:"C",data:x})})),i=b,n=v);break}case"Z":e.push({key:"Z",data:[]}),i=a,n=s}r=u}return e}function Lp(t,e,r){return[t*Math.cos(r)-e*Math.sin(r),t*Math.sin(r)+e*Math.cos(r)]}function o_(t,e,r,i,n,a,s,o,h,u){let d=(p=s,Math.PI*p/180);var p;let g=[],f=0,m=0,y=0,b=0;if(u)[f,m,y,b]=u;else{[t,e]=Lp(t,e,-d),[r,i]=Lp(r,i,-d);let $=(t-r)/2,_=(e-i)/2,D=$*$/(n*n)+_*_/(a*a);D>1&&(D=Math.sqrt(D),n*=D,a*=D);let R=n*n,O=a*a,A=R*O-R*_*_-O*$*$,B=R*_*_+O*$*$,P=(o===h?-1:1)*Math.sqrt(Math.abs(A/B));y=P*n*_/a+(t+r)/2,b=P*-a*$/n+(e+i)/2,f=Math.asin(parseFloat(((e-b)/a).toFixed(9))),m=Math.asin(parseFloat(((i-b)/a).toFixed(9))),t<y&&(f=Math.PI-f),r<y&&(m=Math.PI-m),f<0&&(f=2*Math.PI+f),m<0&&(m=2*Math.PI+m),h&&f>m&&(f-=2*Math.PI),!h&&m>f&&(m-=2*Math.PI)}let v=m-f;if(Math.abs(v)>120*Math.PI/180){let $=m,_=r,D=i;m=h&&m>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,g=o_(r=y+n*Math.cos(m),i=b+a*Math.sin(m),_,D,n,a,s,0,h,[m,$,y,b])}v=m-f;let x=Math.cos(f),w=Math.sin(f),k=Math.cos(m),T=Math.sin(m),S=Math.tan(v/4),C=4/3*n*S,E=4/3*a*S,L=[t,e],I=[t+C*w,e-E*x],M=[r+C*T,i-E*k],N=[r,i];if(I[0]=2*L[0]-I[0],I[1]=2*L[1]-I[1],u)return[I,M,N].concat(g);{g=[I,M,N].concat(g);let $=[];for(let _=0;_<g.length;_+=3){let D=Lp(g[_][0],g[_][1],d),R=Lp(g[_+1][0],g[_+1][1],d),O=Lp(g[_+2][0],g[_+2][1],d);$.push([D[0],D[1],R[0],R[1],O[0],O[1]])}return $}}function l_(t,e,r,i,n){return{type:"path",ops:ql(t,e,r,i,n)}}function gv(t,e,r){let i=(t||[]).length;if(i>2){let n=[];for(let a=0;a<i-1;a++)n.push(...ql(t[a][0],t[a][1],t[a+1][0],t[a+1][1],r));return e&&n.push(...ql(t[i-1][0],t[i-1][1],t[0][0],t[0][1],r)),{type:"path",ops:n}}return i===2?l_(t[0][0],t[0][1],t[1][0],t[1][1],r):{type:"path",ops:[]}}function gH(t,e,r,i,n){return(function(a,s){return gv(a,!0,s)})([[t,e],[t+r,e],[t+r,e+i],[t,e+i]],n)}function XS(t,e){if(t.length){let r=typeof t[0][0]=="number"?[t]:t,i=uv(r[0],1*(1+.2*e.roughness),e),n=e.disableMultiStroke?[]:uv(r[0],1.5*(1+.22*e.roughness),QS(e));for(let a=1;a<r.length;a++){let s=r[a];if(s.length){let o=uv(s,1*(1+.2*e.roughness),e),h=e.disableMultiStroke?[]:uv(s,1.5*(1+.22*e.roughness),QS(e));for(let u of o)u.op!=="move"&&i.push(u);for(let u of h)u.op!=="move"&&n.push(u)}}return{type:"path",ops:i.concat(n)}}return{type:"path",ops:[]}}function c_(t,e,r){let i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),n=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),a=2*Math.PI/n,s=Math.abs(t/2),o=Math.abs(e/2),h=1-r.curveFitting;return s+=Yt(s*h,r),o+=Yt(o*h,r),{increment:a,rx:s,ry:o}}function L5(t,e,r,i){let[n,a]=JS(i.increment,t,e,i.rx,i.ry,1,i.increment*yv(.1,yv(.4,1,r),r),r),s=vv(n,null,r);if(!r.disableMultiStroke&&r.roughness!==0){let[o]=JS(i.increment,t,e,i.rx,i.ry,1.5,0,r),h=vv(o,null,r);s=s.concat(h)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function KS(t,e,r,i,n,a,s,o,h){let u=t,d=e,p=Math.abs(r/2),g=Math.abs(i/2);p+=Yt(.01*p,h),g+=Yt(.01*g,h);let f=n,m=a;for(;f<0;)f+=2*Math.PI,m+=2*Math.PI;m-f>2*Math.PI&&(f=0,m=2*Math.PI);let y=2*Math.PI/h.curveStepCount,b=Math.min(y/2,(m-f)/2),v=e_(b,u,d,p,g,f,m,1,h);if(!h.disableMultiStroke){let x=e_(b,u,d,p,g,f,m,1.5,h);v.push(...x)}return s&&(o?v.push(...ql(u,d,u+p*Math.cos(f),d+g*Math.sin(f),h),...ql(u,d,u+p*Math.cos(m),d+g*Math.sin(m),h)):v.push({op:"lineTo",data:[u,d]},{op:"lineTo",data:[u+p*Math.cos(f),d+g*Math.sin(f)]})),{type:"path",ops:v}}function ZS(t,e){let r=s_(a_(D5(t))),i=[],n=[0,0],a=[0,0];for(let{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],n=[o[0],o[1]];break;case"L":i.push(...ql(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]];break;case"C":{let[h,u,d,p,g,f]=o;i.push(...fH(h,u,d,p,g,f,a,e)),a=[g,f];break}case"Z":i.push(...ql(a[0],a[1],n[0],n[1],e)),a=[n[0],n[1]]}return{type:"path",ops:i}}function _5(t,e){let r=[];for(let i of t)if(i.length){let n=e.maxRandomnessOffset||0,a=i.length;if(a>2){r.push({op:"move",data:[i[0][0]+Yt(n,e),i[0][1]+Yt(n,e)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[i[s][0]+Yt(n,e),i[s][1]+Yt(n,e)]})}}return{type:"fillPath",ops:r}}function zu(t,e){return(function(r,i){let n=r.fillStyle||"hachure";if(!Oa[n])switch(n){case"zigzag":Oa[n]||(Oa[n]=new kwe(i));break;case"cross-hatch":Oa[n]||(Oa[n]=new Twe(i));break;case"dots":Oa[n]||(Oa[n]=new Ewe(i));break;case"dashed":Oa[n]||(Oa[n]=new Cwe(i));break;case"zigzag-line":Oa[n]||(Oa[n]=new Swe(i));break;default:n="hachure",Oa[n]||(Oa[n]=new n_(i))}return Oa[n]})(e,Lwe).fillPolygons(t,e)}function QS(t){let e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function h_(t){return t.randomizer||(t.randomizer=new _we(t.seed||0)),t.randomizer.next()}function yv(t,e,r,i=1){return r.roughness*i*(h_(r)*(e-t)+t)}function Yt(t,e,r=1){return yv(-t,t,e,r)}function ql(t,e,r,i,n,a=!1){let s=a?n.disableMultiStrokeFill:n.disableMultiStroke,o=N5(t,e,r,i,n,!0,!1);if(s)return o;let h=N5(t,e,r,i,n,!0,!0);return o.concat(h)}function N5(t,e,r,i,n,a,s){let o=Math.pow(t-r,2)+Math.pow(e-i,2),h=Math.sqrt(o),u=1;u=h<200?1:h>500?.4:-.0016668*h+1.233334;let d=n.maxRandomnessOffset||0;d*d*100>o&&(d=h/10);let p=d/2,g=.2+.2*h_(n),f=n.bowing*n.maxRandomnessOffset*(i-e)/200,m=n.bowing*n.maxRandomnessOffset*(t-r)/200;f=Yt(f,n,u),m=Yt(m,n,u);let y=[],b=l(()=>Yt(p,n,u),"M"),v=l(()=>Yt(d,n,u),"k"),x=n.preserveVertices;return a&&(s?y.push({op:"move",data:[t+(x?0:b()),e+(x?0:b())]}):y.push({op:"move",data:[t+(x?0:Yt(d,n,u)),e+(x?0:Yt(d,n,u))]})),s?y.push({op:"bcurveTo",data:[f+t+(r-t)*g+b(),m+e+(i-e)*g+b(),f+t+2*(r-t)*g+b(),m+e+2*(i-e)*g+b(),r+(x?0:b()),i+(x?0:b())]}):y.push({op:"bcurveTo",data:[f+t+(r-t)*g+v(),m+e+(i-e)*g+v(),f+t+2*(r-t)*g+v(),m+e+2*(i-e)*g+v(),r+(x?0:v()),i+(x?0:v())]}),y}function uv(t,e,r){if(!t.length)return[];let i=[];i.push([t[0][0]+Yt(e,r),t[0][1]+Yt(e,r)]),i.push([t[0][0]+Yt(e,r),t[0][1]+Yt(e,r)]);for(let n=1;n<t.length;n++)i.push([t[n][0]+Yt(e,r),t[n][1]+Yt(e,r)]),n===t.length-1&&i.push([t[n][0]+Yt(e,r),t[n][1]+Yt(e,r)]);return vv(i,null,r)}function vv(t,e,r){let i=t.length,n=[];if(i>3){let a=[],s=1-r.curveTightness;n.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<i;o++){let h=t[o];a[0]=[h[0],h[1]],a[1]=[h[0]+(s*t[o+1][0]-s*t[o-1][0])/6,h[1]+(s*t[o+1][1]-s*t[o-1][1])/6],a[2]=[t[o+1][0]+(s*t[o][0]-s*t[o+2][0])/6,t[o+1][1]+(s*t[o][1]-s*t[o+2][1])/6],a[3]=[t[o+1][0],t[o+1][1]],n.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(e&&e.length===2){let o=r.maxRandomnessOffset;n.push({op:"lineTo",data:[e[0]+Yt(o,r),e[1]+Yt(o,r)]})}}else i===3?(n.push({op:"move",data:[t[1][0],t[1][1]]}),n.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):i===2&&n.push(...N5(t[0][0],t[0][1],t[1][0],t[1][1],r,!0,!0));return n}function JS(t,e,r,i,n,a,s,o){let h=[],u=[];if(o.roughness===0){t/=4,u.push([e+i*Math.cos(-t),r+n*Math.sin(-t)]);for(let d=0;d<=2*Math.PI;d+=t){let p=[e+i*Math.cos(d),r+n*Math.sin(d)];h.push(p),u.push(p)}u.push([e+i*Math.cos(0),r+n*Math.sin(0)]),u.push([e+i*Math.cos(t),r+n*Math.sin(t)])}else{let d=Yt(.5,o)-Math.PI/2;u.push([Yt(a,o)+e+.9*i*Math.cos(d-t),Yt(a,o)+r+.9*n*Math.sin(d-t)]);let p=2*Math.PI+d-.01;for(let g=d;g<p;g+=t){let f=[Yt(a,o)+e+i*Math.cos(g),Yt(a,o)+r+n*Math.sin(g)];h.push(f),u.push(f)}u.push([Yt(a,o)+e+i*Math.cos(d+2*Math.PI+.5*s),Yt(a,o)+r+n*Math.sin(d+2*Math.PI+.5*s)]),u.push([Yt(a,o)+e+.98*i*Math.cos(d+s),Yt(a,o)+r+.98*n*Math.sin(d+s)]),u.push([Yt(a,o)+e+.9*i*Math.cos(d+.5*s),Yt(a,o)+r+.9*n*Math.sin(d+.5*s)])}return[u,h]}function e_(t,e,r,i,n,a,s,o,h){let u=a+Yt(.1,h),d=[];d.push([Yt(o,h)+e+.9*i*Math.cos(u-t),Yt(o,h)+r+.9*n*Math.sin(u-t)]);for(let p=u;p<=s;p+=t)d.push([Yt(o,h)+e+i*Math.cos(p),Yt(o,h)+r+n*Math.sin(p)]);return d.push([e+i*Math.cos(s),r+n*Math.sin(s)]),d.push([e+i*Math.cos(s),r+n*Math.sin(s)]),vv(d,null,h)}function fH(t,e,r,i,n,a,s,o){let h=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3],d=[0,0],p=o.disableMultiStroke?1:2,g=o.preserveVertices;for(let f=0;f<p;f++)f===0?h.push({op:"move",data:[s[0],s[1]]}):h.push({op:"move",data:[s[0]+(g?0:Yt(u[0],o)),s[1]+(g?0:Yt(u[0],o))]}),d=g?[n,a]:[n+Yt(u[f],o),a+Yt(u[f],o)],h.push({op:"bcurveTo",data:[t+Yt(u[f],o),e+Yt(u[f],o),r+Yt(u[f],o),i+Yt(u[f],o),d[0],d[1]]});return h}function Np(t){return[...t]}function t_(t,e=0){let r=t.length;if(r<3)throw new Error("A curve must have at least three points.");let i=[];if(r===3)i.push(Np(t[0]),Np(t[1]),Np(t[2]),Np(t[2]));else{let n=[];n.push(t[0],t[0]);for(let o=1;o<t.length;o++)n.push(t[o]),o===t.length-1&&n.push(t[o]);let a=[],s=1-e;i.push(Np(n[0]));for(let o=1;o+2<n.length;o++){let h=n[o];a[0]=[h[0],h[1]],a[1]=[h[0]+(s*n[o+1][0]-s*n[o-1][0])/6,h[1]+(s*n[o+1][1]-s*n[o-1][1])/6],a[2]=[n[o+1][0]+(s*n[o][0]-s*n[o+2][0])/6,n[o+1][1]+(s*n[o][1]-s*n[o+2][1])/6],a[3]=[n[o+1][0],n[o+1][1]],i.push(a[1],a[2],a[3])}}return i}function fv(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function mH(t,e,r){let i=fv(e,r);if(i===0)return fv(t,e);let n=((t[0]-e[0])*(r[0]-e[0])+(t[1]-e[1])*(r[1]-e[1]))/i;return n=Math.max(0,Math.min(1,n)),fv(t,nh(e,r,n))}function nh(t,e,r){return[t[0]+(e[0]-t[0])*r,t[1]+(e[1]-t[1])*r]}function I5(t,e,r,i){let n=i||[];if((function(o,h){let u=o[h+0],d=o[h+1],p=o[h+2],g=o[h+3],f=3*d[0]-2*u[0]-g[0];f*=f;let m=3*d[1]-2*u[1]-g[1];m*=m;let y=3*p[0]-2*g[0]-u[0];y*=y;let b=3*p[1]-2*g[1]-u[1];return b*=b,f<y&&(f=y),m<b&&(m=b),f+m})(t,e)<r){let o=t[e+0];n.length?(a=n[n.length-1],s=o,Math.sqrt(fv(a,s))>1&&n.push(o)):n.push(o),n.push(t[e+3])}else{let o=t[e+0],h=t[e+1],u=t[e+2],d=t[e+3],p=nh(o,h,.5),g=nh(h,u,.5),f=nh(u,d,.5),m=nh(p,g,.5),y=nh(g,f,.5),b=nh(m,y,.5);I5([o,p,m,b],0,r,n),I5([b,y,f,d],0,r,n)}var a,s;return n}function yH(t,e){return bv(t,0,t.length,e)}function bv(t,e,r,i,n){let a=n||[],s=t[e],o=t[r-1],h=0,u=1;for(let d=e+1;d<r-1;++d){let p=mH(t[d],s,o);p>h&&(h=p,u=d)}return Math.sqrt(h)>i?(bv(t,e,u+1,i,a),bv(t,u,r,i,a)):(a.length||a.push(s),a.push(o)),a}function A5(t,e=.15,r){let i=[],n=(t.length-1)/3;for(let a=0;a<n;a++)I5(t,3*a,e,i);return r&&r>0?bv(i,0,i.length,r):i}function vH(t,e){e&&t.attr("style",e)}async function bH(t){let e=Ue(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=e.append("xhtml:div"),i=ve(),n=t.label;t.label&&li(t.label)&&(n=await jc(t.label.replace(Ke.lineBreakRegex,`
`),i));let a='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+n+"</span>";return r.html(tr(a,i)),vH(r,t.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}function TH(t,e){return t.intersect(e)}function EH(t,e,r,i){var n=t.x,a=t.y,s=n-i.x,o=a-i.y,h=Math.sqrt(e*e*o*o+r*r*s*s),u=Math.abs(e*r*s/h);i.x<n&&(u=-u);var d=Math.abs(e*r*o/h);return i.y<a&&(d=-d),{x:n+u,y:a+d}}function SH(t,e,r){return CH(t,e,e,r)}function _H(t,e,r,i){{let n=e.y-t.y,a=t.x-e.x,s=e.x*t.y-t.x*e.y,o=n*r.x+a*r.y+s,h=n*i.x+a*i.y+s,u=1e-6;if(o!==0&&h!==0&&r_(o,h))return;let d=i.y-r.y,p=r.x-i.x,g=i.x*r.y-r.x*i.y,f=d*t.x+p*t.y+g,m=d*e.x+p*e.y+g;if(Math.abs(f)<u&&Math.abs(m)<u&&r_(f,m))return;let y=n*p-d*a;if(y===0)return;let b=Math.abs(y/2),v=a*g-p*s,x=v<0?(v-b)/y:(v+b)/y;v=d*s-n*g;let w=v<0?(v-b)/y:(v+b)/y;return{x,y:w}}}function r_(t,e){return t*e>0}function AH(t,e,r){let i=t.x,n=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(d){s=Math.min(s,d.x),o=Math.min(o,d.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));let h=i-t.width/2-s,u=n-t.height/2-o;for(let d=0;d<e.length;d++){let p=e[d],g=e[d<e.length-1?d+1:0],f=qwe(t,r,{x:h+p.x,y:u+p.y},{x:h+g.x,y:u+g.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort(function(d,p){let g=d.x-r.x,f=d.y-r.y,m=Math.sqrt(g*g+f*f),y=p.x-r.x,b=p.y-r.y,v=Math.sqrt(y*y+b*b);return m<v?-1:m===v?0:1}),a[0]):t}function LH(t,e){let{labelStyles:r}=Et(e);e.labelStyle=r;let i=jt(e),n=i;i||(n="anchor");let a=t.insert("g").attr("class",n).attr("id",e.domId||e.id),s=1,{cssStyles:o}=e,h=Nt.svg(a),u=It(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(u.roughness=0);let d=h.circle(0,0,s*2,u),p=a.insert(()=>d,":first-child");return p.attr("class","anchor").attr("style",Cn(o)),Rt(e,p),e.intersect=function(g){return ee.info("Circle intersect",e,s,g),St.circle(e,s,g)},a}function i_(t,e,r,i,n,a,s){let o=(t+r)/2,h=(e+i)/2,u=Math.atan2(i-e,r-t),d=(r-t)/2,p=(i-e)/2,g=d/n,f=p/a,m=Math.sqrt(g**2+f**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");let y=Math.sqrt(1-m**2),b=o+y*a*Math.sin(u)*(s?-1:1),v=h-y*n*Math.cos(u)*(s?-1:1),x=Math.atan2((e-v)/a,(t-b)/n),w=Math.atan2((i-v)/a,(r-b)/n)-x;s&&w<0&&(w+=2*Math.PI),!s&&w>0&&(w-=2*Math.PI);let k=[];for(let T=0;T<20;T++){let S=T/19,C=x+S*w,E=b+n*Math.cos(C),L=v+a*Math.sin(C);k.push({x:E,y:L})}return k}async function NH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=a.width+e.padding+20,o=a.height+e.padding,h=o/2,u=h/(2.5+o/50),{cssStyles:d}=e,p=[{x:s/2,y:-o/2},{x:-s/2,y:-o/2},...i_(-s/2,-o/2,-s/2,o/2,u,h,!1),{x:s/2,y:o/2},...i_(s/2,o/2,s/2,-o/2,u,h,!0)],g=Nt.svg(n),f=It(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=xr(p),y=g.path(m,f),b=n.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",i),b.attr("transform",`translate(${u/2}, 0)`),Rt(e,b),e.intersect=function(v){return St.polygon(e,p,v)},n}function lh(t,e,r,i){return t.insert("polygon",":first-child").attr("points",i.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}async function IH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=a.height+e.padding,o=12,h=a.width+e.padding+o,u=0,d=h,p=-s,g=0,f=[{x:u+o,y:p},{x:d,y:p},{x:d,y:g},{x:u,y:g},{x:u,y:p+o},{x:u+o,y:p}],m,{cssStyles:y}=e;if(e.look==="handDrawn"){let b=Nt.svg(n),v=It(e,{}),x=xr(f),w=b.path(x,v);m=n.insert(()=>w,":first-child").attr("transform",`translate(${-h/2}, ${s/2})`),y&&m.attr("style",y)}else m=lh(n,h,s,f);return i&&m.attr("style",i),Rt(e,m),e.intersect=function(b){return St.polygon(e,f,b)},n}function RH(t,e){let{nodeStyles:r}=Et(e);e.label="";let i=t.insert("g").attr("class",jt(e)).attr("id",e.domId??e.id),{cssStyles:n}=e,a=Math.max(28,e.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],o=Nt.svg(i),h=It(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let u=xr(s),d=o.path(u,h),p=i.insert(()=>d,":first-child");return n&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",n),r&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",r),e.width=28,e.height=28,e.intersect=function(g){return St.polygon(e,s,g)},i}async function u_(t,e,r){let{labelStyles:i,nodeStyles:n}=Et(e);e.labelStyle=i;let{shapeSvg:a,bbox:s,halfPadding:o}=await Ht(t,e,jt(e)),h=(r==null?void 0:r.padding)??o,u=s.width/2+h,d,{cssStyles:p}=e;if(e.look==="handDrawn"){let g=Nt.svg(a),f=It(e,{}),m=g.circle(0,0,u*2,f);d=a.insert(()=>m,":first-child"),d.attr("class","basic label-container").attr("style",Cn(p))}else d=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0);return Rt(e,d),e.calcIntersect=function(g,f){let m=g.width/2;return St.circle(g,m,f)},e.intersect=function(g){return ee.info("Circle intersect",e,u,g),St.circle(e,u,g)},a}function DH(t){let e=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),i=t*2,n={x:i/2*e,y:i/2*r},a={x:-(i/2)*e,y:i/2*r},s={x:-(i/2)*e,y:-(i/2)*r},o={x:i/2*e,y:-(i/2)*r};return`M ${a.x},${a.y} L ${o.x},${o.y}
                   M ${n.x},${n.y} L ${s.x},${s.y}`}function MH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r,e.label="";let n=t.insert("g").attr("class",jt(e)).attr("id",e.domId??e.id),a=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:s}=e,o=Nt.svg(n),h=It(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let u=o.circle(0,0,a*2,h),d=DH(a),p=o.path(d,h),g=n.insert(()=>u,":first-child");return g.insert(()=>p),s&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",s),i&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",i),Rt(e,g),e.intersect=function(f){return ee.info("crossedCircle intersect",e,{radius:a,point:f}),St.circle(e,a,f)},n}function zl(t,e,r,i=100,n=0,a=180){let s=[],o=n*Math.PI/180,h=(a*Math.PI/180-o)/(i-1);for(let u=0;u<i;u++){let d=o+u*h,p=t+r*Math.cos(d),g=e+r*Math.sin(d);s.push({x:-p,y:-g})}return s}async function OH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=a.width+(e.padding??0),h=a.height+(e.padding??0),u=Math.max(5,h*.1),{cssStyles:d}=e,p=[...zl(o/2,-h/2,u,30,-90,0),{x:-o/2-u,y:u},...zl(o/2+u*2,-u,u,20,-180,-270),...zl(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-h/2},...zl(o/2,h/2,u,20,0,90)],g=[{x:o/2,y:-h/2-u},{x:-o/2,y:-h/2-u},...zl(o/2,-h/2,u,20,-90,0),{x:-o/2-u,y:-u},...zl(o/2+o*.1,-u,u,20,-180,-270),...zl(o/2+o*.1,u,u,20,-90,-180),{x:-o/2-u,y:h/2},...zl(o/2,h/2,u,20,0,90),{x:-o/2,y:h/2+u},{x:o/2,y:h/2+u}],f=Nt.svg(n),m=It(e,{fill:"none"});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=xr(p).replace("Z",""),b=f.path(y,m),v=xr(g),x=f.path(v,{...m}),w=n.insert("g",":first-child");return w.insert(()=>x,":first-child").attr("stroke-opacity",0),w.insert(()=>b,":first-child"),w.attr("class","text"),d&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(${u}, 0)`),s.attr("transform",`translate(${-o/2+u-(a.x-(a.left??0))},${-h/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Rt(e,w),e.intersect=function(k){return St.polygon(e,g,k)},n}function Gl(t,e,r,i=100,n=0,a=180){let s=[],o=n*Math.PI/180,h=(a*Math.PI/180-o)/(i-1);for(let u=0;u<i;u++){let d=o+u*h,p=t+r*Math.cos(d),g=e+r*Math.sin(d);s.push({x:p,y:g})}return s}async function $H(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=a.width+(e.padding??0),h=a.height+(e.padding??0),u=Math.max(5,h*.1),{cssStyles:d}=e,p=[...Gl(o/2,-h/2,u,20,-90,0),{x:o/2+u,y:-u},...Gl(o/2+u*2,-u,u,20,-180,-270),...Gl(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:h/2},...Gl(o/2,h/2,u,20,0,90)],g=[{x:-o/2,y:-h/2-u},{x:o/2,y:-h/2-u},...Gl(o/2,-h/2,u,20,-90,0),{x:o/2+u,y:-u},...Gl(o/2+u*2,-u,u,20,-180,-270),...Gl(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:h/2},...Gl(o/2,h/2,u,20,0,90),{x:o/2,y:h/2+u},{x:-o/2,y:h/2+u}],f=Nt.svg(n),m=It(e,{fill:"none"});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=xr(p).replace("Z",""),b=f.path(y,m),v=xr(g),x=f.path(v,{...m}),w=n.insert("g",":first-child");return w.insert(()=>x,":first-child").attr("stroke-opacity",0),w.insert(()=>b,":first-child"),w.attr("class","text"),d&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(${-u}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-h/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Rt(e,w),e.intersect=function(k){return St.polygon(e,g,k)},n}function An(t,e,r,i=100,n=0,a=180){let s=[],o=n*Math.PI/180,h=(a*Math.PI/180-o)/(i-1);for(let u=0;u<i;u++){let d=o+u*h,p=t+r*Math.cos(d),g=e+r*Math.sin(d);s.push({x:-p,y:-g})}return s}async function BH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=a.width+(e.padding??0),h=a.height+(e.padding??0),u=Math.max(5,h*.1),{cssStyles:d}=e,p=[...An(o/2,-h/2,u,30,-90,0),{x:-o/2-u,y:u},...An(o/2+u*2,-u,u,20,-180,-270),...An(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-h/2},...An(o/2,h/2,u,20,0,90)],g=[...An(-o/2+u+u/2,-h/2,u,20,-90,-180),{x:o/2-u/2,y:u},...An(-o/2-u/2,-u,u,20,0,90),...An(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...An(-o/2+u+u/2,h/2,u,30,-180,-270)],f=[{x:o/2,y:-h/2-u},{x:-o/2,y:-h/2-u},...An(o/2,-h/2,u,20,-90,0),{x:-o/2-u,y:-u},...An(o/2+u*2,-u,u,20,-180,-270),...An(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:h/2},...An(o/2,h/2,u,20,0,90),{x:-o/2,y:h/2+u},{x:o/2-u-u/2,y:h/2+u},...An(-o/2+u+u/2,-h/2,u,20,-90,-180),{x:o/2-u/2,y:u},...An(-o/2-u/2,-u,u,20,0,90),...An(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...An(-o/2+u+u/2,h/2,u,30,-180,-270)],m=Nt.svg(n),y=It(e,{fill:"none"});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=xr(p).replace("Z",""),v=m.path(b,y),x=xr(g).replace("Z",""),w=m.path(x,y),k=xr(f),T=m.path(k,{...y}),S=n.insert("g",":first-child");return S.insert(()=>T,":first-child").attr("stroke-opacity",0),S.insert(()=>v,":first-child"),S.insert(()=>w,":first-child"),S.attr("class","text"),d&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",d),i&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",i),S.attr("transform",`translate(${u-u/4}, 0)`),s.attr("transform",`translate(${-o/2+(e.padding??0)/2-(a.x-(a.left??0))},${-h/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Rt(e,S),e.intersect=function(C){return St.polygon(e,f,C)},n}async function PH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=80,o=20,h=Math.max(s,(a.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),u=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=u/2,{cssStyles:p}=e,g=Nt.svg(n),f=It(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=h,y=u,b=m-d,v=y/4,x=[{x:b,y:0},{x:v,y:0},{x:0,y:y/2},{x:v,y},{x:b,y},...mv(-b,-y/2,d,50,270,90)],w=xr(x),k=g.path(w,f),T=n.insert(()=>k,":first-child");return T.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",p),i&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),T.attr("transform",`translate(${-h/2}, ${-u/2})`),Rt(e,T),e.intersect=function(S){return St.polygon(e,x,S)},n}async function FH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Math.max(a.width+e.padding,e.width??0),h=o/2,u=h/(2.5+o/50),d=Math.max(a.height+u+e.padding,e.height??0),p,{cssStyles:g}=e;if(e.look==="handDrawn"){let f=Nt.svg(n),m=Wwe(0,0,o,d,h,u),y=Vwe(0,u,o,d,h,u),b=f.path(m,It(e,{})),v=f.path(y,It(e,{fill:"none"}));p=n.insert(()=>v,":first-child"),p=n.insert(()=>b,":first-child"),p.attr("class","basic label-container"),g&&p.attr("style",g)}else{let f=jwe(0,0,o,d,h,u);p=n.insert("path",":first-child").attr("d",f).attr("class","basic label-container").attr("style",Cn(g)).attr("style",i)}return p.attr("label-offset-y",u),p.attr("transform",`translate(${-o/2}, ${-(d/2+u)})`),Rt(e,p),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(e.padding??0)/1.5-(a.y-(a.top??0))})`),e.intersect=function(f){let m=St.rect(e,f),y=m.x-(e.x??0);if(h!=0&&(Math.abs(y)<(e.width??0)/2||Math.abs(y)==(e.width??0)/2&&Math.abs(m.y-(e.y??0))>(e.height??0)/2-u)){let b=u*u*(1-y*y/(h*h));b>0&&(b=Math.sqrt(b)),b=u-b,f.y-(e.y??0)>0&&(b=-b),m.y+=b}return m},n}async function zH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=a.width+e.padding,h=a.height+e.padding,u=h*.2,d=-o/2,p=-h/2-u/2,{cssStyles:g}=e,f=Nt.svg(n),m=It(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=[{x:d,y:p+u},{x:-d,y:p+u},{x:-d,y:-p},{x:d,y:-p},{x:d,y:p},{x:-d,y:p},{x:-d,y:p+u}],b=f.polygon(y.map(x=>[x.x,x.y]),m),v=n.insert(()=>b,":first-child");return v.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",g),i&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",i),s.attr("transform",`translate(${d+(e.padding??0)/2-(a.x-(a.left??0))}, ${p+u+(e.padding??0)/2-(a.y-(a.top??0))})`),Rt(e,v),e.intersect=function(x){return St.rect(e,x)},n}async function GH(t,e){var p,g;let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s}=await Ht(t,e,jt(e)),o=a.width/2+s+5,h=a.width/2+s,u,{cssStyles:d}=e;if(e.look==="handDrawn"){let f=Nt.svg(n),m=It(e,{roughness:.2,strokeWidth:2.5}),y=It(e,{roughness:.2,strokeWidth:1.5}),b=f.circle(0,0,o*2,m),v=f.circle(0,0,h*2,y);u=n.insert("g",":first-child"),u.attr("class",Cn(e.cssClasses)).attr("style",Cn(d)),(p=u.node())==null||p.appendChild(b),(g=u.node())==null||g.appendChild(v)}else{u=n.insert("g",":first-child");let f=u.insert("circle",":first-child"),m=u.insert("circle");u.attr("class","basic label-container").attr("style",i),f.attr("class","outer-circle").attr("style",i).attr("r",o).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0)}return Rt(e,u),e.intersect=function(f){return ee.info("DoubleCircle intersect",e,o,f),St.circle(e,o,f)},n}function qH(t,e,{config:{themeVariables:r}}){let{labelStyles:i,nodeStyles:n}=Et(e);e.label="",e.labelStyle=i;let a=t.insert("g").attr("class",jt(e)).attr("id",e.domId??e.id),s=7,{cssStyles:o}=e,h=Nt.svg(a),{nodeBorder:u}=r,d=It(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(d.roughness=0);let p=h.circle(0,0,s*2,d),g=a.insert(()=>p,":first-child");return g.selectAll("path").attr("style",`fill: ${u} !important;`),o&&o.length>0&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",o),n&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",n),Rt(e,g),e.intersect=function(f){return ee.info("filledCircle intersect",e,{radius:s,point:f}),St.circle(e,s,f)},a}async function UH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=a.width+(e.padding??0),h=o+a.height,u=o+a.height,d=[{x:0,y:-h},{x:u,y:-h},{x:u/2,y:0}],{cssStyles:p}=e,g=Nt.svg(n),f=It(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=xr(d),y=g.path(m,f),b=n.insert(()=>y,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return p&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",p),i&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),e.width=o,e.height=h,Rt(e,b),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-h/2+(e.padding??0)/2+(a.y-(a.top??0))})`),e.intersect=function(v){return ee.info("Triangle intersect",e,d,v),St.polygon(e,d,v)},n}function jH(t,e,{dir:r,config:{state:i,themeVariables:n}}){let{nodeStyles:a}=Et(e);e.label="";let s=t.insert("g").attr("class",jt(e)).attr("id",e.domId??e.id),{cssStyles:o}=e,h=Math.max(70,(e==null?void 0:e.width)??0),u=Math.max(10,(e==null?void 0:e.height)??0);r==="LR"&&(h=Math.max(10,(e==null?void 0:e.width)??0),u=Math.max(70,(e==null?void 0:e.height)??0));let d=-1*h/2,p=-1*u/2,g=Nt.svg(s),f=It(e,{stroke:n.lineColor,fill:n.lineColor});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=g.rectangle(d,p,h,u,f),y=s.insert(()=>m,":first-child");o&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",o),a&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",a),Rt(e,y);let b=(i==null?void 0:i.padding)??0;return e.width&&e.height&&(e.width+=b/2||0,e.height+=b/2||0),e.intersect=function(v){return St.rect(e,v)},s}async function WH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let n=80,a=50,{shapeSvg:s,bbox:o}=await Ht(t,e,jt(e)),h=Math.max(n,o.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a,o.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=u/2,{cssStyles:p}=e,g=Nt.svg(s),f=It(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=[{x:-h/2,y:-u/2},{x:h/2-d,y:-u/2},...mv(-h/2+d,0,d,50,90,270),{x:h/2-d,y:u/2},{x:-h/2,y:u/2}],y=xr(m),b=g.path(y,f),v=s.insert(()=>b,":first-child");return v.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),i&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",i),Rt(e,v),e.intersect=function(x){return ee.info("Pill intersect",e,{radius:d,point:x}),St.polygon(e,m,x)},s}async function VH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=a.height+(e.padding??0),o=a.width+(e.padding??0)*2.5,{cssStyles:h}=e,u=Nt.svg(n),d=It(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");let p=o/2,g=p/6;p=p+g;let f=s/2,m=f/2,y=p-m,b=[{x:-y,y:-f},{x:0,y:-f},{x:y,y:-f},{x:p,y:0},{x:y,y:f},{x:0,y:f},{x:-y,y:f},{x:-p,y:0}],v=xr(b),x=u.path(v,d),w=n.insert(()=>x,":first-child");return w.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",h),i&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",i),e.width=o,e.height=s,Rt(e,w),e.intersect=function(k){return St.polygon(e,b,k)},n}async function YH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.label="",e.labelStyle=r;let{shapeSvg:n}=await Ht(t,e,jt(e)),a=Math.max(30,(e==null?void 0:e.width)??0),s=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:o}=e,h=Nt.svg(n),u=It(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let d=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],p=xr(d),g=h.path(p,u),f=n.insert(()=>g,":first-child");return f.attr("class","basic label-container"),o&&e.look!=="handDrawn"&&f.selectChildren("path").attr("style",o),i&&e.look!=="handDrawn"&&f.selectChildren("path").attr("style",i),f.attr("transform",`translate(${-a/2}, ${-s/2})`),Rt(e,f),e.intersect=function(m){return ee.info("Pill intersect",e,{points:d}),St.polygon(e,d,m)},n}async function HH(t,e,{config:{themeVariables:r,flowchart:i}}){let{labelStyles:n}=Et(e);e.labelStyle=n;let a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),h=i==null?void 0:i.wrappingWidth;e.width=Math.max(o,h??0);let{shapeSvg:u,bbox:d,label:p}=await Ht(t,e,"icon-shape default"),g=e.pos==="t",f=o,m=o,{nodeBorder:y}=r,{stylesMap:b}=Au(e),v=-m/2,x=-f/2,w=e.label?8:0,k=Nt.svg(u),T=It(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");let S=k.rectangle(v,x,m,f,T),C=Math.max(m,d.width),E=f+d.height+w,L=k.rectangle(-C/2,-E/2,C,E,{...T,fill:"transparent",stroke:"none"}),I=u.insert(()=>S,":first-child"),M=u.insert(()=>L);if(e.icon){let N=u.append("g");N.html(`<g>${await Ho(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);let $=N.node().getBBox(),_=$.width,D=$.height,R=$.x,O=$.y;N.attr("transform",`translate(${-_/2-R},${g?d.height/2+w/2-D/2-O:-d.height/2-w/2-D/2-O})`),N.attr("style",`color: ${b.get("stroke")??y};`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-E/2:E/2-d.height})`),I.attr("transform",`translate(0,${g?d.height/2+w/2:-d.height/2-w/2})`),Rt(e,M),e.intersect=function(N){if(ee.info("iconSquare intersect",e,N),!e.label)return St.rect(e,N);let $=e.x??0,_=e.y??0,D=e.height??0,R=[];return g?R=[{x:$-d.width/2,y:_-D/2},{x:$+d.width/2,y:_-D/2},{x:$+d.width/2,y:_-D/2+d.height+w},{x:$+m/2,y:_-D/2+d.height+w},{x:$+m/2,y:_+D/2},{x:$-m/2,y:_+D/2},{x:$-m/2,y:_-D/2+d.height+w},{x:$-d.width/2,y:_-D/2+d.height+w}]:R=[{x:$-m/2,y:_-D/2},{x:$+m/2,y:_-D/2},{x:$+m/2,y:_-D/2+f},{x:$+d.width/2,y:_-D/2+f},{x:$+d.width/2/2,y:_+D/2},{x:$-d.width/2,y:_+D/2},{x:$-d.width/2,y:_-D/2+f},{x:$-m/2,y:_-D/2+f}],St.polygon(e,R,N)},u}async function XH(t,e,{config:{themeVariables:r,flowchart:i}}){let{labelStyles:n}=Et(e);e.labelStyle=n;let a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),h=i==null?void 0:i.wrappingWidth;e.width=Math.max(o,h??0);let{shapeSvg:u,bbox:d,label:p}=await Ht(t,e,"icon-shape default"),g=20,f=e.label?8:0,m=e.pos==="t",{nodeBorder:y,mainBkg:b}=r,{stylesMap:v}=Au(e),x=Nt.svg(u),w=It(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let k=v.get("fill");w.stroke=k??b;let T=u.append("g");e.icon&&T.html(`<g>${await Ho(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);let S=T.node().getBBox(),C=S.width,E=S.height,L=S.x,I=S.y,M=Math.max(C,E)*Math.SQRT2+g*2,N=x.circle(0,0,M,w),$=Math.max(M,d.width),_=M+d.height+f,D=x.rectangle(-$/2,-_/2,$,_,{...w,fill:"transparent",stroke:"none"}),R=u.insert(()=>N,":first-child"),O=u.insert(()=>D);return T.attr("transform",`translate(${-C/2-L},${m?d.height/2+f/2-E/2-I:-d.height/2-f/2-E/2-I})`),T.attr("style",`color: ${v.get("stroke")??y};`),p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-_/2:_/2-d.height})`),R.attr("transform",`translate(0,${m?d.height/2+f/2:-d.height/2-f/2})`),Rt(e,O),e.intersect=function(A){return ee.info("iconSquare intersect",e,A),St.rect(e,A)},u}async function KH(t,e,{config:{themeVariables:r,flowchart:i}}){let{labelStyles:n}=Et(e);e.labelStyle=n;let a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),h=i==null?void 0:i.wrappingWidth;e.width=Math.max(o,h??0);let{shapeSvg:u,bbox:d,halfPadding:p,label:g}=await Ht(t,e,"icon-shape default"),f=e.pos==="t",m=o+p*2,y=o+p*2,{nodeBorder:b,mainBkg:v}=r,{stylesMap:x}=Au(e),w=-y/2,k=-m/2,T=e.label?8:0,S=Nt.svg(u),C=It(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");let E=x.get("fill");C.stroke=E??v;let L=S.path(oh(w,k,y,m,5),C),I=Math.max(y,d.width),M=m+d.height+T,N=S.rectangle(-I/2,-M/2,I,M,{...C,fill:"transparent",stroke:"none"}),$=u.insert(()=>L,":first-child").attr("class","icon-shape2"),_=u.insert(()=>N);if(e.icon){let D=u.append("g");D.html(`<g>${await Ho(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);let R=D.node().getBBox(),O=R.width,A=R.height,B=R.x,P=R.y;D.attr("transform",`translate(${-O/2-B},${f?d.height/2+T/2-A/2-P:-d.height/2-T/2-A/2-P})`),D.attr("style",`color: ${x.get("stroke")??b};`)}return g.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-M/2:M/2-d.height})`),$.attr("transform",`translate(0,${f?d.height/2+T/2:-d.height/2-T/2})`),Rt(e,_),e.intersect=function(D){if(ee.info("iconSquare intersect",e,D),!e.label)return St.rect(e,D);let R=e.x??0,O=e.y??0,A=e.height??0,B=[];return f?B=[{x:R-d.width/2,y:O-A/2},{x:R+d.width/2,y:O-A/2},{x:R+d.width/2,y:O-A/2+d.height+T},{x:R+y/2,y:O-A/2+d.height+T},{x:R+y/2,y:O+A/2},{x:R-y/2,y:O+A/2},{x:R-y/2,y:O-A/2+d.height+T},{x:R-d.width/2,y:O-A/2+d.height+T}]:B=[{x:R-y/2,y:O-A/2},{x:R+y/2,y:O-A/2},{x:R+y/2,y:O-A/2+m},{x:R+d.width/2,y:O-A/2+m},{x:R+d.width/2/2,y:O+A/2},{x:R-d.width/2,y:O+A/2},{x:R-d.width/2,y:O-A/2+m},{x:R-y/2,y:O-A/2+m}],St.polygon(e,B,D)},u}async function ZH(t,e,{config:{themeVariables:r,flowchart:i}}){let{labelStyles:n}=Et(e);e.labelStyle=n;let a=e.assetHeight??48,s=e.assetWidth??48,o=Math.max(a,s),h=i==null?void 0:i.wrappingWidth;e.width=Math.max(o,h??0);let{shapeSvg:u,bbox:d,halfPadding:p,label:g}=await Ht(t,e,"icon-shape default"),f=e.pos==="t",m=o+p*2,y=o+p*2,{nodeBorder:b,mainBkg:v}=r,{stylesMap:x}=Au(e),w=-y/2,k=-m/2,T=e.label?8:0,S=Nt.svg(u),C=It(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");let E=x.get("fill");C.stroke=E??v;let L=S.path(oh(w,k,y,m,.1),C),I=Math.max(y,d.width),M=m+d.height+T,N=S.rectangle(-I/2,-M/2,I,M,{...C,fill:"transparent",stroke:"none"}),$=u.insert(()=>L,":first-child"),_=u.insert(()=>N);if(e.icon){let D=u.append("g");D.html(`<g>${await Ho(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);let R=D.node().getBBox(),O=R.width,A=R.height,B=R.x,P=R.y;D.attr("transform",`translate(${-O/2-B},${f?d.height/2+T/2-A/2-P:-d.height/2-T/2-A/2-P})`),D.attr("style",`color: ${x.get("stroke")??b};`)}return g.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-M/2:M/2-d.height})`),$.attr("transform",`translate(0,${f?d.height/2+T/2:-d.height/2-T/2})`),Rt(e,_),e.intersect=function(D){if(ee.info("iconSquare intersect",e,D),!e.label)return St.rect(e,D);let R=e.x??0,O=e.y??0,A=e.height??0,B=[];return f?B=[{x:R-d.width/2,y:O-A/2},{x:R+d.width/2,y:O-A/2},{x:R+d.width/2,y:O-A/2+d.height+T},{x:R+y/2,y:O-A/2+d.height+T},{x:R+y/2,y:O+A/2},{x:R-y/2,y:O+A/2},{x:R-y/2,y:O-A/2+d.height+T},{x:R-d.width/2,y:O-A/2+d.height+T}]:B=[{x:R-y/2,y:O-A/2},{x:R+y/2,y:O-A/2},{x:R+y/2,y:O-A/2+m},{x:R+d.width/2,y:O-A/2+m},{x:R+d.width/2/2,y:O+A/2},{x:R-d.width/2,y:O+A/2},{x:R-d.width/2,y:O-A/2+m},{x:R-y/2,y:O-A/2+m}],St.polygon(e,B,D)},u}async function QH(t,e,{config:{flowchart:r}}){let i=new Image;i.src=(e==null?void 0:e.img)??"",await i.decode();let n=Number(i.naturalWidth.toString().replace("px","")),a=Number(i.naturalHeight.toString().replace("px",""));e.imageAspectRatio=n/a;let{labelStyles:s}=Et(e);e.labelStyle=s;let o=r==null?void 0:r.wrappingWidth;e.defaultWidth=r==null?void 0:r.wrappingWidth;let h=Math.max(e.label?o??0:0,(e==null?void 0:e.assetWidth)??n),u=e.constraint==="on"&&(e!=null&&e.assetHeight)?e.assetHeight*e.imageAspectRatio:h,d=e.constraint==="on"?u/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??a;e.width=Math.max(u,o??0);let{shapeSvg:p,bbox:g,label:f}=await Ht(t,e,"image-shape default"),m=e.pos==="t",y=-u/2,b=-d/2,v=e.label?8:0,x=Nt.svg(p),w=It(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let k=x.rectangle(y,b,u,d,w),T=Math.max(u,g.width),S=d+g.height+v,C=x.rectangle(-T/2,-S/2,T,S,{...w,fill:"none",stroke:"none"}),E=p.insert(()=>k,":first-child"),L=p.insert(()=>C);if(e.img){let I=p.append("image");I.attr("href",e.img),I.attr("width",u),I.attr("height",d),I.attr("preserveAspectRatio","none"),I.attr("transform",`translate(${-u/2},${m?S/2-d:-S/2})`)}return f.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${m?-d/2-g.height/2-v/2:d/2-g.height/2+v/2})`),E.attr("transform",`translate(0,${m?g.height/2+v/2:-g.height/2-v/2})`),Rt(e,L),e.intersect=function(I){if(ee.info("iconSquare intersect",e,I),!e.label)return St.rect(e,I);let M=e.x??0,N=e.y??0,$=e.height??0,_=[];return m?_=[{x:M-g.width/2,y:N-$/2},{x:M+g.width/2,y:N-$/2},{x:M+g.width/2,y:N-$/2+g.height+v},{x:M+u/2,y:N-$/2+g.height+v},{x:M+u/2,y:N+$/2},{x:M-u/2,y:N+$/2},{x:M-u/2,y:N-$/2+g.height+v},{x:M-g.width/2,y:N-$/2+g.height+v}]:_=[{x:M-u/2,y:N-$/2},{x:M+u/2,y:N-$/2},{x:M+u/2,y:N-$/2+d},{x:M+g.width/2,y:N-$/2+d},{x:M+g.width/2/2,y:N+$/2},{x:M-g.width/2,y:N+$/2},{x:M-g.width/2,y:N-$/2+d},{x:M-u/2,y:N-$/2+d}],St.polygon(e,_,I)},p}async function JH(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=[{x:0,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:-3*o/6,y:-o}],u,{cssStyles:d}=e;if(e.look==="handDrawn"){let p=Nt.svg(n),g=It(e,{}),f=xr(h),m=p.path(f,g);u=n.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&u.attr("style",d)}else u=lh(n,s,o,h);return i&&u.attr("style",i),e.width=s,e.height=o,Rt(e,u),e.intersect=function(p){return St.polygon(e,h,p)},n}async function M5(t,e,r){let{labelStyles:i,nodeStyles:n}=Et(e);e.labelStyle=i;let{shapeSvg:a,bbox:s}=await Ht(t,e,jt(e)),o=Math.max(s.width+r.labelPaddingX*2,(e==null?void 0:e.width)||0),h=Math.max(s.height+r.labelPaddingY*2,(e==null?void 0:e.height)||0),u=-o/2,d=-h/2,p,{rx:g,ry:f}=e,{cssStyles:m}=e;if(r!=null&&r.rx&&r.ry&&(g=r.rx,f=r.ry),e.look==="handDrawn"){let y=Nt.svg(a),b=It(e,{}),v=g||f?y.path(oh(u,d,o,h,g||0),b):y.rectangle(u,d,o,h,b);p=a.insert(()=>v,":first-child"),p.attr("class","basic label-container").attr("style",Cn(m))}else p=a.insert("rect",":first-child"),p.attr("class","basic label-container").attr("style",n).attr("rx",Cn(g)).attr("ry",Cn(f)).attr("x",u).attr("y",d).attr("width",o).attr("height",h);return Rt(e,p),e.calcIntersect=function(y,b){return St.rect(y,b)},e.intersect=function(y){return St.rect(e,y)},a}async function eX(t,e){let{shapeSvg:r,bbox:i,label:n}=await Ht(t,e,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),n.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Rt(e,a),e.intersect=function(s){return St.rect(e,s)},r}async function tX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),h=[{x:0,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:-(3*o)/6,y:-o}],u,{cssStyles:d}=e;if(e.look==="handDrawn"){let p=Nt.svg(n),g=It(e,{}),f=xr(h),m=p.path(f,g);u=n.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&u.attr("style",d)}else u=lh(n,s,o,h);return i&&u.attr("style",i),e.width=s,e.height=o,Rt(e,u),e.intersect=function(p){return St.polygon(e,h,p)},n}async function rX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),h=[{x:-3*o/6,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:0,y:-o}],u,{cssStyles:d}=e;if(e.look==="handDrawn"){let p=Nt.svg(n),g=It(e,{}),f=xr(h),m=p.path(f,g);u=n.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&u.attr("style",d)}else u=lh(n,s,o,h);return i&&u.attr("style",i),e.width=s,e.height=o,Rt(e,u),e.intersect=function(p){return St.polygon(e,h,p)},n}function iX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.label="",e.labelStyle=r;let n=t.insert("g").attr("class",jt(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,s=Math.max(35,(e==null?void 0:e.width)??0),o=Math.max(35,(e==null?void 0:e.height)??0),h=7,u=[{x:s,y:0},{x:0,y:o+h/2},{x:s-2*h,y:o+h/2},{x:0,y:2*o},{x:s,y:o-h/2},{x:2*h,y:o-h/2}],d=Nt.svg(n),p=It(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=xr(u),f=d.path(g,p),m=n.insert(()=>f,":first-child");return a&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",a),i&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",i),m.attr("transform",`translate(-${s/2},${-o})`),Rt(e,m),e.intersect=function(y){return ee.info("lightningBolt intersect",e,y),St.polygon(e,u,y)},n}async function nX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Math.max(a.width+(e.padding??0),e.width??0),h=o/2,u=h/(2.5+o/50),d=Math.max(a.height+u+(e.padding??0),e.height??0),p=d*.1,g,{cssStyles:f}=e;if(e.look==="handDrawn"){let m=Nt.svg(n),y=Hwe(0,0,o,d,h,u,p),b=Xwe(0,u,o,d,h,u),v=It(e,{}),x=m.path(y,v),w=m.path(b,v);n.insert(()=>w,":first-child").attr("class","line"),g=n.insert(()=>x,":first-child"),g.attr("class","basic label-container"),f&&g.attr("style",f)}else{let m=Ywe(0,0,o,d,h,u,p);g=n.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Cn(f)).attr("style",i)}return g.attr("label-offset-y",u),g.attr("transform",`translate(${-o/2}, ${-(d/2+u)})`),Rt(e,g),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),e.intersect=function(m){let y=St.rect(e,m),b=y.x-(e.x??0);if(h!=0&&(Math.abs(b)<(e.width??0)/2||Math.abs(b)==(e.width??0)/2&&Math.abs(y.y-(e.y??0))>(e.height??0)/2-u)){let v=u*u*(1-b*b/(h*h));v>0&&(v=Math.sqrt(v)),v=u-v,m.y-(e.y??0)>0&&(v=-v),y.y+=v}return y},n}async function aX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=h/4,d=h+u,{cssStyles:p}=e,g=Nt.svg(n),f=It(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=[{x:-o/2-o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:d/2},...ah(-o/2-o/2*.1,d/2,o/2+o/2*.1,d/2,u,.8),{x:o/2+o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:-d/2},{x:-o/2,y:-d/2},{x:-o/2,y:d/2*1.1},{x:-o/2,y:-d/2}],y=g.polygon(m.map(v=>[v.x,v.y]),f),b=n.insert(()=>y,":first-child");return b.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",i),b.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)+o/2*.1/2-(a.x-(a.left??0))},${-h/2+(e.padding??0)-u/2-(a.y-(a.top??0))})`),Rt(e,b),e.intersect=function(v){return St.polygon(e,m,v)},n}async function sX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=5,d=-o/2,p=-h/2,{cssStyles:g}=e,f=Nt.svg(n),m=It(e,{}),y=[{x:d-u,y:p+u},{x:d-u,y:p+h+u},{x:d+o-u,y:p+h+u},{x:d+o-u,y:p+h},{x:d+o,y:p+h},{x:d+o,y:p+h-u},{x:d+o+u,y:p+h-u},{x:d+o+u,y:p-u},{x:d+u,y:p-u},{x:d+u,y:p},{x:d,y:p},{x:d,y:p+u}],b=[{x:d,y:p+u},{x:d+o-u,y:p+u},{x:d+o-u,y:p+h},{x:d+o,y:p+h},{x:d+o,y:p},{x:d,y:p}];e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=xr(y),x=f.path(v,m),w=xr(b),k=f.path(w,{...m,fill:"none"}),T=n.insert(()=>k,":first-child");return T.insert(()=>x,":first-child"),T.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",g),i&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",i),s.attr("transform",`translate(${-(a.width/2)-u-(a.x-(a.left??0))}, ${-(a.height/2)+u-(a.y-(a.top??0))})`),Rt(e,T),e.intersect=function(S){return St.polygon(e,y,S)},n}async function oX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=h/4,d=h+u,p=-o/2,g=-d/2,f=5,{cssStyles:m}=e,y=ah(p-f,g+d+f,p+o-f,g+d+f,u,.8),b=y==null?void 0:y[y.length-1],v=[{x:p-f,y:g+f},{x:p-f,y:g+d+f},...y,{x:p+o-f,y:b.y-f},{x:p+o,y:b.y-f},{x:p+o,y:b.y-2*f},{x:p+o+f,y:b.y-2*f},{x:p+o+f,y:g-f},{x:p+f,y:g-f},{x:p+f,y:g},{x:p,y:g},{x:p,y:g+f}],x=[{x:p,y:g+f},{x:p+o-f,y:g+f},{x:p+o-f,y:b.y-f},{x:p+o,y:b.y-f},{x:p+o,y:g},{x:p,y:g}],w=Nt.svg(n),k=It(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");let T=xr(v),S=w.path(T,k),C=xr(x),E=w.path(C,k),L=n.insert(()=>S,":first-child");return L.insert(()=>E),L.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",m),i&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",i),L.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-(a.width/2)-f-(a.x-(a.left??0))}, ${-(a.height/2)+f-u/2-(a.y-(a.top??0))})`),Rt(e,L),e.intersect=function(I){return St.polygon(e,v,I)},n}async function lX(t,e,{config:{themeVariables:r}}){var v;let{labelStyles:i,nodeStyles:n}=Et(e);e.labelStyle=i,e.useHtmlLabels||((v=ir().flowchart)==null?void 0:v.htmlLabels)!==!1||(e.centerLabel=!0);let{shapeSvg:a,bbox:s,label:o}=await Ht(t,e,jt(e)),h=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=-h/2,p=-u/2,{cssStyles:g}=e,f=Nt.svg(a),m=It(e,{fill:r.noteBkgColor,stroke:r.noteBorderColor});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=f.rectangle(d,p,h,u,m),b=a.insert(()=>y,":first-child");return b.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",g),n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Rt(e,b),e.intersect=function(x){return St.rect(e,x)},a}async function cX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=a.width+e.padding,o=a.height+e.padding,h=s+o,u=.5,d=[{x:h/2,y:0},{x:h,y:-h/2},{x:h/2,y:-h},{x:0,y:-h/2}],p,{cssStyles:g}=e;if(e.look==="handDrawn"){let f=Nt.svg(n),m=It(e,{}),y=Kwe(0,0,h),b=f.path(y,m);p=n.insert(()=>b,":first-child").attr("transform",`translate(${-h/2+u}, ${h/2})`),g&&p.attr("style",g)}else p=lh(n,h,h,d),p.attr("transform",`translate(${-h/2+u}, ${h/2})`);return i&&p.attr("style",i),Rt(e,p),e.calcIntersect=function(f,m){let y=f.width,b=[{x:y/2,y:0},{x:y,y:-y/2},{x:y/2,y:-y},{x:0,y:-y/2}],v=St.polygon(f,b,m);return{x:v.x-.5,y:v.y-.5}},e.intersect=function(f){return this.calcIntersect(e,f)},n}async function hX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Math.max(a.width+(e.padding??0),(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0),(e==null?void 0:e.height)??0),u=-o/2,d=-h/2,p=d/2,g=[{x:u+p,y:d},{x:u,y:0},{x:u+p,y:-d},{x:-u,y:-d},{x:-u,y:d}],{cssStyles:f}=e,m=Nt.svg(n),y=It(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=xr(g),v=m.path(b,y),x=n.insert(()=>v,":first-child");return x.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",f),i&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",i),x.attr("transform",`translate(${-p/2},0)`),s.attr("transform",`translate(${-p/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Rt(e,x),e.intersect=function(w){return St.polygon(e,g,w)},n}async function uX(t,e){var E,L;let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let n;e.cssClasses?n="node "+e.cssClasses:n="node default";let a=t.insert("g").attr("class",n).attr("id",e.domId||e.id),s=a.insert("g"),o=a.insert("g").attr("class","label").attr("style",i),h=e.description,u=e.label,d=o.node().appendChild(await sh(u,e.labelStyle,!0,!0)),p={width:0,height:0};if(Mr((L=(E=ve())==null?void 0:E.flowchart)==null?void 0:L.htmlLabels)){let I=d.children[0],M=Ue(d);p=I.getBoundingClientRect(),M.attr("width",p.width),M.attr("height",p.height)}ee.info("Text 2",h);let g=h||[],f=d.getBBox(),m=o.node().appendChild(await sh(g.join?g.join("<br/>"):g,e.labelStyle,!0,!0)),y=m.children[0],b=Ue(m);p=y.getBoundingClientRect(),b.attr("width",p.width),b.attr("height",p.height);let v=(e.padding||0)/2;Ue(m).attr("transform","translate( "+(p.width>f.width?0:(f.width-p.width)/2)+", "+(f.height+v+5)+")"),Ue(d).attr("transform","translate( "+(p.width<f.width?0:-(f.width-p.width)/2)+", 0)"),p=o.node().getBBox(),o.attr("transform","translate("+-p.width/2+", "+(-p.height/2-v+3)+")");let x=p.width+(e.padding||0),w=p.height+(e.padding||0),k=-p.width/2-v,T=-p.height/2-v,S,C;if(e.look==="handDrawn"){let I=Nt.svg(a),M=It(e,{}),N=I.path(oh(k,T,x,w,e.rx||0),M),$=I.line(-p.width/2-v,-p.height/2-v+f.height+v,p.width/2+v,-p.height/2-v+f.height+v,M);C=a.insert(()=>(ee.debug("Rough node insert CXC",N),$),":first-child"),S=a.insert(()=>(ee.debug("Rough node insert CXC",N),N),":first-child")}else S=s.insert("rect",":first-child"),C=s.insert("line"),S.attr("class","outer title-state").attr("style",i).attr("x",-p.width/2-v).attr("y",-p.height/2-v).attr("width",p.width+(e.padding||0)).attr("height",p.height+(e.padding||0)),C.attr("class","divider").attr("x1",-p.width/2-v).attr("x2",p.width/2+v).attr("y1",-p.height/2-v+f.height+v).attr("y2",-p.height/2-v+f.height+v);return Rt(e,S),e.intersect=function(I){return St.rect(e,I)},a}function dv(t,e,r,i,n,a,s){let o=(t+r)/2,h=(e+i)/2,u=Math.atan2(i-e,r-t),d=(r-t)/2,p=(i-e)/2,g=d/n,f=p/a,m=Math.sqrt(g**2+f**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");let y=Math.sqrt(1-m**2),b=o+y*a*Math.sin(u)*(s?-1:1),v=h-y*n*Math.cos(u)*(s?-1:1),x=Math.atan2((e-v)/a,(t-b)/n),w=Math.atan2((i-v)/a,(r-b)/n)-x;s&&w<0&&(w+=2*Math.PI),!s&&w>0&&(w-=2*Math.PI);let k=[];for(let T=0;T<20;T++){let S=T/19,C=x+S*w,E=b+n*Math.cos(C),L=v+a*Math.sin(C);k.push({x:E,y:L})}return k}async function dX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=(e==null?void 0:e.padding)??0,o=(e==null?void 0:e.padding)??0,h=(e!=null&&e.width?e==null?void 0:e.width:a.width)+s*2,u=(e!=null&&e.height?e==null?void 0:e.height:a.height)+o*2,d=e.radius||5,p=e.taper||5,{cssStyles:g}=e,f=Nt.svg(n),m=It(e,{});e.stroke&&(m.stroke=e.stroke),e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=[{x:-h/2+p,y:-u/2},{x:h/2-p,y:-u/2},...dv(h/2-p,-u/2,h/2,-u/2+p,d,d,!0),{x:h/2,y:-u/2+p},{x:h/2,y:u/2-p},...dv(h/2,u/2-p,h/2-p,u/2,d,d,!0),{x:h/2-p,y:u/2},{x:-h/2+p,y:u/2},...dv(-h/2+p,u/2,-h/2,u/2-p,d,d,!0),{x:-h/2,y:u/2-p},{x:-h/2,y:-u/2+p},...dv(-h/2,-u/2+p,-h/2+p,-u/2,d,d,!0)],b=xr(y),v=f.path(b,m),x=n.insert(()=>v,":first-child");return x.attr("class","basic label-container outer-path"),g&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",g),i&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",i),Rt(e,x),e.intersect=function(w){return St.polygon(e,y,w)},n}async function pX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=(e==null?void 0:e.padding)??0,h=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=-a.width/2-o,p=-a.height/2-o,{cssStyles:g}=e,f=Nt.svg(n),m=It(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=[{x:d,y:p},{x:d+h+8,y:p},{x:d+h+8,y:p+u},{x:d-8,y:p+u},{x:d-8,y:p},{x:d,y:p},{x:d,y:p+u}],b=f.polygon(y.map(x=>[x.x,x.y]),m),v=n.insert(()=>b,":first-child");return v.attr("class","basic label-container").attr("style",Cn(g)),i&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",i),g&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",i),s.attr("transform",`translate(${-h/2+4+(e.padding??0)-(a.x-(a.left??0))},${-u/2+(e.padding??0)-(a.y-(a.top??0))})`),Rt(e,v),e.intersect=function(x){return St.rect(e,x)},n}async function gX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-o/2,d=-h/2,{cssStyles:p}=e,g=Nt.svg(n),f=It(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=[{x:u,y:d},{x:u,y:d+h},{x:u+o,y:d+h},{x:u+o,y:d-h/2}],y=xr(m),b=g.path(y,f),v=n.insert(()=>b,":first-child");return v.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),i&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",i),v.attr("transform",`translate(0, ${h/4})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))}, ${-h/4+(e.padding??0)-(a.y-(a.top??0))})`),Rt(e,v),e.intersect=function(x){return St.polygon(e,m,x)},n}async function fX(t,e){let r={rx:0,ry:0,classes:"",labelPaddingX:e.labelPaddingX??((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return M5(t,e,r)}async function mX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=a.height+e.padding,o=a.width+s/4+e.padding,h=s/2,{cssStyles:u}=e,d=Nt.svg(n),p=It(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=[{x:-o/2+h,y:-s/2},{x:o/2-h,y:-s/2},...mv(-o/2+h,0,h,50,90,270),{x:o/2-h,y:s/2},...mv(o/2-h,0,h,50,270,450)],f=xr(g),m=d.path(f,p),y=n.insert(()=>m,":first-child");return y.attr("class","basic label-container outer-path"),u&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",u),i&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",i),Rt(e,y),e.intersect=function(b){return St.polygon(e,g,b)},n}async function yX(t,e){return M5(t,e,{rx:5,ry:5,classes:"flowchart-node"})}function vX(t,e,{config:{themeVariables:r}}){let{labelStyles:i,nodeStyles:n}=Et(e);e.labelStyle=i;let{cssStyles:a}=e,{lineColor:s,stateBorder:o,nodeBorder:h}=r,u=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),d=Nt.svg(u),p=It(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=d.circle(0,0,14,{...p,stroke:s,strokeWidth:2}),f=o??h,m=d.circle(0,0,5,{...p,fill:f,stroke:f,strokeWidth:2,fillStyle:"solid"}),y=u.insert(()=>g,":first-child");return y.insert(()=>m),a&&y.selectAll("path").attr("style",a),n&&y.selectAll("path").attr("style",n),Rt(e,y),e.intersect=function(b){return St.circle(e,7,b)},u}function bX(t,e,{config:{themeVariables:r}}){let{lineColor:i}=r,n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),a;if(e.look==="handDrawn"){let s=Nt.svg(n).circle(0,0,14,OW(i));a=n.insert(()=>s),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=n.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Rt(e,a),e.intersect=function(s){return St.circle(e,7,s)},n}async function xX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=((e==null?void 0:e.padding)||0)/2,o=a.width+e.padding,h=a.height+e.padding,u=-a.width/2-s,d=-a.height/2-s,p=[{x:0,y:0},{x:o,y:0},{x:o,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-h},{x:-8,y:-h},{x:-8,y:0}];if(e.look==="handDrawn"){let g=Nt.svg(n),f=It(e,{}),m=g.rectangle(u-8,d,o+16,h,f),y=g.line(u,d,u,d+h,f),b=g.line(u+o,d,u+o,d+h,f);n.insert(()=>y,":first-child"),n.insert(()=>b,":first-child");let v=n.insert(()=>m,":first-child"),{cssStyles:x}=e;v.attr("class","basic label-container").attr("style",Cn(x)),Rt(e,v)}else{let g=lh(n,o,h,p);i&&g.attr("style",i),Rt(e,g)}return e.intersect=function(g){return St.polygon(e,p,g)},n}async function wX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),o=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),h=-s/2,u=-o/2,d=.2*o,p=.2*o,{cssStyles:g}=e,f=Nt.svg(n),m=It(e,{}),y=[{x:h-d/2,y:u},{x:h+s+d/2,y:u},{x:h+s+d/2,y:u+o},{x:h-d/2,y:u+o}],b=[{x:h+s-d/2,y:u+o},{x:h+s+d/2,y:u+o},{x:h+s+d/2,y:u+o-p}];e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=xr(y),x=f.path(v,m),w=xr(b),k=f.path(w,{...m,fillStyle:"solid"}),T=n.insert(()=>k,":first-child");return T.insert(()=>x,":first-child"),T.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",g),i&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",i),Rt(e,T),e.intersect=function(S){return St.polygon(e,y,S)},n}async function kX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=h/4,d=.2*o,p=.2*h,g=h+u,{cssStyles:f}=e,m=Nt.svg(n),y=It(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=[{x:-o/2-o/2*.1,y:g/2},...ah(-o/2-o/2*.1,g/2,o/2+o/2*.1,g/2,u,.8),{x:o/2+o/2*.1,y:-g/2},{x:-o/2-o/2*.1,y:-g/2}],v=-o/2+o/2*.1,x=-g/2-p*.4,w=[{x:v+o-d,y:(x+h)*1.4},{x:v+o,y:x+h-p},{x:v+o,y:(x+h)*.9},...ah(v+o,(x+h)*1.3,v+o-d,(x+h)*1.5,-h*.03,.5)],k=xr(b),T=m.path(k,y),S=xr(w),C=m.path(S,{...y,fillStyle:"solid"}),E=n.insert(()=>C,":first-child");return E.insert(()=>T,":first-child"),E.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",f),i&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-h/2+(e.padding??0)-u/2-(a.y-(a.top??0))})`),Rt(e,E),e.intersect=function(L){return St.polygon(e,b,L)},n}async function TX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=Math.max(a.width+e.padding,(e==null?void 0:e.width)||0),o=Math.max(a.height+e.padding,(e==null?void 0:e.height)||0),h=-s/2,u=-o/2,d=n.insert("rect",":first-child");return d.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",h).attr("y",u).attr("width",s).attr("height",o),Rt(e,d),e.intersect=function(p){return St.rect(e,p)},n}async function EX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s,halfPadding:o}=await Ht(t,e,jt(e)),h=e.look==="neo"?o*2:o,u=a.height+h,d=u/2,p=d/(2.5+u/50),g=a.width+p+h,{cssStyles:f}=e,m;if(e.look==="handDrawn"){let y=Nt.svg(n),b=Qwe(0,0,g,u,p,d),v=Jwe(0,0,g,u,p,d),x=y.path(b,It(e,{})),w=y.path(v,It(e,{fill:"none"}));m=n.insert(()=>w,":first-child"),m=n.insert(()=>x,":first-child"),m.attr("class","basic label-container"),f&&m.attr("style",f)}else{let y=Zwe(0,0,g,u,p,d);m=n.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",Cn(f)).attr("style",i),m.attr("class","basic label-container"),f&&m.selectAll("path").attr("style",f),i&&m.selectAll("path").attr("style",i)}return m.attr("label-offset-x",p),m.attr("transform",`translate(${-g/2}, ${u/2} )`),s.attr("transform",`translate(${-(a.width/2)-p-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Rt(e,m),e.intersect=function(y){let b=St.rect(e,y),v=b.y-(e.y??0);if(d!=0&&(Math.abs(v)<(e.height??0)/2||Math.abs(v)==(e.height??0)/2&&Math.abs(b.x-(e.x??0))>(e.width??0)/2-p)){let x=p*p*(1-v*v/(d*d));x!=0&&(x=Math.sqrt(Math.abs(x))),x=p-x,y.x-(e.x??0)>0&&(x=-x),b.x+=x}return b},n}async function CX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=a.width+e.padding,o=a.height+e.padding,h=[{x:-3*o/6,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:0,y:-o}],u,{cssStyles:d}=e;if(e.look==="handDrawn"){let p=Nt.svg(n),g=It(e,{}),f=xr(h),m=p.path(f,g);u=n.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&u.attr("style",d)}else u=lh(n,s,o,h);return i&&u.attr("style",i),e.width=s,e.height=o,Rt(e,u),e.intersect=function(p){return St.polygon(e,h,p)},n}async function SX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=60,o=20,h=Math.max(s,a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(o,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:d}=e,p=Nt.svg(n),g=It(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let f=[{x:-h/2*.8,y:-u/2},{x:h/2*.8,y:-u/2},{x:h/2,y:-u/2*.6},{x:h/2,y:u/2},{x:-h/2,y:u/2},{x:-h/2,y:-u/2*.6}],m=xr(f),y=p.path(m,g),b=n.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",d),i&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),Rt(e,b),e.intersect=function(v){return St.polygon(e,f,v)},n}async function _X(t,e){var x;let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Mr((x=ve().flowchart)==null?void 0:x.htmlLabels),h=a.width+(e.padding??0),u=h+a.height,d=h+a.height,p=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-u}],{cssStyles:g}=e,f=Nt.svg(n),m=It(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=xr(p),b=f.path(y,m),v=n.insert(()=>b,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return g&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",g),i&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",i),e.width=h,e.height=u,Rt(e,v),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${u/2-(a.height+(e.padding??0)/(o?2:1)-(a.y-(a.top??0)))})`),e.intersect=function(w){return ee.info("Triangle intersect",e,p,w),St.polygon(e,p,w)},n}async function AX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=h/8,d=h+u,{cssStyles:p}=e,g=70-o,f=g>0?g/2:0,m=Nt.svg(n),y=It(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=[{x:-o/2-f,y:d/2},...ah(-o/2-f,d/2,o/2+f,d/2,u,.8),{x:o/2+f,y:-d/2},{x:-o/2-f,y:-d/2}],v=xr(b),x=m.path(v,y),w=n.insert(()=>x,":first-child");return w.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(0,${-u/2})`),s.attr("transform",`translate(${-o/2+(e.padding??0)-(a.x-(a.left??0))},${-h/2+(e.padding??0)-u-(a.y-(a.top??0))})`),Rt(e,w),e.intersect=function(k){return St.polygon(e,b,k)},n}async function LX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a}=await Ht(t,e,jt(e)),s=100,o=50,h=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),u=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=h/u,p=h,g=u;p>g*d?g=p/d:p=g*d,p=Math.max(p,s),g=Math.max(g,o);let f=Math.min(g*.2,g/4),m=g+f*2,{cssStyles:y}=e,b=Nt.svg(n),v=It(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");let x=[{x:-p/2,y:m/2},...ah(-p/2,m/2,p/2,m/2,f,1),{x:p/2,y:-m/2},...ah(p/2,-m/2,-p/2,-m/2,f,-1)],w=xr(x),k=b.path(w,v),T=n.insert(()=>k,":first-child");return T.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",y),i&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",i),Rt(e,T),e.intersect=function(S){return St.polygon(e,x,S)},n}async function NX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=await Ht(t,e,jt(e)),o=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=5,d=-o/2,p=-h/2,{cssStyles:g}=e,f=Nt.svg(n),m=It(e,{}),y=[{x:d-u,y:p-u},{x:d-u,y:p+h},{x:d+o,y:p+h},{x:d+o,y:p-u}],b=`M${d-u},${p-u} L${d+o},${p-u} L${d+o},${p+h} L${d-u},${p+h} L${d-u},${p-u}
                M${d-u},${p} L${d+o},${p}
                M${d},${p-u} L${d},${p+h}`;e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=f.path(b,m),x=n.insert(()=>v,":first-child");return x.attr("transform",`translate(${u/2}, ${u/2})`),x.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",g),i&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",i),s.attr("transform",`translate(${-(a.width/2)+u/2-(a.x-(a.left??0))}, ${-(a.height/2)+u/2-(a.y-(a.top??0))})`),Rt(e,x),e.intersect=function(w){return St.polygon(e,y,w)},n}async function d_(t,e){var q,K,W,ae,ie;let r=e;if(r.alias&&(e.label=r.alias),e.look==="handDrawn"){let{themeVariables:se}=ir(),{background:oe}=se,Y={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${oe}`]};await d_(t,Y)}let i=ir();e.useHtmlLabels=i.htmlLabels;let n=((q=i.er)==null?void 0:q.diagramPadding)??10,a=((K=i.er)==null?void 0:K.entityPadding)??6,{cssStyles:s}=e,{labelStyles:o,nodeStyles:h}=Et(e);if(r.attributes.length===0&&e.label){let se={rx:0,ry:0,labelPaddingX:n,labelPaddingY:n*1.5,classes:""};En(e.label,i)+se.labelPaddingX*2<i.er.minEntityWidth&&(e.width=i.er.minEntityWidth);let oe=await M5(t,e,se);if(!Mr(i.htmlLabels)){let Y=oe.select("text"),Q=(W=Y.node())==null?void 0:W.getBBox();Y.attr("transform",`translate(${-Q.width/2}, 0)`)}return oe}i.htmlLabels||(n*=1.25,a*=1.25);let u=jt(e);u||(u="node default");let d=t.insert("g").attr("class",u).attr("id",e.domId||e.id),p=await Ip(d,e.label??"",i,0,0,["name"],o);p.height+=a;let g=0,f=[],m=[],y=0,b=0,v=0,x=0,w=!0,k=!0;for(let se of r.attributes){let oe=await Ip(d,se.type,i,0,g,["attribute-type"],o);y=Math.max(y,oe.width+n);let Y=await Ip(d,se.name,i,0,g,["attribute-name"],o);b=Math.max(b,Y.width+n);let Q=await Ip(d,se.keys.join(),i,0,g,["attribute-keys"],o);v=Math.max(v,Q.width+n);let j=await Ip(d,se.comment,i,0,g,["attribute-comment"],o);x=Math.max(x,j.width+n);let H=Math.max(oe.height,Y.height,Q.height,j.height)+a;m.push({yOffset:g,rowHeight:H}),g+=H}let T=4;v<=n&&(w=!1,v=0,T--),x<=n&&(k=!1,x=0,T--);let S=d.node().getBBox();if(p.width+n*2-(y+b+v+x)>0){let se=p.width+n*2-(y+b+v+x);y+=se/T,b+=se/T,v>0&&(v+=se/T),x>0&&(x+=se/T)}let C=y+b+v+x,E=Nt.svg(d),L=It(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");let I=0;m.length>0&&(I=m.reduce((se,oe)=>se+((oe==null?void 0:oe.rowHeight)??0),0));let M=Math.max(S.width+n*2,(e==null?void 0:e.width)||0,C),N=Math.max((I??0)+p.height,(e==null?void 0:e.height)||0),$=-M/2,_=-N/2;d.selectAll("g:not(:first-child)").each((se,oe,Y)=>{let Q=Ue(Y[oe]),j=Q.attr("transform"),H=0,J=0;if(j){let he=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(j);he&&(H=parseFloat(he[1]),J=parseFloat(he[2]),Q.attr("class").includes("attribute-name")?H+=y:Q.attr("class").includes("attribute-keys")?H+=y+b:Q.attr("class").includes("attribute-comment")&&(H+=y+b+v))}Q.attr("transform",`translate(${$+n/2+H}, ${J+_+p.height+a/2})`)}),d.select(".name").attr("transform","translate("+-p.width/2+", "+(_+a/2)+")");let D=E.rectangle($,_,M,N,L),R=d.insert(()=>D,":first-child").attr("style",s.join("")),{themeVariables:O}=ir(),{rowEven:A,rowOdd:B,nodeBorder:P}=O;f.push(0);for(let[se,oe]of m.entries()){let Y=(se+1)%2===0&&oe.yOffset!==0,Q=E.rectangle($,p.height+_+(oe==null?void 0:oe.yOffset),M,oe==null?void 0:oe.rowHeight,{...L,fill:Y?A:B,stroke:P});d.insert(()=>Q,"g.label").attr("style",s.join("")).attr("class",`row-rect-${Y?"even":"odd"}`)}let z=E.line($,p.height+_,M+$,p.height+_,L);d.insert(()=>z).attr("class","divider"),z=E.line(y+$,p.height+_,y+$,N+_,L),d.insert(()=>z).attr("class","divider"),w&&(z=E.line(y+b+$,p.height+_,y+b+$,N+_,L),d.insert(()=>z).attr("class","divider")),k&&(z=E.line(y+b+v+$,p.height+_,y+b+v+$,N+_,L),d.insert(()=>z).attr("class","divider"));for(let se of f)z=E.line($,p.height+_+se,M+$,p.height+_+se,L),d.insert(()=>z).attr("class","divider");if(Rt(e,R),h&&e.look!=="handDrawn"){let se=(ie=(ae=h.split(";"))==null?void 0:ae.filter(oe=>oe.includes("stroke")))==null?void 0:ie.map(oe=>`${oe}`).join("; ");d.selectAll("path").attr("style",se??""),d.selectAll(".row-rect-even path").attr("style",h)}return e.intersect=function(se){return St.rect(e,se)},d}async function Ip(t,e,r,i=0,n=0,a=[],s=""){let o=t.insert("g").attr("class",`label ${a.join(" ")}`).attr("transform",`translate(${i}, ${n})`).attr("style",s);e!==Go(e)&&(e=Go(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));let h=o.node().appendChild(await Sn(o,e,{width:En(e,r)+100,style:s,useHtmlLabels:r.htmlLabels},r));if(e.includes("&lt;")||e.includes("&gt;")){let d=h.children[0];for(d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");d.childNodes[0];)d=d.childNodes[0],d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let u=h.getBBox();if(Mr(r.htmlLabels)){let d=h.children[0];d.style.textAlign="start";let p=Ue(h);u=d.getBoundingClientRect(),p.attr("width",u.width),p.attr("height",u.height)}return u}async function IX(t,e,r,i,n=r.class.padding??12){let a=i?0:3,s=t.insert("g").attr("class",jt(e)).attr("id",e.domId||e.id),o=null,h=null,u=null,d=null,p=0,g=0,f=0;if(o=s.insert("g").attr("class","annotation-group text"),e.annotations.length>0){let x=e.annotations[0];await pv(o,{text:`\xAB${x}\xBB`},0),p=o.node().getBBox().height}h=s.insert("g").attr("class","label-group text"),await pv(h,e,0,["font-weight: bolder"]);let m=h.node().getBBox();g=m.height,u=s.insert("g").attr("class","members-group text");let y=0;for(let x of e.members){let w=await pv(u,x,y,[x.parseClassifier()]);y+=w+a}f=u.node().getBBox().height,f<=0&&(f=n/2),d=s.insert("g").attr("class","methods-group text");let b=0;for(let x of e.methods){let w=await pv(d,x,b,[x.parseClassifier()]);b+=w+a}let v=s.node().getBBox();if(o!==null){let x=o.node().getBBox();o.attr("transform",`translate(${-x.width/2})`)}return h.attr("transform",`translate(${-m.width/2}, ${p})`),v=s.node().getBBox(),u.attr("transform",`translate(0, ${p+g+n*2})`),v=s.node().getBBox(),d.attr("transform",`translate(0, ${p+g+(f?f+n*4:n*2)})`),v=s.node().getBBox(),{shapeSvg:s,bbox:v}}async function pv(t,e,r,i=[]){let n=t.insert("g").attr("class","label").attr("style",i.join("; ")),a=ir(),s="useHtmlLabels"in e?e.useHtmlLabels:Mr(a.htmlLabels)??!0,o="";"text"in e?o=e.text:o=e.label,!s&&o.startsWith("\\")&&(o=o.substring(1)),li(o)&&(s=!0);let h=await Sn(n,$3(Ma(o)),{width:En(o,a)+50,classes:"markdown-node-label",useHtmlLabels:s},a),u,d=1;if(s){let p=h.children[0],g=Ue(h);d=p.innerHTML.split("<br>").length,p.innerHTML.includes("</math>")&&(d+=p.innerHTML.split("<mrow>").length-1);let f=p.getElementsByTagName("img");if(f){let m=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...f].map(y=>new Promise(b=>{function v(){var x;if(y.style.display="flex",y.style.flexDirection="column",m){let w=((x=a.fontSize)==null?void 0:x.toString())??window.getComputedStyle(document.body).fontSize,k=parseInt(w,10)*5+"px";y.style.minWidth=k,y.style.maxWidth=k}else y.style.width="100%";b(y)}l(v,"setupImage"),setTimeout(()=>{y.complete&&v()}),y.addEventListener("error",v),y.addEventListener("load",v)})))}u=p.getBoundingClientRect(),g.attr("width",u.width),g.attr("height",u.height)}else{i.includes("font-weight: bolder")&&Ue(h).selectAll("tspan").attr("font-weight",""),d=h.children.length;let p=h.children[0];(h.textContent===""||h.textContent.includes("&gt"))&&(p.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(p.textContent=p.textContent[0]+" "+p.textContent.substring(1))),p.textContent==="undefined"&&(p.textContent=""),u=h.getBBox()}return n.attr("transform","translate(0,"+(-u.height/(2*d)+r)+")"),u.height}async function RX(t,e){var L,I;let r=ve(),i=r.class.padding??12,n=i,a=e.useHtmlLabels??Mr(r.htmlLabels)??!0,s=e;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];let{shapeSvg:o,bbox:h}=await IX(t,e,r,a,n),{labelStyles:u,nodeStyles:d}=Et(e);e.labelStyle=u,e.cssStyles=s.styles||"";let p=((L=s.styles)==null?void 0:L.join(";"))||d||"";e.cssStyles||(e.cssStyles=p.replaceAll("!important","").split(";"));let g=s.members.length===0&&s.methods.length===0&&!((I=r.class)!=null&&I.hideEmptyMembersBox),f=Nt.svg(o),m=It(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=h.width,b=h.height;s.members.length===0&&s.methods.length===0?b+=n:s.members.length>0&&s.methods.length===0&&(b+=n*2);let v=-y/2,x=-b/2,w=f.rectangle(v-i,x-i-(g?i:s.members.length===0&&s.methods.length===0?-i/2:0),y+2*i,b+2*i+(g?i*2:s.members.length===0&&s.methods.length===0?-i:0),m),k=o.insert(()=>w,":first-child");k.attr("class","basic label-container");let T=k.node().getBBox();o.selectAll(".text").each((M,N,$)=>{var B;let _=Ue($[N]),D=_.attr("transform"),R=0;if(D){let P=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(D);P&&(R=parseFloat(P[2]))}let O=R+x+i-(g?i:s.members.length===0&&s.methods.length===0?-i/2:0);a||(O-=4);let A=v;(_.attr("class").includes("label-group")||_.attr("class").includes("annotation-group"))&&(A=-((B=_.node())==null?void 0:B.getBBox().width)/2||0,o.selectAll("text").each(function(P,z,q){window.getComputedStyle(q[z]).textAnchor==="middle"&&(A=0)})),_.attr("transform",`translate(${A}, ${O})`)});let S=o.select(".annotation-group").node().getBBox().height-(g?i/2:0)||0,C=o.select(".label-group").node().getBBox().height-(g?i/2:0)||0,E=o.select(".members-group").node().getBBox().height-(g?i/2:0)||0;if(s.members.length>0||s.methods.length>0||g){let M=f.line(T.x,S+C+x+i,T.x+T.width,S+C+x+i,m);o.insert(()=>M).attr("class","divider").attr("style",p)}if(g||s.members.length>0||s.methods.length>0){let M=f.line(T.x,S+C+E+x+n*2+i,T.x+T.width,S+C+E+x+i+n*2,m);o.insert(()=>M).attr("class","divider").attr("style",p)}if(s.look!=="handDrawn"&&o.selectAll("path").attr("style",p),k.select(":nth-child(2)").attr("style",p),o.selectAll(".divider").select("path").attr("style",p),e.labelStyle?o.selectAll("span").attr("style",e.labelStyle):o.selectAll("span").attr("style",p),!a){let M=RegExp(/color\s*:\s*([^;]*)/),N=M.exec(p);if(N){let $=N[0].replace("color","fill");o.selectAll("tspan").attr("style",$)}else if(u){let $=M.exec(u);if($){let _=$[0].replace("color","fill");o.selectAll("tspan").attr("style",_)}}}return Rt(e,k),e.intersect=function(M){return St.rect(e,M)},o}async function DX(t,e){var S,C;let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let n=e,a=e,s=20,o=20,h="verifyMethod"in e,u=jt(e),d=t.insert("g").attr("class",u).attr("id",e.domId??e.id),p;h?p=await Xo(d,`&lt;&lt;${n.type}&gt;&gt;`,0,e.labelStyle):p=await Xo(d,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let g=p,f=await Xo(d,n.name,g,e.labelStyle+"; font-weight: bold;");if(g+=f+o,h){let E=await Xo(d,`${n.requirementId?`ID: ${n.requirementId}`:""}`,g,e.labelStyle);g+=E;let L=await Xo(d,`${n.text?`Text: ${n.text}`:""}`,g,e.labelStyle);g+=L;let I=await Xo(d,`${n.risk?`Risk: ${n.risk}`:""}`,g,e.labelStyle);g+=I,await Xo(d,`${n.verifyMethod?`Verification: ${n.verifyMethod}`:""}`,g,e.labelStyle)}else{let E=await Xo(d,`${a.type?`Type: ${a.type}`:""}`,g,e.labelStyle);g+=E,await Xo(d,`${a.docRef?`Doc Ref: ${a.docRef}`:""}`,g,e.labelStyle)}let m=(((S=d.node())==null?void 0:S.getBBox().width)??200)+s,y=(((C=d.node())==null?void 0:C.getBBox().height)??200)+s,b=-m/2,v=-y/2,x=Nt.svg(d),w=It(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let k=x.rectangle(b,v,m,y,w),T=d.insert(()=>k,":first-child");if(T.attr("class","basic label-container").attr("style",i),d.selectAll(".label").each((E,L,I)=>{let M=Ue(I[L]),N=M.attr("transform"),$=0,_=0;if(N){let O=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(N);O&&($=parseFloat(O[1]),_=parseFloat(O[2]))}let D=_-y/2,R=b+s/2;(L===0||L===1)&&(R=$),M.attr("transform",`translate(${R}, ${D+s})`)}),g>p+f+o){let E=x.line(b,v+p+f+o,b+m,v+p+f+o,w);d.insert(()=>E).attr("style",i)}return Rt(e,T),e.intersect=function(E){return St.rect(e,E)},d}async function Xo(t,e,r,i=""){if(e==="")return 0;let n=t.insert("g").attr("class","label").attr("style",i),a=ve(),s=a.htmlLabels??!0,o=await Sn(n,$3(Ma(e)),{width:En(e,a)+50,classes:"markdown-node-label",useHtmlLabels:s,style:i},a),h;if(s){let u=o.children[0],d=Ue(o);h=u.getBoundingClientRect(),d.attr("width",h.width),d.attr("height",h.height)}else{let u=o.children[0];for(let d of u.children)d.textContent=d.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&d.setAttribute("style",i);h=o.getBBox(),h.height+=6}return n.attr("transform",`translate(${-h.width/2},${-h.height/2+r})`),h.height}async function MX(t,e,{config:r}){var N,$;let{labelStyles:i,nodeStyles:n}=Et(e);e.labelStyle=i||"";let a=10,s=e.width;e.width=(e.width??200)-10;let{shapeSvg:o,bbox:h,label:u}=await Ht(t,e,jt(e)),d=e.padding||10,p="",g;"ticket"in e&&e.ticket&&((N=r==null?void 0:r.kanban)!=null&&N.ticketBaseUrl)&&(p=($=r==null?void 0:r.kanban)==null?void 0:$.ticketBaseUrl.replace("#TICKET#",e.ticket),g=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",p).attr("target","_blank"));let f={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1},m,y;g?{label:m,bbox:y}=await YS(g,"ticket"in e&&e.ticket||"",f):{label:m,bbox:y}=await YS(o,"ticket"in e&&e.ticket||"",f);let{label:b,bbox:v}=await YS(o,"assigned"in e&&e.assigned||"",f);e.width=s;let x=10,w=(e==null?void 0:e.width)||0,k=Math.max(y.height,v.height)/2,T=Math.max(h.height+x*2,(e==null?void 0:e.height)||0)+k,S=-w/2,C=-T/2;u.attr("transform","translate("+(d-w/2)+", "+(-k-h.height/2)+")"),m.attr("transform","translate("+(d-w/2)+", "+(-k+h.height/2)+")"),b.attr("transform","translate("+(d+w/2-v.width-2*a)+", "+(-k+h.height/2)+")");let E,{rx:L,ry:I}=e,{cssStyles:M}=e;if(e.look==="handDrawn"){let _=Nt.svg(o),D=It(e,{}),R=L||I?_.path(oh(S,C,w,T,L||0),D):_.rectangle(S,C,w,T,D);E=o.insert(()=>R,":first-child"),E.attr("class","basic label-container").attr("style",M||null)}else{E=o.insert("rect",":first-child"),E.attr("class","basic label-container __APA__").attr("style",n).attr("rx",L??5).attr("ry",I??5).attr("x",S).attr("y",C).attr("width",w).attr("height",T);let _="priority"in e&&e.priority;if(_){let D=o.append("line"),R=S+2,O=C+Math.floor((L??0)/2),A=C+T-Math.floor((L??0)/2);D.attr("x1",R).attr("y1",O).attr("x2",R).attr("y2",A).attr("stroke-width","4").attr("stroke",eke(_))}}return Rt(e,E),e.height=T,e.intersect=function(_){return St.rect(e,_)},o}async function OX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s,label:o}=await Ht(t,e,jt(e)),h=a.width+10*s,u=a.height+8*s,d=.15*h,{cssStyles:p}=e,g=a.width+20,f=a.height+20,m=Math.max(h,g),y=Math.max(u,f);o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`);let b,v=`M0 0 
    a${d},${d} 1 0,0 ${m*.25},${-1*y*.1}
    a${d},${d} 1 0,0 ${m*.25},0
    a${d},${d} 1 0,0 ${m*.25},0
    a${d},${d} 1 0,0 ${m*.25},${y*.1}

    a${d},${d} 1 0,0 ${m*.15},${y*.33}
    a${d*.8},${d*.8} 1 0,0 0,${y*.34}
    a${d},${d} 1 0,0 ${-1*m*.15},${y*.33}

    a${d},${d} 1 0,0 ${-1*m*.25},${y*.15}
    a${d},${d} 1 0,0 ${-1*m*.25},0
    a${d},${d} 1 0,0 ${-1*m*.25},0
    a${d},${d} 1 0,0 ${-1*m*.25},${-1*y*.15}

    a${d},${d} 1 0,0 ${-1*m*.1},${-1*y*.33}
    a${d*.8},${d*.8} 1 0,0 0,${-1*y*.34}
    a${d},${d} 1 0,0 ${m*.1},${-1*y*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){let x=Nt.svg(n),w=It(e,{}),k=x.path(v,w);b=n.insert(()=>k,":first-child"),b.attr("class","basic label-container").attr("style",Cn(p))}else b=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",v);return b.attr("transform",`translate(${-m/2}, ${-y/2})`),Rt(e,b),e.calcIntersect=function(x,w){return St.rect(x,w)},e.intersect=function(x){return ee.info("Bang intersect",e,x),St.rect(e,x)},n}async function $X(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s,label:o}=await Ht(t,e,jt(e)),h=a.width+2*s,u=a.height+2*s,d=.15*h,p=.25*h,g=.35*h,f=.2*h,{cssStyles:m}=e,y,b=`M0 0 
    a${d},${d} 0 0,1 ${h*.25},${-1*h*.1}
    a${g},${g} 1 0,1 ${h*.4},${-1*h*.1}
    a${p},${p} 1 0,1 ${h*.35},${h*.2}

    a${d},${d} 1 0,1 ${h*.15},${u*.35}
    a${f},${f} 1 0,1 ${-1*h*.15},${u*.65}

    a${p},${d} 1 0,1 ${-1*h*.25},${h*.15}
    a${g},${g} 1 0,1 ${-1*h*.5},0
    a${d},${d} 1 0,1 ${-1*h*.25},${-1*h*.15}

    a${d},${d} 1 0,1 ${-1*h*.1},${-1*u*.35}
    a${f},${f} 1 0,1 ${h*.1},${-1*u*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){let v=Nt.svg(n),x=It(e,{}),w=v.path(b,x);y=n.insert(()=>w,":first-child"),y.attr("class","basic label-container").attr("style",Cn(m))}else y=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",b);return o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),y.attr("transform",`translate(${-h/2}, ${-u/2})`),Rt(e,y),e.calcIntersect=function(v,x){return St.rect(v,x)},e.intersect=function(v){return ee.info("Cloud intersect",e,v),St.rect(e,v)},n}async function BX(t,e){let{labelStyles:r,nodeStyles:i}=Et(e);e.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s,label:o}=await Ht(t,e,jt(e)),h=a.width+8*s,u=a.height+2*s,d=5,p=`
    M${-h/2} ${u/2-d}
    v${-u+2*d}
    q0,-${d} ${d},-${d}
    h${h-2*d}
    q${d},0 ${d},${d}
    v${u-2*d}
    q0,${d} -${d},${d}
    h${-h+2*d}
    q-${d},0 -${d},-${d}
    Z
  `,g=n.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",i).attr("d",p);return n.append("line").attr("class","node-line-").attr("x1",-h/2).attr("y1",u/2).attr("x2",h/2).attr("y2",u/2),o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),n.append(()=>o.node()),Rt(e,g),e.calcIntersect=function(f,m){return St.rect(f,m)},e.intersect=function(f){return St.rect(e,f)},n}async function PX(t,e){let r={padding:e.padding??0};return u_(t,e,r)}function p_(t){return t in FX}async function Gu(t,e,r){let i,n;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");let a=e.shape?FX[e.shape]:void 0;if(!a)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let s;r.config.securityLevel==="sandbox"?s="_top":e.linkTarget&&(s=e.linkTarget||"_blank"),i=t.insert("svg:a").attr("xlink:href",e.link).attr("target",s??null),n=await a(i,e,r)}else n=await a(t,e,r),i=n;return e.tooltip&&n.attr("title",e.tooltip),O5.set(e.id,i),e.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}var Ht,YS,Rt,jt,Rp,n_,Dp,kwe,Mp,Twe,Op,Ewe,$p,Cwe,Bp,Swe,Oa,Pp,_we,Awe,HS,uH,T5,Lwe,ss,Fp,R5,zp,Nwe,E5,Gp,Iwe,Nt,Rwe,Up,Dwe,sh,oh,xH,Mwe,Owe,$we,Bwe,Pwe,Fwe,wH,jp,kH,zwe,CH,Gwe,qwe,Uwe,St,jwe,Wwe,Vwe,Ywe,Hwe,Xwe,Kwe,Zwe,Qwe,Jwe,eke,tke,rke,FX,O5,zX,GX,wv,$a=wt(()=>{ua();da();_n();Hr();hr();lr();kt();Ht=l(async(t,e,r)=>{var p,g;let i,n=e.useHtmlLabels||Mr((p=ve())==null?void 0:p.htmlLabels);r?i=r:i="node default";let a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=a.insert("g").attr("class","label").attr("style",Cn(e.labelStyle)),o;e.label===void 0?o="":o=typeof e.label=="string"?e.label:e.label[0];let h=await Sn(s,tr(Ma(o),ve()),{useHtmlLabels:n,width:e.width||((g=ve().flowchart)==null?void 0:g.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img}),u=h.getBBox(),d=((e==null?void 0:e.padding)??0)/2;if(n){let f=h.children[0],m=Ue(h),y=f.getElementsByTagName("img");if(y){let b=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...y].map(v=>new Promise(x=>{function w(){if(v.style.display="flex",v.style.flexDirection="column",b){let k=ve().fontSize?ve().fontSize:window.getComputedStyle(document.body).fontSize,T=5,[S=rr.fontSize]=Vo(k),C=S*T+"px";v.style.minWidth=C,v.style.maxWidth=C}else v.style.width="100%";x(v)}l(w,"setupImage"),setTimeout(()=>{v.complete&&w()}),v.addEventListener("error",w),v.addEventListener("load",w)})))}u=f.getBoundingClientRect(),m.attr("width",u.width),m.attr("height",u.height)}return n?s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):s.attr("transform","translate(0, "+-u.height/2+")"),e.centerLabel&&s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:u,halfPadding:d,label:s}},"labelHelper"),YS=l(async(t,e,r)=>{var h,u,d,p,g,f;let i=r.useHtmlLabels||Mr((u=(h=ve())==null?void 0:h.flowchart)==null?void 0:u.htmlLabels),n=t.insert("g").attr("class","label").attr("style",r.labelStyle||""),a=await Sn(n,tr(Ma(e),ve()),{useHtmlLabels:i,width:r.width||((p=(d=ve())==null?void 0:d.flowchart)==null?void 0:p.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img}),s=a.getBBox(),o=r.padding/2;if(Mr((f=(g=ve())==null?void 0:g.flowchart)==null?void 0:f.htmlLabels)){let m=a.children[0],y=Ue(a);s=m.getBoundingClientRect(),y.attr("width",s.width),y.attr("height",s.height)}return i?n.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):n.attr("transform","translate(0, "+-s.height/2+")"),r.centerLabel&&n.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),n.insert("rect",":first-child"),{shapeSvg:t,bbox:s,halfPadding:o,label:n}},"insertLabel"),Rt=l((t,e)=>{let r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds"),jt=l((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");l(xr,"createPathFromPoints");l(ah,"generateFullSineWavePoints");l(mv,"generateCirclePoints");l(C5,"t");l(dH,"e");l(pH,"s");l(qp,"n");n_=(Rp=class{constructor(e){this.helper=e}fillPolygons(e,r){return this._fillPolygons(e,r)}_fillPolygons(e,r){let i=qp(e,r);return{type:"fillSketch",ops:this.renderLines(i,r)}}renderLines(e,r){let i=[];for(let n of e)i.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],r));return i}},l(Rp,"o"),Rp);l(xv,"a");kwe=(Dp=class extends n_{fillPolygons(e,r){let i=r.hachureGap;i<0&&(i=4*r.strokeWidth),i=Math.max(i,.1);let n=qp(e,Object.assign({},r,{hachureGap:i})),a=Math.PI/180*r.hachureAngle,s=[],o=.5*i*Math.cos(a),h=.5*i*Math.sin(a);for(let[u,d]of n)xv([u,d])&&s.push([[u[0]-o,u[1]+h],[...d]],[[u[0]+o,u[1]-h],[...d]]);return{type:"fillSketch",ops:this.renderLines(s,r)}}},l(Dp,"h"),Dp),Twe=(Mp=class extends n_{fillPolygons(e,r){let i=this._fillPolygons(e,r),n=Object.assign({},r,{hachureAngle:r.hachureAngle+90}),a=this._fillPolygons(e,n);return i.ops=i.ops.concat(a.ops),i}},l(Mp,"r"),Mp),Ewe=(Op=class{constructor(e){this.helper=e}fillPolygons(e,r){let i=qp(e,r=Object.assign({},r,{hachureAngle:0}));return this.dotsOnLines(i,r)}dotsOnLines(e,r){let i=[],n=r.hachureGap;n<0&&(n=4*r.strokeWidth),n=Math.max(n,.1);let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);let s=n/4;for(let o of e){let h=xv(o),u=h/n,d=Math.ceil(u)-1,p=h-d*n,g=(o[0][0]+o[1][0])/2-n/4,f=Math.min(o[0][1],o[1][1]);for(let m=0;m<d;m++){let y=f+p+m*n,b=g-s+2*Math.random()*s,v=y-s+2*Math.random()*s,x=this.helper.ellipse(b,v,a,a,r);i.push(...x.ops)}}return{type:"fillSketch",ops:i}}},l(Op,"i"),Op),Cwe=($p=class{constructor(e){this.helper=e}fillPolygons(e,r){let i=qp(e,r);return{type:"fillSketch",ops:this.dashedLine(i,r)}}dashedLine(e,r){let i=r.dashOffset<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashOffset,n=r.dashGap<0?r.hachureGap<0?4*r.strokeWidth:r.hachureGap:r.dashGap,a=[];return e.forEach((s=>{let o=xv(s),h=Math.floor(o/(i+n)),u=(o+n-h*(i+n))/2,d=s[0],p=s[1];d[0]>p[0]&&(d=s[1],p=s[0]);let g=Math.atan((p[1]-d[1])/(p[0]-d[0]));for(let f=0;f<h;f++){let m=f*(i+n),y=m+i,b=[d[0]+m*Math.cos(g)+u*Math.cos(g),d[1]+m*Math.sin(g)+u*Math.sin(g)],v=[d[0]+y*Math.cos(g)+u*Math.cos(g),d[1]+y*Math.sin(g)+u*Math.sin(g)];a.push(...this.helper.doubleLineOps(b[0],b[1],v[0],v[1],r))}})),a}},l($p,"c"),$p),Swe=(Bp=class{constructor(e){this.helper=e}fillPolygons(e,r){let i=r.hachureGap<0?4*r.strokeWidth:r.hachureGap,n=r.zigzagOffset<0?i:r.zigzagOffset,a=qp(e,r=Object.assign({},r,{hachureGap:i+n}));return{type:"fillSketch",ops:this.zigzagLines(a,n,r)}}zigzagLines(e,r,i){let n=[];return e.forEach((a=>{let s=xv(a),o=Math.round(s/(2*r)),h=a[0],u=a[1];h[0]>u[0]&&(h=a[1],u=a[0]);let d=Math.atan((u[1]-h[1])/(u[0]-h[0]));for(let p=0;p<o;p++){let g=2*p*r,f=2*(p+1)*r,m=Math.sqrt(2*Math.pow(r,2)),y=[h[0]+g*Math.cos(d),h[1]+g*Math.sin(d)],b=[h[0]+f*Math.cos(d),h[1]+f*Math.sin(d)],v=[y[0]+m*Math.cos(d+Math.PI/4),y[1]+m*Math.sin(d+Math.PI/4)];n.push(...this.helper.doubleLineOps(y[0],y[1],v[0],v[1],i),...this.helper.doubleLineOps(v[0],v[1],b[0],b[1],i))}})),n}},l(Bp,"l"),Bp),Oa={},_we=(Pp=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}},l(Pp,"p"),Pp),Awe=0,HS=1,uH=2,T5={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};l(S5,"k");l(D5,"b");l(a_,"y");l(s_,"m");l(Lp,"w");l(o_,"x");Lwe={randOffset:l(function(t,e){return Yt(t,e)},"randOffset"),randOffsetWithRange:l(function(t,e,r){return yv(t,e,r)},"randOffsetWithRange"),ellipse:l(function(t,e,r,i,n){let a=c_(r,i,n);return L5(t,e,n,a).opset},"ellipse"),doubleLineOps:l(function(t,e,r,i,n){return ql(t,e,r,i,n,!0)},"doubleLineOps")};l(l_,"v");l(gv,"S");l(gH,"O");l(XS,"L");l(c_,"T");l(L5,"D");l(KS,"A");l(ZS,"_");l(_5,"I");l(zu,"C");l(QS,"z");l(h_,"W");l(yv,"E");l(Yt,"G");l(ql,"$");l(N5,"R");l(uv,"j");l(vv,"q");l(JS,"F");l(e_,"V");l(fH,"Z");l(Np,"Q");l(t_,"H");l(fv,"N");l(mH,"B");l(nh,"J");l(I5,"K");l(yH,"U");l(bv,"X");l(A5,"Y");ss="none",R5=(Fp=class{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,r,i){return{shape:e,sets:r||[],options:i||this.defaultOptions}}line(e,r,i,n,a){let s=this._o(a);return this._d("line",[l_(e,r,i,n,s)],s)}rectangle(e,r,i,n,a){let s=this._o(a),o=[],h=gH(e,r,i,n,s);if(s.fill){let u=[[e,r],[e+i,r],[e+i,r+n],[e,r+n]];s.fillStyle==="solid"?o.push(_5([u],s)):o.push(zu([u],s))}return s.stroke!==ss&&o.push(h),this._d("rectangle",o,s)}ellipse(e,r,i,n,a){let s=this._o(a),o=[],h=c_(i,n,s),u=L5(e,r,s,h);if(s.fill)if(s.fillStyle==="solid"){let d=L5(e,r,s,h).opset;d.type="fillPath",o.push(d)}else o.push(zu([u.estimatedPoints],s));return s.stroke!==ss&&o.push(u.opset),this._d("ellipse",o,s)}circle(e,r,i,n){let a=this.ellipse(e,r,i,i,n);return a.shape="circle",a}linearPath(e,r){let i=this._o(r);return this._d("linearPath",[gv(e,!1,i)],i)}arc(e,r,i,n,a,s,o=!1,h){let u=this._o(h),d=[],p=KS(e,r,i,n,a,s,o,!0,u);if(o&&u.fill)if(u.fillStyle==="solid"){let g=Object.assign({},u);g.disableMultiStroke=!0;let f=KS(e,r,i,n,a,s,!0,!1,g);f.type="fillPath",d.push(f)}else d.push((function(g,f,m,y,b,v,x){let w=g,k=f,T=Math.abs(m/2),S=Math.abs(y/2);T+=Yt(.01*T,x),S+=Yt(.01*S,x);let C=b,E=v;for(;C<0;)C+=2*Math.PI,E+=2*Math.PI;E-C>2*Math.PI&&(C=0,E=2*Math.PI);let L=(E-C)/x.curveStepCount,I=[];for(let M=C;M<=E;M+=L)I.push([w+T*Math.cos(M),k+S*Math.sin(M)]);return I.push([w+T*Math.cos(E),k+S*Math.sin(E)]),I.push([w,k]),zu([I],x)})(e,r,i,n,a,s,u));return u.stroke!==ss&&d.push(p),this._d("arc",d,u)}curve(e,r){let i=this._o(r),n=[],a=XS(e,i);if(i.fill&&i.fill!==ss)if(i.fillStyle==="solid"){let s=XS(e,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(s.ops)})}else{let s=[],o=e;if(o.length){let h=typeof o[0][0]=="number"?[o]:o;for(let u of h)u.length<3?s.push(...u):u.length===3?s.push(...A5(t_([u[0],u[0],u[1],u[2]]),10,(1+i.roughness)/2)):s.push(...A5(t_(u),10,(1+i.roughness)/2))}s.length&&n.push(zu([s],i))}return i.stroke!==ss&&n.push(a),this._d("curve",n,i)}polygon(e,r){let i=this._o(r),n=[],a=gv(e,!0,i);return i.fill&&(i.fillStyle==="solid"?n.push(_5([e],i)):n.push(zu([e],i))),i.stroke!==ss&&n.push(a),this._d("polygon",n,i)}path(e,r){let i=this._o(r),n=[];if(!e)return this._d("path",n,i);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let a=i.fill&&i.fill!=="transparent"&&i.fill!==ss,s=i.stroke!==ss,o=!!(i.simplification&&i.simplification<1),h=(function(d,p,g){let f=s_(a_(D5(d))),m=[],y=[],b=[0,0],v=[],x=l(()=>{v.length>=4&&y.push(...A5(v,p)),v=[]},"i"),w=l(()=>{x(),y.length&&(m.push(y),y=[])},"c");for(let{key:T,data:S}of f)switch(T){case"M":w(),b=[S[0],S[1]],y.push(b);break;case"L":x(),y.push([S[0],S[1]]);break;case"C":if(!v.length){let C=y.length?y[y.length-1]:b;v.push([C[0],C[1]])}v.push([S[0],S[1]]),v.push([S[2],S[3]]),v.push([S[4],S[5]]);break;case"Z":x(),y.push([b[0],b[1]])}if(w(),!g)return m;let k=[];for(let T of m){let S=yH(T,g);S.length&&k.push(S)}return k})(e,1,o?4-4*(i.simplification||1):(1+i.roughness)/2),u=ZS(e,i);if(a)if(i.fillStyle==="solid")if(h.length===1){let d=ZS(e,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else n.push(_5(h,i));else n.push(zu(h,i));return s&&(o?h.forEach((d=>{n.push(gv(d,!1,i))})):n.push(u)),this._d("path",n,i)}opsToPath(e,r){let i="";for(let n of e.ops){let a=typeof r=="number"&&r>=0?n.data.map((s=>+s.toFixed(r))):n.data;switch(n.op){case"move":i+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":i+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":i+=`L${a[0]} ${a[1]} `}}return i.trim()}toPaths(e){let r=e.sets||[],i=e.options||this.defaultOptions,n=[];for(let a of r){let s=null;switch(a.type){case"path":s={d:this.opsToPath(a),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:ss};break;case"fillPath":s={d:this.opsToPath(a),stroke:ss,strokeWidth:0,fill:i.fill||ss};break;case"fillSketch":s=this.fillSketch(a,i)}s&&n.push(s)}return n}fillSketch(e,r){let i=r.fillWeight;return i<0&&(i=r.strokeWidth/2),{d:this.opsToPath(e),stroke:r.fill||ss,strokeWidth:i,fill:ss}}_mergedShape(e){return e.filter(((r,i)=>i===0||r.op!=="move"))}},l(Fp,"et"),Fp),Nwe=(zp=class{constructor(e,r){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new R5(r)}draw(e){let r=e.sets||[],i=e.options||this.getDefaultOptions(),n=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(let s of r)switch(s.type){case"path":n.save(),n.strokeStyle=i.stroke==="none"?"transparent":i.stroke,n.lineWidth=i.strokeWidth,i.strokeLineDash&&n.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(n.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(n,s,a),n.restore();break;case"fillPath":{n.save(),n.fillStyle=i.fill||"";let o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,s,a,o),n.restore();break}case"fillSketch":this.fillSketch(n,s,i)}}fillSketch(e,r,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2),e.save(),i.fillLineDash&&e.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(e.lineDashOffset=i.fillLineDashOffset),e.strokeStyle=i.fill||"",e.lineWidth=n,this._drawToContext(e,r,i.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,r,i,n="nonzero"){e.beginPath();for(let a of r.ops){let s=typeof i=="number"&&i>=0?a.data.map((o=>+o.toFixed(i))):a.data;switch(a.op){case"move":e.moveTo(s[0],s[1]);break;case"bcurveTo":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"lineTo":e.lineTo(s[0],s[1])}}r.type==="fillPath"?e.fill(n):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,r,i,n,a){let s=this.gen.line(e,r,i,n,a);return this.draw(s),s}rectangle(e,r,i,n,a){let s=this.gen.rectangle(e,r,i,n,a);return this.draw(s),s}ellipse(e,r,i,n,a){let s=this.gen.ellipse(e,r,i,n,a);return this.draw(s),s}circle(e,r,i,n){let a=this.gen.circle(e,r,i,n);return this.draw(a),a}linearPath(e,r){let i=this.gen.linearPath(e,r);return this.draw(i),i}polygon(e,r){let i=this.gen.polygon(e,r);return this.draw(i),i}arc(e,r,i,n,a,s,o=!1,h){let u=this.gen.arc(e,r,i,n,a,s,o,h);return this.draw(u),u}curve(e,r){let i=this.gen.curve(e,r);return this.draw(i),i}path(e,r){let i=this.gen.path(e,r);return this.draw(i),i}},l(zp,"st"),zp),E5="http://www.w3.org/2000/svg",Iwe=(Gp=class{constructor(e,r){this.svg=e,this.gen=new R5(r)}draw(e){let r=e.sets||[],i=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,a=n.createElementNS(E5,"g"),s=e.options.fixedDecimalPlaceDigits;for(let o of r){let h=null;switch(o.type){case"path":h=n.createElementNS(E5,"path"),h.setAttribute("d",this.opsToPath(o,s)),h.setAttribute("stroke",i.stroke),h.setAttribute("stroke-width",i.strokeWidth+""),h.setAttribute("fill","none"),i.strokeLineDash&&h.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":h=n.createElementNS(E5,"path"),h.setAttribute("d",this.opsToPath(o,s)),h.setAttribute("stroke","none"),h.setAttribute("stroke-width","0"),h.setAttribute("fill",i.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||h.setAttribute("fill-rule","evenodd");break;case"fillSketch":h=this.fillSketch(n,o,i)}h&&a.appendChild(h)}return a}fillSketch(e,r,i){let n=i.fillWeight;n<0&&(n=i.strokeWidth/2);let a=e.createElementNS(E5,"path");return a.setAttribute("d",this.opsToPath(r,i.fixedDecimalPlaceDigits)),a.setAttribute("stroke",i.fill||""),a.setAttribute("stroke-width",n+""),a.setAttribute("fill","none"),i.fillLineDash&&a.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,r){return this.gen.opsToPath(e,r)}line(e,r,i,n,a){let s=this.gen.line(e,r,i,n,a);return this.draw(s)}rectangle(e,r,i,n,a){let s=this.gen.rectangle(e,r,i,n,a);return this.draw(s)}ellipse(e,r,i,n,a){let s=this.gen.ellipse(e,r,i,n,a);return this.draw(s)}circle(e,r,i,n){let a=this.gen.circle(e,r,i,n);return this.draw(a)}linearPath(e,r){let i=this.gen.linearPath(e,r);return this.draw(i)}polygon(e,r){let i=this.gen.polygon(e,r);return this.draw(i)}arc(e,r,i,n,a,s,o=!1,h){let u=this.gen.arc(e,r,i,n,a,s,o,h);return this.draw(u)}curve(e,r){let i=this.gen.curve(e,r);return this.draw(i)}path(e,r){let i=this.gen.path(e,r);return this.draw(i)}},l(Gp,"ot"),Gp),Nt={canvas:l((t,e)=>new Nwe(t,e),"canvas"),svg:l((t,e)=>new Iwe(t,e),"svg"),generator:l(t=>new R5(t),"generator"),newSeed:l(()=>R5.newSeed(),"newSeed")},Rwe=l((t,e)=>{var r=t.x,i=t.y,n=e.x-r,a=e.y-i,s=t.width/2,o=t.height/2,h,u;return Math.abs(a)*s>Math.abs(n)*o?(a<0&&(o=-o),h=a===0?0:o*n/a,u=o):(n<0&&(s=-s),h=s,u=n===0?0:s*a/n),{x:r+h,y:i+u}},"intersectRect"),Up=Rwe;l(vH,"applyStyle");l(bH,"addHtmlLabel");Dwe=l(async(t,e,r,i)=>{let n=t||"";if(typeof n=="object"&&(n=n[0]),Mr(ve().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),ee.info("vertexText"+n);let a={isNode:i,label:Ma(n).replace(/fa[blrs]?:fa-[\w-]+/g,s=>`<i class='${s.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await bH(a)}else{let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof n=="string"?s=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?s=n:s=[];for(let o of s){let h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),r?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=o.trim(),a.appendChild(h)}return a}},"createLabel"),sh=Dwe,oh=l((t,e,r,i,n)=>["M",t+n,e,"H",t+r-n,"A",n,n,0,0,1,t+r,e+n,"V",e+i-n,"A",n,n,0,0,1,t+r-n,e+i,"H",t+n,"A",n,n,0,0,1,t,e+i-n,"V",e+n,"A",n,n,0,0,1,t+n,e,"Z"].join(" "),"createRoundedRectPathD"),xH=l(async(t,e)=>{ee.info("Creating subgraph rect for ",e.id,e);let r=ve(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:a,clusterBorder:s}=i,{labelStyles:o,nodeStyles:h,borderStyles:u,backgroundStyles:d}=Et(e),p=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),g=Mr(r.flowchart.htmlLabels),f=p.insert("g").attr("class","cluster-label "),m=await Sn(f,e.label,{style:e.labelStyle,useHtmlLabels:g,isNode:!0}),y=m.getBBox();if(Mr(r.flowchart.htmlLabels)){let C=m.children[0],E=Ue(m);y=C.getBoundingClientRect(),E.attr("width",y.width),E.attr("height",y.height)}let b=e.width<=y.width+e.padding?y.width+e.padding:e.width;e.width<=y.width+e.padding?e.diff=(b-e.width)/2-e.padding:e.diff=-e.padding;let v=e.height,x=e.x-b/2,w=e.y-v/2;ee.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){let C=Nt.svg(p),E=It(e,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:n}),L=C.path(oh(x,w,b,v,0),E);k=p.insert(()=>(ee.debug("Rough node insert CXC",L),L),":first-child"),k.select("path:nth-child(2)").attr("style",u.join(";")),k.select("path").attr("style",d.join(";").replace("fill","stroke"))}else k=p.insert("rect",":first-child"),k.attr("style",h).attr("rx",e.rx).attr("ry",e.ry).attr("x",x).attr("y",w).attr("width",b).attr("height",v);let{subGraphTitleTopMargin:T}=$l(r);if(f.attr("transform",`translate(${e.x-y.width/2}, ${e.y-e.height/2+T})`),o){let C=f.select("span");C&&C.attr("style",o)}let S=k.node().getBBox();return e.offsetX=0,e.width=S.width,e.height=S.height,e.offsetY=y.height-e.padding/2,e.intersect=function(C){return Up(e,C)},{cluster:p,labelBBox:y}},"rect"),Mwe=l((t,e)=>{let r=t.insert("g").attr("class","note-cluster").attr("id",e.id),i=r.insert("rect",":first-child"),n=0*e.padding,a=n/2;i.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+n).attr("height",e.height+n).attr("fill","none");let s=i.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(o){return Up(e,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),Owe=l(async(t,e)=>{let r=ve(),{themeVariables:i,handDrawnSeed:n}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:o,nodeBorder:h}=i,u=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),d=u.insert("g",":first-child"),p=u.insert("g").attr("class","cluster-label"),g=u.append("rect"),f=p.node().appendChild(await sh(e.label,e.labelStyle,void 0,!0)),m=f.getBBox();if(Mr(r.flowchart.htmlLabels)){let L=f.children[0],I=Ue(f);m=L.getBoundingClientRect(),I.attr("width",m.width),I.attr("height",m.height)}let y=0*e.padding,b=y/2,v=(e.width<=m.width+e.padding?m.width+e.padding:e.width)+y;e.width<=m.width+e.padding?e.diff=(v-e.width)/2-e.padding:e.diff=-e.padding;let x=e.height+y,w=e.height+y-m.height-6,k=e.x-v/2,T=e.y-x/2;e.width=v;let S=e.y-e.height/2-b+m.height+2,C;if(e.look==="handDrawn"){let L=e.cssClasses.includes("statediagram-cluster-alt"),I=Nt.svg(u),M=e.rx||e.ry?I.path(oh(k,T,v,x,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:h,seed:n}):I.rectangle(k,T,v,x,{seed:n});C=u.insert(()=>M,":first-child");let N=I.rectangle(k,S,v,w,{fill:L?a:s,fillStyle:L?"hachure":"solid",stroke:h,seed:n});C=u.insert(()=>M,":first-child"),g=u.insert(()=>N)}else C=d.insert("rect",":first-child"),C.attr("class","outer").attr("x",k).attr("y",T).attr("width",v).attr("height",x).attr("data-look",e.look),g.attr("class","inner").attr("x",k).attr("y",S).attr("width",v).attr("height",w);p.attr("transform",`translate(${e.x-m.width/2}, ${T+1-(Mr(r.flowchart.htmlLabels)?0:3)})`);let E=C.node().getBBox();return e.height=E.height,e.offsetX=0,e.offsetY=m.height-e.padding/2,e.labelBBox=m,e.intersect=function(L){return Up(e,L)},{cluster:u,labelBBox:m}},"roundedWithTitle"),$we=l(async(t,e)=>{ee.info("Creating subgraph rect for ",e.id,e);let r=ve(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:a,clusterBorder:s}=i,{labelStyles:o,nodeStyles:h,borderStyles:u,backgroundStyles:d}=Et(e),p=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),g=Mr(r.flowchart.htmlLabels),f=p.insert("g").attr("class","cluster-label "),m=await Sn(f,e.label,{style:e.labelStyle,useHtmlLabels:g,isNode:!0,width:e.width}),y=m.getBBox();if(Mr(r.flowchart.htmlLabels)){let C=m.children[0],E=Ue(m);y=C.getBoundingClientRect(),E.attr("width",y.width),E.attr("height",y.height)}let b=e.width<=y.width+e.padding?y.width+e.padding:e.width;e.width<=y.width+e.padding?e.diff=(b-e.width)/2-e.padding:e.diff=-e.padding;let v=e.height,x=e.x-b/2,w=e.y-v/2;ee.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){let C=Nt.svg(p),E=It(e,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:n}),L=C.path(oh(x,w,b,v,e.rx),E);k=p.insert(()=>(ee.debug("Rough node insert CXC",L),L),":first-child"),k.select("path:nth-child(2)").attr("style",u.join(";")),k.select("path").attr("style",d.join(";").replace("fill","stroke"))}else k=p.insert("rect",":first-child"),k.attr("style",h).attr("rx",e.rx).attr("ry",e.ry).attr("x",x).attr("y",w).attr("width",b).attr("height",v);let{subGraphTitleTopMargin:T}=$l(r);if(f.attr("transform",`translate(${e.x-y.width/2}, ${e.y-e.height/2+T})`),o){let C=f.select("span");C&&C.attr("style",o)}let S=k.node().getBBox();return e.offsetX=0,e.width=S.width,e.height=S.height,e.offsetY=y.height-e.padding/2,e.intersect=function(C){return Up(e,C)},{cluster:p,labelBBox:y}},"kanbanSection"),Bwe=l((t,e)=>{let r=ve(),{themeVariables:i,handDrawnSeed:n}=r,{nodeBorder:a}=i,s=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=s.insert("g",":first-child"),h=0*e.padding,u=e.width+h;e.diff=-e.padding;let d=e.height+h,p=e.x-u/2,g=e.y-d/2;e.width=u;let f;if(e.look==="handDrawn"){let y=Nt.svg(s).rectangle(p,g,u,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:n});f=s.insert(()=>y,":first-child")}else f=o.insert("rect",":first-child"),f.attr("class","divider").attr("x",p).attr("y",g).attr("width",u).attr("height",d).attr("data-look",e.look);let m=f.node().getBBox();return e.height=m.height,e.offsetX=0,e.offsetY=0,e.intersect=function(y){return Up(e,y)},{cluster:s,labelBBox:{}}},"divider"),Pwe=xH,Fwe={rect:xH,squareRect:Pwe,roundedWithTitle:Owe,noteGroup:Mwe,divider:Bwe,kanbanSection:$we},wH=new Map,jp=l(async(t,e)=>{let r=e.shape||"rect",i=await Fwe[r](t,e);return wH.set(e.id,i),i},"insertCluster"),kH=l(()=>{wH=new Map},"clear");l(TH,"intersectNode");zwe=TH;l(EH,"intersectEllipse");CH=EH;l(SH,"intersectCircle");Gwe=SH;l(_H,"intersectLine");l(r_,"sameSign");qwe=_H;l(AH,"intersectPolygon");Uwe=AH,St={node:zwe,circle:Gwe,ellipse:CH,polygon:Uwe,rect:Up};l(LH,"anchor");l(i_,"generateArcPoints");l(NH,"bowTieRect");l(lh,"insertPolygonShape");l(IH,"card");l(RH,"choice");l(u_,"circle");l(DH,"createLine");l(MH,"crossedCircle");l(zl,"generateCirclePoints");l(OH,"curlyBraceLeft");l(Gl,"generateCirclePoints");l($H,"curlyBraceRight");l(An,"generateCirclePoints");l(BH,"curlyBraces");l(PH,"curvedTrapezoid");jwe=l((t,e,r,i,n,a)=>[`M${t},${e+a}`,`a${n},${a} 0,0,0 ${r},0`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),Wwe=l((t,e,r,i,n,a)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),Vwe=l((t,e,r,i,n,a)=>[`M${t-r/2},${-i/2}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");l(FH,"cylinder");l(zH,"dividedRectangle");l(GH,"doublecircle");l(qH,"filledCircle");l(UH,"flippedTriangle");l(jH,"forkJoin");l(WH,"halfRoundedRectangle");l(VH,"hexagon");l(YH,"hourglass");l(HH,"icon");l(XH,"iconCircle");l(KH,"iconRounded");l(ZH,"iconSquare");l(QH,"imageSquare");l(JH,"inv_trapezoid");l(M5,"drawRect");l(eX,"labelRect");l(tX,"lean_left");l(rX,"lean_right");l(iX,"lightningBolt");Ywe=l((t,e,r,i,n,a,s)=>[`M${t},${e+a}`,`a${n},${a} 0,0,0 ${r},0`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`,`M${t},${e+a+s}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),Hwe=l((t,e,r,i,n,a,s)=>[`M${t},${e+a}`,`M${t+r},${e+a}`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`,`M${t},${e+a+s}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),Xwe=l((t,e,r,i,n,a)=>[`M${t-r/2},${-i/2}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD");l(nX,"linedCylinder");l(aX,"linedWaveEdgedRect");l(sX,"multiRect");l(oX,"multiWaveEdgedRectangle");l(lX,"note");Kwe=l((t,e,r)=>[`M${t+r/2},${e}`,`L${t+r},${e-r/2}`,`L${t+r/2},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createDecisionBoxPathD");l(cX,"question");l(hX,"rect_left_inv_arrow");l(uX,"rectWithTitle");l(dv,"generateArcPoints");l(dX,"roundedRect");l(pX,"shadedProcess");l(gX,"slopedRect");l(fX,"squareRect");l(mX,"stadium");l(yX,"state");l(vX,"stateEnd");l(bX,"stateStart");l(xX,"subroutine");l(wX,"taggedRect");l(kX,"taggedWaveEdgedRectangle");l(TX,"text");Zwe=l((t,e,r,i,n,a)=>`M${t},${e}
    a${n},${a} 0,0,1 0,${-i}
    l${r},0
    a${n},${a} 0,0,1 0,${i}
    M${r},${-i}
    a${n},${a} 0,0,0 0,${i}
    l${-r},0`,"createCylinderPathD"),Qwe=l((t,e,r,i,n,a)=>[`M${t},${e}`,`M${t+r},${e}`,`a${n},${a} 0,0,0 0,${-i}`,`l${-r},0`,`a${n},${a} 0,0,0 0,${i}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),Jwe=l((t,e,r,i,n,a)=>[`M${t+r/2},${-i/2}`,`a${n},${a} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD");l(EX,"tiltedCylinder");l(CX,"trapezoid");l(SX,"trapezoidalPentagon");l(_X,"triangle");l(AX,"waveEdgedRectangle");l(LX,"waveRectangle");l(NX,"windowPane");l(d_,"erBox");l(Ip,"addText");l(IX,"textHelper");l(pv,"addText");l(RX,"classBox");l(DX,"requirementBox");l(Xo,"addText");eke=l(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");l(MX,"kanbanItem");l(OX,"bang");l($X,"cloud");l(BX,"defaultMindmapNode");l(PX,"mindmapCircle");tke=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:fX},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:dX},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:mX},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:xX},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:FH},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:u_},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:OX},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:$X},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:cX},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:VH},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:rX},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:tX},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:CX},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:JH},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:GH},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:TX},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:IH},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:pX},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:bX},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:vX},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:jH},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:YH},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:OH},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:$H},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:BH},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:iX},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:AX},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:WH},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:EX},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:nX},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:PH},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:zH},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:_X},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:NX},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:qH},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:SX},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:UH},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:gX},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:oX},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:sX},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:NH},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:MH},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:kX},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:wX},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:LX},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:hX},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:aX}],rke=l(()=>{let t=[...Object.entries({state:yX,choice:RH,note:lX,rectWithTitle:uX,labelRect:eX,iconSquare:ZH,iconCircle:XH,icon:HH,iconRounded:KH,imageSquare:QH,anchor:LH,kanbanItem:MX,mindmapCircle:PX,defaultMindmapNode:BX,classBox:RX,erBox:d_,requirementBox:DX}),...tke.flatMap(e=>[e.shortName,..."aliases"in e?e.aliases:[],..."internalAliases"in e?e.internalAliases:[]].map(r=>[r,e.handler]))];return Object.fromEntries(t)},"generateShapeMap"),FX=rke();l(p_,"isValidShape");O5=new Map;l(Gu,"insertNode");zX=l((t,e)=>{O5.set(e.id,t)},"setNodeElem"),GX=l(()=>{O5.clear()},"clear"),wv=l(t=>{let e=O5.get(t.id);ee.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");let r=8,i=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+i-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),i},"positionNode")});function kv(t,e){ve().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}function VX(t){let e=[],r=[];for(let i=1;i<t.length-1;i++){let n=t[i-1],a=t[i],s=t[i+1];(n.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-n.y)>5||n.y===a.y&&a.x===s.x&&Math.abs(a.x-n.x)>5&&Math.abs(a.y-s.y)>5)&&(e.push(a),r.push(i))}return{cornerPoints:e,cornerPointPositions:r}}function YX(t,e){if(t.length<2)return"";let r="",i=t.length,n=1e-5;for(let a=0;a<i;a++){let s=t[a],o=t[a-1],h=t[a+1];if(a===0)r+=`M${s.x},${s.y}`;else if(a===i-1)r+=`L${s.x},${s.y}`;else{let u=s.x-o.x,d=s.y-o.y,p=h.x-s.x,g=h.y-s.y,f=Math.hypot(u,d),m=Math.hypot(p,g);if(f<n||m<n){r+=`L${s.x},${s.y}`;continue}let y=u/f,b=d/f,v=p/m,x=g/m,w=y*v+b*x,k=Math.max(-1,Math.min(1,w)),T=Math.acos(k);if(T<n||Math.abs(Math.PI-T)<n){r+=`L${s.x},${s.y}`;continue}let S=Math.min(e/Math.sin(T/2),f/2,m/2),C=s.x-y*S,E=s.y-b*S,L=s.x+v*S,I=s.y+x*S;r+=`L${C},${E}`,r+=`Q${s.x},${s.y} ${L},${I}`}}return r}function g_(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};let r=e.x-t.x,i=e.y-t.y;return{angle:Math.atan2(i,r),deltaX:r,deltaY:i}}function HX(t,e){let r=t.map(n=>({...n}));if(t.length>=2&&Tn[e.arrowTypeStart]){let n=Tn[e.arrowTypeStart],a=t[0],s=t[1],{angle:o}=g_(a,s),h=n*Math.cos(o),u=n*Math.sin(o);r[0].x=a.x+h,r[0].y=a.y+u}let i=t.length;if(i>=2&&Tn[e.arrowTypeEnd]){let n=Tn[e.arrowTypeEnd],a=t[i-1],s=t[i-2],{angle:o}=g_(s,a),h=n*Math.cos(o),u=n*Math.sin(o);r[i-1].x=a.x-h,r[i-1].y=a.y-u}return r}var ike,nke,qX,B5,Ln,WX,$5,P5,F5,ake,ske,UX,jX,oke,lke,z5,cke,hke,uke,dke,pke,gke,fke,mke,yke,vke,bke,xke,wke,kke,Tke,Eke,Cke,G5,Es=wt(()=>{ts();$a();ua();da();_n();Hr();hr();lr();kt();ike=l((t,e,r,i,n,a)=>{e.arrowTypeStart&&qX(t,"start",e.arrowTypeStart,r,i,n,a),e.arrowTypeEnd&&qX(t,"end",e.arrowTypeEnd,r,i,n,a)},"addEdgeMarkers"),nke={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},qX=l((t,e,r,i,n,a,s)=>{var d;let o=nke[r];if(!o){ee.warn(`Unknown arrow type: ${r}`);return}let h=o.type,u=`${n}_${a}-${h}${e==="start"?"Start":"End"}`;if(s&&s.trim()!==""){let p=s.replace(/[^\dA-Za-z]/g,"_"),g=`${u}_${p}`;if(!document.getElementById(g)){let f=document.getElementById(u);if(f){let m=f.cloneNode(!0);m.id=g,m.querySelectorAll("path, circle, line").forEach(y=>{y.setAttribute("stroke",s),o.fill&&y.setAttribute("fill",s)}),(d=f.parentNode)==null||d.appendChild(m)}}t.attr(`marker-${e}`,`url(${i}#${g})`)}else t.attr(`marker-${e}`,`url(${i}#${u})`)},"addEdgeMarker"),B5=new Map,Ln=new Map,WX=l(()=>{B5.clear(),Ln.clear()},"clear"),$5=l(t=>t?t.reduce((e,r)=>e+";"+r,""):"","getLabelStyles"),P5=l(async(t,e)=>{let r=Mr(ve().flowchart.htmlLabels),{labelStyles:i}=Et(e);e.labelStyle=i;let n=await Sn(t,e.label,{style:e.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});ee.info("abc82",e,e.labelType);let a=t.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label").attr("data-id",e.id);s.node().appendChild(n);let o=n.getBBox();if(r){let u=n.children[0],d=Ue(n);o=u.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),B5.set(e.id,a),e.width=o.width,e.height=o.height;let h;if(e.startLabelLeft){let u=await sh(e.startLabelLeft,$5(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=p.node().appendChild(u);let g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),Ln.get(e.id)||Ln.set(e.id,{}),Ln.get(e.id).startLeft=d,kv(h,e.startLabelLeft)}if(e.startLabelRight){let u=await sh(e.startLabelRight,$5(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=d.node().appendChild(u),p.node().appendChild(u);let g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),Ln.get(e.id)||Ln.set(e.id,{}),Ln.get(e.id).startRight=d,kv(h,e.startLabelRight)}if(e.endLabelLeft){let u=await sh(e.endLabelLeft,$5(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=p.node().appendChild(u);let g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(u),Ln.get(e.id)||Ln.set(e.id,{}),Ln.get(e.id).endLeft=d,kv(h,e.endLabelLeft)}if(e.endLabelRight){let u=await sh(e.endLabelRight,$5(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=p.node().appendChild(u);let g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(u),Ln.get(e.id)||Ln.set(e.id,{}),Ln.get(e.id).endRight=d,kv(h,e.endLabelRight)}return n},"insertEdgeLabel");l(kv,"setTerminalWidth");F5=l((t,e)=>{ee.debug("Moving label abc88 ",t.id,t.label,B5.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath,i=ve(),{subGraphTitleTotalMargin:n}=$l(i);if(t.label){let a=B5.get(t.id),s=t.x,o=t.y;if(r){let h=$t.calcLabelPosition(r);ee.debug("Moving label "+t.label+" from (",s,",",o,") to (",h.x,",",h.y,") abc88"),e.updatedPath&&(s=h.x,o=h.y)}a.attr("transform",`translate(${s}, ${o+n/2})`)}if(t.startLabelLeft){let a=Ln.get(t.id).startLeft,s=t.x,o=t.y;if(r){let h=$t.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=h.x,o=h.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){let a=Ln.get(t.id).startRight,s=t.x,o=t.y;if(r){let h=$t.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=h.x,o=h.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){let a=Ln.get(t.id).endLeft,s=t.x,o=t.y;if(r){let h=$t.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=h.x,o=h.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){let a=Ln.get(t.id).endRight,s=t.x,o=t.y;if(r){let h=$t.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=h.x,o=h.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),ake=l((t,e)=>{let r=t.x,i=t.y,n=Math.abs(e.x-r),a=Math.abs(e.y-i),s=t.width/2,o=t.height/2;return n>=s||a>=o},"outsideNode"),ske=l((t,e,r)=>{ee.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);let i=t.x,n=t.y,a=Math.abs(i-r.x),s=t.width/2,o=r.x<e.x?s-a:s+a,h=t.height/2,u=Math.abs(e.y-r.y),d=Math.abs(e.x-r.x);if(Math.abs(n-e.y)*s>Math.abs(i-e.x)*h){let p=r.y<e.y?e.y-h-n:n-h-e.y;o=d*p/u;let g={x:r.x<e.x?r.x+o:r.x-d+o,y:r.y<e.y?r.y+u-p:r.y-u+p};return o===0&&(g.x=e.x,g.y=e.y),d===0&&(g.x=e.x),u===0&&(g.y=e.y),ee.debug(`abc89 top/bottom calc, Q ${u}, q ${p}, R ${d}, r ${o}`,g),g}else{r.x<e.x?o=e.x-s-i:o=i-s-e.x;let p=u*o/d,g=r.x<e.x?r.x+d-o:r.x-d+o,f=r.y<e.y?r.y+p:r.y-p;return ee.debug(`sides calc abc89, Q ${u}, q ${p}, R ${d}, r ${o}`,{_x:g,_y:f}),o===0&&(g=e.x,f=e.y),d===0&&(g=e.x),u===0&&(f=e.y),{x:g,y:f}}},"intersection"),UX=l((t,e)=>{ee.warn("abc88 cutPathAtIntersect",t,e);let r=[],i=t[0],n=!1;return t.forEach(a=>{if(ee.info("abc88 checking point",a,e),!ake(e,a)&&!n){let s=ske(e,i,a);ee.debug("abc88 inside",a,i,s),ee.debug("abc88 intersection",s,e);let o=!1;r.forEach(h=>{o=o||h.x===s.x&&h.y===s.y}),r.some(h=>h.x===s.x&&h.y===s.y)?ee.warn("abc88 no intersect",s,r):r.push(s),n=!0}else ee.warn("abc88 outside",a,i),i=a,n||r.push(a)}),ee.debug("returning points",r),r},"cutPathAtIntersect");l(VX,"extractCornerPoints");jX=l(function(t,e,r){let i=e.x-t.x,n=e.y-t.y,a=Math.sqrt(i*i+n*n),s=r/a;return{x:e.x-s*i,y:e.y-s*n}},"findAdjacentPoint"),oke=l(function(t){let{cornerPointPositions:e}=VX(t),r=[];for(let i=0;i<t.length;i++)if(e.includes(i)){let n=t[i-1],a=t[i+1],s=t[i],o=jX(n,s,5),h=jX(a,s,5),u=h.x-o.x,d=h.y-o.y;r.push(o);let p=Math.sqrt(2)*2,g={x:s.x,y:s.y};if(Math.abs(a.x-n.x)>10&&Math.abs(a.y-n.y)>=10){ee.debug("Corner point fixing",Math.abs(a.x-n.x),Math.abs(a.y-n.y));let f=5;s.x===o.x?g={x:u<0?o.x-f+p:o.x+f-p,y:d<0?o.y-p:o.y+p}:g={x:u<0?o.x-p:o.x+p,y:d<0?o.y-f+p:o.y+f-p}}else ee.debug("Corner point skipping fixing",Math.abs(a.x-n.x),Math.abs(a.y-n.y));r.push(g,h)}else r.push(t[i]);return r},"fixCorners"),lke=l((t,e,r)=>{let i=t-e-r,n=2,a=2,s=n+a,o=Math.floor(i/s),h=Array(o).fill(`${n} ${a}`).join(" ");return`0 ${e} ${h} ${r}`},"generateDashArray"),z5=l(function(t,e,r,i,n,a,s,o=!1){var _;let{handDrawnSeed:h}=ve(),u=e.points,d=!1,p=n;var g=a;let f=[];for(let D in e.cssCompiledStyles)Q2(D)||f.push(e.cssCompiledStyles[D]);ee.debug("UIO intersect check",e.points,g.x,p.x),g.intersect&&p.intersect&&!o&&(u=u.slice(1,e.points.length-1),u.unshift(p.intersect(u[0])),ee.debug("Last point UIO",e.start,"-->",e.end,u[u.length-1],g,g.intersect(u[u.length-1])),u.push(g.intersect(u[u.length-1])));let m=btoa(JSON.stringify(u));e.toCluster&&(ee.info("to cluster abc88",r.get(e.toCluster)),u=UX(e.points,r.get(e.toCluster).node),d=!0),e.fromCluster&&(ee.debug("from cluster abc88",r.get(e.fromCluster),JSON.stringify(u,null,2)),u=UX(u.reverse(),r.get(e.fromCluster).node).reverse(),d=!0);let y=u.filter(D=>!Number.isNaN(D.y));y=oke(y);let b=Hs;switch(b=du,e.curve){case"linear":b=du;break;case"basis":b=Hs;break;case"cardinal":b=M4;break;case"bumpX":b=h2;break;case"bumpY":b=u2;break;case"catmullRom":b=P4;break;case"monotoneX":b=p2;break;case"monotoneY":b=g2;break;case"natural":b=f2;break;case"step":b=y2;break;case"stepAfter":b=b2;break;case"stepBefore":b=v2;break;default:b=Hs}let{x:v,y:x}=X3(e),w=Io().x(v).y(x).curve(b),k;switch(e.thickness){case"normal":k="edge-thickness-normal";break;case"thick":k="edge-thickness-thick";break;case"invisible":k="edge-thickness-invisible";break;default:k="edge-thickness-normal"}switch(e.pattern){case"solid":k+=" edge-pattern-solid";break;case"dotted":k+=" edge-pattern-dotted";break;case"dashed":k+=" edge-pattern-dashed";break;default:k+=" edge-pattern-solid"}let T,S=e.curve==="rounded"?YX(HX(y,e),5):w(y),C=Array.isArray(e.style)?e.style:[e.style],E=C.find(D=>D==null?void 0:D.startsWith("stroke:")),L=!1;if(e.look==="handDrawn"){let D=Nt.svg(t);Object.assign([],y);let R=D.path(S,{roughness:.3,seed:h});k+=" transition",T=Ue(R).select("path").attr("id",e.id).attr("class"," "+k+(e.classes?" "+e.classes:"")).attr("style",C?C.reduce((A,B)=>A+";"+B,""):"");let O=T.attr("d");T.attr("d",O),t.node().appendChild(T.node())}else{let D=f.join(";"),R=C?C.reduce((K,W)=>K+W+";",""):"",O="";e.animate&&(O=" edge-animation-fast"),e.animation&&(O=" edge-animation-"+e.animation);let A=(D?D+";"+R+";":R)+";"+(C?C.reduce((K,W)=>K+";"+W,""):"");T=t.append("path").attr("d",S).attr("id",e.id).attr("class"," "+k+(e.classes?" "+e.classes:"")+(O??"")).attr("style",A),E=(_=A.match(/stroke:([^;]+)/))==null?void 0:_[1],L=e.animate===!0||!!e.animation||D.includes("animation");let B=T.node(),P=typeof B.getTotalLength=="function"?B.getTotalLength():0,z=iS[e.arrowTypeStart]||0,q=iS[e.arrowTypeEnd]||0;if(e.look==="neo"&&!L){let K=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?lke(P,z,q):`0 ${z} ${P-z-q} ${q}`}; stroke-dashoffset: 0;`;T.attr("style",K+T.attr("style"))}}T.attr("data-edge",!0),T.attr("data-et","edge"),T.attr("data-id",e.id),T.attr("data-points",m),e.showPoints&&y.forEach(D=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",D.x).attr("cy",D.y)});let I="";(ve().flowchart.arrowMarkerAbsolute||ve().state.arrowMarkerAbsolute)&&(I=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,I=I.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),ee.info("arrowTypeStart",e.arrowTypeStart),ee.info("arrowTypeEnd",e.arrowTypeEnd),ike(T,e,I,s,i,E);let M=Math.floor(u.length/2),N=u[M];$t.isLabelCoordinateInPath(N,T.attr("d"))||(d=!0);let $={};return d&&($.updatedPath=u),$.originalPath=e.points,$},"insertEdge");l(YX,"generateRoundedPath");l(g_,"calculateDeltaAndAngle");l(HX,"applyMarkerOffsetsToPoints");cke=l((t,e,r,i)=>{e.forEach(n=>{Cke[n](t,r,i)})},"insertMarkers"),hke=l((t,e,r)=>{ee.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),uke=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),dke=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),pke=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),gke=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),fke=l((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),mke=l((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),yke=l((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),vke=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),bke=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),xke=l((t,e,r)=>{let i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");let n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),wke=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),kke=l((t,e,r)=>{let i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let n=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),Tke=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),Eke=l((t,e,r)=>{let i=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),Cke={extension:hke,composition:uke,aggregation:dke,dependency:pke,lollipop:gke,point:fke,circle:mke,cross:yke,barb:vke,only_one:bke,zero_or_one:xke,one_or_more:wke,zero_or_more:kke,requirement_arrow:Tke,requirement_contains:Eke},G5=cke});function eK(t){if(!Ou(t))return _ke(t);var e=[];for(var r in Object(t))Lke.call(t,r)&&r!="constructor"&&e.push(r);return e}function tK(t){if(t==null)return!0;if(as(t)&&(sr(t)||typeof t=="string"||typeof t.splice=="function"||Qc(t)||bp(t)||Xc(t)))return!t.length;var e=ch(t);if(e==zke||e==Gke)return!t.size;if(Ou(t))return!q5(t).length;for(var r in t)if(Uke.call(t,r))return!1;return!0}var Ske,_ke,Ake,Lke,q5,Nke,f_,Ike,m_,Rke,Uu,Dke,y_,XX,Mke,KX,ZX,QX,JX,Oke,$ke,Bke,Pke,Fke,qu,ch,zke,Gke,qke,Uke,_r,Ii=wt(()=>{br();kt();Ske=uS(Object.keys,Object),_ke=Ske,Ake=Object.prototype,Lke=Ake.hasOwnProperty;l(eK,"baseKeys");q5=eK,Nke=Zc(is,"DataView"),f_=Nke,Ike=Zc(is,"Promise"),m_=Ike,Rke=Zc(is,"Set"),Uu=Rke,Dke=Zc(is,"WeakMap"),y_=Dke,XX="[object Map]",Mke="[object Object]",KX="[object Promise]",ZX="[object Set]",QX="[object WeakMap]",JX="[object DataView]",Oke=Kc(f_),$ke=Kc(mp),Bke=Kc(m_),Pke=Kc(Uu),Fke=Kc(y_),qu=no;(f_&&qu(new f_(new ArrayBuffer(1)))!=JX||mp&&qu(new mp)!=XX||m_&&qu(m_.resolve())!=KX||Uu&&qu(new Uu)!=ZX||y_&&qu(new y_)!=QX)&&(qu=l(function(t){var e=no(t),r=e==Mke?t.constructor:void 0,i=r?Kc(r):"";if(i)switch(i){case Oke:return JX;case $ke:return XX;case Bke:return KX;case Pke:return ZX;case Fke:return QX}return e},"getTag"));ch=qu,zke="[object Map]",Gke="[object Set]",qke=Object.prototype,Uke=qke.hasOwnProperty;l(tK,"isEmpty");_r=tK});function vK(t){return as(t)?pS(t):q5(t)}function bK(t,e){for(var r=-1,i=t==null?0:t.length;++r<i&&e(t[r],r,t)!==!1;);return t}function wK(t,e){return t&&Bu(e,Fi(e),t)}function kK(t,e){return t&&Bu(e,Jc(e),t)}function TK(t,e){for(var r=-1,i=t==null?0:t.length,n=0,a=[];++r<i;){var s=t[r];e(s,r,t)&&(a[n++]=s)}return a}function EK(){return[]}function SK(t,e){return Bu(t,T_(t),e)}function _K(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}function LK(t,e){return Bu(t,AK(t),e)}function NK(t,e,r){var i=e(t);return sr(t)?i:E_(i,r(t))}function RK(t){return IK(t,Fi,T_)}function DK(t){return IK(t,Jc,AK)}function OK(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&eTe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function $K(t,e){var r=e?r5(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function BK(t){var e=new t.constructor(t.source,iTe.exec(t));return e.lastIndex=t.lastIndex,e}function PK(t){return nK?Object(nK.call(t)):{}}function FK(t,e,r){var i=t.constructor;switch(e){case gTe:return r5(t);case sTe:case oTe:return new i(+t);case fTe:return rTe(t,r);case mTe:case yTe:case vTe:case bTe:case xTe:case wTe:case kTe:case TTe:case ETe:return cS(t,r);case lTe:return new i;case cTe:case dTe:return new i(t);case hTe:return nTe(t);case uTe:return new i;case pTe:return aTe(t)}}function zK(t){return ns(t)&&ch(t)==STe}function GK(t){return ns(t)&&ch(t)==NTe}function Tv(t,e,r,i,n,a){var s,o=e&MTe,h=e&OTe,u=e&$Te;if(r&&(s=n?r(t,i,n,a):r(t)),s!==void 0)return s;if(!Yn(t))return t;var d=sr(t);if(d){if(s=tTe(t),!o)return hS(t,s)}else{var p=ch(t),g=p==UK||p==GTe;if(Qc(t))return lS(t,o);if(p==jK||p==qK||g&&!n){if(s=h||g?{}:dS(t),!o)return h?Qke(t,Wke(s,t)):Xke(t,jke(s,t))}else{if(!ii[p])return n?t:{};s=CTe(t,p,o)}}a||(a=new Mu);var f=a.get(t);if(f)return f;a.set(t,s),DTe(t)?t.forEach(function(b){s.add(Tv(b,e,r,b,t,a))}):LTe(t)&&t.forEach(function(b,v){s.set(v,Tv(b,e,r,v,t,a))});var m=u?h?MK:b_:h?Jc:Fi,y=d?void 0:m(t);return xK(y||t,function(b,v){y&&(v=b,b=t[v]),xp(s,v,Tv(b,e,r,v,t,a))}),s}function VK(t){return WK(t,s7e)}function HK(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function XK(t,e){return t&&t5(t,e,Fi)}function KK(t,e){return function(r,i){if(r==null)return r;if(!as(r))return t(r,i);for(var n=r.length,a=e?n:-1,s=Object(r);(e?a--:++a<n)&&i(s[a],a,s)!==!1;);return r}}function ZK(t){return typeof t=="function"?t:ao}function QK(t,e){var r=sr(t)?xK:Wu;return r(t,S_(e))}function JK(t,e){var r=[];return Wu(t,function(i,n,a){e(i,n,a)&&r.push(i)}),r}function tZ(t){return this.__data__.set(t,u7e),this}function rZ(t){return this.__data__.has(t)}function Ev(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new iv;++e<r;)this.add(t[e])}function iZ(t,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}function aZ(t,e){return t.has(e)}function sZ(t,e,r,i,n,a){var s=r&g7e,o=t.length,h=e.length;if(o!=h&&!(s&&h>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var p=-1,g=!0,f=r&f7e?new __:void 0;for(a.set(t,e),a.set(e,t);++p<o;){var m=t[p],y=e[p];if(i)var b=s?i(y,m,p,e,t,a):i(m,y,p,t,e,a);if(b!==void 0){if(b)continue;g=!1;break}if(f){if(!nZ(e,function(v,x){if(!A_(f,x)&&(m===v||n(m,v,r,i,a)))return f.push(x)})){g=!1;break}}else if(!(m===y||n(m,y,r,i,a))){g=!1;break}}return a.delete(t),a.delete(e),g}function lZ(t){var e=-1,r=Array(t.size);return t.forEach(function(i,n){r[++e]=[n,i]}),r}function cZ(t){var e=-1,r=Array(t.size);return t.forEach(function(i){r[++e]=i}),r}function hZ(t,e,r,i,n,a,s){switch(r){case L7e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case A7e:return!(t.byteLength!=e.byteLength||!a(new rv(t),new rv(e)));case b7e:case x7e:case T7e:return Nu(+t,+e);case w7e:return t.name==e.name&&t.message==e.message;case E7e:case S7e:return t==e+"";case k7e:var o=m7e;case C7e:var h=i&y7e;if(o||(o=L_),t.size!=e.size&&!h)return!1;var u=s.get(t);if(u)return u==e;i|=v7e,s.set(t,e);var d=oZ(o(t),o(e),i,n,a,s);return s.delete(t),d;case _7e:if(v_)return v_.call(t)==v_.call(e)}return!1}function uZ(t,e,r,i,n,a){var s=r&I7e,o=b_(t),h=o.length,u=b_(e),d=u.length;if(h!=d&&!s)return!1;for(var p=h;p--;){var g=o[p];if(!(s?g in e:D7e.call(e,g)))return!1}var f=a.get(t),m=a.get(e);if(f&&m)return f==e&&m==t;var y=!0;a.set(t,e),a.set(e,t);for(var b=s;++p<h;){g=o[p];var v=t[g],x=e[g];if(i)var w=s?i(x,v,g,e,t,a):i(v,x,g,t,e,a);if(!(w===void 0?v===x||n(v,x,r,i,a):w)){y=!1;break}b||(b=g=="constructor")}if(y&&!b){var k=t.constructor,T=e.constructor;k!=T&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof T=="function"&&T instanceof T)&&(y=!1)}return a.delete(t),a.delete(e),y}function dZ(t,e,r,i,n,a){var s=sr(t),o=sr(e),h=s?cK:ch(t),u=o?cK:ch(e);h=h==lK?U5:h,u=u==lK?U5:u;var d=h==U5,p=u==U5,g=h==u;if(g&&Qc(t)){if(!Qc(e))return!1;s=!0,d=!1}if(g&&!d)return a||(a=new Mu),s||bp(t)?oZ(t,e,r,i,n,a):N7e(t,e,h,r,i,n,a);if(!(r&O7e)){var f=d&&hK.call(t,"__wrapped__"),m=p&&hK.call(e,"__wrapped__");if(f||m){var y=f?t.value():t,b=m?e.value():e;return a||(a=new Mu),n(y,b,r,i,a)}}return g?(a||(a=new Mu),M7e(t,e,r,i,n,a)):!1}function N_(t,e,r,i,n){return t===e?!0:t==null||e==null||!ns(t)&&!ns(e)?t!==t&&e!==e:B7e(t,e,r,i,N_,n)}function gZ(t,e,r,i){var n=r.length,a=n,s=!i;if(t==null)return!a;for(t=Object(t);n--;){var o=r[n];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++n<a;){o=r[n];var h=o[0],u=t[h],d=o[1];if(s&&o[2]){if(u===void 0&&!(h in t))return!1}else{var p=new Mu;if(i)var g=i(u,d,h,t,e,p);if(!(g===void 0?pZ(d,u,P7e|F7e,i,p):g))return!1}}return!0}function fZ(t){return t===t&&!Yn(t)}function yZ(t){for(var e=Fi(t),r=e.length;r--;){var i=e[r],n=t[i];e[r]=[i,n,mZ(n)]}return e}function vZ(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function xZ(t){var e=G7e(t);return e.length==1&&e[0][2]?bZ(e[0][0],e[0][1]):function(r){return r===t||z7e(r,t,e)}}function wZ(t){return typeof t=="symbol"||ns(t)&&no(t)==U7e}function kZ(t,e){if(sr(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||ju(t)?!0:W7e.test(t)||!j7e.test(t)||e!=null&&t in Object(e)}function TZ(t){var e=yp(t,function(i){return r.size===V7e&&r.clear(),i}),r=e.cache;return e}function EZ(t,e){for(var r=-1,i=t==null?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}function R_(t){if(typeof t=="string")return t;if(sr(t))return hh(t,R_)+"";if(ju(t))return dK?dK.call(t):"";var e=t+"";return e=="0"&&1/t==-Q7e?"-0":e}function CZ(t){return t==null?"":J7e(t)}function _Z(t,e){return sr(t)?t:I_(t,e)?[t]:Z7e(SZ(t))}function AZ(t){if(typeof t=="string"||ju(t))return t;var e=t+"";return e=="0"&&1/t==-e8e?"-0":e}function LZ(t,e){e=W5(e,t);for(var r=0,i=e.length;t!=null&&r<i;)t=t[Cv(e[r++])];return r&&r==i?t:void 0}function NZ(t,e,r){var i=t==null?void 0:V5(t,e);return i===void 0?r:i}function IZ(t,e){return t!=null&&e in Object(t)}function RZ(t,e,r){e=W5(e,t);for(var i=-1,n=e.length,a=!1;++i<n;){var s=Cv(e[i]);if(!(a=t!=null&&r(t,s)))break;t=t[s]}return a||++i!=n?a:(n=t==null?0:t.length,!!n&&n5(n)&&av(s,n)&&(sr(t)||Xc(t)))}function MZ(t,e){return t!=null&&DZ(t,e,r8e)}function $Z(t,e){return I_(t)&&mZ(e)?bZ(Cv(t),e):function(r){var i=t8e(r,t);return i===void 0&&i===e?OZ(r,t):pZ(e,i,i8e|n8e)}}function BZ(t){return function(e){return e==null?void 0:e[t]}}function FZ(t){return function(e){return V5(e,t)}}function zZ(t){return I_(t)?PZ(Cv(t)):s8e(t)}function GZ(t){return typeof t=="function"?t:t==null?ao:typeof t=="object"?sr(t)?a8e(t[0],t[1]):q7e(t):o8e(t)}function qZ(t,e){var r=sr(t)?k_:eZ;return r(t,Ba(e,3))}function UZ(t,e){var r=-1,i=as(t)?Array(t.length):[];return Wu(t,function(n,a,s){i[++r]=e(n,a,s)}),i}function WZ(t,e){var r=sr(t)?hh:jZ;return r(t,Ba(e,3))}function VZ(t,e){return hh(e,function(r){return t[r]})}function YZ(t){return t==null?[]:l8e(t,Fi(t))}function HZ(t){return t===void 0}function XZ(t,e){var r={};return e=Ba(e,3),C_(t,function(i,n,a){vp(r,n,e(i,n,a))}),r}function KZ(t,e,r){for(var i=-1,n=t.length;++i<n;){var a=t[i],s=e(a);if(s!=null&&(o===void 0?s===s&&!ju(s):r(s,o)))var o=s,h=a}return h}function ZZ(t,e){return t>e}function QZ(t){return t&&t.length?D_(t,ao,c8e):void 0}function JZ(t,e,r,i){if(!Yn(t))return t;e=W5(e,t);for(var n=-1,a=e.length,s=a-1,o=t;o!=null&&++n<a;){var h=Cv(e[n]),u=r;if(h==="__proto__"||h==="constructor"||h==="prototype")return t;if(n!=s){var d=o[h];u=i?i(d,h,o):void 0,u===void 0&&(u=Yn(d)?d:av(e[n+1])?[]:{})}xp(o,h,u),o=o[h]}return t}function eQ(t,e,r){for(var i=-1,n=e.length,a={};++i<n;){var s=e[i],o=V5(t,s);r(o,s)&&h8e(a,W5(s,t),o)}return a}function rQ(t,e){return tQ(t,e,function(r,i){return OZ(t,i)})}function iQ(t){return sr(t)||Xc(t)||!!(pK&&t&&t[pK])}function M_(t,e,r,i,n){var a=-1,s=t.length;for(r||(r=d8e),n||(n=[]);++a<s;){var o=t[a];e>0&&r(o)?e>1?M_(o,e-1,r,i,n):E_(n,o):i||(n[n.length]=o)}return n}function nQ(t){var e=t==null?0:t.length;return e?_v(t,1):[]}function aQ(t){return mS(fS(t,void 0,Xi),t+"")}function sQ(t,e,r,i){var n=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++n]);++n<a;)r=e(r,t[n],n,t);return r}function oQ(t,e,r,i,n){return n(t,function(a,s,o){r=i?(i=!1,a):e(r,a,s,o)}),r}function lQ(t,e,r){var i=sr(t)?f8e:m8e,n=arguments.length<3;return i(t,Ba(e,4),r,n,Wu)}function cQ(t,e,r,i){for(var n=t.length,a=r+(i?1:-1);i?a--:++a<n;)if(e(t[a],a,t))return a;return-1}function uQ(t){return t!==t}function dQ(t,e,r){for(var i=r-1,n=t.length;++i<n;)if(t[i]===e)return i;return-1}function pQ(t,e,r){return e===e?v8e(t,e,r):hQ(t,y8e,r)}function gQ(t,e){var r=t==null?0:t.length;return!!r&&O_(t,e,0)>-1}function mQ(t,e,r){for(var i=-1,n=t==null?0:t.length;++i<n;)if(r(e,t[i]))return!0;return!1}function vQ(){}function bQ(t,e,r){var i=-1,n=fQ,a=t.length,s=!0,o=[],h=o;if(r)s=!1,n=yQ;else if(a>=k8e){var u=e?null:w8e(t);if(u)return L_(u);s=!1,n=A_,h=new __}else h=e?[]:o;e:for(;++i<a;){var d=t[i],p=e?e(d):d;if(d=r||d!==0?d:0,s&&p===p){for(var g=h.length;g--;)if(h[g]===p)continue e;e&&h.push(p),o.push(d)}else n(h,p,r)||(h!==o&&h.push(p),o.push(d))}return o}function wQ(t){for(var e=t.length;e--&&E8e.test(t.charAt(e)););return e}function kQ(t){return t&&t.slice(0,C8e(t)+1).replace(S8e,"")}function TQ(t){if(typeof t=="number")return t;if(ju(t))return gK;if(Yn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Yn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=_8e(t);var r=L8e.test(t);return r||N8e.test(t)?I8e(t.slice(2),r?2:8):A8e.test(t)?gK:+t}function EQ(t){if(!t)return t===0?t:0;if(t=R8e(t),t===fK||t===-fK){var e=t<0?-1:1;return e*D8e}return t===t?t:0}function CQ(t){var e=j5(t),r=e%1;return e===e?r?e-r:e:0}function SQ(t,e,r){var i=-1,n=t.length;e<0&&(e=-e>n?0:n+e),r=r>n?n:r,r<0&&(r+=n),n=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(n);++i<n;)a[i]=t[i+e];return a}function AQ(t){return j8e.test(t)}function LQ(t){return WK(t,V8e|Y8e)}function IQ(t){for(var e=-1,r=t==null?0:t.length,i=0,n=[];++e<r;){var a=t[e];a&&(n[i++]=a)}return n}function RQ(t,e,r,i){for(var n=-1,a=t==null?0:t.length;++n<a;){var s=t[n];e(i,s,r(s),t)}return i}function DQ(t,e,r,i){return Wu(t,function(n,a,s){e(i,n,r(n),s)}),i}function MQ(t,e){return function(r,i){var n=sr(r)?H8e:X8e,a=e?e():{};return n(r,t,Ba(i,2),a)}}function OQ(t,e,r,i){var n=-1,a=fQ,s=!0,o=t.length,h=[],u=e.length;if(!o)return h;r&&(e=hh(e,$u(r))),i?(a=yQ,s=!1):e.length>=Q8e&&(a=A_,s=!1,e=new __(e));e:for(;++n<o;){var d=t[n],p=r==null?d:r(d);if(d=i||d!==0?d:0,s&&p===p){for(var g=u;g--;)if(e[g]===p)continue e;h.push(d)}else a(e,p,i)||h.push(d)}return h}function $Q(t,e,r){var i=t==null?0:t.length;return i?(e=r||e===void 0?1:Lv(e),_Q(t,e<0?0:e,i)):[]}function BQ(t,e,r){var i=t==null?0:t.length;return i?(e=r||e===void 0?1:Lv(e),e=i-e,_Q(t,0,e<0?0:e)):[]}function PQ(t,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!e(t[r],r,t))return!1;return!0}function FQ(t,e){var r=!0;return Wu(t,function(i,n,a){return r=!!e(i,n,a),r}),r}function zQ(t,e,r){var i=sr(t)?tEe:rEe;return r&&eh(t,e,r)&&(e=void 0),i(t,Ba(e,3))}function GQ(t){return function(e,r,i){var n=Object(e);if(!as(e)){var a=Ba(r,3);e=Fi(e),r=l(function(o){return a(n[o],o,n)},"predicate")}var s=t(e,r,i);return s>-1?n[a?e[s]:s]:void 0}}function qQ(t,e,r){var i=t==null?0:t.length;if(!i)return-1;var n=r==null?0:Lv(r);return n<0&&(n=nEe(i+n,0)),hQ(t,Ba(e,3),n)}function UQ(t){return t&&t.length?t[0]:void 0}function jQ(t,e){return _v(dt(t,e),1)}function WQ(t,e){return t==null?t:t5(t,S_(e),Jc)}function YQ(t,e){return t&&C_(t,S_(e))}function KQ(t,e){return t!=null&&uEe.call(t,e)}function ZQ(t,e){return t!=null&&DZ(t,e,dEe)}function QQ(t){return typeof t=="string"||!sr(t)&&ns(t)&&no(t)==pEe}function JQ(t,e,r,i){t=as(t)?t:Gr(t),r=r&&!i?Lv(r):0;var n=t.length;return r<0&&(r=gEe(n+r,0)),Hn(t)?r<=n&&t.indexOf(e,r)>-1:!!n&&O_(t,e,r)>-1}function eJ(t,e,r){var i=t==null?0:t.length;if(!i)return-1;var n=r==null?0:Lv(r);return n<0&&(n=fEe(i+n,0)),O_(t,e,n)}function tJ(t){return ns(t)&&no(t)==mEe}function rJ(t,e){return t<e}function nJ(t){return t&&t.length?D_(t,ao,iJ):void 0}function aJ(t,e){return t&&t.length?D_(t,Ba(e,2),iJ):void 0}function sJ(t){if(typeof t!="function")throw new TypeError(bEe);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function oJ(t,e){if(t==null)return{};var r=hh(MK(t),function(i){return[i]});return e=Ba(e),tQ(t,r,function(i,n){return e(i,n[0])})}function lJ(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}function cJ(t,e){if(t!==e){var r=t!==void 0,i=t===null,n=t===t,a=ju(t),s=e!==void 0,o=e===null,h=e===e,u=ju(e);if(!o&&!u&&!a&&t>e||a&&s&&h&&!o&&!u||i&&s&&h||!r&&h||!n)return 1;if(!i&&!a&&!u&&t<e||u&&r&&n&&!i&&!a||o&&r&&n||!s&&n||!h)return-1}return 0}function hJ(t,e,r){for(var i=-1,n=t.criteria,a=e.criteria,s=n.length,o=r.length;++i<s;){var h=kEe(n[i],a[i]);if(h){if(i>=o)return h;var u=r[i];return h*(u=="desc"?-1:1)}}return t.index-e.index}function uJ(t,e,r){e.length?e=hh(e,function(a){return sr(a)?function(s){return V5(s,a.length===1?a[0]:a)}:a}):e=[ao];var i=-1;e=hh(e,$u(Ba));var n=jZ(t,function(a,s,o){var h=hh(e,function(u){return u(a)});return{criteria:h,index:++i,value:a}});return wEe(n,function(a,s){return TEe(a,s,r)})}function vJ(t){for(var e=yK.lastIndex=0;yK.test(t);)++e;return e}function bJ(t){return W8e(t)?PEe(t):SEe(t)}function xJ(t,e,r,i){for(var n=-1,a=GEe(zEe((e-t)/(r||1)),0),s=Array(a);a--;)s[i?a:++n]=t,t+=r;return s}function wJ(t){return function(e,r,i){return i&&typeof i!="number"&&eh(e,r,i)&&(r=i=void 0),e=j5(e),r===void 0?(r=e,e=0):r=j5(r),i=i===void 0?e<r?1:-1:j5(i),qEe(e,r,i,t)}}function kJ(t,e){var r=sr(t)?k_:eZ;return r(t,xEe(Ba(e,3)))}function TJ(t){if(t==null)return 0;if(as(t))return Hn(t)?FEe(t):t.length;var e=ch(t);return e==WEe||e==VEe?t.size:q5(t).length}function CJ(t,e){var r;return Wu(t,function(i,n,a){return r=e(i,n,a),!r}),!!r}function SJ(t,e,r){var i=sr(t)?nZ:YEe;return r&&eh(t,e,r)&&(e=void 0),i(t,Ba(e,3))}function _J(t){return t&&t.length?$_(t):[]}function AJ(t,e){return t&&t.length?$_(t,Ba(e,2)):[]}function NJ(t){var e=++XEe;return SZ(t)+e}function IJ(t,e,r){for(var i=-1,n=t.length,a=e.length,s={};++i<n;){var o=i<a?e[i]:void 0;r(s,t[i],o)}return s}function RJ(t,e){return KEe(t||[],e||[],xp)}var Fi,xK,jke,Wke,k_,CK,Vke,Yke,rK,Hke,T_,Xke,E_,Kke,Zke,AK,Qke,IK,b_,MK,Jke,eTe,tTe,rTe,iTe,nTe,iK,nK,aTe,sTe,oTe,lTe,cTe,hTe,uTe,dTe,pTe,gTe,fTe,mTe,yTe,vTe,bTe,xTe,wTe,kTe,TTe,ETe,CTe,STe,_Te,aK,ATe,LTe,NTe,ITe,sK,RTe,DTe,MTe,OTe,$Te,qK,BTe,PTe,FTe,zTe,UK,GTe,qTe,UTe,jK,jTe,WTe,VTe,YTe,HTe,XTe,KTe,ZTe,QTe,JTe,e7e,t7e,r7e,i7e,n7e,a7e,ii,WK,s7e,Ri,YK,o7e,l7e,Wp,Cs,C_,c7e,h7e,Wu,S_,Ie,eZ,u7e,d7e,p7e,__,nZ,A_,g7e,f7e,oZ,m7e,L_,y7e,v7e,b7e,x7e,w7e,k7e,T7e,E7e,C7e,S7e,_7e,A7e,L7e,oK,v_,N7e,I7e,R7e,D7e,M7e,O7e,lK,cK,U5,$7e,hK,B7e,pZ,P7e,F7e,z7e,mZ,G7e,bZ,q7e,U7e,ju,j7e,W7e,I_,V7e,Y7e,H7e,X7e,K7e,Z7e,hh,Q7e,uK,dK,J7e,SZ,W5,e8e,Cv,V5,t8e,r8e,DZ,OZ,i8e,n8e,a8e,PZ,s8e,o8e,Ba,hi,jZ,dt,l8e,Gr,Ar,Sv,D_,c8e,uh,h8e,tQ,u8e,pK,d8e,_v,Xi,p8e,g8e,Av,f8e,m8e,Ei,hQ,y8e,v8e,O_,fQ,yQ,Ki,b8e,x8e,w8e,k8e,$_,T8e,xQ,E8e,C8e,S8e,_8e,gK,A8e,L8e,N8e,I8e,R8e,fK,D8e,j5,Lv,M8e,O8e,$8e,Pa,_Q,B8e,P8e,F8e,z8e,G8e,q8e,U8e,j8e,W8e,V8e,Y8e,NQ,Vp,H8e,X8e,K8e,Z8e,B_,Q8e,J8e,eEe,Nv,mn,Yp,tEe,rEe,Ss,iEe,nEe,aEe,sEe,oo,_s,Fa,VQ,HQ,oEe,lEe,cEe,XQ,hEe,uEe,dEe,Gt,pEe,Hn,gEe,Xn,fEe,P_,mEe,yEe,mK,vEe,Ko,iJ,dh,Y5,bEe,xEe,As,wEe,kEe,TEe,EEe,CEe,SEe,dJ,_Ee,AEe,LEe,NEe,IEe,REe,x_,w_,DEe,pJ,gJ,fJ,MEe,mJ,yJ,OEe,$Ee,BEe,yK,PEe,FEe,zEe,GEe,qEe,UEe,jEe,Vu,Iv,WEe,VEe,EJ,YEe,F_,HEe,Hp,H5,LJ,XEe,X5,KEe,DJ,zi=wt(()=>{Ii();br();kt();l(vK,"keys");Fi=vK;l(bK,"arrayEach");xK=bK;l(wK,"baseAssign");jke=wK;l(kK,"baseAssignIn");Wke=kK;l(TK,"arrayFilter");k_=TK;l(EK,"stubArray");CK=EK,Vke=Object.prototype,Yke=Vke.propertyIsEnumerable,rK=Object.getOwnPropertySymbols,Hke=rK?function(t){return t==null?[]:(t=Object(t),k_(rK(t),function(e){return Yke.call(t,e)}))}:CK,T_=Hke;l(SK,"copySymbols");Xke=SK;l(_K,"arrayPush");E_=_K,Kke=Object.getOwnPropertySymbols,Zke=Kke?function(t){for(var e=[];t;)E_(e,T_(t)),t=i5(t);return e}:CK,AK=Zke;l(LK,"copySymbolsIn");Qke=LK;l(NK,"baseGetAllKeys");IK=NK;l(RK,"getAllKeys");b_=RK;l(DK,"getAllKeysIn");MK=DK,Jke=Object.prototype,eTe=Jke.hasOwnProperty;l(OK,"initCloneArray");tTe=OK;l($K,"cloneDataView");rTe=$K,iTe=/\w*$/;l(BK,"cloneRegExp");nTe=BK,iK=rs?rs.prototype:void 0,nK=iK?iK.valueOf:void 0;l(PK,"cloneSymbol");aTe=PK,sTe="[object Boolean]",oTe="[object Date]",lTe="[object Map]",cTe="[object Number]",hTe="[object RegExp]",uTe="[object Set]",dTe="[object String]",pTe="[object Symbol]",gTe="[object ArrayBuffer]",fTe="[object DataView]",mTe="[object Float32Array]",yTe="[object Float64Array]",vTe="[object Int8Array]",bTe="[object Int16Array]",xTe="[object Int32Array]",wTe="[object Uint8Array]",kTe="[object Uint8ClampedArray]",TTe="[object Uint16Array]",ETe="[object Uint32Array]";l(FK,"initCloneByTag");CTe=FK,STe="[object Map]";l(zK,"baseIsMap");_Te=zK,aK=Bl&&Bl.isMap,ATe=aK?$u(aK):_Te,LTe=ATe,NTe="[object Set]";l(GK,"baseIsSet");ITe=GK,sK=Bl&&Bl.isSet,RTe=sK?$u(sK):ITe,DTe=RTe,MTe=1,OTe=2,$Te=4,qK="[object Arguments]",BTe="[object Array]",PTe="[object Boolean]",FTe="[object Date]",zTe="[object Error]",UK="[object Function]",GTe="[object GeneratorFunction]",qTe="[object Map]",UTe="[object Number]",jK="[object Object]",jTe="[object RegExp]",WTe="[object Set]",VTe="[object String]",YTe="[object Symbol]",HTe="[object WeakMap]",XTe="[object ArrayBuffer]",KTe="[object DataView]",ZTe="[object Float32Array]",QTe="[object Float64Array]",JTe="[object Int8Array]",e7e="[object Int16Array]",t7e="[object Int32Array]",r7e="[object Uint8Array]",i7e="[object Uint8ClampedArray]",n7e="[object Uint16Array]",a7e="[object Uint32Array]",ii={};ii[qK]=ii[BTe]=ii[XTe]=ii[KTe]=ii[PTe]=ii[FTe]=ii[ZTe]=ii[QTe]=ii[JTe]=ii[e7e]=ii[t7e]=ii[qTe]=ii[UTe]=ii[jK]=ii[jTe]=ii[WTe]=ii[VTe]=ii[YTe]=ii[r7e]=ii[i7e]=ii[n7e]=ii[a7e]=!0;ii[zTe]=ii[UK]=ii[HTe]=!1;l(Tv,"baseClone");WK=Tv,s7e=4;l(VK,"clone");Ri=VK,YK=Object.prototype,o7e=YK.hasOwnProperty,l7e=wp(function(t,e){t=Object(t);var r=-1,i=e.length,n=i>2?e[2]:void 0;for(n&&eh(e[0],e[1],n)&&(i=1);++r<i;)for(var a=e[r],s=Jc(a),o=-1,h=s.length;++o<h;){var u=s[o],d=t[u];(d===void 0||Nu(d,YK[u])&&!o7e.call(t,u))&&(t[u]=a[u])}return t}),Wp=l7e;l(HK,"last");Cs=HK;l(XK,"baseForOwn");C_=XK;l(KK,"createBaseEach");c7e=KK,h7e=c7e(C_),Wu=h7e;l(ZK,"castFunction");S_=ZK;l(QK,"forEach");Ie=QK;l(JK,"baseFilter");eZ=JK,u7e="__lodash_hash_undefined__";l(tZ,"setCacheAdd");d7e=tZ;l(rZ,"setCacheHas");p7e=rZ;l(Ev,"SetCache");Ev.prototype.add=Ev.prototype.push=d7e;Ev.prototype.has=p7e;__=Ev;l(iZ,"arraySome");nZ=iZ;l(aZ,"cacheHas");A_=aZ,g7e=1,f7e=2;l(sZ,"equalArrays");oZ=sZ;l(lZ,"mapToArray");m7e=lZ;l(cZ,"setToArray");L_=cZ,y7e=1,v7e=2,b7e="[object Boolean]",x7e="[object Date]",w7e="[object Error]",k7e="[object Map]",T7e="[object Number]",E7e="[object RegExp]",C7e="[object Set]",S7e="[object String]",_7e="[object Symbol]",A7e="[object ArrayBuffer]",L7e="[object DataView]",oK=rs?rs.prototype:void 0,v_=oK?oK.valueOf:void 0;l(hZ,"equalByTag");N7e=hZ,I7e=1,R7e=Object.prototype,D7e=R7e.hasOwnProperty;l(uZ,"equalObjects");M7e=uZ,O7e=1,lK="[object Arguments]",cK="[object Array]",U5="[object Object]",$7e=Object.prototype,hK=$7e.hasOwnProperty;l(dZ,"baseIsEqualDeep");B7e=dZ;l(N_,"baseIsEqual");pZ=N_,P7e=1,F7e=2;l(gZ,"baseIsMatch");z7e=gZ;l(fZ,"isStrictComparable");mZ=fZ;l(yZ,"getMatchData");G7e=yZ;l(vZ,"matchesStrictComparable");bZ=vZ;l(xZ,"baseMatches");q7e=xZ,U7e="[object Symbol]";l(wZ,"isSymbol");ju=wZ,j7e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W7e=/^\w*$/;l(kZ,"isKey");I_=kZ,V7e=500;l(TZ,"memoizeCapped");Y7e=TZ,H7e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X7e=/\\(\\)?/g,K7e=Y7e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(H7e,function(r,i,n,a){e.push(n?a.replace(X7e,"$1"):i||r)}),e}),Z7e=K7e;l(EZ,"arrayMap");hh=EZ,Q7e=1/0,uK=rs?rs.prototype:void 0,dK=uK?uK.toString:void 0;l(R_,"baseToString");J7e=R_;l(CZ,"toString");SZ=CZ;l(_Z,"castPath");W5=_Z,e8e=1/0;l(AZ,"toKey");Cv=AZ;l(LZ,"baseGet");V5=LZ;l(NZ,"get");t8e=NZ;l(IZ,"baseHasIn");r8e=IZ;l(RZ,"hasPath");DZ=RZ;l(MZ,"hasIn");OZ=MZ,i8e=1,n8e=2;l($Z,"baseMatchesProperty");a8e=$Z;l(BZ,"baseProperty");PZ=BZ;l(FZ,"basePropertyDeep");s8e=FZ;l(zZ,"property");o8e=zZ;l(GZ,"baseIteratee");Ba=GZ;l(qZ,"filter");hi=qZ;l(UZ,"baseMap");jZ=UZ;l(WZ,"map");dt=WZ;l(VZ,"baseValues");l8e=VZ;l(YZ,"values");Gr=YZ;l(HZ,"isUndefined");Ar=HZ;l(XZ,"mapValues");Sv=XZ;l(KZ,"baseExtremum");D_=KZ;l(ZZ,"baseGt");c8e=ZZ;l(QZ,"max");uh=QZ;l(JZ,"baseSet");h8e=JZ;l(eQ,"basePickBy");tQ=eQ;l(rQ,"basePick");u8e=rQ,pK=rs?rs.isConcatSpreadable:void 0;l(iQ,"isFlattenable");d8e=iQ;l(M_,"baseFlatten");_v=M_;l(nQ,"flatten");Xi=nQ;l(aQ,"flatRest");p8e=aQ,g8e=p8e(function(t,e){return t==null?{}:u8e(t,e)}),Av=g8e;l(sQ,"arrayReduce");f8e=sQ;l(oQ,"baseReduce");m8e=oQ;l(lQ,"reduce");Ei=lQ;l(cQ,"baseFindIndex");hQ=cQ;l(uQ,"baseIsNaN");y8e=uQ;l(dQ,"strictIndexOf");v8e=dQ;l(pQ,"baseIndexOf");O_=pQ;l(gQ,"arrayIncludes");fQ=gQ;l(mQ,"arrayIncludesWith");yQ=mQ;l(vQ,"noop");Ki=vQ,b8e=1/0,x8e=Uu&&1/L_(new Uu([,-0]))[1]==b8e?function(t){return new Uu(t)}:Ki,w8e=x8e,k8e=200;l(bQ,"baseUniq");$_=bQ,T8e=wp(function(t){return $_(_v(t,1,nv,!0))}),xQ=T8e,E8e=/\s/;l(wQ,"trimmedEndIndex");C8e=wQ,S8e=/^\s+/;l(kQ,"baseTrim");_8e=kQ,gK=NaN,A8e=/^[-+]0x[0-9a-f]+$/i,L8e=/^0b[01]+$/i,N8e=/^0o[0-7]+$/i,I8e=parseInt;l(TQ,"toNumber");R8e=TQ,fK=1/0,D8e=17976931348623157e292;l(EQ,"toFinite");j5=EQ;l(CQ,"toInteger");Lv=CQ,M8e=Object.prototype,O8e=M8e.hasOwnProperty,$8e=yS(function(t,e){if(Ou(e)||as(e)){Bu(e,Fi(e),t);return}for(var r in e)O8e.call(e,r)&&xp(t,r,e[r])}),Pa=$8e;l(SQ,"baseSlice");_Q=SQ,B8e="\\ud800-\\udfff",P8e="\\u0300-\\u036f",F8e="\\ufe20-\\ufe2f",z8e="\\u20d0-\\u20ff",G8e=P8e+F8e+z8e,q8e="\\ufe0e\\ufe0f",U8e="\\u200d",j8e=RegExp("["+U8e+B8e+G8e+q8e+"]");l(AQ,"hasUnicode");W8e=AQ,V8e=1,Y8e=4;l(LQ,"cloneDeep");NQ=LQ;l(IQ,"compact");Vp=IQ;l(RQ,"arrayAggregator");H8e=RQ;l(DQ,"baseAggregator");X8e=DQ;l(MQ,"createAggregator");K8e=MQ,Z8e=l(function(){return is.Date.now()},"now"),B_=Z8e,Q8e=200;l(OQ,"baseDifference");J8e=OQ,eEe=wp(function(t,e){return nv(t)?J8e(t,_v(e,1,nv,!0)):[]}),Nv=eEe;l($Q,"drop");mn=$Q;l(BQ,"dropRight");Yp=BQ;l(PQ,"arrayEvery");tEe=PQ;l(FQ,"baseEvery");rEe=FQ;l(zQ,"every");Ss=zQ;l(GQ,"createFind");iEe=GQ,nEe=Math.max;l(qQ,"findIndex");aEe=qQ,sEe=iEe(aEe),oo=sEe;l(UQ,"head");_s=UQ;l(jQ,"flatMap");Fa=jQ;l(WQ,"forIn");VQ=WQ;l(YQ,"forOwn");HQ=YQ,oEe=Object.prototype,lEe=oEe.hasOwnProperty,cEe=K8e(function(t,e,r){lEe.call(t,r)?t[r].push(e):vp(t,r,[e])}),XQ=cEe,hEe=Object.prototype,uEe=hEe.hasOwnProperty;l(KQ,"baseHas");dEe=KQ;l(ZQ,"has");Gt=ZQ,pEe="[object String]";l(QQ,"isString");Hn=QQ,gEe=Math.max;l(JQ,"includes");Xn=JQ,fEe=Math.max;l(eJ,"indexOf");P_=eJ,mEe="[object RegExp]";l(tJ,"baseIsRegExp");yEe=tJ,mK=Bl&&Bl.isRegExp,vEe=mK?$u(mK):yEe,Ko=vEe;l(rJ,"baseLt");iJ=rJ;l(nJ,"min");dh=nJ;l(aJ,"minBy");Y5=aJ,bEe="Expected a function";l(sJ,"negate");xEe=sJ;l(oJ,"pickBy");As=oJ;l(lJ,"baseSortBy");wEe=lJ;l(cJ,"compareAscending");kEe=cJ;l(hJ,"compareMultiple");TEe=hJ;l(uJ,"baseOrderBy");EEe=uJ,CEe=PZ("length"),SEe=CEe,dJ="\\ud800-\\udfff",_Ee="\\u0300-\\u036f",AEe="\\ufe20-\\ufe2f",LEe="\\u20d0-\\u20ff",NEe=_Ee+AEe+LEe,IEe="\\ufe0e\\ufe0f",REe="["+dJ+"]",x_="["+NEe+"]",w_="\\ud83c[\\udffb-\\udfff]",DEe="(?:"+x_+"|"+w_+")",pJ="[^"+dJ+"]",gJ="(?:\\ud83c[\\udde6-\\uddff]){2}",fJ="[\\ud800-\\udbff][\\udc00-\\udfff]",MEe="\\u200d",mJ=DEe+"?",yJ="["+IEe+"]?",OEe="(?:"+MEe+"(?:"+[pJ,gJ,fJ].join("|")+")"+yJ+mJ+")*",$Ee=yJ+mJ+OEe,BEe="(?:"+[pJ+x_+"?",x_,gJ,fJ,REe].join("|")+")",yK=RegExp(w_+"(?="+w_+")|"+BEe+$Ee,"g");l(vJ,"unicodeSize");PEe=vJ;l(bJ,"stringSize");FEe=bJ,zEe=Math.ceil,GEe=Math.max;l(xJ,"baseRange");qEe=xJ;l(wJ,"createRange");UEe=wJ,jEe=UEe(),Vu=jEe;l(kJ,"reject");Iv=kJ,WEe="[object Map]",VEe="[object Set]";l(TJ,"size");EJ=TJ;l(CJ,"baseSome");YEe=CJ;l(SJ,"some");F_=SJ,HEe=wp(function(t,e){if(t==null)return[];var r=e.length;return r>1&&eh(t,e[0],e[1])?e=[]:r>2&&eh(e[0],e[1],e[2])&&(e=[e[0]]),EEe(t,_v(e,1),[])}),Hp=HEe;l(_J,"uniq");H5=_J;l(AJ,"uniqBy");LJ=AJ,XEe=0;l(NJ,"uniqueId");X5=NJ;l(IJ,"baseZipObject");KEe=IJ;l(RJ,"zipObject");DJ=RJ;});function z_(t,e){t[e]?t[e]++:t[e]=1}function G_(t,e){--t[e]||delete t[e]}function Xp(t,e,r,i){var n=""+e,a=""+r;if(!t&&n>a){var s=n;n=a,a=s}return n+MJ+a+MJ+(Ar(i)?ZEe:i)}function OJ(t,e,r,i){var n=""+e,a=""+r;if(!t&&n>a){var s=n;n=a,a=s}var o={v:n,w:a};return i&&(o.name=i),o}function K5(t,e){return Xp(t,e.v,e.w,e.name)}var ZEe,Yu,MJ,Kp,yn,Rv=wt(()=>{zi();Ii();br();kt();ZEe="\0",Yu="\0",MJ="",yn=(Kp=class{constructor(e={}){this._isDirected=Object.prototype.hasOwnProperty.call(e,"directed")?e.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Wo(void 0),this._defaultEdgeLabelFn=Wo(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Yu]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return Da(e)||(e=Wo(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return Fi(this._nodes)}sources(){var e=this;return hi(this.nodes(),function(r){return _r(e._in[r])})}sinks(){var e=this;return hi(this.nodes(),function(r){return _r(e._out[r])})}setNodes(e,r){var i=arguments,n=this;return Ie(e,function(a){i.length>1?n.setNode(a,r):n.setNode(a)}),this}setNode(e,r){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Yu,this._children[e]={},this._children[Yu][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var r=l(i=>this.removeEdge(this._edgeObjs[i]),"removeEdge");delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Ie(this.children(e),i=>{this.setParent(i)}),delete this._children[e]),Ie(Fi(this._in[e]),r),delete this._in[e],delete this._preds[e],Ie(Fi(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Ar(r))r=Yu;else{r+="";for(var i=r;!Ar(i);i=this.parent(i))if(i===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==Yu)return r}}children(e){if(Ar(e)&&(e=Yu),this._isCompound){var r=this._children[e];if(r)return Fi(r)}else{if(e===Yu)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return Fi(r)}successors(e){var r=this._sucs[e];if(r)return Fi(r)}neighbors(e){var r=this.predecessors(e);if(r)return xQ(r,this.successors(e))}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var i=this;Ie(this._nodes,function(s,o){e(o)&&r.setNode(o,s)}),Ie(this._edgeObjs,function(s){r.hasNode(s.v)&&r.hasNode(s.w)&&r.setEdge(s,i.edge(s))});var n={};function a(s){var o=i.parent(s);return o===void 0||r.hasNode(o)?(n[s]=o,o):o in n?n[o]:a(o)}return l(a,"findParent"),this._isCompound&&Ie(r.nodes(),function(s){r.setParent(s,a(s))}),r}setDefaultEdgeLabel(e){return Da(e)||(e=Wo(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return Gr(this._edgeObjs)}setPath(e,r){var i=this,n=arguments;return Ei(e,function(a,s){return n.length>1?i.setEdge(a,s,r):i.setEdge(a,s),s}),this}setEdge(){var e,r,i,n,a=!1,s=arguments[0];typeof s=="object"&&s!==null&&"v"in s?(e=s.v,r=s.w,i=s.name,arguments.length===2&&(n=arguments[1],a=!0)):(e=s,r=arguments[1],i=arguments[3],arguments.length>2&&(n=arguments[2],a=!0)),e=""+e,r=""+r,Ar(i)||(i=""+i);var o=Xp(this._isDirected,e,r,i);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return a&&(this._edgeLabels[o]=n),this;if(!Ar(i)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=a?n:this._defaultEdgeLabelFn(e,r,i);var h=OJ(this._isDirected,e,r,i);return e=h.v,r=h.w,Object.freeze(h),this._edgeObjs[o]=h,z_(this._preds[r],e),z_(this._sucs[e],r),this._in[r][o]=h,this._out[e][o]=h,this._edgeCount++,this}edge(e,r,i){var n=arguments.length===1?K5(this._isDirected,arguments[0]):Xp(this._isDirected,e,r,i);return this._edgeLabels[n]}hasEdge(e,r,i){var n=arguments.length===1?K5(this._isDirected,arguments[0]):Xp(this._isDirected,e,r,i);return Object.prototype.hasOwnProperty.call(this._edgeLabels,n)}removeEdge(e,r,i){var n=arguments.length===1?K5(this._isDirected,arguments[0]):Xp(this._isDirected,e,r,i),a=this._edgeObjs[n];return a&&(e=a.v,r=a.w,delete this._edgeLabels[n],delete this._edgeObjs[n],G_(this._preds[r],e),G_(this._sucs[e],r),delete this._in[r][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,r){var i=this._in[e];if(i){var n=Gr(i);return r?hi(n,function(a){return a.v===r}):n}}outEdges(e,r){var i=this._out[e];if(i){var n=Gr(i);return r?hi(n,function(a){return a.w===r}):n}}nodeEdges(e,r){var i=this.inEdges(e,r);if(i)return i.concat(this.outEdges(e,r))}},l(Kp,"Graph"),Kp);yn.prototype._nodeCount=0;yn.prototype._edgeCount=0;l(z_,"incrementOrInitEntry");l(G_,"decrementOrRemoveEntry");l(Xp,"edgeArgsToId");l(OJ,"edgeArgsToObj");l(K5,"edgeObjToId")});function Hu(t,e,r,i){var n;do n=X5(i);while(t.hasNode(n));return r.dummy=e,t.setNode(n,r),n}function $J(t){var e=new yn().setGraph(t.graph());return Ie(t.nodes(),function(r){e.setNode(r,t.node(r))}),Ie(t.edges(),function(r){var i=e.edge(r.v,r.w)||{weight:0,minlen:1},n=t.edge(r);e.setEdge(r.v,r.w,{weight:i.weight+n.weight,minlen:Math.max(i.minlen,n.minlen)})}),e}function Q_(t){var e=new yn({multigraph:t.isMultigraph()}).setGraph(t.graph());return Ie(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),Ie(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e}function q_(t,e){var r=t.x,i=t.y,n=e.x-r,a=e.y-i,s=t.width/2,o=t.height/2;if(!n&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var h,u;return Math.abs(a)*s>Math.abs(n)*o?(a<0&&(o=-o),h=o*n/a,u=o):(n<0&&(s=-s),h=s,u=s*a/n),{x:r+h,y:i+u}}function Mv(t){var e=dt(Vu(J_(t)+1),function(){return[]});return Ie(t.nodes(),function(r){var i=t.node(r),n=i.rank;Ar(n)||(e[n][i.order]=r)}),e}function BJ(t){var e=dh(dt(t.nodes(),function(r){return t.node(r).rank}));Ie(t.nodes(),function(r){var i=t.node(r);Gt(i,"rank")&&(i.rank-=e)})}function PJ(t){var e=dh(dt(t.nodes(),function(a){return t.node(a).rank})),r=[];Ie(t.nodes(),function(a){var s=t.node(a).rank-e;r[s]||(r[s]=[]),r[s].push(a)});var i=0,n=t.graph().nodeRankFactor;Ie(r,function(a,s){Ar(a)&&s%n!==0?--i:i&&Ie(a,function(o){t.node(o).rank+=i})})}function U_(t,e,r,i){var n={width:0,height:0};return arguments.length>=4&&(n.rank=r,n.order=i),Hu(t,"border",n,e)}function J_(t){return uh(dt(t.nodes(),function(e){var r=t.node(e).rank;if(!Ar(r))return r}))}function FJ(t,e){var r={lhs:[],rhs:[]};return Ie(t,function(i){e(i)?r.lhs.push(i):r.rhs.push(i)}),r}function zJ(t,e){var r=B_();try{return e()}finally{console.log(t+" time: "+(B_()-r)+"ms")}}function GJ(t,e){return e()}function qJ(t){function e(r){var i=t.children(r),n=t.node(r);if(i.length&&Ie(i,e),Object.prototype.hasOwnProperty.call(n,"minRank")){n.borderLeft=[],n.borderRight=[];for(var a=n.minRank,s=n.maxRank+1;a<s;++a)j_(t,"borderLeft","_bl",r,n,a),j_(t,"borderRight","_br",r,n,a)}}l(e,"dfs"),Ie(t.children(),e)}function j_(t,e,r,i,n,a){var s={width:0,height:0,rank:a,borderType:e},o=n[e][a-1],h=Hu(t,"border",s,r);n[e][a]=h,t.setParent(h,i),o&&t.setEdge(o,h,{weight:1})}function UJ(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&eA(t)}function jJ(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&WJ(t),(e==="lr"||e==="rl")&&(VJ(t),eA(t))}function eA(t){Ie(t.nodes(),function(e){W_(t.node(e))}),Ie(t.edges(),function(e){W_(t.edge(e))})}function W_(t){var e=t.width;t.width=t.height,t.height=e}function WJ(t){Ie(t.nodes(),function(e){Z5(t.node(e))}),Ie(t.edges(),function(e){var r=t.edge(e);Ie(r.points,Z5),Object.prototype.hasOwnProperty.call(r,"y")&&Z5(r)})}function Z5(t){t.y=-t.y}function VJ(t){Ie(t.nodes(),function(e){Q5(t.node(e))}),Ie(t.edges(),function(e){var r=t.edge(e);Ie(r.points,Q5),Object.prototype.hasOwnProperty.call(r,"x")&&Q5(r)})}function Q5(t){var e=t.x;t.x=t.y,t.y=e}function V_(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function YJ(t,e){if(t!=="_next"&&t!=="_prev")return e}function HJ(t,e){if(t.nodeCount()<=1)return[];var r=KJ(t,e||JEe),i=XJ(r.graph,r.buckets,r.zeroIdx);return Xi(dt(i,function(n){return t.outEdges(n.v,n.w)}))}function XJ(t,e,r){for(var i=[],n=e[e.length-1],a=e[0],s;t.nodeCount();){for(;s=a.dequeue();)J5(t,e,r,s);for(;s=n.dequeue();)J5(t,e,r,s);if(t.nodeCount()){for(var o=e.length-2;o>0;--o)if(s=e[o].dequeue(),s){i=i.concat(J5(t,e,r,s,!0));break}}}return i}function J5(t,e,r,i,n){var a=n?[]:void 0;return Ie(t.inEdges(i.v),function(s){var o=t.edge(s),h=t.node(s.v);n&&a.push({v:s.v,w:s.w}),h.out-=o,r6(e,r,h)}),Ie(t.outEdges(i.v),function(s){var o=t.edge(s),h=s.w,u=t.node(h);u.in-=o,r6(e,r,u)}),t.removeNode(i.v),a}function KJ(t,e){var r=new yn,i=0,n=0;Ie(t.nodes(),function(o){r.setNode(o,{v:o,in:0,out:0})}),Ie(t.edges(),function(o){var h=r.edge(o.v,o.w)||0,u=e(o),d=h+u;r.setEdge(o.v,o.w,d),n=Math.max(n,r.node(o.v).out+=u),i=Math.max(i,r.node(o.w).in+=u)});var a=Vu(n+i+3).map(function(){return new QEe}),s=i+1;return Ie(r.nodes(),function(o){r6(a,s,r.node(o))}),{graph:r,buckets:a,zeroIdx:s}}function r6(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}function ZJ(t){var e=t.graph().acyclicer==="greedy"?HJ(t,r(t)):QJ(t);Ie(e,function(i){var n=t.edge(i);t.removeEdge(i),n.forwardName=i.name,n.reversed=!0,t.setEdge(i.w,i.v,n,X5("rev"))});function r(i){return function(n){return i.edge(n).weight}}l(r,"weightFn")}function QJ(t){var e=[],r={},i={};function n(a){Object.prototype.hasOwnProperty.call(i,a)||(i[a]=!0,r[a]=!0,Ie(t.outEdges(a),function(s){Object.prototype.hasOwnProperty.call(r,s.w)?e.push(s):n(s.w)}),delete r[a])}return l(n,"dfs"),Ie(t.nodes(),n),e}function JJ(t){Ie(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var i=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,i)}})}function eee(t){t.graph().dummyChains=[],Ie(t.edges(),function(e){tee(t,e)})}function tee(t,e){var r=e.v,i=t.node(r).rank,n=e.w,a=t.node(n).rank,s=e.name,o=t.edge(e),h=o.labelRank;if(a!==i+1){t.removeEdge(e);var u=void 0,d,p;for(p=0,++i;i<a;++p,++i)o.points=[],u={width:0,height:0,edgeLabel:o,edgeObj:e,rank:i},d=Hu(t,"edge",u,"_d"),i===h&&(u.width=o.width,u.height=o.height,u.dummy="edge-label",u.labelpos=o.labelpos),t.setEdge(r,d,{weight:o.weight},s),p===0&&t.graph().dummyChains.push(d),r=d;t.setEdge(r,n,{weight:o.weight},s)}}function ree(t){Ie(t.graph().dummyChains,function(e){var r=t.node(e),i=r.edgeLabel,n;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})}function i6(t){var e={};function r(i){var n=t.node(i);if(Object.prototype.hasOwnProperty.call(e,i))return n.rank;e[i]=!0;var a=dh(dt(t.outEdges(i),function(s){return r(s.w)-t.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),n.rank=a}l(r,"dfs"),Ie(t.sources(),r)}function Qp(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}function tA(t){var e=new yn({directed:!1}),r=t.nodes()[0],i=t.nodeCount();e.setNode(r,{});for(var n,a;iee(e,t)<i;)n=nee(e,t),a=e.hasNode(n.v)?Qp(t,n):-Qp(t,n),aee(e,t,a);return e}function iee(t,e){function r(i){Ie(e.nodeEdges(i),function(n){var a=n.v,s=i===a?n.w:a;!t.hasNode(s)&&!Qp(e,n)&&(t.setNode(s,{}),t.setEdge(i,s,{}),r(s))})}return l(r,"dfs"),Ie(t.nodes(),r),t.nodeCount()}function nee(t,e){return Y5(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return Qp(e,r)})}function aee(t,e,r){Ie(t.nodes(),function(i){e.node(i).rank+=r})}function see(t){var e={},r={},i=[];function n(a){if(Object.prototype.hasOwnProperty.call(r,a))throw new Dv;Object.prototype.hasOwnProperty.call(e,a)||(r[a]=!0,e[a]=!0,Ie(t.predecessors(a),n),delete r[a],i.push(a))}if(l(n,"visit"),Ie(t.sinks(),n),EJ(e)!==t.nodeCount())throw new Dv;return i}function Dv(){}function rA(t,e,r){sr(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),n=[],a={};return Ie(e,function(s){if(!t.hasNode(s))throw new Error("Graph does not have node: "+s);iA(t,s,r==="post",a,i,n)}),n}function iA(t,e,r,i,n,a){Object.prototype.hasOwnProperty.call(i,e)||(i[e]=!0,r||a.push(e),Ie(n(e),function(s){iA(t,s,r,i,n,a)}),r&&a.push(e))}function oee(t,e){return rA(t,e,"post")}function lee(t,e){return rA(t,e,"pre")}function ph(t){t=$J(t),i6(t);var e=tA(t);a6(e),n6(e,t);for(var r,i;r=sA(e);)i=oA(e,t,r),lA(e,t,r,i)}function n6(t,e){var r=oee(t,t.nodes());r=r.slice(0,r.length-1),Ie(r,function(i){cee(t,e,i)})}function cee(t,e,r){var i=t.node(r),n=i.parent;t.edge(r,n).cutvalue=nA(t,e,r)}function nA(t,e,r){var i=t.node(r),n=i.parent,a=!0,s=e.edge(r,n),o=0;return s||(a=!1,s=e.edge(n,r)),o=s.weight,Ie(e.nodeEdges(r),function(h){var u=h.v===r,d=u?h.w:h.v;if(d!==n){var p=u===a,g=e.edge(h).weight;if(o+=p?g:-g,uee(t,r,d)){var f=t.edge(r,d).cutvalue;o+=p?-f:f}}}),o}function a6(t,e){arguments.length<2&&(e=t.nodes()[0]),aA(t,{},1,e)}function aA(t,e,r,i,n){var a=r,s=t.node(i);return e[i]=!0,Ie(t.neighbors(i),function(o){Object.prototype.hasOwnProperty.call(e,o)||(r=aA(t,e,r,o,i))}),s.low=a,s.lim=r++,n?s.parent=n:delete s.parent,r}function sA(t){return oo(t.edges(),function(e){return t.edge(e).cutvalue<0})}function oA(t,e,r){var i=r.v,n=r.w;e.hasEdge(i,n)||(i=r.w,n=r.v);var a=t.node(i),s=t.node(n),o=a,h=!1;a.lim>s.lim&&(o=s,h=!0);var u=hi(e.edges(),function(d){return h===Y_(t,t.node(d.v),o)&&h!==Y_(t,t.node(d.w),o)});return Y5(u,function(d){return Qp(e,d)})}function lA(t,e,r,i){var n=r.v,a=r.w;t.removeEdge(n,a),t.setEdge(i.v,i.w,{}),a6(t),n6(t,e),hee(t,e)}function hee(t,e){var r=oo(t.nodes(),function(n){return!e.node(n).parent}),i=lee(t,r);i=i.slice(1),Ie(i,function(n){var a=t.node(n).parent,s=e.edge(n,a),o=!1;s||(s=e.edge(a,n),o=!0),e.node(n).rank=e.node(a).rank+(o?s.minlen:-s.minlen)})}function uee(t,e,r){return t.hasEdge(e,r)}function Y_(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}function dee(t){switch(t.graph().ranker){case"network-simplex":H_(t);break;case"tight-tree":pee(t);break;case"longest-path":eCe(t);break;default:H_(t)}}function pee(t){i6(t),tA(t)}function H_(t){ph(t)}function gee(t){var e=Hu(t,"root",{},"_root"),r=fee(t),i=uh(Gr(r))-1,n=2*i+1;t.graph().nestingRoot=e,Ie(t.edges(),function(s){t.edge(s).minlen*=n});var a=mee(t)+1;Ie(t.children(),function(s){cA(t,e,n,a,i,r,s)}),t.graph().nodeRankFactor=n}function cA(t,e,r,i,n,a,s){var o=t.children(s);if(!o.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:r});return}var h=U_(t,"_bt"),u=U_(t,"_bb"),d=t.node(s);t.setParent(h,s),d.borderTop=h,t.setParent(u,s),d.borderBottom=u,Ie(o,function(p){cA(t,e,r,i,n,a,p);var g=t.node(p),f=g.borderTop?g.borderTop:p,m=g.borderBottom?g.borderBottom:p,y=g.borderTop?i:2*i,b=f!==m?1:n-a[s]+1;t.setEdge(h,f,{weight:y,minlen:b,nestingEdge:!0}),t.setEdge(m,u,{weight:y,minlen:b,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,h,{weight:0,minlen:n+a[s]})}function fee(t){var e={};function r(i,n){var a=t.children(i);a&&a.length&&Ie(a,function(s){r(s,n+1)}),e[i]=n}return l(r,"dfs"),Ie(t.children(),function(i){r(i,1)}),e}function mee(t){return Ei(t.edges(),function(e,r){return e+t.edge(r).weight},0)}function yee(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Ie(t.edges(),function(r){var i=t.edge(r);i.nestingEdge&&t.removeEdge(r)})}function vee(t,e,r){var i={},n;Ie(r,function(a){for(var s=t.parent(a),o,h;s;){if(o=t.parent(s),o?(h=i[o],i[o]=s):(h=n,n=s),h&&h!==s){e.setEdge(h,s);return}s=o}})}function bee(t,e,r){var i=xee(t),n=new yn({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(a){return t.node(a)});return Ie(t.nodes(),function(a){var s=t.node(a),o=t.parent(a);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(n.setNode(a),n.setParent(a,o||i),Ie(t[r](a),function(h){var u=h.v===a?h.w:h.v,d=n.edge(u,a),p=Ar(d)?0:d.weight;n.setEdge(u,a,{weight:t.edge(h).weight+p})}),Object.prototype.hasOwnProperty.call(s,"minRank")&&n.setNode(a,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),n}function xee(t){for(var e;t.hasNode(e=X5("_root")););return e}function wee(t,e){for(var r=0,i=1;i<e.length;++i)r+=kee(t,e[i-1],e[i]);return r}function kee(t,e,r){for(var i=DJ(r,dt(r,function(u,d){return d})),n=Xi(dt(e,function(u){return Hp(dt(t.outEdges(u),function(d){return{pos:i[d.w],weight:t.edge(d).weight}}),"pos")})),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var o=dt(new Array(s),function(){return 0}),h=0;return Ie(n.forEach(function(u){var d=u.pos+a;o[d]+=u.weight;for(var p=0;d>0;)d%2&&(p+=o[d+1]),d=d-1>>1,o[d]+=u.weight;h+=u.weight*p})),h}function Tee(t){var e={},r=hi(t.nodes(),function(o){return!t.children(o).length}),i=uh(dt(r,function(o){return t.node(o).rank})),n=dt(Vu(i+1),function(){return[]});function a(o){if(!Gt(e,o)){e[o]=!0;var h=t.node(o);n[h.rank].push(o),Ie(t.successors(o),a)}}l(a,"dfs");var s=Hp(r,function(o){return t.node(o).rank});return Ie(s,a),n}function Eee(t,e){return dt(e,function(r){var i=t.inEdges(r);if(i.length){var n=Ei(i,function(a,s){var o=t.edge(s),h=t.node(s.v);return{sum:a.sum+o.weight*h.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:n.sum/n.weight,weight:n.weight}}else return{v:r}})}function Cee(t,e){var r={};Ie(t,function(n,a){var s=r[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:a};Ar(n.barycenter)||(s.barycenter=n.barycenter,s.weight=n.weight)}),Ie(e.edges(),function(n){var a=r[n.v],s=r[n.w];!Ar(a)&&!Ar(s)&&(s.indegree++,a.out.push(r[n.w]))});var i=hi(r,function(n){return!n.indegree});return See(i)}function See(t){var e=[];function r(a){return function(s){s.merged||(Ar(s.barycenter)||Ar(a.barycenter)||s.barycenter>=a.barycenter)&&_ee(a,s)}}l(r,"handleIn");function i(a){return function(s){s.in.push(a),--s.indegree===0&&t.push(s)}}for(l(i,"handleOut");t.length;){var n=t.pop();e.push(n),Ie(n.in.reverse(),r(n)),Ie(n.out,i(n))}return dt(hi(e,function(a){return!a.merged}),function(a){return Av(a,["vs","i","barycenter","weight"])})}function _ee(t,e){var r=0,i=0;t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0}function Aee(t,e){var r=FJ(t,function(d){return Object.prototype.hasOwnProperty.call(d,"barycenter")}),i=r.lhs,n=Hp(r.rhs,function(d){return-d.i}),a=[],s=0,o=0,h=0;i.sort(Lee(!!e)),h=X_(a,n,h),Ie(i,function(d){h+=d.vs.length,a.push(d.vs),s+=d.barycenter*d.weight,o+=d.weight,h=X_(a,n,h)});var u={vs:Xi(a)};return o&&(u.barycenter=s/o,u.weight=o),u}function X_(t,e,r){for(var i;e.length&&(i=Cs(e)).i<=r;)e.pop(),t.push(i.vs),r++;return r}function Lee(t){return function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:t?r.i-e.i:e.i-r.i}}function hA(t,e,r,i){var n=t.children(e),a=t.node(e),s=a?a.borderLeft:void 0,o=a?a.borderRight:void 0,h={};s&&(n=hi(n,function(m){return m!==s&&m!==o}));var u=Eee(t,n);Ie(u,function(m){if(t.children(m.v).length){var y=hA(t,m.v,r,i);h[m.v]=y,Object.prototype.hasOwnProperty.call(y,"barycenter")&&Iee(m,y)}});var d=Cee(u,r);Nee(d,h);var p=Aee(d,i);if(s&&(p.vs=Xi([s,p.vs,o]),t.predecessors(s).length)){var g=t.node(t.predecessors(s)[0]),f=t.node(t.predecessors(o)[0]);Object.prototype.hasOwnProperty.call(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+g.order+f.order)/(p.weight+2),p.weight+=2}return p}function Nee(t,e){Ie(t,function(r){r.vs=Xi(r.vs.map(function(i){return e[i]?e[i].vs:i}))})}function Iee(t,e){Ar(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}function Ree(t){var e=J_(t),r=K_(t,Vu(1,e+1),"inEdges"),i=K_(t,Vu(e-1,-1,-1),"outEdges"),n=Tee(t);Z_(t,n);for(var a=Number.POSITIVE_INFINITY,s,o=0,h=0;h<4;++o,++h){Dee(o%2?r:i,o%4>=2),n=Mv(t);var u=wee(t,n);u<a&&(h=0,s=NQ(n),a=u)}Z_(t,s)}function K_(t,e,r){return dt(e,function(i){return bee(t,i,r)})}function Dee(t,e){var r=new yn;Ie(t,function(i){var n=i.graph().root,a=hA(i,n,r,e);Ie(a.vs,function(s,o){i.node(s).order=o}),vee(i,r,a.vs)})}function Z_(t,e){Ie(e,function(r){Ie(r,function(i,n){t.node(i).order=n})})}function Mee(t){var e=$ee(t);Ie(t.graph().dummyChains,function(r){for(var i=t.node(r),n=i.edgeObj,a=Oee(t,e,n.v,n.w),s=a.path,o=a.lca,h=0,u=s[h],d=!0;r!==n.w;){if(i=t.node(r),d){for(;(u=s[h])!==o&&t.node(u).maxRank<i.rank;)h++;u===o&&(d=!1)}if(!d){for(;h<s.length-1&&t.node(u=s[h+1]).minRank<=i.rank;)h++;u=s[h]}t.setParent(r,u),r=t.successors(r)[0]}})}function Oee(t,e,r,i){var n=[],a=[],s=Math.min(e[r].low,e[i].low),o=Math.max(e[r].lim,e[i].lim),h,u;h=r;do h=t.parent(h),n.push(h);while(h&&(e[h].low>s||o>e[h].lim));for(u=h,h=i;(h=t.parent(h))!==u;)a.push(h);return{path:n.concat(a.reverse()),lca:u}}function $ee(t){var e={},r=0;function i(n){var a=r;Ie(t.children(n),i),e[n]={low:a,lim:r++}}return l(i,"dfs"),Ie(t.children(),i),e}function Bee(t,e){var r={};function i(n,a){var s=0,o=0,h=n.length,u=Cs(a);return Ie(a,function(d,p){var g=Fee(t,d),f=g?t.node(g).order:h;(g||d===u)&&(Ie(a.slice(o,p+1),function(m){Ie(t.predecessors(m),function(y){var b=t.node(y),v=b.order;(v<s||f<v)&&!(b.dummy&&t.node(m).dummy)&&uA(r,y,m)})}),o=p+1,s=f)}),a}return l(i,"visitLayer"),Ei(e,i),r}function Pee(t,e){var r={};function i(a,s,o,h,u){var d;Ie(Vu(s,o),function(p){d=a[p],t.node(d).dummy&&Ie(t.predecessors(d),function(g){var f=t.node(g);f.dummy&&(f.order<h||f.order>u)&&uA(r,g,d)})})}l(i,"scan");function n(a,s){var o=-1,h,u=0;return Ie(s,function(d,p){if(t.node(d).dummy==="border"){var g=t.predecessors(d);g.length&&(h=t.node(g[0]).order,i(s,u,p,o,h),u=p,o=h)}i(s,u,s.length,h,a.length)}),s}return l(n,"visitLayer"),Ei(e,n),r}function Fee(t,e){if(t.node(e).dummy)return oo(t.predecessors(e),function(r){return t.node(r).dummy})}function uA(t,e,r){if(e>r){var i=e;e=r,r=i}Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{enumerable:!0,configurable:!0,value:{},writable:!0});var n=t[e];Object.defineProperty(n,r,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function zee(t,e,r){if(e>r){var i=e;e=r,r=i}return!!t[e]&&Object.prototype.hasOwnProperty.call(t[e],r)}function Gee(t,e,r,i){var n={},a={},s={};return Ie(e,function(o){Ie(o,function(h,u){n[h]=h,a[h]=h,s[h]=u})}),Ie(e,function(o){var h=-1;Ie(o,function(u){var d=i(u);if(d.length){d=Hp(d,function(y){return s[y]});for(var p=(d.length-1)/2,g=Math.floor(p),f=Math.ceil(p);g<=f;++g){var m=d[g];a[u]===u&&h<s[m]&&!zee(r,u,m)&&(a[m]=u,a[u]=n[u]=n[m],h=s[m])}}})}),{root:n,align:a}}function qee(t,e,r,i,n){var a={},s=Uee(t,e,r,n),o=n?"borderLeft":"borderRight";function h(p,g){for(var f=s.nodes(),m=f.pop(),y={};m;)y[m]?p(m):(y[m]=!0,f.push(m),f=f.concat(g(m))),m=f.pop()}l(h,"iterate");function u(p){a[p]=s.inEdges(p).reduce(function(g,f){return Math.max(g,a[f.v]+s.edge(f))},0)}l(u,"pass1");function d(p){var g=s.outEdges(p).reduce(function(m,y){return Math.min(m,a[y.w]-s.edge(y))},Number.POSITIVE_INFINITY),f=t.node(p);g!==Number.POSITIVE_INFINITY&&f.borderType!==o&&(a[p]=Math.max(a[p],g))}return l(d,"pass2"),h(u,s.predecessors.bind(s)),h(d,s.successors.bind(s)),Ie(i,function(p){a[p]=a[r[p]]}),a}function Uee(t,e,r,i){var n=new yn,a=t.graph(),s=Hee(a.nodesep,a.edgesep,i);return Ie(e,function(o){var h;Ie(o,function(u){var d=r[u];if(n.setNode(d),h){var p=r[h],g=n.edge(p,d);n.setEdge(p,d,Math.max(s(t,u,h),g||0))}h=u})}),n}function jee(t,e){return Y5(Gr(e),function(r){var i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;return VQ(r,function(a,s){var o=Xee(t,s)/2;i=Math.max(a+o,i),n=Math.min(a-o,n)}),i-n})}function Wee(t,e){var r=Gr(e),i=dh(r),n=uh(r);Ie(["u","d"],function(a){Ie(["l","r"],function(s){var o=a+s,h=t[o],u;if(h!==e){var d=Gr(h);u=s==="l"?i-dh(d):n-uh(d),u&&(t[o]=Sv(h,function(p){return p+u}))}})})}function Vee(t,e){return Sv(t.ul,function(r,i){if(e)return t[e.toLowerCase()][i];var n=Hp(dt(t,i));return(n[1]+n[2])/2})}function Yee(t){var e=Mv(t),r=kp(Bee(t,e),Pee(t,e)),i={},n;Ie(["u","d"],function(s){n=s==="u"?e:Gr(e).reverse(),Ie(["l","r"],function(o){o==="r"&&(n=dt(n,function(p){return Gr(p).reverse()}));var h=(s==="u"?t.predecessors:t.successors).bind(t),u=Gee(t,n,r,h),d=qee(t,n,u.root,u.align,o==="r");o==="r"&&(d=Sv(d,function(p){return-p})),i[s+o]=d})});var a=jee(t,i);return Wee(i,a),Vee(i,t.graph().align)}function Hee(t,e,r){return function(i,n,a){var s=i.node(n),o=i.node(a),h=0,u;if(h+=s.width/2,Object.prototype.hasOwnProperty.call(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(h+=r?u:-u),u=0,h+=(s.dummy?e:t)/2,h+=(o.dummy?e:t)/2,h+=o.width/2,Object.prototype.hasOwnProperty.call(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(h+=r?u:-u),u=0,h}}function Xee(t,e){return t.node(e).width}function Kee(t){t=Q_(t),Zee(t),HQ(Yee(t),function(e,r){t.node(r).x=e})}function Zee(t){var e=Mv(t),r=t.graph().ranksep,i=0;Ie(e,function(n){var a=uh(dt(n,function(s){return t.node(s).height}));Ie(n,function(s){t.node(s).y=i+a/2}),i+=a+r})}function Ov(t,e){var r=e&&e.debugTiming?zJ:GJ;r("layout",()=>{var i=r("  buildLayoutGraph",()=>ete(t));r("  runLayout",()=>Qee(i,r)),r("  updateInputGraph",()=>Jee(t,i))})}function Qee(t,e){e("    makeSpaceForEdgeLabels",()=>tte(t)),e("    removeSelfEdges",()=>hte(t)),e("    acyclic",()=>ZJ(t)),e("    nestingGraph.run",()=>gee(t)),e("    rank",()=>dee(Q_(t))),e("    injectEdgeLabelProxies",()=>rte(t)),e("    removeEmptyRanks",()=>PJ(t)),e("    nestingGraph.cleanup",()=>yee(t)),e("    normalizeRanks",()=>BJ(t)),e("    assignRankMinMax",()=>ite(t)),e("    removeEdgeLabelProxies",()=>nte(t)),e("    normalize.run",()=>eee(t)),e("    parentDummyChains",()=>Mee(t)),e("    addBorderSegments",()=>qJ(t)),e("    order",()=>Ree(t)),e("    insertSelfEdges",()=>ute(t)),e("    adjustCoordinateSystem",()=>UJ(t)),e("    position",()=>Kee(t)),e("    positionSelfEdges",()=>dte(t)),e("    removeBorderNodes",()=>cte(t)),e("    normalize.undo",()=>ree(t)),e("    fixupEdgeLabelCoords",()=>ote(t)),e("    undoCoordinateSystem",()=>jJ(t)),e("    translateGraph",()=>ate(t)),e("    assignNodeIntersects",()=>ste(t)),e("    reversePoints",()=>lte(t)),e("    acyclic.undo",()=>JJ(t))}function Jee(t,e){Ie(t.nodes(),function(r){var i=t.node(r),n=e.node(r);i&&(i.x=n.x,i.y=n.y,e.children(r).length&&(i.width=n.width,i.height=n.height))}),Ie(t.edges(),function(r){var i=t.edge(r),n=e.edge(r);i.points=n.points,Object.prototype.hasOwnProperty.call(n,"x")&&(i.x=n.x,i.y=n.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}function ete(t){var e=new yn({multigraph:!0,compound:!0}),r=t6(t.graph());return e.setGraph(kp({},rCe,e6(r,tCe),Av(r,iCe))),Ie(t.nodes(),function(i){var n=t6(t.node(i));e.setNode(i,Wp(e6(n,nCe),aCe)),e.setParent(i,t.parent(i))}),Ie(t.edges(),function(i){var n=t6(t.edge(i));e.setEdge(i,kp({},oCe,e6(n,sCe),Av(n,lCe)))}),e}function tte(t){var e=t.graph();e.ranksep/=2,Ie(t.edges(),function(r){var i=t.edge(r);i.minlen*=2,i.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function rte(t){Ie(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var i=t.node(e.v),n=t.node(e.w),a={rank:(n.rank-i.rank)/2+i.rank,e};Hu(t,"edge-proxy",a,"_ep")}})}function ite(t){var e=0;Ie(t.nodes(),function(r){var i=t.node(r);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=uh(e,i.maxRank))}),t.graph().maxRank=e}function nte(t){Ie(t.nodes(),function(e){var r=t.node(e);r.dummy==="edge-proxy"&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))})}function ate(t){var e=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,n=0,a=t.graph(),s=a.marginx||0,o=a.marginy||0;function h(u){var d=u.x,p=u.y,g=u.width,f=u.height;e=Math.min(e,d-g/2),r=Math.max(r,d+g/2),i=Math.min(i,p-f/2),n=Math.max(n,p+f/2)}l(h,"getExtremes"),Ie(t.nodes(),function(u){h(t.node(u))}),Ie(t.edges(),function(u){var d=t.edge(u);Object.prototype.hasOwnProperty.call(d,"x")&&h(d)}),e-=s,i-=o,Ie(t.nodes(),function(u){var d=t.node(u);d.x-=e,d.y-=i}),Ie(t.edges(),function(u){var d=t.edge(u);Ie(d.points,function(p){p.x-=e,p.y-=i}),Object.prototype.hasOwnProperty.call(d,"x")&&(d.x-=e),Object.prototype.hasOwnProperty.call(d,"y")&&(d.y-=i)}),a.width=r-e+s,a.height=n-i+o}function ste(t){Ie(t.edges(),function(e){var r=t.edge(e),i=t.node(e.v),n=t.node(e.w),a,s;r.points?(a=r.points[0],s=r.points[r.points.length-1]):(r.points=[],a=n,s=i),r.points.unshift(q_(i,a)),r.points.push(q_(n,s))})}function ote(t){Ie(t.edges(),function(e){var r=t.edge(e);if(Object.prototype.hasOwnProperty.call(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function lte(t){Ie(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse()})}function cte(t){Ie(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),i=t.node(r.borderTop),n=t.node(r.borderBottom),a=t.node(Cs(r.borderLeft)),s=t.node(Cs(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(n.y-i.y),r.x=a.x+r.width/2,r.y=i.y+r.height/2}}),Ie(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function hte(t){Ie(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function ute(t){var e=Mv(t);Ie(e,function(r){var i=0;Ie(r,function(n,a){var s=t.node(n);s.order=a+i,Ie(s.selfEdges,function(o){Hu(t,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++i,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function dte(t){Ie(t.nodes(),function(e){var r=t.node(e);if(r.dummy==="selfedge"){var i=t.node(r.e.v),n=i.x+i.width/2,a=i.y,s=r.x-n,o=i.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:n+2*s/3,y:a-o},{x:n+5*s/6,y:a-o},{x:n+s,y:a},{x:n+5*s/6,y:a+o},{x:n+2*s/3,y:a+o}],r.label.x=r.x,r.label.y=r.y}})}function e6(t,e){return Sv(Av(t,e),Number)}function t6(t){var e={};return Ie(t,function(r,i){e[i.toLowerCase()]=r}),e}var Zp,QEe,JEe,FWe,zWe,eCe,tCe,rCe,iCe,nCe,aCe,sCe,oCe,lCe,dA=wt(()=>{Rv();zi();br();kt();l(Hu,"addDummyNode");l($J,"simplify");l(Q_,"asNonCompoundGraph");l(q_,"intersectRect");l(Mv,"buildLayerMatrix");l(BJ,"normalizeRanks");l(PJ,"removeEmptyRanks");l(U_,"addBorderNode");l(J_,"maxRank");l(FJ,"partition");l(zJ,"time");l(GJ,"notime");l(qJ,"addBorderSegments");l(j_,"addBorderNode");l(UJ,"adjust");l(jJ,"undo");l(eA,"swapWidthHeight");l(W_,"swapWidthHeightOne");l(WJ,"reverseY");l(Z5,"reverseYOne");l(VJ,"swapXY");l(Q5,"swapXYOne");QEe=(Zp=class{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,r=e._prev;if(r!==e)return V_(r),r}enqueue(e){var r=this._sentinel;e._prev&&e._next&&V_(e),e._next=r._next,r._next._prev=e,r._next=e,e._prev=r}toString(){for(var e=[],r=this._sentinel,i=r._prev;i!==r;)e.push(JSON.stringify(i,YJ)),i=i._prev;return"["+e.join(", ")+"]"}},l(Zp,"List"),Zp);l(V_,"unlink");l(YJ,"filterOutLinks");JEe=Wo(1);l(HJ,"greedyFAS");l(XJ,"doGreedyFAS");l(J5,"removeNode");l(KJ,"buildState");l(r6,"assignBucket");l(ZJ,"run");l(QJ,"dfsFAS");l(JJ,"undo");l(eee,"run");l(tee,"normalizeEdge");l(ree,"undo");l(i6,"longestPath");l(Qp,"slack");l(tA,"feasibleTree");l(iee,"tightTree");l(nee,"findMinSlackEdge");l(aee,"shiftRanks");FWe=Wo(1),zWe=Wo(1);see.CycleException=Dv;l(see,"topsort");l(Dv,"CycleException");Dv.prototype=new Error;l(rA,"dfs");l(iA,"doDfs");l(oee,"postorder");l(lee,"preorder");ph.initLowLimValues=a6;ph.initCutValues=n6;ph.calcCutValue=nA;ph.leaveEdge=sA;ph.enterEdge=oA;ph.exchangeEdges=lA;l(ph,"networkSimplex");l(n6,"initCutValues");l(cee,"assignCutValue");l(nA,"calcCutValue");l(a6,"initLowLimValues");l(aA,"dfsAssignLowLim");l(sA,"leaveEdge");l(oA,"enterEdge");l(lA,"exchangeEdges");l(hee,"updateRanks");l(uee,"isTreeEdge");l(Y_,"isDescendant");l(dee,"rank");eCe=i6;l(pee,"tightTreeRanker");l(H_,"networkSimplexRanker");l(gee,"run");l(cA,"dfs");l(fee,"treeDepths");l(mee,"sumWeights");l(yee,"cleanup");l(vee,"addSubgraphConstraints");l(bee,"buildLayerGraph");l(xee,"createRootNode");l(wee,"crossCount");l(kee,"twoLayerCrossCount");l(Tee,"initOrder");l(Eee,"barycenter");l(Cee,"resolveConflicts");l(See,"doResolveConflicts");l(_ee,"mergeEntries");l(Aee,"sort");l(X_,"consumeUnsortable");l(Lee,"compareWithBias");l(hA,"sortSubgraph");l(Nee,"expandSubgraphs");l(Iee,"mergeBarycenters");l(Ree,"order");l(K_,"buildLayerGraphs");l(Dee,"sweepLayerGraphs");l(Z_,"assignOrder");l(Mee,"parentDummyChains");l(Oee,"findPath");l($ee,"postorder");l(Bee,"findType1Conflicts");l(Pee,"findType2Conflicts");l(Fee,"findOtherInnerSegmentNode");l(uA,"addConflict");l(zee,"hasConflict");l(Gee,"verticalAlignment");l(qee,"horizontalCompaction");l(Uee,"buildBlockGraph");l(jee,"findSmallestWidthAlignment");l(Wee,"alignCoordinates");l(Vee,"balance");l(Yee,"positionX");l(Hee,"sep");l(Xee,"width");l(Kee,"position");l(Zee,"positionY");l(Ov,"layout");l(Qee,"runLayout");l(Jee,"updateInputGraph");tCe=["nodesep","edgesep","ranksep","marginx","marginy"],rCe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},iCe=["acyclicer","ranker","rankdir","align"],nCe=["width","height"],aCe={width:0,height:0},sCe=["minlen","weight","width","height","labeloffset"],oCe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},lCe=["labelpos"];l(ete,"buildLayoutGraph");l(tte,"makeSpaceForEdgeLabels");l(rte,"injectEdgeLabelProxies");l(ite,"assignRankMinMax");l(nte,"removeEdgeLabelProxies");l(ate,"translateGraph");l(ste,"assignNodeIntersects");l(ote,"fixupEdgeLabelCoords");l(lte,"reversePointsForReversedEdges");l(cte,"removeBorderNodes");l(hte,"removeSelfEdges");l(ute,"insertSelfEdges");l(dte,"positionSelfEdges");l(e6,"selectNumberAttrs");l(t6,"canonicalize")});var kte={};Tr(kte,{render:()=>gCe});function lo(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:gte(t),edges:fte(t)};return Ar(t.graph())||(e.value=Ri(t.graph())),e}function gte(t){return dt(t.nodes(),function(e){var r=t.node(e),i=t.parent(e),n={v:e};return Ar(r)||(n.value=r),Ar(i)||(n.parent=i),n})}function fte(t){return dt(t.edges(),function(e){var r=t.edge(e),i={v:e.v,w:e.w};return Ar(e.name)||(i.name=e.name),Ar(r)||(i.value=r),i})}var ur,Xu,mte,cCe,s6,hCe,yte,vte,uCe,$v,pte,dCe,bte,xte,pCe,wte,gCe,Tte=wt(()=>{dA();Rv();Es();ts();$a();ua();da();_n();Hr();ri();hr();lr();zi();Ii();br();kt();l(lo,"write");l(gte,"writeNodes");l(fte,"writeEdges");ur=new Map,Xu=new Map,mte=new Map,cCe=l(()=>{Xu.clear(),mte.clear(),ur.clear()},"clear"),s6=l((t,e)=>{let r=Xu.get(e)||[];return ee.trace("In isDescendant",e," ",t," = ",r.includes(t)),r.includes(t)},"isDescendant"),hCe=l((t,e)=>{let r=Xu.get(e)||[];return ee.info("Descendants of ",e," is ",r),ee.info("Edge is ",t),t.v===e||t.w===e?!1:r?r.includes(t.v)||s6(t.v,e)||s6(t.w,e)||r.includes(t.w):(ee.debug("Tilt, ",e,",not in descendants"),!1)},"edgeInCluster"),yte=l((t,e,r,i)=>{ee.warn("Copying children of ",t,"root",i,"data",e.node(t),i);let n=e.children(t)||[];t!==i&&n.push(t),ee.warn("Copying (nodes) clusterId",t,"nodes",n),n.forEach(a=>{if(e.children(a).length>0)yte(a,e,r,i);else{let s=e.node(a);ee.info("cp ",a," to ",i," with parent ",t),r.setNode(a,s),i!==e.parent(a)&&(ee.warn("Setting parent",a,e.parent(a)),r.setParent(a,e.parent(a))),t!==i&&a!==t?(ee.debug("Setting parent",a,t),r.setParent(a,t)):(ee.info("In copy ",t,"root",i,"data",e.node(t),i),ee.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==i,"node!==clusterId",a!==t));let o=e.edges(a);ee.debug("Copying Edges",o),o.forEach(h=>{ee.info("Edge",h);let u=e.edge(h.v,h.w,h.name);ee.info("Edge data",u,i);try{hCe(h,i)?(ee.info("Copying as ",h.v,h.w,u,h.name),r.setEdge(h.v,h.w,u,h.name),ee.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):ee.info("Skipping copy of edge ",h.v,"-->",h.w," rootId: ",i," clusterId:",t)}catch(d){ee.error(d)}})}ee.debug("Removing node",a),e.removeNode(a)})},"copy"),vte=l((t,e)=>{let r=e.children(t),i=[...r];for(let n of r)mte.set(n,t),i=[...i,...vte(n,e)];return i},"extractDescendants"),uCe=l((t,e,r)=>{let i=t.edges().filter(o=>o.v===e||o.w===e),n=t.edges().filter(o=>o.v===r||o.w===r),a=i.map(o=>({v:o.v===e?r:o.v,w:o.w===e?e:o.w})),s=n.map(o=>({v:o.v,w:o.w}));return a.filter(o=>s.some(h=>o.v===h.v&&o.w===h.w))},"findCommonEdges"),$v=l((t,e,r)=>{let i=e.children(t);if(ee.trace("Searching children of id ",t,i),i.length<1)return t;let n;for(let a of i){let s=$v(a,e,r),o=uCe(e,r,s);if(s)if(o.length>0)n=s;else return s}return n},"findNonClusterChild"),pte=l(t=>!ur.has(t)||!ur.get(t).externalConnections?t:ur.has(t)?ur.get(t).id:t,"getAnchorId"),dCe=l((t,e)=>{if(!t||e>10){ee.debug("Opting out, no graph ");return}else ee.debug("Opting in, graph ");t.nodes().forEach(function(r){t.children(r).length>0&&(ee.warn("Cluster identified",r," Replacement id in edges: ",$v(r,t,r)),Xu.set(r,vte(r,t)),ur.set(r,{id:$v(r,t,r),clusterData:t.node(r)}))}),t.nodes().forEach(function(r){let i=t.children(r),n=t.edges();i.length>0?(ee.debug("Cluster identified",r,Xu),n.forEach(a=>{let s=s6(a.v,r),o=s6(a.w,r);s^o&&(ee.warn("Edge: ",a," leaves cluster ",r),ee.warn("Descendants of XXX ",r,": ",Xu.get(r)),ur.get(r).externalConnections=!0)})):ee.debug("Not a cluster ",r,Xu)});for(let r of ur.keys()){let i=ur.get(r).id,n=t.parent(i);n!==r&&ur.has(n)&&!ur.get(n).externalConnections&&(ur.get(r).id=n)}t.edges().forEach(function(r){let i=t.edge(r);ee.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),ee.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(t.edge(r)));let n=r.v,a=r.w;if(ee.warn("Fix XXX",ur,"ids:",r.v,r.w,"Translating: ",ur.get(r.v)," --- ",ur.get(r.w)),ur.get(r.v)||ur.get(r.w)){if(ee.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),n=pte(r.v),a=pte(r.w),t.removeEdge(r.v,r.w,r.name),n!==r.v){let s=t.parent(n);ur.get(s).externalConnections=!0,i.fromCluster=r.v}if(a!==r.w){let s=t.parent(a);ur.get(s).externalConnections=!0,i.toCluster=r.w}ee.warn("Fix Replacing with XXX",n,a,r.name),t.setEdge(n,a,i,r.name)}}),ee.warn("Adjusted Graph",lo(t)),bte(t,0),ee.trace(ur)},"adjustClustersAndEdges"),bte=l((t,e)=>{var n,a;if(ee.warn("extractor - ",e,lo(t),t.children("D")),e>10){ee.error("Bailing out");return}let r=t.nodes(),i=!1;for(let s of r){let o=t.children(s);i=i||o.length>0}if(!i){ee.debug("Done, no node has children",t.nodes());return}ee.debug("Nodes = ",r,e);for(let s of r)if(ee.debug("Extracting node",s,ur,ur.has(s)&&!ur.get(s).externalConnections,!t.parent(s),t.node(s),t.children("D")," Depth ",e),!ur.has(s))ee.debug("Not a cluster",s,e);else if(!ur.get(s).externalConnections&&t.children(s)&&t.children(s).length>0){ee.warn("Cluster without external connections, without a parent and with children",s,e);let o=t.graph().rankdir==="TB"?"LR":"TB";(a=(n=ur.get(s))==null?void 0:n.clusterData)!=null&&a.dir&&(o=ur.get(s).clusterData.dir,ee.warn("Fixing dir",ur.get(s).clusterData.dir,o));let h=new yn({multigraph:!0,compound:!0}).setGraph({rankdir:o,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});ee.warn("Old graph before copy",lo(t)),yte(s,t,h,s),t.setNode(s,{clusterNode:!0,id:s,clusterData:ur.get(s).clusterData,label:ur.get(s).label,graph:h}),ee.warn("New graph after copy node: (",s,")",lo(h)),ee.debug("Old graph after copy",lo(t))}else ee.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!ur.get(s).externalConnections," no parent: ",!t.parent(s)," children ",t.children(s)&&t.children(s).length>0,t.children("D"),e),ee.debug(ur);r=t.nodes(),ee.warn("New list of nodes",r);for(let s of r){let o=t.node(s);ee.warn(" Now next level",s,o),o!=null&&o.clusterNode&&bte(o.graph,e+1)}},"extractor"),xte=l((t,e)=>{if(e.length===0)return[];let r=Object.assign([],e);return e.forEach(i=>{let n=t.children(i),a=xte(t,n);r=[...r,...a]}),r},"sorter"),pCe=l(t=>xte(t,t.children()),"sortNodesByHierarchy"),wte=l(async(t,e,r,i,n,a)=>{ee.warn("Graph in recursive render:XAX",lo(e),n);let s=e.graph().rankdir;ee.trace("Dir in recursive render - dir:",s);let o=t.insert("g").attr("class","root");e.nodes()?ee.info("Recursive render XXX",e.nodes()):ee.info("No nodes found for",e),e.edges().length>0&&ee.info("Recursive edges",e.edge(e.edges()[0]));let h=o.insert("g").attr("class","clusters"),u=o.insert("g").attr("class","edgePaths"),d=o.insert("g").attr("class","edgeLabels"),p=o.insert("g").attr("class","nodes");await Promise.all(e.nodes().map(async function(m){let y=e.node(m);if(n!==void 0){let b=JSON.parse(JSON.stringify(n.clusterData));ee.trace(`Setting data for parent cluster XXX
 Node.id = `,m,`
 data=`,b.height,`
Parent cluster`,n.height),e.setNode(n.id,b),e.parent(m)||(ee.trace("Setting parent",m,n.id),e.setParent(m,n.id,b))}if(ee.info("(Insert) Node XXX"+m+": "+JSON.stringify(e.node(m))),y==null?void 0:y.clusterNode){ee.info("Cluster identified XBX",m,y.width,e.node(m));let{ranksep:b,nodesep:v}=e.graph();y.graph.setGraph({...y.graph.graph(),ranksep:b+25,nodesep:v});let x=await wte(p,y.graph,r,i,e.node(m),a),w=x.elem;Rt(y,w),y.diff=x.diff||0,ee.info("New compound node after recursive render XAX",m,"width",y.width,"height",y.height),zX(w,y)}else e.children(m).length>0?(ee.trace("Cluster - the non recursive path XBX",m,y.id,y,y.width,"Graph:",e),ee.trace($v(y.id,e)),ur.set(y.id,{id:$v(y.id,e),node:y})):(ee.trace("Node - the non recursive path XAX",m,p,e.node(m),s),await Gu(p,e.node(m),{config:a,dir:s}))})),await l(async()=>{let m=e.edges().map(async function(y){let b=e.edge(y.v,y.w,y.name);ee.info("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(y)),ee.info("Edge "+y.v+" -> "+y.w+": ",y," ",JSON.stringify(e.edge(y))),ee.info("Fix",ur,"ids:",y.v,y.w,"Translating: ",ur.get(y.v),ur.get(y.w)),await P5(d,b)});await Promise.all(m)},"processEdges")(),ee.info("Graph before layout:",JSON.stringify(lo(e))),ee.info("############################################# XXX"),ee.info("###                Layout                 ### XXX"),ee.info("############################################# XXX"),Ov(e),ee.info("Graph after layout:",JSON.stringify(lo(e)));let g=0,{subGraphTitleTotalMargin:f}=$l(a);return await Promise.all(pCe(e).map(async function(m){var b;let y=e.node(m);if(ee.info("Position XBX => "+m+": ("+y.x,","+y.y,") width: ",y.width," height: ",y.height),y==null?void 0:y.clusterNode)y.y+=f,ee.info("A tainted cluster node XBX1",m,y.id,y.width,y.height,y.x,y.y,e.parent(m)),ur.get(y.id).node=y,wv(y);else if(e.children(m).length>0){ee.info("A pure cluster node XBX1",m,y.id,y.x,y.y,y.width,y.height,e.parent(m)),y.height+=f,e.node(y.parentId);let v=(y==null?void 0:y.padding)/2||0,x=((b=y==null?void 0:y.labelBBox)==null?void 0:b.height)||0,w=x-v||0;ee.debug("OffsetY",w,"labelHeight",x,"halfPadding",v),await jp(h,y),ur.get(y.id).node=y}else{let v=e.node(y.parentId);y.y+=f/2,ee.info("A regular node XBX1 - using the padding",y.id,"parent",y.parentId,y.width,y.height,y.x,y.y,"offsetY",y.offsetY,"parent",v,v==null?void 0:v.offsetY,y),wv(y)}})),e.edges().forEach(function(m){let y=e.edge(m);ee.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(y),y),y.points.forEach(w=>w.y+=f/2);let b=e.node(m.v);var v=e.node(m.w);let x=z5(u,y,ur,r,b,v,i);F5(y,x)}),e.nodes().forEach(function(m){let y=e.node(m);ee.info(m,y.type,y.diff),y.isGroup&&(g=y.diff)}),ee.warn("Returning from recursive render XAX",o,g),{elem:o,diff:g}},"recursiveRender"),gCe=l(async(t,e)=>{var a,s,o,h,u,d;let r=new yn({multigraph:!0,compound:!0}).setGraph({rankdir:t.direction,nodesep:((a=t.config)==null?void 0:a.nodeSpacing)||((o=(s=t.config)==null?void 0:s.flowchart)==null?void 0:o.nodeSpacing)||t.nodeSpacing,ranksep:((h=t.config)==null?void 0:h.rankSpacing)||((d=(u=t.config)==null?void 0:u.flowchart)==null?void 0:d.rankSpacing)||t.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),i=e.select("g");G5(i,t.markers,t.type,t.diagramId),GX(),WX(),kH(),cCe(),t.nodes.forEach(p=>{r.setNode(p.id,{...p}),p.parentId&&r.setParent(p.id,p.parentId)}),ee.debug("Edges:",t.edges),t.edges.forEach(p=>{if(p.start===p.end){let g=p.start,f=g+"---"+g+"---1",m=g+"---"+g+"---2",y=r.node(g);r.setNode(f,{domId:f,id:f,parentId:y.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(f,y.parentId),r.setNode(m,{domId:m,id:m,parentId:y.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(m,y.parentId);let b=structuredClone(p),v=structuredClone(p),x=structuredClone(p);b.label="",b.arrowTypeEnd="none",b.id=g+"-cyclic-special-1",v.arrowTypeStart="none",v.arrowTypeEnd="none",v.id=g+"-cyclic-special-mid",x.label="",y.isGroup&&(b.fromCluster=g,x.toCluster=g),x.id=g+"-cyclic-special-2",x.arrowTypeStart="none",r.setEdge(g,f,b,g+"-cyclic-special-0"),r.setEdge(f,m,v,g+"-cyclic-special-1"),r.setEdge(m,g,x,g+"-cyc<lic-special-2")}else r.setEdge(p.start,p.end,{...p},p.id)}),ee.warn("Graph at first:",JSON.stringify(lo(r))),dCe(r),ee.warn("Graph after XAX:",JSON.stringify(lo(r)));let n=ve();await wte(i,r,t.type,t.diagramId,void 0,n)},"render")});function D6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function zie(t){if(Array.isArray(t))return t}function Gie(t){if(Array.isArray(t))return D6(t)}function Hl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qie(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,mL(i.key),i)}}function Xl(t,e,r){return e&&qie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fa(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=H6(t))||e){r&&(t=r);var i=0,n=l(function(){},"F");return{s:n,n:l(function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},"n"),e:l(function(h){throw h},"e"),f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:l(function(){r=r.call(t)},"s"),n:l(function(){var h=r.next();return s=h.done,h},"n"),e:l(function(h){o=!0,a=h},"e"),f:l(function(){try{s||r.return==null||r.return()}finally{if(o)throw a}},"f")}}function fL(t,e,r){return(e=mL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i,n,a,s,o=[],h=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(i=a.call(r)).done)&&(o.push(i.value),o.length!==e);h=!0);}catch(d){u=!0,n=d}finally{try{if(!h&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw n}}return o}}function Wie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gi(t,e){return zie(t)||jie(t,e)||H6(t,e)||Wie()}function Kv(t){return Gie(t)||Uie(t)||H6(t)||Vie()}function Yie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mL(t){var e=Yie(t,"string");return typeof e=="symbol"?e:e+""}function Qi(t){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qi(t)}function H6(t,e){if(t){if(typeof t=="string")return D6(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D6(t,e):void 0}}function mg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yg(){if(Ste)return pA;Ste=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return l(t,"isObject"),pA=t,pA}function rne(){if(_te)return gA;_te=1;var t=typeof o6=="object"&&o6&&o6.Object===Object&&o6;return gA=t,gA}function cb(){if(Ate)return fA;Ate=1;var t=rne(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return fA=r,fA}function ine(){if(Lte)return mA;Lte=1;var t=cb(),e=l(function(){return t.Date.now()},"now");return mA=e,mA}function nne(){if(Nte)return yA;Nte=1;var t=/\s/;function e(r){for(var i=r.length;i--&&t.test(r.charAt(i)););return i}return l(e,"trimmedEndIndex"),yA=e,yA}function ane(){if(Ite)return vA;Ite=1;var t=nne(),e=/^\s+/;function r(i){return i&&i.slice(0,t(i)+1).replace(e,"")}return l(r,"baseTrim"),vA=r,vA}function K6(){if(Rte)return bA;Rte=1;var t=cb(),e=t.Symbol;return bA=e,bA}function sne(){if(Dte)return xA;Dte=1;var t=K6(),e=Object.prototype,r=e.hasOwnProperty,i=e.toString,n=t?t.toStringTag:void 0;function a(s){var o=r.call(s,n),h=s[n];try{s[n]=void 0;var u=!0}catch{}var d=i.call(s);return u&&(o?s[n]=h:delete s[n]),d}return l(a,"getRawTag"),xA=a,xA}function one(){if(Mte)return wA;Mte=1;var t=Object.prototype,e=t.toString;function r(i){return e.call(i)}return l(r,"objectToString"),wA=r,wA}function bL(){if(Ote)return kA;Ote=1;var t=K6(),e=sne(),r=one(),i="[object Null]",n="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?n:i:a&&a in Object(o)?e(o):r(o)}return l(s,"baseGetTag"),kA=s,kA}function lne(){if($te)return TA;$te=1;function t(e){return e!=null&&typeof e=="object"}return l(t,"isObjectLike"),TA=t,TA}function vg(){if(Bte)return EA;Bte=1;var t=bL(),e=lne(),r="[object Symbol]";function i(n){return typeof n=="symbol"||e(n)&&t(n)==r}return l(i,"isSymbol"),EA=i,EA}function cne(){if(Pte)return CA;Pte=1;var t=ane(),e=yg(),r=vg(),i=NaN,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function h(u){if(typeof u=="number")return u;if(r(u))return i;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var p=a.test(u);return p||s.test(u)?o(u.slice(2),p?2:8):n.test(u)?i:+u}return l(h,"toNumber"),CA=h,CA}function hne(){if(Fte)return SA;Fte=1;var t=yg(),e=ine(),r=cne(),i="Expected a function",n=Math.max,a=Math.min;function s(o,h,u){var d,p,g,f,m,y,b=0,v=!1,x=!1,w=!0;if(typeof o!="function")throw new TypeError(i);h=r(h)||0,t(u)&&(v=!!u.leading,x="maxWait"in u,g=x?n(r(u.maxWait)||0,h):g,w="trailing"in u?!!u.trailing:w);function k($){var _=d,D=p;return d=p=void 0,b=$,f=o.apply(D,_),f}l(k,"invokeFunc");function T($){return b=$,m=setTimeout(E,h),v?k($):f}l(T,"leadingEdge");function S($){var _=$-y,D=$-b,R=h-_;return x?a(R,g-D):R}l(S,"remainingWait");function C($){var _=$-y,D=$-b;return y===void 0||_>=h||_<0||x&&D>=g}l(C,"shouldInvoke");function E(){var $=e();if(C($))return L($);m=setTimeout(E,S($))}l(E,"timerExpired");function L($){return m=void 0,w&&d?k($):(d=p=void 0,f)}l(L,"trailingEdge");function I(){m!==void 0&&clearTimeout(m),b=0,d=y=p=m=void 0}l(I,"cancel");function M(){return m===void 0?f:L(e())}l(M,"flush");function N(){var $=e(),_=C($);if(d=arguments,p=this,y=$,_){if(m===void 0)return T(y);if(x)return clearTimeout(m),m=setTimeout(E,h),k(y)}return m===void 0&&(m=setTimeout(E,h)),f}return l(N,"debounced"),N.cancel=I,N.flush=M,N}return l(s,"debounce"),SA=s,SA}function fne(t,e,r,i,n){var a=n*Math.PI/180,s=Math.cos(a)*(t-r)-Math.sin(a)*(e-i)+r,o=Math.sin(a)*(t-r)+Math.cos(a)*(e-i)+i;return{x:s,y:o}}function mne(t,e,r){if(r===0)return t;var i=(e.x1+e.x2)/2,n=(e.y1+e.y2)/2,a=e.w/e.h,s=1/a,o=fne(t.x,t.y,i,n,r),h=GCe(o.x,o.y,i,n,a,s);return{x:h.x,y:h.y}}function wne(){return jte||(jte=1,(function(t,e){(function(){var r,i,n,a,s,o,h,u,d,p,g,f,m,y,b;n=Math.floor,p=Math.min,i=l(function(v,x){return v<x?-1:v>x?1:0},"defaultCmp"),d=l(function(v,x,w,k,T){var S;if(w==null&&(w=0),T==null&&(T=i),w<0)throw new Error("lo must be non-negative");for(k==null&&(k=v.length);w<k;)S=n((w+k)/2),T(x,v[S])<0?k=S:w=S+1;return[].splice.apply(v,[w,w-w].concat(x)),x},"insort"),o=l(function(v,x,w){return w==null&&(w=i),v.push(x),y(v,0,v.length-1,w)},"heappush"),s=l(function(v,x){var w,k;return x==null&&(x=i),w=v.pop(),v.length?(k=v[0],v[0]=w,b(v,0,x)):k=w,k},"heappop"),u=l(function(v,x,w){var k;return w==null&&(w=i),k=v[0],v[0]=x,b(v,0,w),k},"heapreplace"),h=l(function(v,x,w){var k;return w==null&&(w=i),v.length&&w(v[0],x)<0&&(k=[v[0],x],x=k[0],v[0]=k[1],b(v,0,w)),x},"heappushpop"),a=l(function(v,x){var w,k,T,S,C,E;for(x==null&&(x=i),S=(function(){E=[];for(var L=0,I=n(v.length/2);0<=I?L<I:L>I;0<=I?L++:L--)E.push(L);return E}).apply(this).reverse(),C=[],k=0,T=S.length;k<T;k++)w=S[k],C.push(b(v,w,x));return C},"heapify"),m=l(function(v,x,w){var k;if(w==null&&(w=i),k=v.indexOf(x),k!==-1)return y(v,0,k,w),b(v,k,w)},"updateItem"),g=l(function(v,x,w){var k,T,S,C,E;if(w==null&&(w=i),T=v.slice(0,x),!T.length)return T;for(a(T,w),E=v.slice(x),S=0,C=E.length;S<C;S++)k=E[S],h(T,k,w);return T.sort(w).reverse()},"nlargest"),f=l(function(v,x,w){var k,T,S,C,E,L,I,M,N;if(w==null&&(w=i),x*10<=v.length){if(S=v.slice(0,x).sort(w),!S.length)return S;for(T=S[S.length-1],I=v.slice(x),C=0,L=I.length;C<L;C++)k=I[C],w(k,T)<0&&(d(S,k,0,null,w),S.pop(),T=S[S.length-1]);return S}for(a(v,w),N=[],E=0,M=p(x,v.length);0<=M?E<M:E>M;0<=M?++E:--E)N.push(s(v,w));return N},"nsmallest"),y=l(function(v,x,w,k){var T,S,C;for(k==null&&(k=i),T=v[w];w>x;){if(C=w-1>>1,S=v[C],k(T,S)<0){v[w]=S,w=C;continue}break}return v[w]=T},"_siftdown"),b=l(function(v,x,w){var k,T,S,C,E;for(w==null&&(w=i),T=v.length,E=x,S=v[x],k=2*x+1;k<T;)C=k+1,C<T&&!(w(v[k],v[C])<0)&&(k=C),v[x]=v[k],x=k,k=2*x+1;return v[x]=S,y(v,E,x,w)},"_siftup"),r=(function(){v.push=o,v.pop=s,v.replace=u,v.pushpop=h,v.heapify=a,v.updateItem=m,v.nlargest=g,v.nsmallest=f;function v(x){this.cmp=x??i,this.nodes=[]}return l(v,"Heap"),v.prototype.push=function(x){return o(this.nodes,x,this.cmp)},v.prototype.pop=function(){return s(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(x){return this.nodes.indexOf(x)!==-1},v.prototype.replace=function(x){return u(this.nodes,x,this.cmp)},v.prototype.pushpop=function(x){return h(this.nodes,x,this.cmp)},v.prototype.heapify=function(){return a(this.nodes,this.cmp)},v.prototype.updateItem=function(x){return m(this.nodes,x,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var x;return x=new v,x.nodes=this.nodes.slice(0),x},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v})(),(function(v,x){return t.exports=x()})(this,function(){return r})}).call(ZCe)})(B9)),B9.exports}function kne(){return Vte||(Vte=1,Wte=wne()),Wte}function Sne(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var r=l(function(C,E){return{x:C.x+E.x,y:C.y+E.y}},"add"),i=l(function(C,E){return{x:C.x-E.x,y:C.y-E.y}},"sub"),n=l(function(C,E){return{x:C.x*E,y:C.y*E}},"scale"),a=l(function(C,E){return C.x*E.y-C.y*E.x},"cross"),s=l(function(C){var E=kSe(C.x,C.y);return E===0?{x:0,y:0}:{x:C.x/E,y:C.y/E}},"normalize"),o=l(function(C){for(var E=0,L=0;L<C.length;L++){var I=C[L],M=C[(L+1)%C.length];E+=I.x*M.y-M.x*I.y}return E/2},"signedArea"),h=l(function(C,E,L,I){var M=i(E,C),N=i(I,L),$=a(M,N);if(Math.abs($)<1e-9)return r(C,n(M,.5));var _=a(i(L,C),N)/$;return r(C,n(M,_))},"intersectLines"),u=t.map(function(C){return{x:C.x,y:C.y}});o(u)<0&&u.reverse();for(var d=u.length,p=[],g=0;g<d;g++){var f=u[g],m=u[(g+1)%d],y=i(m,f),b=s({x:y.y,y:-y.x});p.push(b)}for(var v=p.map(function(C,E){var L=r(u[E],n(C,e)),I=r(u[(E+1)%d],n(C,e));return{p1:L,p2:I}}),x=[],w=0;w<d;w++){var k=v[(w-1+d)%d],T=v[w],S=h(k.p1,k.p2,T.p1,T.p2);x.push(S)}return x}function _ne(t,e,r,i,n,a){var s=ISe(t,e,r,i,n),o=Sne(s,a),h=ma();return o.forEach(function(u){return Ene(h,u.x,u.y)}),h}function w6(t,e){function r(p){for(var g=[],f=0;f<p.length;f++){var m=p[f],y=p[(f+1)%p.length],b={x:y.x-m.x,y:y.y-m.y},v={x:-b.y,y:b.x},x=Math.sqrt(v.x*v.x+v.y*v.y);g.push({x:v.x/x,y:v.y/x})}return g}l(r,"getAxes");function i(p,g){var f=1/0,m=-1/0,y=fa(p),b;try{for(y.s();!(b=y.n()).done;){var v=b.value,x=v.x*g.x+v.y*g.y;f=Math.min(f,x),m=Math.max(m,x)}}catch(w){y.e(w)}finally{y.f()}return{min:f,max:m}}l(i,"project");function n(p,g){return!(p.max<g.min||g.max<p.min)}l(n,"overlaps");var a=[].concat(Kv(r(t)),Kv(r(e))),s=fa(a),o;try{for(s.s();!(o=s.n()).done;){var h=o.value,u=i(t,h),d=i(e,h);if(!n(u,d))return!1}}catch(p){s.e(p)}finally{s.f()}return!0}function db(t,e,r,i,n,a){var s;return Ci(t)?s=t:s=gg[t]||gg.euclidean,e===0&&Ci(t)?s(n,a):s(e,r,i,n,a)}function pb(){if(hre)return RA;hre=1;var t=Array.isArray;return RA=t,RA}function Gne(){if(ure)return DA;ure=1;var t=pb(),e=vg(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function n(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:i.test(a)||!r.test(a)||s!=null&&a in Object(s)}return l(n,"isKey"),DA=n,DA}function qne(){if(dre)return MA;dre=1;var t=bL(),e=yg(),r="[object AsyncFunction]",i="[object Function]",n="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var h=t(o);return h==i||h==n||h==r||h==a}return l(s,"isFunction"),MA=s,MA}function Une(){if(pre)return OA;pre=1;var t=cb(),e=t["__core-js_shared__"];return OA=e,OA}function jne(){if(gre)return $A;gre=1;var t=Une(),e=(function(){var i=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function r(i){return!!e&&e in i}return l(r,"isMasked"),$A=r,$A}function Wne(){if(fre)return BA;fre=1;var t=Function.prototype,e=t.toString;function r(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return l(r,"toSource"),BA=r,BA}function Vne(){if(mre)return PA;mre=1;var t=qne(),e=jne(),r=yg(),i=Wne(),n=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,h=s.toString,u=o.hasOwnProperty,d=RegExp("^"+h.call(u).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var f=t(g)?d:a;return f.test(i(g))}return l(p,"baseIsNative"),PA=p,PA}function Yne(){if(yre)return FA;yre=1;function t(e,r){return e==null?void 0:e[r]}return l(t,"getValue"),FA=t,FA}function J6(){if(vre)return zA;vre=1;var t=Vne(),e=Yne();function r(i,n){var a=e(i,n);return t(a)?a:void 0}return l(r,"getNative"),zA=r,zA}function gb(){if(bre)return GA;bre=1;var t=J6(),e=t(Object,"create");return GA=e,GA}function Hne(){if(xre)return qA;xre=1;var t=gb();function e(){this.__data__=t?t(null):{},this.size=0}return l(e,"hashClear"),qA=e,qA}function Xne(){if(wre)return UA;wre=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return l(t,"hashDelete"),UA=t,UA}function Kne(){if(kre)return jA;kre=1;var t=gb(),e="__lodash_hash_undefined__",r=Object.prototype,i=r.hasOwnProperty;function n(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return i.call(s,a)?s[a]:void 0}return l(n,"hashGet"),jA=n,jA}function Zne(){if(Tre)return WA;Tre=1;var t=gb(),e=Object.prototype,r=e.hasOwnProperty;function i(n){var a=this.__data__;return t?a[n]!==void 0:r.call(a,n)}return l(i,"hashHas"),WA=i,WA}function Qne(){if(Ere)return VA;Ere=1;var t=gb(),e="__lodash_hash_undefined__";function r(i,n){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=t&&n===void 0?e:n,this}return l(r,"hashSet"),VA=r,VA}function Jne(){if(Cre)return YA;Cre=1;var t=Hne(),e=Xne(),r=Kne(),i=Zne(),n=Qne();function a(s){var o=-1,h=s==null?0:s.length;for(this.clear();++o<h;){var u=s[o];this.set(u[0],u[1])}}return l(a,"Hash"),a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=i,a.prototype.set=n,YA=a,YA}function eae(){if(Sre)return HA;Sre=1;function t(){this.__data__=[],this.size=0}return l(t,"listCacheClear"),HA=t,HA}function AL(){if(_re)return XA;_re=1;function t(e,r){return e===r||e!==e&&r!==r}return l(t,"eq"),XA=t,XA}function fb(){if(Are)return KA;Are=1;var t=AL();function e(r,i){for(var n=r.length;n--;)if(t(r[n][0],i))return n;return-1}return l(e,"assocIndexOf"),KA=e,KA}function tae(){if(Lre)return ZA;Lre=1;var t=fb(),e=Array.prototype,r=e.splice;function i(n){var a=this.__data__,s=t(a,n);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return l(i,"listCacheDelete"),ZA=i,ZA}function rae(){if(Nre)return QA;Nre=1;var t=fb();function e(r){var i=this.__data__,n=t(i,r);return n<0?void 0:i[n][1]}return l(e,"listCacheGet"),QA=e,QA}function iae(){if(Ire)return JA;Ire=1;var t=fb();function e(r){return t(this.__data__,r)>-1}return l(e,"listCacheHas"),JA=e,JA}function nae(){if(Rre)return e9;Rre=1;var t=fb();function e(r,i){var n=this.__data__,a=t(n,r);return a<0?(++this.size,n.push([r,i])):n[a][1]=i,this}return l(e,"listCacheSet"),e9=e,e9}function aae(){if(Dre)return t9;Dre=1;var t=eae(),e=tae(),r=rae(),i=iae(),n=nae();function a(s){var o=-1,h=s==null?0:s.length;for(this.clear();++o<h;){var u=s[o];this.set(u[0],u[1])}}return l(a,"ListCache"),a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=i,a.prototype.set=n,t9=a,t9}function sae(){if(Mre)return r9;Mre=1;var t=J6(),e=cb(),r=t(e,"Map");return r9=r,r9}function oae(){if(Ore)return i9;Ore=1;var t=Jne(),e=aae(),r=sae();function i(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return l(i,"mapCacheClear"),i9=i,i9}function lae(){if($re)return n9;$re=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return l(t,"isKeyable"),n9=t,n9}function mb(){if(Bre)return a9;Bre=1;var t=lae();function e(r,i){var n=r.__data__;return t(i)?n[typeof i=="string"?"string":"hash"]:n.map}return l(e,"getMapData"),a9=e,a9}function cae(){if(Pre)return s9;Pre=1;var t=mb();function e(r){var i=t(this,r).delete(r);return this.size-=i?1:0,i}return l(e,"mapCacheDelete"),s9=e,s9}function hae(){if(Fre)return o9;Fre=1;var t=mb();function e(r){return t(this,r).get(r)}return l(e,"mapCacheGet"),o9=e,o9}function uae(){if(zre)return l9;zre=1;var t=mb();function e(r){return t(this,r).has(r)}return l(e,"mapCacheHas"),l9=e,l9}function dae(){if(Gre)return c9;Gre=1;var t=mb();function e(r,i){var n=t(this,r),a=n.size;return n.set(r,i),this.size+=n.size==a?0:1,this}return l(e,"mapCacheSet"),c9=e,c9}function pae(){if(qre)return h9;qre=1;var t=oae(),e=cae(),r=hae(),i=uae(),n=dae();function a(s){var o=-1,h=s==null?0:s.length;for(this.clear();++o<h;){var u=s[o];this.set(u[0],u[1])}}return l(a,"MapCache"),a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=i,a.prototype.set=n,h9=a,h9}function gae(){if(Ure)return u9;Ure=1;var t=pae(),e="Expected a function";function r(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new TypeError(e);var a=l(function(){var s=arguments,o=n?n.apply(this,s):s[0],h=a.cache;if(h.has(o))return h.get(o);var u=i.apply(this,s);return a.cache=h.set(o,u)||h,u},"memoized");return a.cache=new(r.Cache||t),a}return l(r,"memoize"),r.Cache=t,u9=r,u9}function fae(){if(jre)return d9;jre=1;var t=gae(),e=500;function r(i){var n=t(i,function(s){return a.size===e&&a.clear(),s}),a=n.cache;return n}return l(r,"memoizeCapped"),d9=r,d9}function LL(){if(Wre)return p9;Wre=1;var t=fae(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,i=t(function(n){var a=[];return n.charCodeAt(0)===46&&a.push(""),n.replace(e,function(s,o,h,u){a.push(h?u.replace(r,"$1"):o||s)}),a});return p9=i,p9}function NL(){if(Vre)return g9;Vre=1;function t(e,r){for(var i=-1,n=e==null?0:e.length,a=Array(n);++i<n;)a[i]=r(e[i],i,e);return a}return l(t,"arrayMap"),g9=t,g9}function mae(){if(Yre)return f9;Yre=1;var t=K6(),e=NL(),r=pb(),i=vg(),n=t?t.prototype:void 0,a=n?n.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(i(o))return a?a.call(o):"";var h=o+"";return h=="0"&&1/o==-1/0?"-0":h}return l(s,"baseToString"),f9=s,f9}function IL(){if(Hre)return m9;Hre=1;var t=mae();function e(r){return r==null?"":t(r)}return l(e,"toString"),m9=e,m9}function RL(){if(Xre)return y9;Xre=1;var t=pb(),e=Gne(),r=LL(),i=IL();function n(a,s){return t(a)?a:e(a,s)?[a]:r(i(a))}return l(n,"castPath"),y9=n,y9}function ew(){if(Kre)return v9;Kre=1;var t=vg();function e(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-1/0?"-0":i}return l(e,"toKey"),v9=e,v9}function yae(){if(Zre)return b9;Zre=1;var t=RL(),e=ew();function r(i,n){n=t(n,i);for(var a=0,s=n.length;i!=null&&a<s;)i=i[e(n[a++])];return a&&a==s?i:void 0}return l(r,"baseGet"),b9=r,b9}function vae(){if(Qre)return x9;Qre=1;var t=yae();function e(r,i,n){var a=r==null?void 0:t(r,i);return a===void 0?n:a}return l(e,"get"),x9=e,x9}function bae(){if(Jre)return w9;Jre=1;var t=J6(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return w9=e,w9}function xae(){if(eie)return k9;eie=1;var t=bae();function e(r,i,n){i=="__proto__"&&t?t(r,i,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[i]=n}return l(e,"baseAssignValue"),k9=e,k9}function wae(){if(tie)return T9;tie=1;var t=xae(),e=AL(),r=Object.prototype,i=r.hasOwnProperty;function n(a,s,o){var h=a[s];(!(i.call(a,s)&&e(h,o))||o===void 0&&!(s in a))&&t(a,s,o)}return l(n,"assignValue"),T9=n,T9}function kae(){if(rie)return E9;rie=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(i,n){var a=typeof i;return n=n??t,!!n&&(a=="number"||a!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<n}return l(r,"isIndex"),E9=r,E9}function Tae(){if(iie)return C9;iie=1;var t=wae(),e=RL(),r=kae(),i=yg(),n=ew();function a(s,o,h,u){if(!i(s))return s;o=e(o,s);for(var d=-1,p=o.length,g=p-1,f=s;f!=null&&++d<p;){var m=n(o[d]),y=h;if(m==="__proto__"||m==="constructor"||m==="prototype")return s;if(d!=g){var b=f[m];y=u?u(b,m,f):void 0,y===void 0&&(y=i(b)?b:r(o[d+1])?[]:{})}t(f,m,y),f=f[m]}return s}return l(a,"baseSet"),C9=a,C9}function Eae(){if(nie)return S9;nie=1;var t=Tae();function e(r,i,n){return r==null?r:t(r,i,n)}return l(e,"set"),S9=e,S9}function Cae(){if(aie)return _9;aie=1;function t(e,r){var i=-1,n=e.length;for(r||(r=Array(n));++i<n;)r[i]=e[i];return r}return l(t,"copyArray"),_9=t,_9}function Sae(){if(sie)return A9;sie=1;var t=NL(),e=Cae(),r=pb(),i=vg(),n=LL(),a=ew(),s=IL();function o(h){return r(h)?t(h,a):i(h)?[h]:e(n(s(h)))}return l(o,"toPath"),A9=o,A9}function tw(t,e,r,i){for(var n=[],a=new bg,s=t.cy(),o=s.hasCompoundNodes(),h=0;h<t.length;h++){var u=t[h];r?n.push(u):o&&i(n,a,u)}for(;n.length>0;){var d=n.shift();e(d),a.add(d.id()),o&&i(n,a,d)}return t}function ML(t,e,r){if(r.isParent())for(var i=r._private.children,n=0;n<i.length;n++){var a=i[n];e.has(a.id())||t.push(a)}}function OL(t,e,r){if(r.isChild()){var i=r._private.parent;e.has(i.id())||t.push(i)}}function Aae(t,e,r){OL(t,e,r),ML(t,e,r)}function T6(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var i=0,n=r[0],a=n._private.edges,s=0;s<a.length;s++){var o=a[s];!e&&o.isLoop()||(i+=t(n,o))}return i}else return}}function Ju(t,e){return function(r){for(var i,n=this.nodes(),a=0;a<n.length;a++){var s=n[a],o=s[t](r);o!==void 0&&(i===void 0||e(o,i))&&(i=o)}return i}}function ng(){return!1}function jv(){return!0}function vb(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uAe,e=arguments.length>1?arguments[1]:void 0,r=0;r<pie.length;r++){var i=pie[r];this[i]=t[i]||Pae[i]}this.context=e||this.context,this.listeners=[],this.emitting=0}function $L(t,e,r){var i=r._private,n=i.styleCache=i.styleCache||[],a;return(a=n[t])!=null||(a=n[t]=e(r)),a}function bb(t,e){return t=sd(t),l(function(r){return $L(t,e,r)},"cachedStyleFunction")}function xb(t,e){t=sd(t);var r=l(function(i){return e.call(i)},"selfFn");return l(function(){var i=this[0];if(i)return $L(t,r,i)},"cachedPrototypeStyleFunction")}function C6(t,e){var r=t._private,i=r.data.parent?t.parents():null;if(i)for(var n=0;n<i.length;n++){var a=i[n];if(!e(a))return!1}return!0}function iw(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,i=t.parentOk||t.ok;return function(){var n=this.cy();if(!n.styleEnabled())return!0;var a=this[0],s=n.hasCompoundNodes();if(a){var o=a._private;if(!e(a))return!1;if(a.isNode())return!s||C6(a,i);var h=o.source,u=o.target;return r(h)&&(!s||C6(h,r))&&(h===u||r(u)&&(!s||C6(u,r)))}}}function V9(t){return function(){var e=arguments,r=[];if(e.length===2){var i=e[0],n=e[1];this.on(t.event,i,n)}else if(e.length===1&&Ci(e[0])){var a=e[0];this.on(t.event,a)}else if(e.length===0||e.length===1&&Jr(e[0])){for(var s=e.length===1?e[0]:null,o=0;o<this.length;o++){var h=this[o],u=!t.ableField||h._private[t.ableField],d=h._private[t.field]!=t.value;if(t.overrideAble){var p=t.overrideAble(h);if(p!==void 0&&(u=p,!p))return this}u&&(h._private[t.field]=t.value,d&&r.push(h))}var g=this.spawn(r);g.updateStyle(),g.emit(t.event),s&&g.emit(s)}return this}}function ud(t){kh[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},kh[t.on]=V9({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),kh[t.off]=V9({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}function Y9(t){return l(function(e){for(var r=[],i=0;i<this.length;i++){var n=this[i],a=n._private[t.attr];a&&r.push(a)}return this.spawn(r,!0).filter(e)},"sourceImpl")}function H9(t){return l(function(e){var r=[],i=this._private.cy,n=t||{};zt(e)&&(e=i.$(e));for(var a=0;a<e.length;a++)for(var s=e[a]._private.edges,o=0;o<s.length;o++){var h=s[o],u=h._private.data,d=this.hasElementWithId(u.source)&&e.hasElementWithId(u.target),p=e.hasElementWithId(u.source)&&this.hasElementWithId(u.target),g=d||p;g&&((n.thisIsSrc||n.thisIsTgt)&&(n.thisIsSrc&&!d||n.thisIsTgt&&!p)||r.push(h))}return this.spawn(r,!0)},"edgesWithImpl")}function X9(t){var e={codirected:!1};return t=Xt({},e,t),l(function(r){for(var i=[],n=this.edges(),a=t,s=0;s<n.length;s++)for(var o=n[s],h=o._private,u=h.source,d=u._private.data.id,p=h.data.target,g=u._private.edges,f=0;f<g.length;f++){var m=g[f],y=m._private.data,b=y.target,v=y.source,x=b===p&&v===d,w=d===b&&p===v;(a.codirected&&x||!a.codirected&&(x||w))&&i.push(m)}return this.spawn(i,!0).filter(r)},"parallelEdgesImpl")}function Uae(t,e,r,i){var n=4,a=.001,s=1e-7,o=10,h=11,u=1/(h-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var p=0;p<4;++p)if(typeof arguments[p]!="number"||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var g=d?new Float32Array(h):new Array(h);function f(I,M){return 1-3*M+3*I}l(f,"A");function m(I,M){return 3*M-6*I}l(m,"B");function y(I){return 3*I}l(y,"C");function b(I,M,N){return((f(M,N)*I+m(M,N))*I+y(M))*I}l(b,"calcBezier");function v(I,M,N){return 3*f(M,N)*I*I+2*m(M,N)*I+y(M)}l(v,"getSlope");function x(I,M){for(var N=0;N<n;++N){var $=v(M,t,r);if($===0)return M;var _=b(M,t,r)-I;M-=_/$}return M}l(x,"newtonRaphsonIterate");function w(){for(var I=0;I<h;++I)g[I]=b(I*u,t,r)}l(w,"calcSampleValues");function k(I,M,N){var $,_,D=0;do _=M+(N-M)/2,$=b(_,t,r)-I,$>0?N=_:M=_;while(Math.abs($)>s&&++D<o);return _}l(k,"binarySubdivide");function T(I){for(var M=0,N=1,$=h-1;N!==$&&g[N]<=I;++N)M+=u;--N;var _=(I-g[N])/(g[N+1]-g[N]),D=M+_*u,R=v(D,t,r);return R>=a?x(I,D):R===0?D:k(I,M,M+u)}l(T,"getTForX");var S=!1;function C(){S=!0,(t!==e||r!==i)&&w()}l(C,"precompute");var E=l(function(I){return S||C(),t===e&&r===i?I:I===0?0:I===1?1:b(T(I),e,i)},"f");E.getControlPoints=function(){return[{x:t,y:e},{x:r,y:i}]};var L="generateBezier("+[t,e,r,i]+")";return E.toString=function(){return L},E}function K9(t,e,r,i,n){if(i===1||e===r)return r;var a=n(e,r,i);return t==null||((t.roundValue||t.color)&&(a=Math.round(a)),t.min!==void 0&&(a=Math.max(a,t.min)),t.max!==void 0&&(a=Math.min(a,t.max))),a}function Z9(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function ed(t,e,r,i,n){var a=n!=null?n.type:null;r<0?r=0:r>1&&(r=1);var s=Z9(t,n),o=Z9(e,n);if(ft(s)&&ft(o))return K9(a,s,o,r,i);if(Jr(s)&&Jr(o)){for(var h=[],u=0;u<o.length;u++){var d=s[u],p=o[u];if(d!=null&&p!=null){var g=K9(a,d,p,r,i);h.push(g)}else h.push(p)}return h}}function jae(t,e,r,i){var n=!i,a=t._private,s=e._private,o=s.easing,h=s.startTime,u=i?t:t.cy(),d=u.style();if(!s.easingImpl)if(o==null)s.easingImpl=S6.linear;else{var p;if(zt(o)){var g=d.parse("transition-timing-function",o);p=g.value}else p=o;var f,m;zt(p)?(f=p,m=[]):(f=p[1],m=p.slice(2).map(function(B){return+B})),m.length>0?(f==="spring"&&m.push(s.duration),s.easingImpl=S6[f].apply(null,m)):s.easingImpl=S6[f]}var y=s.easingImpl,b;if(s.duration===0?b=1:b=(r-h)/s.duration,s.applying&&(b=s.progress),b<0?b=0:b>1&&(b=1),s.delay==null){var v=s.startPosition,x=s.position;if(x&&n&&!t.locked()){var w={};ag(v.x,x.x)&&(w.x=ed(v.x,x.x,b,y)),ag(v.y,x.y)&&(w.y=ed(v.y,x.y,b,y)),t.position(w)}var k=s.startPan,T=s.pan,S=a.pan,C=T!=null&&i;C&&(ag(k.x,T.x)&&(S.x=ed(k.x,T.x,b,y)),ag(k.y,T.y)&&(S.y=ed(k.y,T.y,b,y)),t.emit("pan"));var E=s.startZoom,L=s.zoom,I=L!=null&&i;I&&(ag(E,L)&&(a.zoom=eb(a.minZoom,ed(E,L,b,y),a.maxZoom)),t.emit("zoom")),(C||I)&&t.emit("viewport");var M=s.style;if(M&&M.length>0&&n){for(var N=0;N<M.length;N++){var $=M[N],_=$.name,D=$,R=s.startStyle[_],O=d.properties[R.name],A=ed(R,D,b,y,O);d.overrideBypass(t,_,A)}t.emit("style")}}return s.progress=b,b}function ag(t,e){return t==null||e==null?!1:ft(t)&&ft(e)?!0:!!(t&&e)}function Wae(t,e,r,i){var n=e._private;n.started=!0,n.startTime=r-n.progress*n.duration}function Q9(t,e){var r=e._private.aniEles,i=[];function n(d,p){var g=d._private,f=g.animation.current,m=g.animation.queue,y=!1;if(f.length===0){var b=m.shift();b&&f.push(b)}for(var v=l(function(T){for(var S=T.length-1;S>=0;S--){var C=T[S];C()}T.splice(0,T.length)},"callbacks"),x=f.length-1;x>=0;x--){var w=f[x],k=w._private;if(k.stopped){f.splice(x,1),k.hooked=!1,k.playing=!1,k.started=!1,v(k.frames);continue}!k.playing&&!k.applying||(k.playing&&k.applying&&(k.applying=!1),k.started||Wae(d,w,t),jae(d,w,t,p),k.applying&&(k.applying=!1),v(k.frames),k.step!=null&&k.step(t),w.completed()&&(f.splice(x,1),k.hooked=!1,k.playing=!1,k.started=!1,v(k.completes)),y=!0)}return!p&&f.length===0&&m.length===0&&i.push(d),y}l(n,"stepOne");for(var a=!1,s=0;s<r.length;s++){var o=r[s],h=n(o);a=a||h}var u=n(e,!0);(a||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(i),e.emit("step")}function FL(t){this.options=Xt({},NAe,IAe,t)}function zL(t){this.options=Xt({},RAe,t)}function GL(t){this.options=Xt({},DAe,t)}function kb(t){this.options=Xt({},MAe,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),i=r.filter(function(n){var a=n.source().data("id"),s=n.target().data("id"),o=e.some(function(u){return u.data("id")===a}),h=e.some(function(u){return u.data("id")===s});return!o||!h});this.options.eles=this.options.eles.not(i)}function qL(t){this.options=Xt({},XAe,t)}function sw(t){this.options=Xt({},KAe,t)}function UL(t){this.options=Xt({},ZAe,t)}function jL(t){this.options=Xt({},QAe,t)}function WL(t){this.options=t,this.notifications=0}function YL(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function ow(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return i===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(t9e(t,e,r,i,n),{cx:tL,cy:rL,radius:td,startX:Kae,startY:Zae,stopX:iL,stopY:nL,startAngle:Qo.ang+Math.PI/2*nd,endAngle:Ls.ang-Math.PI/2*nd,counterClockwise:L6})}function HL(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var i=t[r],n=t[r+1];e.push({x:i,y:n})}return e}}function Qae(t,e,r){for(var i=l(function(h,u,d,p){return vn(h,u,d,p)},"qbezierAt$1"),n=e._private,a=n.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];a.push({x:i(r[0],r[2],r[4],o),y:i(r[1],r[3],r[5],o)})}}function cse(t,e){for(var r=0;r<e.length;r++){var i=e[r];t.lineTo(i.x,i.y)}}function hse(t,e,r){for(var i,n=0;n<e.length;n++){var a=e[n];n===0&&(i=a),t.lineTo(a.x,a.y)}t.quadraticCurveTo(r.x,r.y,i.x,i.y)}function sL(t,e,r){t.beginPath&&t.beginPath();for(var i=e,n=0;n<i.length;n++){var a=i[n];t.lineTo(a.x,a.y)}var s=r,o=r[0];t.moveTo(o.x,o.y);for(var n=1;n<s.length;n++){var a=s[n];t.lineTo(a.x,a.y)}t.closePath&&t.closePath()}function use(t,e,r,i,n){t.beginPath&&t.beginPath(),t.arc(r,i,n,0,Math.PI*2,!1);var a=e,s=a[0];t.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var h=a[o];t.lineTo(h.x,h.y)}t.closePath&&t.closePath()}function dse(t,e,r,i){t.arc(e,r,i,0,Math.PI*2,!1)}function gse(t,e,r,i,n){var a=Math.min(i,n),s=a/2,o=e+i/2,h=r+n/2;t.beginPath(),t.arc(o,h,s,0,Math.PI*2),t.closePath()}function oL(t,e,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(a,i/2,n/2);t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+i-s,r),t.quadraticCurveTo(e+i,r,e+i,r+s),t.lineTo(e+i,r+n-s),t.quadraticCurveTo(e+i,r+n,e+i-s,r+n),t.lineTo(e+s,r+n),t.quadraticCurveTo(e,r+n,e,r+n-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath()}function lL(t,e,r){var i=t.createShader(e);if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(i));return i}function mse(t,e,r){var i=lL(t,t.VERTEX_SHADER,e),n=lL(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,i),t.attachShader(a,n),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function yse(t,e,r){r===void 0&&(r=e);var i=t.makeOffscreenCanvas(e,r),n=i.context=i.getContext("2d");return i.clear=function(){return n.clearRect(0,0,i.width,i.height)},i.clear(),i}function hw(t){var e=t.pixelRatio,r=t.cy.zoom(),i=t.cy.pan();return{zoom:r*e,pan:{x:i.x*e,y:i.y*e}}}function vse(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function bse(t,e,r,i,n){var a=i*r+e.x,s=n*r+e.y;return s=Math.round(t.canvasHeight-s),[a,s]}function xse(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function wse(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function mh(t,e,r){var i=t[0]/255,n=t[1]/255,a=t[2]/255,s=e,o=r||new Array(4);return o[0]=i*s,o[1]=n*s,o[2]=a*s,o[3]=s,o}function rd(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function kse(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function Tse(t,e){var r=t.createTexture();return r.buffer=function(i){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function ZL(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function QL(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function Ese(t,e,r,i,n,a){switch(e){case t.FLOAT:return new Float32Array(r.buffer,a*i,n);case t.INT:return new Int32Array(r.buffer,a*i,n)}}function Cse(t,e,r,i){var n=ZL(t,e),a=Gi(n,2),s=a[0],o=a[1],h=QL(t,o,i),u=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,h,t.STATIC_DRAW),o===t.FLOAT?t.vertexAttribPointer(r,s,o,!1,0,0):o===t.INT&&t.vertexAttribIPointer(r,s,o,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),u}function co(t,e,r,i){var n=ZL(t,r),a=Gi(n,3),s=a[0],o=a[1],h=a[2],u=QL(t,o,e*s),d=s*h,p=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,p),t.bufferData(t.ARRAY_BUFFER,e*d,t.DYNAMIC_DRAW),t.enableVertexAttribArray(i),o===t.FLOAT?t.vertexAttribPointer(i,s,o,!1,d,0):o===t.INT&&t.vertexAttribIPointer(i,s,o,d,0),t.vertexAttribDivisor(i,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var g=new Array(e),f=0;f<e;f++)g[f]=Ese(t,o,u,d,s,f);return p.dataArray=u,p.stride=d,p.size=s,p.getView=function(m){return g[m]},p.setPoint=function(m,y,b){var v=g[m];v[0]=y,v[1]=b},p.bufferSubData=function(m){t.bindBuffer(t.ARRAY_BUFFER,p),m?t.bufferSubData(t.ARRAY_BUFFER,0,u,0,m*s):t.bufferSubData(t.ARRAY_BUFFER,0,u)},p}function Sse(t,e,r){for(var i=9,n=new Float32Array(e*i),a=new Array(e),s=0;s<e;s++){var o=s*i*4;a[s]=new Float32Array(n.buffer,o,i)}var h=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferData(t.ARRAY_BUFFER,n.byteLength,t.DYNAMIC_DRAW);for(var u=0;u<3;u++){var d=r+u;t.enableVertexAttribArray(d),t.vertexAttribPointer(d,3,t.FLOAT,!1,36,u*12),t.vertexAttribDivisor(d,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),h.getMatrixView=function(p){return a[p]},h.setData=function(p,g){a[g].set(p,0)},h.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,h),t.bufferSubData(t.ARRAY_BUFFER,0,n)},h}function _se(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(i,n){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,i,n,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}function I6(){var t=new Oie(9);return Oie!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function cL(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ase(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],h=e[5],u=e[6],d=e[7],p=e[8],g=r[0],f=r[1],m=r[2],y=r[3],b=r[4],v=r[5],x=r[6],w=r[7],k=r[8];return t[0]=g*i+f*s+m*u,t[1]=g*n+f*o+m*d,t[2]=g*a+f*h+m*p,t[3]=y*i+b*s+v*u,t[4]=y*n+b*o+v*d,t[5]=y*a+b*h+v*p,t[6]=x*i+w*s+k*u,t[7]=x*n+w*o+k*d,t[8]=x*a+w*h+k*p,t}function Hv(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],h=e[5],u=e[6],d=e[7],p=e[8],g=r[0],f=r[1];return t[0]=i,t[1]=n,t[2]=a,t[3]=s,t[4]=o,t[5]=h,t[6]=g*i+f*s+u,t[7]=g*n+f*o+d,t[8]=g*a+f*h+p,t}function hL(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],h=e[5],u=e[6],d=e[7],p=e[8],g=Math.sin(r),f=Math.cos(r);return t[0]=f*i+g*s,t[1]=f*n+g*o,t[2]=f*a+g*h,t[3]=f*s-g*i,t[4]=f*o-g*n,t[5]=f*h-g*a,t[6]=u,t[7]=d,t[8]=p,t}function W6(t,e,r){var i=r[0],n=r[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Lse(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Nse(t,e){return t.intersection?t.intersection(e):new Set(Kv(t).filter(function(r){return e.has(r)}))}function Rse(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return Jie(r)}function JL(t,e){var r=t._private.rscratch;return za(r,"labelWrapCachedLines",e)||[]}function Dse(t){{var e=t.render;t.render=function(a){a=a||{};var s=t.cy;t.webgl&&(s.zoom()>sse?(Mse(t),e.call(t,a)):(Ose(t),tN(t,a,Xv.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(a){r.call(t,a),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(a,s,o,h){return Gse(t,a,s)};{var i=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){i.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var n=t.notify;t.notify=function(a,s){n.call(t,a,s),a==="viewport"||a==="bounds"?t.pickingFrameBuffer.needsDraw=!0:a==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function Mse(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function Ose(t){var e=l(function(r){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.canvasWidth,t.canvasHeight),r.restore()},"clear");e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function $se(t){var e=t.canvasWidth,r=t.canvasHeight,i=hw(t),n=i.pan,a=i.zoom,s=I6();Hv(s,s,[n.x,n.y]),W6(s,s,[a,a]);var o=I6();Lse(o,e,r);var h=I6();return Ase(h,o,s),h}function eN(t,e){var r=t.canvasWidth,i=t.canvasHeight,n=hw(t),a=n.pan,s=n.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,i),e.translate(a.x,a.y),e.scale(s,s)}function Bse(t,e){t.drawSelectionRectangle(e,function(r){return eN(t,r)})}function Pse(t){var e=t.data.contexts[t.NODE];e.save(),eN(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function Fse(t){var e=l(function(i,n,a){for(var s=i.atlasManager.getAtlasCollection(n),o=t.data.contexts[t.NODE],h=s.atlases,u=0;u<h.length;u++){var d=h[u],p=d.canvas;if(p){var g=p.width,f=p.height,m=g*u,y=p.height*a,b=.4;o.save(),o.scale(b,b),o.drawImage(p,m,y),o.strokeStyle="black",o.rect(m,y,g,f),o.stroke(),o.restore()}}},"draw"),r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function zse(t,e,r,i,n){var a,s,o,h,u=hw(t),d=u.pan,p=u.zoom;{var g=bse(t,d,p,e,r),f=Gi(g,2),m=f[0],y=f[1],b=6;a=m-b/2,s=y-b/2,o=b,h=b}if(o===0||h===0)return[];var v=t.data.contexts[t.WEBGL];v.bindFramebuffer(v.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(v.viewport(0,0,v.canvas.width,v.canvas.height),tN(t,null,Xv.PICKING),t.pickingFrameBuffer.needsDraw=!1);var x=o*h,w=new Uint8Array(x*4);v.readPixels(a,s,o,h,v.RGBA,v.UNSIGNED_BYTE,w),v.bindFramebuffer(v.FRAMEBUFFER,null);for(var k=new Set,T=0;T<x;T++){var S=w.slice(T*4,T*4+4),C=kse(S)-1;C>=0&&k.add(C)}return k}function Gse(t,e,r){var i=zse(t,e,r),n=t.getCachedZSortedEles(),a,s,o=fa(i),h;try{for(o.s();!(h=o.n()).done;){var u=h.value,d=n[u];if(!a&&d.isNode()&&(a=d),!s&&d.isEdge()&&(s=d),a&&s)break}}catch(p){o.e(p)}finally{o.f()}return[a,s].filter(Boolean)}function R6(t,e,r){var i=t.drawing;e+=1,r.isNode()?(i.drawNode(r,e,"node-underlay"),i.drawNode(r,e,"node-body"),i.drawTexture(r,e,"label"),i.drawNode(r,e,"node-overlay")):(i.drawEdgeLine(r,e),i.drawEdgeArrow(r,e,"source"),i.drawEdgeArrow(r,e,"target"),i.drawTexture(r,e,"label"),i.drawTexture(r,e,"edge-source-label"),i.drawTexture(r,e,"edge-target-label"))}function tN(t,e,r){var i;t.webglDebug&&(i=performance.now());var n=t.drawing,a=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&Bse(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var o=$se(t),h=t.getCachedZSortedEles();if(a=h.length,n.startFrame(o,r),r.screen){for(var u=0;u<h.nondrag.length;u++)R6(t,u,h.nondrag[u]);for(var d=0;d<h.drag.length;d++)R6(t,d,h.drag[d])}else if(r.picking)for(var p=0;p<h.length;p++)R6(t,p,h[p]);n.endFrame(),r.screen&&t.webglDebugShowAtlases&&(Pse(t),Fse(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var g=performance.now(),f=!1,m=Math.ceil(g-i),y=n.getDebugInfo(),b=["".concat(a," elements"),"".concat(y.totalInstances," instances"),"".concat(y.batchCount," batches"),"".concat(y.totalAtlases," atlases"),"".concat(y.wrappedCount," wrapped textures"),"".concat(y.simpleCount," simple shapes")].join(", ");if(f)console.log("WebGL (".concat(r.name,") - time ").concat(m,"ms, ").concat(b));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(m,"ms")),console.log("Totals:"),console.log("  ".concat(b)),console.log("Texture Atlases Used:");var v=y.atlasInfo,x=fa(v),w;try{for(x.s();!(w=x.n()).done;){var k=w.value;console.log("  ".concat(k.type,": ").concat(k.keyCount," keys, ").concat(k.atlasCount," atlases"))}}catch(T){x.e(T)}finally{x.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,n.gc())}function Use(t,e){for(var r=atob(t),i=new ArrayBuffer(r.length),n=new Uint8Array(i),a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return new Blob([i],{type:e})}function pL(t){var e=t.indexOf(",");return t.substr(e+1)}function rN(t,e,r){var i=l(function(){return e.toDataURL(r,t.quality)},"getB64Uri");switch(t.output){case"blob-promise":return new xg(function(n,a){try{e.toBlob(function(s){s!=null?n(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){a(s)}});case"blob":return Use(pL(i()),r);case"base64":return pL(i());case"base64uri":default:return i()}}function iN(t){var e=this,r=e.cy.window(),i=r.document;t.webgl&&(dr.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(dr.CANVAS_LAYERS),contexts:new Array(dr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(dr.CANVAS_LAYERS),bufferCanvases:new Array(dr.BUFFER_COUNT),bufferContexts:new Array(dr.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";e.data.canvasContainer=i.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[n]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[n]=a;var h={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ECe()&&(h["-ms-touch-action"]="none",h["touch-action"]="none");for(var u=0;u<dr.CANVAS_LAYERS;u++){var d=e.data.canvases[u]=i.createElement("canvas"),p=dr.CANVAS_TYPES[u];e.data.contexts[u]=d.getContext(p),e.data.contexts[u]||vi("Could not create canvas of type "+p),Object.keys(h).forEach(function(Y){d.style[Y]=h[Y]}),d.style.position="absolute",d.setAttribute("data-id","layer"+u),d.style.zIndex=String(dr.CANVAS_LAYERS-u),e.data.canvasContainer.appendChild(d),e.data.canvasNeedsRedraw[u]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[dr.NODE].setAttribute("data-id","layer"+dr.NODE+"-node"),e.data.canvases[dr.SELECT_BOX].setAttribute("data-id","layer"+dr.SELECT_BOX+"-selectbox"),e.data.canvases[dr.DRAG].setAttribute("data-id","layer"+dr.DRAG+"-drag"),e.data.canvases[dr.WEBGL]&&e.data.canvases[dr.WEBGL].setAttribute("data-id","layer"+dr.WEBGL+"-webgl");for(var u=0;u<dr.BUFFER_COUNT;u++)e.data.bufferCanvases[u]=i.createElement("canvas"),e.data.bufferContexts[u]=e.data.bufferCanvases[u].getContext("2d"),e.data.bufferCanvases[u].style.position="absolute",e.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),e.data.bufferCanvases[u].style.zIndex=String(-u-1),e.data.bufferCanvases[u].style.visibility="hidden";e.pathsEnabled=!0;var g=ma(),f=l(function(Y){return{x:(Y.x1+Y.x2)/2,y:(Y.y1+Y.y2)/2}},"getBoxCenter"),m=l(function(Y){return{x:-Y.w/2,y:-Y.h/2}},"getCenterOffset"),y=l(function(Y){var Q=Y[0]._private,j=Q.oldBackgroundTimestamp===Q.backgroundTimestamp;return!j},"backgroundTimestampHasChanged"),b=l(function(Y){return Y[0]._private.nodeKey},"getStyleKey"),v=l(function(Y){return Y[0]._private.labelStyleKey},"getLabelKey"),x=l(function(Y){return Y[0]._private.sourceLabelStyleKey},"getSourceLabelKey"),w=l(function(Y){return Y[0]._private.targetLabelStyleKey},"getTargetLabelKey"),k=l(function(Y,Q,j,H,J){return e.drawElement(Y,Q,j,!1,!1,J)},"drawElement"),T=l(function(Y,Q,j,H,J){return e.drawElementText(Y,Q,j,H,"main",J)},"drawLabel"),S=l(function(Y,Q,j,H,J){return e.drawElementText(Y,Q,j,H,"source",J)},"drawSourceLabel"),C=l(function(Y,Q,j,H,J){return e.drawElementText(Y,Q,j,H,"target",J)},"drawTargetLabel"),E=l(function(Y){return Y.boundingBox(),Y[0]._private.bodyBounds},"getElementBox"),L=l(function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.main||g},"getLabelBox"),I=l(function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.source||g},"getSourceLabelBox"),M=l(function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.target||g},"getTargetLabelBox"),N=l(function(Y,Q){return Q},"isLabelVisibleAtScale"),$=l(function(Y){return f(E(Y))},"getElementRotationPoint"),_=l(function(Y,Q,j){var H=Y?Y+"-":"";return{x:Q.x+j.pstyle(H+"text-margin-x").pfValue,y:Q.y+j.pstyle(H+"text-margin-y").pfValue}},"addTextMargin"),D=l(function(Y,Q,j){var H=Y[0]._private.rscratch;return{x:H[Q],y:H[j]}},"getRsPt"),R=l(function(Y){return _("",D(Y,"labelX","labelY"),Y)},"getLabelRotationPoint"),O=l(function(Y){return _("source",D(Y,"sourceLabelX","sourceLabelY"),Y)},"getSourceLabelRotationPoint"),A=l(function(Y){return _("target",D(Y,"targetLabelX","targetLabelY"),Y)},"getTargetLabelRotationPoint"),B=l(function(Y){return m(E(Y))},"getElementRotationOffset"),P=l(function(Y){return m(I(Y))},"getSourceLabelRotationOffset"),z=l(function(Y){return m(M(Y))},"getTargetLabelRotationOffset"),q=l(function(Y){var Q=L(Y),j=m(L(Y));if(Y.isNode()){switch(Y.pstyle("text-halign").value){case"left":j.x=-Q.w-(Q.leftPad||0);break;case"right":j.x=-(Q.rightPad||0);break}switch(Y.pstyle("text-valign").value){case"top":j.y=-Q.h-(Q.topPad||0);break;case"bottom":j.y=-(Q.botPad||0);break}}return j},"getLabelRotationOffset"),K=e.data.eleTxrCache=new Wv(e,{getKey:b,doesEleInvalidateKey:y,drawElement:k,getBoundingBox:E,getRotationPoint:$,getRotationOffset:B,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),W=e.data.lblTxrCache=new Wv(e,{getKey:v,drawElement:T,getBoundingBox:L,getRotationPoint:R,getRotationOffset:q,isVisible:N}),ae=e.data.slbTxrCache=new Wv(e,{getKey:x,drawElement:S,getBoundingBox:I,getRotationPoint:O,getRotationOffset:P,isVisible:N}),ie=e.data.tlbTxrCache=new Wv(e,{getKey:w,drawElement:C,getBoundingBox:M,getRotationPoint:A,getRotationOffset:z,isVisible:N}),se=e.data.lyrTxrCache=new ose(e);e.onUpdateEleCalcs(l(function(Y,Q){K.invalidateElements(Q),W.invalidateElements(Q),ae.invalidateElements(Q),ie.invalidateElements(Q),se.invalidateElements(Q);for(var j=0;j<Q.length;j++){var H=Q[j]._private;H.oldBackgroundTimestamp=H.backgroundTimestamp}},"invalidateTextureCaches"));var oe=l(function(Y){for(var Q=0;Q<Y.length;Q++)se.enqueueElementRefinement(Y[Q].ele)},"refineInLayers");K.onDequeue(oe),W.onDequeue(oe),ae.onDequeue(oe),ie.onDequeue(oe),t.webgl&&e.initWebgl(t,{getStyleKey:b,getLabelKey:v,getSourceLabelKey:x,getTargetLabelKey:w,drawElement:k,drawLabel:T,drawSourceLabel:S,drawTargetLabel:C,getElementBox:E,getLabelBox:L,getSourceLabelBox:I,getTargetLabelBox:M,getElementRotationPoint:$,getElementRotationOffset:B,getLabelRotationPoint:R,getSourceLabelRotationPoint:O,getTargetLabelRotationPoint:A,getLabelRotationOffset:q,getSourceLabelRotationOffset:P,getTargetLabelRotationOffset:z})}function nN(t,e,r){var i=r,n=l(function(C){Ur("Can not register `"+e+"` for `"+t+"` since `"+C+"` already exists in the prototype and can not be overridden")},"overrideErr");if(t==="core"){if(ab.prototype[e])return n(e);ab.prototype[e]=r}else if(t==="collection"){if(In.prototype[e])return n(e);In.prototype[e]=r}else if(t==="layout"){for(var a=l(function(C){this.options=C,r.call(this,C),$r(this._private)||(this._private={}),this._private.cy=C.cy,this._private.listeners=[],this.createEmitter()},"Layout"),s=a.prototype=Object.create(r.prototype),o=[],h=0;h<o.length;h++){var u=o[h];s[u]=s[u]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var d=r.prototype.stop;s.stop=function(){var C=this.options;if(C&&C.animate){var E=this.animations;if(E)for(var L=0;L<E.length;L++)E[L].stop()}return d?d.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var p=l(function(C){return C._private.cy},"getCy"),g={addEventFields:l(function(C,E){E.layout=C,E.cy=p(C),E.target=C},"addEventFields"),bubble:l(function(){return!0},"bubble"),parent:l(function(C){return p(C)},"parent")};Xt(s,{createEmitter:l(function(){return this._private.emitter=new vb(g,this),this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(C,E){return this.emitter().on(C,E),this},"on"),one:l(function(C,E){return this.emitter().one(C,E),this},"one"),once:l(function(C,E){return this.emitter().one(C,E),this},"once"),removeListener:l(function(C,E){return this.emitter().removeListener(C,E),this},"removeListener"),removeAllListeners:l(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),emit:l(function(C,E){return this.emitter().emit(C,E),this},"emit")}),qr.eventAliasesOn(s),i=a}else if(t==="renderer"&&e!=="null"&&e!=="base"){var f=aN("renderer","base"),m=f.prototype,y=r,b=r.prototype,v=l(function(){f.apply(this,arguments),y.apply(this,arguments)},"Renderer"),x=v.prototype;for(var w in m){var k=m[w],T=b[w]!=null;if(T)return n(w);x[w]=k}for(var S in b)x[S]=b[S];m.clientFunctions.forEach(function(C){x[C]=x[C]||function(){vi("Renderer does not implement `renderer."+C+"()` on its prototype")}}),i=v}else if(t==="__proto__"||t==="constructor"||t==="prototype")return vi(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return ene({map:Wse,keys:[t,e],value:i})}function aN(t,e){return tne({map:Wse,keys:[t,e]})}function Yse(t,e,r,i,n){return ene({map:Vse,keys:[t,e,r,i],value:n})}function Hse(t,e,r,i){return tne({map:Vse,keys:[t,e,r,i]})}var sn,Ete,fCe,Hie,mCe,yCe,ob,zt,Ci,Jr,$r,vCe,ft,bCe,M6,os,lb,Xie,yL,Kie,xCe,Th,wCe,kCe,TCe,ECe,pg,vL,X6,Zie,Cte,vh,on,CCe,SCe,_Ce,ACe,LCe,NCe,Qie,ICe,Xt,RCe,DCe,MCe,OCe,Jie,$Ce,ene,tne,o6,pA,Ste,gA,_te,fA,Ate,mA,Lte,yA,Nte,vA,Ite,bA,Rte,xA,Dte,wA,Mte,kA,Ote,TA,$te,EA,Bte,CA,Pte,SA,Fte,BCe,hb,_A,une,PCe,O6,Vl,id,dne,ig,pne,Zv,Qv,FCe,gh,l6,zte,sd,gne,zCe,GCe,Gte,qCe,UCe,xL,yne,$6,qte,wL,vi,vne,Ur,jCe,Jo,WCe,bne,VCe,xne,Rn,Eh,kL,YCe,za,jl,HCe,Wl,XCe,KCe,bg,Z6,Ute,Jv,B9,ZCe,jte,Wte,Vte,QCe,ub,JCe,eSe,tSe,rSe,iSe,nSe,aSe,sSe,oSe,lSe,cSe,AA,hSe,LA,uSe,Q6,Tne,sg,dSe,pSe,gSe,fSe,mSe,c6,TL,EL,od,Qu,ySe,vn,cg,vSe,eb,ma,bSe,xSe,wSe,Ene,b6,x6,Yte,CL,bh,Hte,Cne,kSe,Ane,TSe,ESe,CSe,SSe,_Se,ASe,Ga,Yl,LSe,B6,P6,NSe,ad,qv,NA,xh,ISe,tb,RSe,h6,ga,Lne,P9,Ch,Nne,SL,DSe,F9,MSe,OSe,Xte,hg,Kte,ug,$Se,z9,BSe,PSe,FSe,zSe,Ine,GSe,qSe,USe,jSe,WSe,VSe,YSe,Zte,HSe,XSe,Rne,Qte,Jte,KSe,ZSe,Bv,gg,QSe,_L,F6,IA,Dne,Mne,JSe,e_e,t_e,ere,tre,r_e,i_e,n_e,a_e,s_e,rre,o_e,l_e,c_e,h_e,ire,og,G9,q9,nre,u_e,d_e,p_e,g_e,f_e,m_e,are,y_e,sre,v_e,b_e,x_e,u6,w_e,d6,k_e,One,$ne,Bne,Pne,po,ore,Fne,lre,cre,zne,xg,U9,ld,T_e,RA,hre,DA,ure,MA,dre,OA,pre,$A,gre,BA,fre,PA,mre,FA,yre,zA,vre,GA,bre,qA,xre,UA,wre,jA,kre,WA,Tre,VA,Ere,YA,Cre,HA,Sre,XA,_re,KA,Are,ZA,Lre,QA,Nre,JA,Ire,e9,Rre,t9,Dre,r9,Mre,i9,Ore,n9,$re,a9,Bre,s9,Pre,o9,Fre,l9,zre,c9,Gre,h9,qre,u9,Ure,d9,jre,p9,Wre,g9,Vre,f9,Yre,m9,Hre,y9,Xre,v9,Kre,b9,Zre,x9,Qre,E_e,C_e,w9,Jre,k9,eie,T9,tie,E9,rie,C9,iie,S9,nie,S_e,__e,_9,aie,A9,sie,A_e,L_e,N_e,I_e,qr,R_e,k6,Or,Zr,Lt,j9,D_e,M_e,O_e,Jp,fh,W9,$_e,B_e,P_e,F_e,z_e,_ae,G_e,q_e,DL,U_e,Di,ui,j_e,W_e,V_e,Sh,_h,wh,Is,fg,rb,Lae,Y_e,rw,uo,Nae,Iae,oie,H_e,dg,Lh,Ns,ho,yh,Pv,p6,L9,lie,Rae,X_e,K_e,Dae,Mae,cie,ib,hie,uie,Z_e,Uv,yb,Oae,Q_e,J_e,eAe,tAe,rAe,iAe,nAe,aAe,sAe,die,oAe,lAe,cAe,$ae,Bae,hAe,Pae,pie,uAe,Ah,Fae,gie,dAe,pAe,g6,zae,Gae,Pr,gAe,qae,z6,fAe,mAe,E6,Nn,wg,yAe,vAe,bAe,xAe,kh,Kn,fie,mie,yie,In,ai,wAe,kAe,ni,S6,TAe,EAe,f6,Vae,J9,_6,CAe,SAe,eL,A6,xn,Vv,_Ae,wb,BL,el,nw,PL,Zi,aw,bn,Zn,AAe,LAe,cd,nb,ab,G6,NAe,IAe,eg,vie,RAe,DAe,N9,MAe,OAe,$Ae,Yae,BAe,PAe,Hae,FAe,zAe,GAe,bie,qAe,UAe,q6,jAe,WAe,VAe,YAe,HAe,Xae,xie,XAe,KAe,ZAe,QAe,JAe,wie,kie,VL,dd,U6,tL,rL,Qo,Ls,Tie,Eie,nd,L6,Ul,Ku,td,Zo,tg,m6,Kae,Zae,iL,nL,Cie,Sie,e9e,t9e,sb,r9e,Qn,Tb,XL,tl,Jae,ese,i9e,tse,_ie,Aie,lw,cw,rse,ise,kg,Kl,Eb,Lie,n9e,nse,Tg,I9,ase,a9e,Nie,y6,N6,aL,sse,s9e,o9e,l9e,c9e,h9e,u9e,d9e,p9e,g9e,f9e,m9e,y9e,v9e,lg,b9e,Wv,ln,x9e,Yv,j6,w9e,k9e,T9e,E9e,C9e,S9e,_9e,A9e,Iie,L9e,Rie,N9e,ose,Dn,Die,I9e,lse,Mie,rl,R9e,D9e,M9e,O9e,$9e,R9,Zl,pse,KL,pd,Nh,fse,ya,B9e,Fv,Oie,P9e,F9e,z9e,G9e,q9e,U9e,j9e,W9e,Xv,V6,D9,$ie,Bie,M9,rg,v6,zv,Gv,V9e,Ise,O9,$9,Ih,Pie,Fie,uL,dL,qse,Zu,Cb,jse,Y9e,dr,H9e,X9e,K9e,Wse,Vse,gL,Y6,hd,Z9e,Rs,sN=wt(()=>{kt();l(D6,"_arrayLikeToArray");l(zie,"_arrayWithHoles");l(Gie,"_arrayWithoutHoles");l(Hl,"_classCallCheck");l(qie,"_defineProperties");l(Xl,"_createClass");l(fa,"_createForOfIteratorHelper");l(fL,"_defineProperty$1");l(Uie,"_iterableToArray");l(jie,"_iterableToArrayLimit");l(Wie,"_nonIterableRest");l(Vie,"_nonIterableSpread");l(Gi,"_slicedToArray");l(Kv,"_toConsumableArray");l(Yie,"_toPrimitive");l(mL,"_toPropertyKey");l(Qi,"_typeof");l(H6,"_unsupportedIterableToArray");sn=typeof window>"u"?null:window,Ete=sn?sn.navigator:null;sn&&sn.document;fCe=Qi(""),Hie=Qi({}),mCe=Qi(function(){}),yCe=typeof HTMLElement>"u"?"undefined":Qi(HTMLElement),ob=l(function(t){return t&&t.instanceString&&Ci(t.instanceString)?t.instanceString():null},"instanceStr"),zt=l(function(t){return t!=null&&Qi(t)==fCe},"string"),Ci=l(function(t){return t!=null&&Qi(t)===mCe},"fn"),Jr=l(function(t){return!os(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},"array"),$r=l(function(t){return t!=null&&Qi(t)===Hie&&!Jr(t)&&t.constructor===Object},"plainObject"),vCe=l(function(t){return t!=null&&Qi(t)===Hie},"object"),ft=l(function(t){return t!=null&&Qi(t)===Qi(1)&&!isNaN(t)},"number"),bCe=l(function(t){return ft(t)&&Math.floor(t)===t},"integer"),M6=l(function(t){if(yCe!=="undefined")return t!=null&&t instanceof HTMLElement},"htmlElement"),os=l(function(t){return lb(t)||Xie(t)},"elementOrCollection"),lb=l(function(t){return ob(t)==="collection"&&t._private.single},"element"),Xie=l(function(t){return ob(t)==="collection"&&!t._private.single},"collection"),yL=l(function(t){return ob(t)==="core"},"core"),Kie=l(function(t){return ob(t)==="stylesheet"},"stylesheet"),xCe=l(function(t){return ob(t)==="event"},"event"),Th=l(function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},"emptyString"),wCe=l(function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},"domElement"),kCe=l(function(t){return $r(t)&&ft(t.x1)&&ft(t.x2)&&ft(t.y1)&&ft(t.y2)},"boundingBox"),TCe=l(function(t){return vCe(t)&&Ci(t.then)},"promise"),ECe=l(function(){return Ete&&Ete.userAgent.match(/msie|trident|edge/i)},"ms"),pg=l(function(t,e){e||(e=l(function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n]);return i.join("$")},"keyFn"));var r=l(function(){var i=this,n=arguments,a,s=e.apply(i,n),o=r.cache;return(a=o[s])||(a=o[s]=t.apply(i,n)),a},"memoizedFn");return r.cache={},r},"memoize"),vL=pg(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),X6=pg(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Zie=pg(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Cte=l(function(t){return Th(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},"capitalize"),vh=l(function(t,e){return t.slice(-1*e.length)===e},"endsWith"),on="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",CCe="rgb[a]?\\(("+on+"[%]?)\\s*,\\s*("+on+"[%]?)\\s*,\\s*("+on+"[%]?)(?:\\s*,\\s*("+on+"))?\\)",SCe="rgb[a]?\\((?:"+on+"[%]?)\\s*,\\s*(?:"+on+"[%]?)\\s*,\\s*(?:"+on+"[%]?)(?:\\s*,\\s*(?:"+on+"))?\\)",_Ce="hsl[a]?\\(("+on+")\\s*,\\s*("+on+"[%])\\s*,\\s*("+on+"[%])(?:\\s*,\\s*("+on+"))?\\)",ACe="hsl[a]?\\((?:"+on+")\\s*,\\s*(?:"+on+"[%])\\s*,\\s*(?:"+on+"[%])(?:\\s*,\\s*(?:"+on+"))?\\)",LCe="\\#[0-9a-fA-F]{3}",NCe="\\#[0-9a-fA-F]{6}",Qie=l(function(t,e){return t<e?-1:t>e?1:0},"ascending"),ICe=l(function(t,e){return-1*Qie(t,e)},"descending"),Xt=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var i=e[r];if(i!=null)for(var n=Object.keys(i),a=0;a<n.length;a++){var s=n[a];t[s]=i[s]}}return t},RCe=l(function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var e=t.length===4,r,i,n,a=16;return e?(r=parseInt(t[1]+t[1],a),i=parseInt(t[2]+t[2],a),n=parseInt(t[3]+t[3],a)):(r=parseInt(t[1]+t[2],a),i=parseInt(t[3]+t[4],a),n=parseInt(t[5]+t[6],a)),[r,i,n]}},"hex2tuple"),DCe=l(function(t){var e,r,i,n,a,s,o,h;function u(f,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?f+(m-f)*6*y:y<1/2?m:y<2/3?f+(m-f)*(2/3-y)*6:f}l(u,"hue2rgb");var d=new RegExp("^"+_Ce+"$").exec(t);if(d){if(r=parseInt(d[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(d[2]),i<0||i>100||(i=i/100,n=parseFloat(d[3]),n<0||n>100)||(n=n/100,a=d[4],a!==void 0&&(a=parseFloat(a),a<0||a>1)))return;if(i===0)s=o=h=Math.round(n*255);else{var p=n<.5?n*(1+i):n+i-n*i,g=2*n-p;s=Math.round(255*u(g,p,r+1/3)),o=Math.round(255*u(g,p,r)),h=Math.round(255*u(g,p,r-1/3))}e=[s,o,h,a]}return e},"hsl2tuple"),MCe=l(function(t){var e,r=new RegExp("^"+CCe+"$").exec(t);if(r){e=[];for(var i=[],n=1;n<=3;n++){var a=r[n];if(a[a.length-1]==="%"&&(i[n]=!0),a=parseFloat(a),i[n]&&(a=a/100*255),a<0||a>255)return;e.push(Math.floor(a))}var s=i[1]||i[2]||i[3],o=i[1]&&i[2]&&i[3];if(s&&!o)return;var h=r[4];if(h!==void 0){if(h=parseFloat(h),h<0||h>1)return;e.push(h)}}return e},"rgb2tuple"),OCe=l(function(t){return $Ce[t.toLowerCase()]},"colorname2tuple"),Jie=l(function(t){return(Jr(t)?t:null)||OCe(t)||RCe(t)||MCe(t)||DCe(t)},"color2tuple"),$Ce={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ene=l(function(t){for(var e=t.map,r=t.keys,i=r.length,n=0;n<i;n++){var a=r[n];if($r(a))throw Error("Tried to set map with object key");n<r.length-1?(e[a]==null&&(e[a]={}),e=e[a]):e[a]=t.value}},"setMap"),tne=l(function(t){for(var e=t.map,r=t.keys,i=r.length,n=0;n<i;n++){var a=r[n];if($r(a))throw Error("Tried to get map with object key");if(e=e[a],e==null)return e}return e},"getMap"),o6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};l(mg,"getDefaultExportFromCjs");l(yg,"requireIsObject");l(rne,"require_freeGlobal");l(cb,"require_root");l(ine,"requireNow");l(nne,"require_trimmedEndIndex");l(ane,"require_baseTrim");l(K6,"require_Symbol");l(sne,"require_getRawTag");l(one,"require_objectToString");l(bL,"require_baseGetTag");l(lne,"requireIsObjectLike");l(vg,"requireIsSymbol");l(cne,"requireToNumber");l(hne,"requireDebounce");BCe=hne(),hb=mg(BCe),_A=sn?sn.performance:null,une=_A&&_A.now?function(){return _A.now()}:function(){return Date.now()},PCe=(function(){if(sn){if(sn.requestAnimationFrame)return function(t){sn.requestAnimationFrame(t)};if(sn.mozRequestAnimationFrame)return function(t){sn.mozRequestAnimationFrame(t)};if(sn.webkitRequestAnimationFrame)return function(t){sn.webkitRequestAnimationFrame(t)};if(sn.msRequestAnimationFrame)return function(t){sn.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(une())},1e3/60)}})(),O6=l(function(t){return PCe(t)},"requestAnimationFrame"),Vl=une,id=9261,dne=65599,ig=5381,pne=l(function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:id,r=e,i;i=t.next(),!i.done;)r=r*dne+i.value|0;return r},"hashIterableInts"),Zv=l(function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:id;return e*dne+t|0},"hashInt"),Qv=l(function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ig;return(e<<5)+e+t|0},"hashIntAlt"),FCe=l(function(t,e){return t*2097152+e},"combineHashes"),gh=l(function(t){return t[0]*2097152+t[1]},"combineHashesArray"),l6=l(function(t,e){return[Zv(t[0],e[0]),Qv(t[1],e[1])]},"hashArrays"),zte=l(function(t,e){var r={value:0,done:!1},i=0,n=t.length,a={next:l(function(){return i<n?r.value=t[i++]:r.done=!0,r},"next")};return pne(a,e)},"hashIntsArray"),sd=l(function(t,e){var r={value:0,done:!1},i=0,n=t.length,a={next:l(function(){return i<n?r.value=t.charCodeAt(i++):r.done=!0,r},"next")};return pne(a,e)},"hashString"),gne=l(function(){return zCe(arguments)},"hashStrings"),zCe=l(function(t){for(var e,r=0;r<t.length;r++){var i=t[r];r===0?e=sd(i):e=sd(i,e)}return e},"hashStringsArray");l(fne,"rotatePoint");GCe=l(function(t,e,r,i,n,a){return{x:(t-r)*n+r,y:(e-i)*a+i}},"movePointByBoxAspect");l(mne,"rotatePosAndSkewByBox");Gte=!0,qCe=console.warn!=null,UCe=console.trace!=null,xL=Number.MAX_SAFE_INTEGER||9007199254740991,yne=l(function(){return!0},"trueify"),$6=l(function(){return!1},"falsify"),qte=l(function(){return 0},"zeroify"),wL=l(function(){},"noop"),vi=l(function(t){throw new Error(t)},"error"),vne=l(function(t){if(t!==void 0)Gte=!!t;else return Gte},"warnings"),Ur=l(function(t){vne()&&(qCe?console.warn(t):(console.log(t),UCe&&console.trace()))},"warn"),jCe=l(function(t){return Xt({},t)},"clone"),Jo=l(function(t){return t==null?t:Jr(t)?t.slice():$r(t)?jCe(t):t},"copy"),WCe=l(function(t){return t.slice()},"copyArray"),bne=l(function(t,e){for(e=t="";t++<36;e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return e},"uuid"),VCe={},xne=l(function(){return VCe},"staticEmptyObject"),Rn=l(function(t){var e=Object.keys(t);return function(r){for(var i={},n=0;n<e.length;n++){var a=e[n],s=r==null?void 0:r[a];i[a]=s===void 0?t[a]:s}return i}},"defaults"),Eh=l(function(t,e,r){for(var i=t.length-1;i>=0;i--)t[i]===e&&t.splice(i,1)},"removeFromArray"),kL=l(function(t){t.splice(0,t.length)},"clearArray"),YCe=l(function(t,e){for(var r=0;r<e.length;r++){var i=e[r];t.push(i)}},"push"),za=l(function(t,e,r){return r&&(e=Zie(r,e)),t[e]},"getPrefixedProperty"),jl=l(function(t,e,r,i){r&&(e=Zie(r,e)),t[e]=i},"setPrefixedProperty"),HCe=(function(){function t(){Hl(this,t),this._obj={}}return l(t,"ObjectMap"),Xl(t,[{key:"set",value:l(function(e,r){return this._obj[e]=r,this},"set")},{key:"delete",value:l(function(e){return this._obj[e]=void 0,this},"_delete")},{key:"clear",value:l(function(){this._obj={}},"clear")},{key:"has",value:l(function(e){return this._obj[e]!==void 0},"has")},{key:"get",value:l(function(e){return this._obj[e]},"get")}])})(),Wl=typeof Map<"u"?Map:HCe,XCe="undefined",KCe=(function(){function t(e){if(Hl(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var i=0;i<r.length;i++)this.add(r[i])}}return l(t,"ObjectSet"),Xl(t,[{key:"instanceString",value:l(function(){return"set"},"instanceString")},{key:"add",value:l(function(e){var r=this._obj;r[e]!==1&&(r[e]=1,this.size++)},"add")},{key:"delete",value:l(function(e){var r=this._obj;r[e]===1&&(r[e]=0,this.size--)},"_delete")},{key:"clear",value:l(function(){this._obj=Object.create(null)},"clear")},{key:"has",value:l(function(e){return this._obj[e]===1},"has")},{key:"toArray",value:l(function(){var e=this;return Object.keys(this._obj).filter(function(r){return e.has(r)})},"toArray")},{key:"forEach",value:l(function(e,r){return this.toArray().forEach(e,r)},"forEach")}])})(),bg=(typeof Set>"u"?"undefined":Qi(Set))!==XCe?Set:KCe,Z6=l(function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||e===void 0||!yL(t)){vi("An element must have a core reference and parameters set");return}var i=e.group;if(i==null&&(e.data&&e.data.source!=null&&e.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){vi("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var n=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:e.selectable===void 0?!0:!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:e.grabbable===void 0?!0:!!e.grabbable,pannable:e.pannable===void 0?i==="edges":!!e.pannable,active:!1,classes:new bg,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:e.parent&&e.parent.isNode()?e.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(n.position.x==null&&(n.position.x=0),n.position.y==null&&(n.position.y=0),e.renderedPosition){var a=e.renderedPosition,s=t.pan(),o=t.zoom();n.position={x:(a.x-s.x)/o,y:(a.y-s.y)/o}}var h=[];Jr(e.classes)?h=e.classes:zt(e.classes)&&(h=e.classes.split(/\s+/));for(var u=0,d=h.length;u<d;u++){var p=h[u];!p||p===""||n.classes.add(p)}this.createEmitter(),(r===void 0||r)&&this.restore();var g=e.style||e.css;g&&(Ur("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(g))},"Element"),Ute=l(function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},l(function(e,r,i){var n;$r(e)&&!os(e)&&(n=e,e=n.roots||n.root,r=n.visit,i=n.directed),i=arguments.length===2&&!Ci(r)?r:i,r=Ci(r)?r:function(){};for(var a=this._private.cy,s=e=zt(e)?this.filter(e):e,o=[],h=[],u={},d={},p={},g=0,f,m=this.byGroup(),y=m.nodes,b=m.edges,v=0;v<s.length;v++){var x=s[v],w=x.id();x.isNode()&&(o.unshift(x),t.bfs&&(p[w]=!0,h.push(x)),d[w]=0)}for(var k=l(function(){var I=t.bfs?o.shift():o.pop(),M=I.id();if(t.dfs){if(p[M])return 0;p[M]=!0,h.push(I)}var N=d[M],$=u[M],_=$!=null?$.source():null,D=$!=null?$.target():null,R=$==null?void 0:I.same(_)?D[0]:_[0],O;if(O=r(I,$,R,g++,N),O===!0)return f=I,1;if(O===!1)return 1;for(var A=I.connectedEdges().filter(function(K){return(!i||K.source().same(I))&&b.has(K)}),B=0;B<A.length;B++){var P=A[B],z=P.connectedNodes().filter(function(K){return!K.same(I)&&y.has(K)}),q=z.id();z.length!==0&&!p[q]&&(z=z[0],o.push(z),t.bfs&&(p[q]=!0,h.push(z)),u[q]=P,d[q]=d[M]+1)}},"_loop"),T;o.length!==0&&(T=k(),!(T!==0&&T===1)););for(var S=a.collection(),C=0;C<h.length;C++){var E=h[C],L=u[E.id()];L!=null&&S.push(L),S.push(E)}return{path:a.collection(S),found:a.collection(f)}},"searchFn")},"defineSearch"),Jv={breadthFirstSearch:Ute({bfs:!0}),depthFirstSearch:Ute({dfs:!0})};Jv.bfs=Jv.breadthFirstSearch;Jv.dfs=Jv.depthFirstSearch;B9={exports:{}},ZCe=B9.exports;l(wne,"requireHeap$1");l(kne,"requireHeap");QCe=kne(),ub=mg(QCe),JCe=Rn({root:null,weight:l(function(t){return 1},"weight"),directed:!1}),eSe={dijkstra:l(function(t){if(!$r(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var r=JCe(t),i=r.root,n=r.weight,a=r.directed,s=this,o=n,h=zt(i)?this.filter(i)[0]:i[0],u={},d={},p={},g=this.byGroup(),f=g.nodes,m=g.edges;m.unmergeBy(function(_){return _.isLoop()});for(var y=l(function(_){return u[_.id()]},"getDist"),b=l(function(_,D){u[_.id()]=D,v.updateItem(_)},"setDist"),v=new ub(function(_,D){return y(_)-y(D)}),x=0;x<f.length;x++){var w=f[x];u[w.id()]=w.same(h)?0:1/0,v.push(w)}for(var k=l(function(_,D){for(var R=(a?_.edgesTo(D):_.edgesWith(D)).intersect(m),O=1/0,A,B=0;B<R.length;B++){var P=R[B],z=o(P);(z<O||!A)&&(O=z,A=P)}return{edge:A,dist:O}},"distBetween");v.size()>0;){var T=v.pop(),S=y(T),C=T.id();if(p[C]=S,S!==1/0)for(var E=T.neighborhood().intersect(f),L=0;L<E.length;L++){var I=E[L],M=I.id(),N=k(T,I),$=S+N.dist;$<y(I)&&(b(I,$),d[M]={node:T,edge:N.edge})}}return{distanceTo:l(function(_){var D=zt(_)?f.filter(_)[0]:_[0];return p[D.id()]},"distanceTo"),pathTo:l(function(_){var D=zt(_)?f.filter(_)[0]:_[0],R=[],O=D,A=O.id();if(D.length>0)for(R.unshift(D);d[A];){var B=d[A];R.unshift(B.edge),R.unshift(B.node),O=B.node,A=O.id()}return s.spawn(R)},"pathTo")}},"dijkstra")},tSe={kruskal:l(function(t){t=t||function(x){return 1};for(var e=this.byGroup(),r=e.nodes,i=e.edges,n=r.length,a=new Array(n),s=r,o=l(function(x){for(var w=0;w<a.length;w++){var k=a[w];if(k.has(x))return w}},"findSetIndex"),h=0;h<n;h++)a[h]=this.spawn(r[h]);for(var u=i.sort(function(x,w){return t(x)-t(w)}),d=0;d<u.length;d++){var p=u[d],g=p.source()[0],f=p.target()[0],m=o(g),y=o(f),b=a[m],v=a[y];m!==y&&(s.merge(p),b.merge(v),a.splice(y,1))}return s},"kruskal")},rSe=Rn({root:null,goal:null,weight:l(function(t){return 1},"weight"),heuristic:l(function(t){return 0},"heuristic"),directed:!1}),iSe={aStar:l(function(t){var e=this.cy(),r=rSe(t),i=r.root,n=r.goal,a=r.heuristic,s=r.directed,o=r.weight;i=e.collection(i)[0],n=e.collection(n)[0];var h=i.id(),u=n.id(),d={},p={},g={},f=new ub(function(B,P){return p[B.id()]-p[P.id()]}),m=new bg,y={},b={},v=l(function(B,P){f.push(B),m.add(P)},"addToOpenSet"),x,w,k=l(function(){x=f.pop(),w=x.id(),m.delete(w)},"popFromOpenSet"),T=l(function(B){return m.has(B)},"isInOpenSet");v(i,h),d[h]=0,p[h]=a(i);for(var S=0;f.size()>0;){if(k(),S++,w===u){for(var C=[],E=n,L=u,I=b[L];C.unshift(E),I!=null&&C.unshift(I),E=y[L],E!=null;)L=E.id(),I=b[L];return{found:!0,distance:d[w],path:this.spawn(C),steps:S}}g[w]=!0;for(var M=x._private.edges,N=0;N<M.length;N++){var $=M[N];if(this.hasElementWithId($.id())&&!(s&&$.data("source")!==w)){var _=$.source(),D=$.target(),R=_.id()!==w?_:D,O=R.id();if(this.hasElementWithId(O)&&!g[O]){var A=d[w]+o($);if(!T(O)){d[O]=A,p[O]=A+a(R),v(R,O),y[O]=x,b[O]=$;continue}A<d[O]&&(d[O]=A,p[O]=A+a(R),y[O]=x,b[O]=$)}}}}return{found:!1,distance:void 0,path:void 0,steps:S}},"aStar")},nSe=Rn({weight:l(function(t){return 1},"weight"),directed:!1}),aSe={floydWarshall:l(function(t){for(var e=this.cy(),r=nSe(t),i=r.weight,n=r.directed,a=i,s=this.byGroup(),o=s.nodes,h=s.edges,u=o.length,d=u*u,p=l(function(z){return o.indexOf(z)},"indexOf"),g=l(function(z){return o[z]},"atIndex"),f=new Array(d),m=0;m<d;m++){var y=m%u,b=(m-y)/u;b===y?f[m]=0:f[m]=1/0}for(var v=new Array(d),x=new Array(d),w=0;w<h.length;w++){var k=h[w],T=k.source()[0],S=k.target()[0];if(T!==S){var C=p(T),E=p(S),L=C*u+E,I=a(k);if(f[L]>I&&(f[L]=I,v[L]=E,x[L]=k),!n){var M=E*u+C;!n&&f[M]>I&&(f[M]=I,v[M]=C,x[M]=k)}}}for(var N=0;N<u;N++)for(var $=0;$<u;$++)for(var _=$*u+N,D=0;D<u;D++){var R=$*u+D,O=N*u+D;f[_]+f[O]<f[R]&&(f[R]=f[_]+f[O],v[R]=v[_])}var A=l(function(z){return(zt(z)?e.filter(z):z)[0]},"getArgEle"),B=l(function(z){return p(A(z))},"indexOfArgEle"),P={distance:l(function(z,q){var K=B(z),W=B(q);return f[K*u+W]},"distance"),path:l(function(z,q){var K=B(z),W=B(q),ae=g(K);if(K===W)return ae.collection();if(v[K*u+W]==null)return e.collection();var ie=e.collection(),se=K,oe;for(ie.merge(ae);K!==W;)se=K,K=v[K*u+W],oe=x[se*u+K],ie.merge(oe),ie.merge(g(K));return ie},"path")};return P},"floydWarshall")},sSe=Rn({weight:l(function(t){return 1},"weight"),directed:!1,root:null}),oSe={bellmanFord:l(function(t){var e=this,r=sSe(t),i=r.weight,n=r.directed,a=r.root,s=i,o=this,h=this.cy(),u=this.byGroup(),d=u.edges,p=u.nodes,g=p.length,f=new Wl,m=!1,y=[];a=h.collection(a)[0],d.unmergeBy(function(fe){return fe.isLoop()});for(var b=d.length,v=l(function(fe){var V=f.get(fe.id());return V||(V={},f.set(fe.id(),V)),V},"getInfo"),x=l(function(fe){return(zt(fe)?h.$(fe):fe)[0]},"getNodeFromTo"),w=l(function(fe){return v(x(fe)).dist},"distanceTo"),k=l(function(fe){for(var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,Se=x(fe),ce=[],Le=Se;;){if(Le==null)return e.spawn();var $e=v(Le),je=$e.edge,qe=$e.pred;if(ce.unshift(Le[0]),Le.same(V)&&ce.length>0)break;je!=null&&ce.unshift(je),Le=qe}return o.spawn(ce)},"pathTo"),T=0;T<g;T++){var S=p[T],C=v(S);S.same(a)?C.dist=0:C.dist=1/0,C.pred=null,C.edge=null}for(var E=!1,L=l(function(fe,V,Se,ce,Le,$e){var je=ce.dist+$e;je<Le.dist&&!Se.same(ce.edge)&&(Le.dist=je,Le.pred=fe,Le.edge=Se,E=!0)},"checkForEdgeReplacement"),I=1;I<g;I++){E=!1;for(var M=0;M<b;M++){var N=d[M],$=N.source(),_=N.target(),D=s(N),R=v($),O=v(_);L($,_,N,R,O,D),n||L(_,$,N,O,R,D)}if(!E)break}if(E)for(var A=[],B=0;B<b;B++){var P=d[B],z=P.source(),q=P.target(),K=s(P),W=v(z).dist,ae=v(q).dist;if(W+K<ae||!n&&ae+K<W)if(m||(Ur("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),t.findNegativeWeightCycles!==!1){var ie=[];W+K<ae&&ie.push(z),!n&&ae+K<W&&ie.push(q);for(var se=ie.length,oe=0;oe<se;oe++){var Y=ie[oe],Q=[Y];Q.push(v(Y).edge);for(var j=v(Y).pred;Q.indexOf(j)===-1;)Q.push(j),Q.push(v(j).edge),j=v(j).pred;Q=Q.slice(Q.indexOf(j));for(var H=Q[0].id(),J=0,he=2;he<Q.length;he+=2)Q[he].id()<H&&(H=Q[he].id(),J=he);Q=Q.slice(J).concat(Q.slice(0,J)),Q.push(Q[0]);var X=Q.map(function(fe){return fe.id()}).join(",");A.indexOf(X)===-1&&(y.push(o.spawn(Q)),A.push(X))}}else break}return{distanceTo:w,pathTo:k,hasNegativeWeightCycle:m,negativeWeightCycles:y}},"bellmanFord")},lSe=Math.sqrt(2),cSe=l(function(t,e,r){r.length===0&&vi("Karger-Stein must be run on a connected (sub)graph");for(var i=r[t],n=i[1],a=i[2],s=e[n],o=e[a],h=r,u=h.length-1;u>=0;u--){var d=h[u],p=d[1],g=d[2];(e[p]===s&&e[g]===o||e[p]===o&&e[g]===s)&&h.splice(u,1)}for(var f=0;f<h.length;f++){var m=h[f];m[1]===o?(h[f]=m.slice(),h[f][1]=s):m[2]===o&&(h[f]=m.slice(),h[f][2]=s)}for(var y=0;y<e.length;y++)e[y]===o&&(e[y]=s);return h},"collapse"),AA=l(function(t,e,r,i){for(;r>i;){var n=Math.floor(Math.random()*e.length);e=cSe(n,t,e),r--}return e},"contractUntil"),hSe={kargerStein:l(function(){var t=this,e=this.byGroup(),r=e.nodes,i=e.edges;i.unmergeBy(function(O){return O.isLoop()});var n=r.length,a=i.length,s=Math.ceil(Math.pow(Math.log(n)/Math.LN2,2)),o=Math.floor(n/lSe);if(n<2){vi("At least 2 nodes are required for Karger-Stein algorithm");return}for(var h=[],u=0;u<a;u++){var d=i[u];h.push([u,r.indexOf(d.source()),r.indexOf(d.target())])}for(var p=1/0,g=[],f=new Array(n),m=new Array(n),y=new Array(n),b=l(function(O,A){for(var B=0;B<n;B++)A[B]=O[B]},"copyNodesMap"),v=0;v<=s;v++){for(var x=0;x<n;x++)m[x]=x;var w=AA(m,h.slice(),n,o),k=w.slice();b(m,y);var T=AA(m,w,o,2),S=AA(y,k,o,2);T.length<=S.length&&T.length<p?(p=T.length,g=T,b(m,f)):S.length<=T.length&&S.length<p&&(p=S.length,g=S,b(y,f))}for(var C=this.spawn(g.map(function(O){return i[O[0]]})),E=this.spawn(),L=this.spawn(),I=f[0],M=0;M<f.length;M++){var N=f[M],$=r[M];N===I?E.merge($):L.merge($)}var _=l(function(O){var A=t.spawn();return O.forEach(function(B){A.merge(B),B.connectedEdges().forEach(function(P){t.contains(P)&&!C.contains(P)&&A.merge(P)})}),A},"constructComponent"),D=[_(E),_(L)],R={cut:C,components:D,partition1:E,partition2:L};return R},"kargerStein")},uSe=l(function(t){return{x:t.x,y:t.y}},"copyPosition"),Q6=l(function(t,e,r){return{x:t.x*e+r.x,y:t.y*e+r.y}},"modelToRenderedPosition"),Tne=l(function(t,e,r){return{x:(t.x-r.x)/e,y:(t.y-r.y)/e}},"renderedToModelPosition"),sg=l(function(t){return{x:t[0],y:t[1]}},"array2point"),dSe=l(function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=1/0,n=e;n<r;n++){var a=t[n];isFinite(a)&&(i=Math.min(a,i))}return i},"min"),pSe=l(function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=-1/0,n=e;n<r;n++){var a=t[n];isFinite(a)&&(i=Math.max(a,i))}return i},"max"),gSe=l(function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=0,n=0,a=e;a<r;a++){var s=t[a];isFinite(s)&&(i+=s,n++)}return i/n},"mean"),fSe=l(function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?t=t.slice(e,r):(r<t.length&&t.splice(r,t.length-r),e>0&&t.splice(0,e));for(var s=0,o=t.length-1;o>=0;o--){var h=t[o];a?isFinite(h)||(t[o]=-1/0,s++):t.splice(o,1)}n&&t.sort(function(p,g){return p-g});var u=t.length,d=Math.floor(u/2);return u%2!==0?t[d+1+s]:(t[d-1+s]+t[d+s])/2},"median"),mSe=l(function(t){return Math.PI*t/180},"deg2rad"),c6=l(function(t,e){return Math.atan2(e,t)-Math.PI/2},"getAngleFromDisp"),TL=Math.log2||function(t){return Math.log(t)/Math.log(2)},EL=l(function(t){return t>0?1:t<0?-1:0},"signum"),od=l(function(t,e){return Math.sqrt(Qu(t,e))},"dist"),Qu=l(function(t,e){var r=e.x-t.x,i=e.y-t.y;return r*r+i*i},"sqdist"),ySe=l(function(t){for(var e=t.length,r=0,i=0;i<e;i++)r+=t[i];for(var n=0;n<e;n++)t[n]=t[n]/r;return t},"inPlaceSumNormalize"),vn=l(function(t,e,r,i){return(1-i)*(1-i)*t+2*(1-i)*i*e+i*i*r},"qbezierAt"),cg=l(function(t,e,r,i){return{x:vn(t.x,e.x,r.x,i),y:vn(t.y,e.y,r.y,i)}},"qbezierPtAt"),vSe=l(function(t,e,r,i){var n={x:e.x-t.x,y:e.y-t.y},a=od(t,e),s={x:n.x/a,y:n.y/a};return r=r??0,i=i??r*a,{x:t.x+s.x*i,y:t.y+s.y*i}},"lineAt"),eb=l(function(t,e,r){return Math.max(t,Math.min(r,e))},"bound"),ma=l(function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},"makeBoundingBox"),bSe=l(function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},"copyBoundingBox"),xSe=l(function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},"clearBoundingBox"),wSe=l(function(t,e){t.x1=Math.min(t.x1,e.x1),t.x2=Math.max(t.x2,e.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,e.y1),t.y2=Math.max(t.y2,e.y2),t.h=t.y2-t.y1},"updateBoundingBox"),Ene=l(function(t,e,r){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r),t.y2=Math.max(t.y2,r),t.h=t.y2-t.y1},"expandBoundingBoxByPoint"),b6=l(function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},"expandBoundingBox"),x6=l(function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,n,a;if(e.length===1)r=i=n=a=e[0];else if(e.length===2)r=n=e[0],a=i=e[1];else if(e.length===4){var s=Gi(e,4);r=s[0],i=s[1],n=s[2],a=s[3]}return t.x1-=a,t.x2+=i,t.y1-=r,t.y2+=n,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},"expandBoundingBoxSides"),Yte=l(function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},"assignBoundingBox"),CL=l(function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},"boundingBoxesIntersect"),bh=l(function(t,e,r){return t.x1<=e&&e<=t.x2&&t.y1<=r&&r<=t.y2},"inBoundingBox"),Hte=l(function(t,e){return bh(t,e.x,e.y)},"pointInBoundingBox"),Cne=l(function(t,e){return bh(t,e.x1,e.y1)&&bh(t,e.x2,e.y2)},"boundingBoxInBoundingBox"),kSe=(LA=Math.hypot)!==null&&LA!==void 0?LA:function(t,e){return Math.sqrt(t*t+e*e)};l(Sne,"inflatePolygon");l(_ne,"miterBox");Ane=l(function(t,e,r,i,n,a,s){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",h=o==="auto"?Ch(n,a):o,u=n/2,d=a/2;h=Math.min(h,u,d);var p=h!==u,g=h!==d,f;if(p){var m=r-u+h-s,y=i-d-s,b=r+u-h+s,v=y;if(f=xh(t,e,r,i,m,y,b,v,!1),f.length>0)return f}if(g){var x=r+u+s,w=i-d+h-s,k=x,T=i+d-h+s;if(f=xh(t,e,r,i,x,w,k,T,!1),f.length>0)return f}if(p){var S=r-u+h-s,C=i+d+s,E=r+u-h+s,L=C;if(f=xh(t,e,r,i,S,C,E,L,!1),f.length>0)return f}if(g){var I=r-u-s,M=i-d+h-s,N=I,$=i+d-h+s;if(f=xh(t,e,r,i,I,M,N,$,!1),f.length>0)return f}var _;{var D=r-u+h,R=i-d+h;if(_=qv(t,e,r,i,D,R,h+s),_.length>0&&_[0]<=D&&_[1]<=R)return[_[0],_[1]]}{var O=r+u-h,A=i-d+h;if(_=qv(t,e,r,i,O,A,h+s),_.length>0&&_[0]>=O&&_[1]<=A)return[_[0],_[1]]}{var B=r+u-h,P=i+d-h;if(_=qv(t,e,r,i,B,P,h+s),_.length>0&&_[0]>=B&&_[1]>=P)return[_[0],_[1]]}{var z=r-u+h,q=i+d-h;if(_=qv(t,e,r,i,z,q,h+s),_.length>0&&_[0]<=z&&_[1]>=q)return[_[0],_[1]]}return[]},"roundRectangleIntersectLine"),TSe=l(function(t,e,r,i,n,a,s){var o=s,h=Math.min(r,n),u=Math.max(r,n),d=Math.min(i,a),p=Math.max(i,a);return h-o<=t&&t<=u+o&&d-o<=e&&e<=p+o},"inLineVicinity"),ESe=l(function(t,e,r,i,n,a,s,o,h){var u={x1:Math.min(r,s,n)-h,x2:Math.max(r,s,n)+h,y1:Math.min(i,o,a)-h,y2:Math.max(i,o,a)+h};return!(t<u.x1||t>u.x2||e<u.y1||e>u.y2)},"inBezierVicinity"),CSe=l(function(t,e,r,i){r-=i;var n=e*e-4*t*r;if(n<0)return[];var a=Math.sqrt(n),s=2*t,o=(-e+a)/s,h=(-e-a)/s;return[o,h]},"solveQuadratic"),SSe=l(function(t,e,r,i,n){var a=1e-5;t===0&&(t=a),e/=t,r/=t,i/=t;var s,o,h,u,d,p,g,f;if(o=(3*r-e*e)/9,h=-(27*i)+e*(9*r-2*(e*e)),h/=54,s=o*o*o+h*h,n[1]=0,g=e/3,s>0){d=h+Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),p=h-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),n[0]=-g+d+p,g+=(d+p)/2,n[4]=n[2]=-g,g=Math.sqrt(3)*(-p+d)/2,n[3]=g,n[5]=-g;return}if(n[5]=n[3]=0,s===0){f=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),n[0]=-g+2*f,n[4]=n[2]=-(f+g);return}o=-o,u=o*o*o,u=Math.acos(h/Math.sqrt(u)),f=2*Math.sqrt(o),n[0]=-g+f*Math.cos(u/3),n[2]=-g+f*Math.cos((u+2*Math.PI)/3),n[4]=-g+f*Math.cos((u+4*Math.PI)/3)},"solveCubic"),_Se=l(function(t,e,r,i,n,a,s,o){var h=1*r*r-4*r*n+2*r*s+4*n*n-4*n*s+s*s+i*i-4*i*a+2*i*o+4*a*a-4*a*o+o*o,u=9*r*n-3*r*r-3*r*s-6*n*n+3*n*s+9*i*a-3*i*i-3*i*o-6*a*a+3*a*o,d=3*r*r-6*r*n+r*s-r*t+2*n*n+2*n*t-s*t+3*i*i-6*i*a+i*o-i*e+2*a*a+2*a*e-o*e,p=1*r*n-r*r+r*t-n*t+i*a-i*i+i*e-a*e,g=[];SSe(h,u,d,p,g);for(var f=1e-7,m=[],y=0;y<6;y+=2)Math.abs(g[y+1])<f&&g[y]>=0&&g[y]<=1&&m.push(g[y]);m.push(1),m.push(0);for(var b=-1,v,x,w,k=0;k<m.length;k++)v=Math.pow(1-m[k],2)*r+2*(1-m[k])*m[k]*n+m[k]*m[k]*s,x=Math.pow(1-m[k],2)*i+2*(1-m[k])*m[k]*a+m[k]*m[k]*o,w=Math.pow(v-t,2)+Math.pow(x-e,2),b>=0?w<b&&(b=w):b=w;return b},"sqdistToQuadraticBezier"),ASe=l(function(t,e,r,i,n,a){var s=[t-r,e-i],o=[n-r,a-i],h=o[0]*o[0]+o[1]*o[1],u=s[0]*s[0]+s[1]*s[1],d=s[0]*o[0]+s[1]*o[1],p=d*d/h;return d<0?u:p>h?(t-n)*(t-n)+(e-a)*(e-a):u-p},"sqdistToFiniteLine"),Ga=l(function(t,e,r){for(var i,n,a,s,o,h=0,u=0;u<r.length/2;u++)if(i=r[u*2],n=r[u*2+1],u+1<r.length/2?(a=r[(u+1)*2],s=r[(u+1)*2+1]):(a=r[(u+1-r.length/2)*2],s=r[(u+1-r.length/2)*2+1]),!(i==t&&a==t))if(i>=t&&t>=a||i<=t&&t<=a)o=(t-i)/(a-i)*(s-n)+n,o>e&&h++;else continue;return h%2!==0},"pointInsidePolygonPoints"),Yl=l(function(t,e,r,i,n,a,s,o,h){var u=new Array(r.length),d;o[0]!=null?(d=Math.atan(o[1]/o[0]),o[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=o;for(var p=Math.cos(-d),g=Math.sin(-d),f=0;f<u.length/2;f++)u[f*2]=a/2*(r[f*2]*p-r[f*2+1]*g),u[f*2+1]=s/2*(r[f*2+1]*p+r[f*2]*g),u[f*2]+=i,u[f*2+1]+=n;var m;if(h>0){var y=P6(u,-h);m=B6(y)}else m=u;return Ga(t,e,m)},"pointInsidePolygon"),LSe=l(function(t,e,r,i,n,a,s,o){for(var h=new Array(r.length*2),u=0;u<o.length;u++){var d=o[u];h[u*4+0]=d.startX,h[u*4+1]=d.startY,h[u*4+2]=d.stopX,h[u*4+3]=d.stopY;var p=Math.pow(d.cx-t,2)+Math.pow(d.cy-e,2);if(p<=Math.pow(d.radius,2))return!0}return Ga(t,e,h)},"pointInsideRoundPolygon"),B6=l(function(t){for(var e=new Array(t.length/2),r,i,n,a,s,o,h,u,d=0;d<t.length/4;d++){r=t[d*4],i=t[d*4+1],n=t[d*4+2],a=t[d*4+3],d<t.length/4-1?(s=t[(d+1)*4],o=t[(d+1)*4+1],h=t[(d+1)*4+2],u=t[(d+1)*4+3]):(s=t[0],o=t[1],h=t[2],u=t[3]);var p=xh(r,i,n,a,s,o,h,u,!0);e[d*2]=p[0],e[d*2+1]=p[1]}return e},"joinLines"),P6=l(function(t,e){for(var r=new Array(t.length*2),i,n,a,s,o=0;o<t.length/2;o++){i=t[o*2],n=t[o*2+1],o<t.length/2-1?(a=t[(o+1)*2],s=t[(o+1)*2+1]):(a=t[0],s=t[1]);var h=s-n,u=-(a-i),d=Math.sqrt(h*h+u*u),p=h/d,g=u/d;r[o*4]=i+p*e,r[o*4+1]=n+g*e,r[o*4+2]=a+p*e,r[o*4+3]=s+g*e}return r},"expandPolygon"),NSe=l(function(t,e,r,i,n,a){var s=r-t,o=i-e;s/=n,o/=a;var h=Math.sqrt(s*s+o*o),u=h-1;if(u<0)return[];var d=u/h;return[(r-t)*d+t,(i-e)*d+e]},"intersectLineEllipse"),ad=l(function(t,e,r,i,n,a,s){return t-=n,e-=a,t/=r/2+s,e/=i/2+s,t*t+e*e<=1},"checkInEllipse"),qv=l(function(t,e,r,i,n,a,s){var o=[r-t,i-e],h=[t-n,e-a],u=o[0]*o[0]+o[1]*o[1],d=2*(h[0]*o[0]+h[1]*o[1]),p=h[0]*h[0]+h[1]*h[1]-s*s,g=d*d-4*u*p;if(g<0)return[];var f=(-d+Math.sqrt(g))/(2*u),m=(-d-Math.sqrt(g))/(2*u),y=Math.min(f,m),b=Math.max(f,m),v=[];if(y>=0&&y<=1&&v.push(y),b>=0&&b<=1&&v.push(b),v.length===0)return[];var x=v[0]*o[0]+t,w=v[0]*o[1]+e;if(v.length>1){if(v[0]==v[1])return[x,w];var k=v[1]*o[0]+t,T=v[1]*o[1]+e;return[x,w,k,T]}else return[x,w]},"intersectLineCircle"),NA=l(function(t,e,r){return e<=t&&t<=r||r<=t&&t<=e?t:t<=e&&e<=r||r<=e&&e<=t?e:r},"midOfThree"),xh=l(function(t,e,r,i,n,a,s,o,h){var u=t-n,d=r-t,p=s-n,g=e-a,f=i-e,m=o-a,y=p*g-m*u,b=d*g-f*u,v=m*d-p*f;if(v!==0){var x=y/v,w=b/v,k=.001,T=0-k,S=1+k;return T<=x&&x<=S&&T<=w&&w<=S?[t+x*d,e+x*f]:h?[t+x*d,e+x*f]:[]}else return y===0||b===0?NA(t,r,s)===s?[s,o]:NA(t,r,n)===n?[n,a]:NA(n,s,r)===r?[r,i]:[]:[]},"finiteLinesIntersect"),ISe=l(function(t,e,r,i,n){var a=[],s=i/2,o=n/2,h=e,u=r;a.push({x:h+s*t[0],y:u+o*t[1]});for(var d=1;d<t.length/2;d++)a.push({x:h+s*t[d*2],y:u+o*t[d*2+1]});return a},"transformPoints"),tb=l(function(t,e,r,i,n,a,s,o){var h=[],u,d=new Array(r.length),p=!0;a==null&&(p=!1);var g;if(p){for(var f=0;f<d.length/2;f++)d[f*2]=r[f*2]*a+i,d[f*2+1]=r[f*2+1]*s+n;if(o>0){var m=P6(d,-o);g=B6(m)}else g=d}else g=r;for(var y,b,v,x,w=0;w<g.length/2;w++)y=g[w*2],b=g[w*2+1],w<g.length/2-1?(v=g[(w+1)*2],x=g[(w+1)*2+1]):(v=g[0],x=g[1]),u=xh(t,e,i,n,y,b,v,x),u.length!==0&&h.push(u[0],u[1]);return h},"polygonIntersectLine"),RSe=l(function(t,e,r,i,n,a,s,o,h){var u=[],d,p=new Array(r.length*2);h.forEach(function(v,x){x===0?(p[p.length-2]=v.startX,p[p.length-1]=v.startY):(p[x*4-2]=v.startX,p[x*4-1]=v.startY),p[x*4]=v.stopX,p[x*4+1]=v.stopY,d=qv(t,e,i,n,v.cx,v.cy,v.radius),d.length!==0&&u.push(d[0],d[1])});for(var g=0;g<p.length/4;g++)d=xh(t,e,i,n,p[g*4],p[g*4+1],p[g*4+2],p[g*4+3],!1),d.length!==0&&u.push(d[0],d[1]);if(u.length>2){for(var f=[u[0],u[1]],m=Math.pow(f[0]-t,2)+Math.pow(f[1]-e,2),y=1;y<u.length/2;y++){var b=Math.pow(u[y*2]-t,2)+Math.pow(u[y*2+1]-e,2);b<=m&&(f[0]=u[y*2],f[1]=u[y*2+1],m=b)}return f}return u},"roundPolygonIntersectLine"),h6=l(function(t,e,r){var i=[t[0]-e[0],t[1]-e[1]],n=Math.sqrt(i[0]*i[0]+i[1]*i[1]),a=(n-r)/n;return a<0&&(a=1e-5),[e[0]+a*i[0],e[1]+a*i[1]]},"shortenIntersection"),ga=l(function(t,e){var r=P9(t,e);return r=Lne(r),r},"generateUnitNgonPointsFitToSquare"),Lne=l(function(t){for(var e,r,i=t.length/2,n=1/0,a=1/0,s=-1/0,o=-1/0,h=0;h<i;h++)e=t[2*h],r=t[2*h+1],n=Math.min(n,e),s=Math.max(s,e),a=Math.min(a,r),o=Math.max(o,r);for(var u=2/(s-n),d=2/(o-a),p=0;p<i;p++)e=t[2*p]=t[2*p]*u,r=t[2*p+1]=t[2*p+1]*d,n=Math.min(n,e),s=Math.max(s,e),a=Math.min(a,r),o=Math.max(o,r);if(a<-1)for(var g=0;g<i;g++)r=t[2*g+1]=t[2*g+1]+(-1-a);return t},"fitPolygonToSquare"),P9=l(function(t,e){var r=1/t*2*Math.PI,i=t%2===0?Math.PI/2+r/2:Math.PI/2;i+=e;for(var n=new Array(t*2),a,s=0;s<t;s++)a=s*r+i,n[2*s]=Math.cos(a),n[2*s+1]=Math.sin(-a);return n},"generateUnitNgonPoints"),Ch=l(function(t,e){return Math.min(t/4,e/4,8)},"getRoundRectangleRadius"),Nne=l(function(t,e){return Math.min(t/10,e/10,8)},"getRoundPolygonRadius"),SL=l(function(){return 8},"getCutRectangleCornerLength"),DSe=l(function(t,e,r){return[t-2*e+r,2*(e-t),t]},"bezierPtsToQuadCoeff"),F9=l(function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},"getBarrelCurveConstants");l(w6,"satPolygonIntersection");MSe=Rn({dampingFactor:.8,precision:1e-6,iterations:200,weight:l(function(t){return 1},"weight")}),OSe={pageRank:l(function(t){for(var e=MSe(t),r=e.dampingFactor,i=e.precision,n=e.iterations,a=e.weight,s=this._private.cy,o=this.byGroup(),h=o.nodes,u=o.edges,d=h.length,p=d*d,g=u.length,f=new Array(p),m=new Array(d),y=(1-r)/d,b=0;b<d;b++){for(var v=0;v<d;v++){var x=b*d+v;f[x]=0}m[b]=0}for(var w=0;w<g;w++){var k=u[w],T=k.data("source"),S=k.data("target");if(T!==S){var C=h.indexOfId(T),E=h.indexOfId(S),L=a(k),I=E*d+C;f[I]+=L,m[C]+=L}}for(var M=1/d+y,N=0;N<d;N++)if(m[N]===0)for(var $=0;$<d;$++){var _=$*d+N;f[_]=M}else for(var D=0;D<d;D++){var R=D*d+N;f[R]=f[R]/m[N]+y}for(var O=new Array(d),A=new Array(d),B,P=0;P<d;P++)O[P]=1;for(var z=0;z<n;z++){for(var q=0;q<d;q++)A[q]=0;for(var K=0;K<d;K++)for(var W=0;W<d;W++){var ae=K*d+W;A[K]+=f[ae]*O[W]}ySe(A),B=O,O=A,A=B;for(var ie=0,se=0;se<d;se++){var oe=B[se]-O[se];ie+=oe*oe}if(ie<i)break}var Y={rank:l(function(Q){return Q=s.collection(Q)[0],O[h.indexOf(Q)]},"rank")};return Y},"pageRank")},Xte=Rn({root:null,weight:l(function(t){return 1},"weight"),directed:!1,alpha:0}),hg={degreeCentralityNormalized:l(function(t){t=Xte(t);var e=this.cy(),r=this.nodes(),i=r.length;if(t.directed){for(var n={},a={},s=0,o=0,h=0;h<i;h++){var u=r[h],d=u.id();t.root=u;var p=this.degreeCentrality(t);s<p.indegree&&(s=p.indegree),o<p.outdegree&&(o=p.outdegree),n[d]=p.indegree,a[d]=p.outdegree}return{indegree:l(function(v){return s==0?0:(zt(v)&&(v=e.filter(v)),n[v.id()]/s)},"indegree"),outdegree:l(function(v){return o===0?0:(zt(v)&&(v=e.filter(v)),a[v.id()]/o)},"outdegree")}}else{for(var g={},f=0,m=0;m<i;m++){var y=r[m];t.root=y;var b=this.degreeCentrality(t);f<b.degree&&(f=b.degree),g[y.id()]=b.degree}return{degree:l(function(v){return f===0?0:(zt(v)&&(v=e.filter(v)),g[v.id()]/f)},"degree")}}},"degreeCentralityNormalized"),degreeCentrality:l(function(t){t=Xte(t);var e=this.cy(),r=this,i=t,n=i.root,a=i.weight,s=i.directed,o=i.alpha;if(n=e.collection(n)[0],s){for(var h=n.connectedEdges(),u=h.filter(function(T){return T.target().same(n)&&r.has(T)}),d=h.filter(function(T){return T.source().same(n)&&r.has(T)}),p=u.length,g=d.length,f=0,m=0,y=0;y<u.length;y++)f+=a(u[y]);for(var b=0;b<d.length;b++)m+=a(d[b]);return{indegree:Math.pow(p,1-o)*Math.pow(f,o),outdegree:Math.pow(g,1-o)*Math.pow(m,o)}}else{for(var v=n.connectedEdges().intersection(r),x=v.length,w=0,k=0;k<v.length;k++)w+=a(v[k]);return{degree:Math.pow(x,1-o)*Math.pow(w,o)}}},"degreeCentrality")};hg.dc=hg.degreeCentrality;hg.dcn=hg.degreeCentralityNormalised=hg.degreeCentralityNormalized;Kte=Rn({harmonic:!0,weight:l(function(){return 1},"weight"),directed:!1,root:null}),ug={closenessCentralityNormalized:l(function(t){for(var e=Kte(t),r=e.harmonic,i=e.weight,n=e.directed,a=this.cy(),s={},o=0,h=this.nodes(),u=this.floydWarshall({weight:i,directed:n}),d=0;d<h.length;d++){for(var p=0,g=h[d],f=0;f<h.length;f++)if(d!==f){var m=u.distance(g,h[f]);r?p+=1/m:p+=m}r||(p=1/p),o<p&&(o=p),s[g.id()]=p}return{closeness:l(function(y){return o==0?0:(zt(y)?y=a.filter(y)[0].id():y=y.id(),s[y]/o)},"closeness")}},"closenessCentralityNormalized"),closenessCentrality:l(function(t){var e=Kte(t),r=e.root,i=e.weight,n=e.directed,a=e.harmonic;r=this.filter(r)[0];for(var s=this.dijkstra({root:r,weight:i,directed:n}),o=0,h=this.nodes(),u=0;u<h.length;u++){var d=h[u];if(!d.same(r)){var p=s.distanceTo(d);a?o+=1/p:o+=p}}return a?o:1/o},"closenessCentrality")};ug.cc=ug.closenessCentrality;ug.ccn=ug.closenessCentralityNormalised=ug.closenessCentralityNormalized;$Se=Rn({weight:null,directed:!1}),z9={betweennessCentrality:l(function(t){for(var e=$Se(t),r=e.directed,i=e.weight,n=i!=null,a=this.cy(),s=this.nodes(),o={},h={},u=0,d={set:l(function(v,x){h[v]=x,x>u&&(u=x)},"set"),get:l(function(v){return h[v]},"get")},p=0;p<s.length;p++){var g=s[p],f=g.id();r?o[f]=g.outgoers().nodes():o[f]=g.openNeighborhood().nodes(),d.set(f,0)}for(var m=l(function(){for(var v=s[y].id(),x=[],w={},k={},T={},S=new ub(function(q,K){return T[q]-T[K]}),C=0;C<s.length;C++){var E=s[C].id();w[E]=[],k[E]=0,T[E]=1/0}for(k[v]=1,T[v]=0,S.push(v);!S.empty();){var L=S.pop();if(x.push(L),n)for(var I=0;I<o[L].length;I++){var M=o[L][I],N=a.getElementById(L),$=void 0;N.edgesTo(M).length>0?$=N.edgesTo(M)[0]:$=M.edgesTo(N)[0];var _=i($);M=M.id(),T[M]>T[L]+_&&(T[M]=T[L]+_,S.nodes.indexOf(M)<0?S.push(M):S.updateItem(M),k[M]=0,w[M]=[]),T[M]==T[L]+_&&(k[M]=k[M]+k[L],w[M].push(L))}else for(var D=0;D<o[L].length;D++){var R=o[L][D].id();T[R]==1/0&&(S.push(R),T[R]=T[L]+1),T[R]==T[L]+1&&(k[R]=k[R]+k[L],w[R].push(L))}}for(var O={},A=0;A<s.length;A++)O[s[A].id()]=0;for(;x.length>0;){for(var B=x.pop(),P=0;P<w[B].length;P++){var z=w[B][P];O[z]=O[z]+k[z]/k[B]*(1+O[B])}B!=s[y].id()&&d.set(B,d.get(B)+O[B])}},"_loop"),y=0;y<s.length;y++)m();var b={betweenness:l(function(v){var x=a.collection(v).id();return d.get(x)},"betweenness"),betweennessNormalized:l(function(v){if(u==0)return 0;var x=a.collection(v).id();return d.get(x)/u},"betweennessNormalized")};return b.betweennessNormalised=b.betweennessNormalized,b},"betweennessCentrality")};z9.bc=z9.betweennessCentrality;BSe=Rn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),PSe=l(function(t){return BSe(t)},"setOptions"),FSe=l(function(t,e){for(var r=0,i=0;i<e.length;i++)r+=e[i](t);return r},"getSimilarity"),zSe=l(function(t,e,r){for(var i=0;i<e;i++)t[i*e+i]=r},"addLoops"),Ine=l(function(t,e){for(var r,i=0;i<e;i++){r=0;for(var n=0;n<e;n++)r+=t[n*e+i];for(var a=0;a<e;a++)t[a*e+i]=t[a*e+i]/r}},"normalize"),GSe=l(function(t,e,r){for(var i=new Array(r*r),n=0;n<r;n++){for(var a=0;a<r;a++)i[n*r+a]=0;for(var s=0;s<r;s++)for(var o=0;o<r;o++)i[n*r+o]+=t[n*r+s]*e[s*r+o]}return i},"mmult"),qSe=l(function(t,e,r){for(var i=t.slice(0),n=1;n<r;n++)t=GSe(t,i,e);return t},"expand"),USe=l(function(t,e,r){for(var i=new Array(e*e),n=0;n<e*e;n++)i[n]=Math.pow(t[n],r);return Ine(i,e),i},"inflate"),jSe=l(function(t,e,r,i){for(var n=0;n<r;n++){var a=Math.round(t[n]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(e[n]*Math.pow(10,i))/Math.pow(10,i);if(a!==s)return!1}return!0},"hasConverged"),WSe=l(function(t,e,r,i){for(var n=[],a=0;a<e;a++){for(var s=[],o=0;o<e;o++)Math.round(t[a*e+o]*1e3)/1e3>0&&s.push(r[o]);s.length!==0&&n.push(i.collection(s))}return n},"assign"),VSe=l(function(t,e){for(var r=0;r<t.length;r++)if(!e[r]||t[r].id()!==e[r].id())return!1;return!0},"isDuplicate"),YSe=l(function(t){for(var e=0;e<t.length;e++)for(var r=0;r<t.length;r++)e!=r&&VSe(t[e],t[r])&&t.splice(r,1);return t},"removeDuplicates"),Zte=l(function(t){for(var e=this.nodes(),r=this.edges(),i=this.cy(),n=PSe(t),a={},s=0;s<e.length;s++)a[e[s].id()]=s;for(var o=e.length,h=o*o,u=new Array(h),d,p=0;p<h;p++)u[p]=0;for(var g=0;g<r.length;g++){var f=r[g],m=a[f.source().id()],y=a[f.target().id()],b=FSe(f,n.attributes);u[m*o+y]+=b,u[y*o+m]+=b}zSe(u,o,n.multFactor),Ine(u,o);for(var v=!0,x=0;v&&x<n.maxIterations;)v=!1,d=qSe(u,o,n.expandFactor),u=USe(d,o,n.inflateFactor),jSe(u,d,h,4)||(v=!0),x++;var w=WSe(u,o,e,i);return w=YSe(w),w},"markovClustering"),HSe={markovClustering:Zte,mcl:Zte},XSe=l(function(t){return t},"identity"),Rne=l(function(t,e){return Math.abs(e-t)},"absDiff"),Qte=l(function(t,e,r){return t+Rne(e,r)},"addAbsDiff"),Jte=l(function(t,e,r){return t+Math.pow(r-e,2)},"addSquaredDiff"),KSe=l(function(t){return Math.sqrt(t)},"sqrt"),ZSe=l(function(t,e,r){return Math.max(t,Rne(e,r))},"maxAbsDiff"),Bv=l(function(t,e,r,i,n){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:XSe,s=i,o,h,u=0;u<t;u++)o=e(u),h=r(u),s=n(s,o,h);return a(s)},"getDistance"),gg={euclidean:l(function(t,e,r){return t>=2?Bv(t,e,r,0,Jte,KSe):Bv(t,e,r,0,Qte)},"euclidean"),squaredEuclidean:l(function(t,e,r){return Bv(t,e,r,0,Jte)},"squaredEuclidean"),manhattan:l(function(t,e,r){return Bv(t,e,r,0,Qte)},"manhattan"),max:l(function(t,e,r){return Bv(t,e,r,-1/0,ZSe)},"max")};gg["squared-euclidean"]=gg.squaredEuclidean;gg.squaredeuclidean=gg.squaredEuclidean;l(db,"clusteringDistance");QSe=Rn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),_L=l(function(t){return QSe(t)},"setOptions"),F6=l(function(t,e,r,i,n){var a=n!=="kMedoids",s=a?function(d){return r[d]}:function(d){return i[d](r)},o=l(function(d){return i[d](e)},"getQ"),h=r,u=e;return db(t,i.length,s,o,h,u)},"getDist"),IA=l(function(t,e,r){for(var i=r.length,n=new Array(i),a=new Array(i),s=new Array(e),o=null,h=0;h<i;h++)n[h]=t.min(r[h]).value,a[h]=t.max(r[h]).value;for(var u=0;u<e;u++){o=[];for(var d=0;d<i;d++)o[d]=Math.random()*(a[d]-n[d])+n[d];s[u]=o}return s},"randomCentroids"),Dne=l(function(t,e,r,i,n){for(var a=1/0,s=0,o=0;o<e.length;o++){var h=F6(r,t,e[o],i,n);h<a&&(a=h,s=o)}return s},"classify"),Mne=l(function(t,e,r){for(var i=[],n=null,a=0;a<e.length;a++)n=e[a],r[n.id()]===t&&i.push(n);return i},"buildCluster"),JSe=l(function(t,e,r){return Math.abs(e-t)<=r},"haveValuesConverged"),e_e=l(function(t,e,r){for(var i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++){var a=Math.abs(t[i][n]-e[i][n]);if(a>r)return!1}return!0},"haveMatricesConverged"),t_e=l(function(t,e,r){for(var i=0;i<r;i++)if(t===e[i])return!0;return!1},"seenBefore"),ere=l(function(t,e){var r=new Array(e);if(t.length<50)for(var i=0;i<e;i++){for(var n=t[Math.floor(Math.random()*t.length)];t_e(n,r,i);)n=t[Math.floor(Math.random()*t.length)];r[i]=n}else for(var a=0;a<e;a++)r[a]=t[Math.floor(Math.random()*t.length)];return r},"randomMedoids"),tre=l(function(t,e,r){for(var i=0,n=0;n<e.length;n++)i+=F6("manhattan",e[n],t,r,"kMedoids");return i},"findCost"),r_e=l(function(t){var e=this.cy(),r=this.nodes(),i=null,n=_L(t),a=new Array(n.k),s={},o;n.testMode?typeof n.testCentroids=="number"?(n.testCentroids,o=IA(r,n.k,n.attributes)):Qi(n.testCentroids)==="object"?o=n.testCentroids:o=IA(r,n.k,n.attributes):o=IA(r,n.k,n.attributes);for(var h=!0,u=0;h&&u<n.maxIterations;){for(var d=0;d<r.length;d++)i=r[d],s[i.id()]=Dne(i,o,n.distance,n.attributes,"kMeans");h=!1;for(var p=0;p<n.k;p++){var g=Mne(p,r,s);if(g.length!==0){for(var f=n.attributes.length,m=o[p],y=new Array(f),b=new Array(f),v=0;v<f;v++){b[v]=0;for(var x=0;x<g.length;x++)i=g[x],b[v]+=n.attributes[v](i);y[v]=b[v]/g.length,JSe(y[v],m[v],n.sensitivityThreshold)||(h=!0)}o[p]=y,a[p]=e.collection(g)}}u++}return a},"kMeans"),i_e=l(function(t){var e=this.cy(),r=this.nodes(),i=null,n=_L(t),a=new Array(n.k),s,o={},h,u=new Array(n.k);n.testMode?typeof n.testCentroids=="number"||(Qi(n.testCentroids)==="object"?s=n.testCentroids:s=ere(r,n.k)):s=ere(r,n.k);for(var d=!0,p=0;d&&p<n.maxIterations;){for(var g=0;g<r.length;g++)i=r[g],o[i.id()]=Dne(i,s,n.distance,n.attributes,"kMedoids");d=!1;for(var f=0;f<s.length;f++){var m=Mne(f,r,o);if(m.length!==0){u[f]=tre(s[f],m,n.attributes);for(var y=0;y<m.length;y++)h=tre(m[y],m,n.attributes),h<u[f]&&(u[f]=h,s[f]=m[y],d=!0);a[f]=e.collection(m)}}p++}return a},"kMedoids"),n_e=l(function(t,e,r,i,n){for(var a,s,o=0;o<e.length;o++)for(var h=0;h<t.length;h++)i[o][h]=Math.pow(r[o][h],n.m);for(var u=0;u<t.length;u++)for(var d=0;d<n.attributes.length;d++){a=0,s=0;for(var p=0;p<e.length;p++)a+=i[p][u]*n.attributes[d](e[p]),s+=i[p][u];t[u][d]=a/s}},"updateCentroids"),a_e=l(function(t,e,r,i,n){for(var a=0;a<t.length;a++)e[a]=t[a].slice();for(var s,o,h,u=2/(n.m-1),d=0;d<r.length;d++)for(var p=0;p<i.length;p++){s=0;for(var g=0;g<r.length;g++)o=F6(n.distance,i[p],r[d],n.attributes,"cmeans"),h=F6(n.distance,i[p],r[g],n.attributes,"cmeans"),s+=Math.pow(o/h,u);t[p][d]=1/s}},"updateMembership"),s_e=l(function(t,e,r,i){for(var n=new Array(r.k),a=0;a<n.length;a++)n[a]=[];for(var s,o,h=0;h<e.length;h++){s=-1/0,o=-1;for(var u=0;u<e[0].length;u++)e[h][u]>s&&(s=e[h][u],o=u);n[o].push(t[h])}for(var d=0;d<n.length;d++)n[d]=i.collection(n[d]);return n},"assign"),rre=l(function(t){var e=this.cy(),r=this.nodes(),i=_L(t),n,a,s,o,h;o=new Array(r.length);for(var u=0;u<r.length;u++)o[u]=new Array(i.k);s=new Array(r.length);for(var d=0;d<r.length;d++)s[d]=new Array(i.k);for(var p=0;p<r.length;p++){for(var g=0,f=0;f<i.k;f++)s[p][f]=Math.random(),g+=s[p][f];for(var m=0;m<i.k;m++)s[p][m]=s[p][m]/g}a=new Array(i.k);for(var y=0;y<i.k;y++)a[y]=new Array(i.attributes.length);h=new Array(r.length);for(var b=0;b<r.length;b++)h[b]=new Array(i.k);for(var v=!0,x=0;v&&x<i.maxIterations;)v=!1,n_e(a,r,s,h,i),a_e(s,o,a,r,i),e_e(s,o,i.sensitivityThreshold)||(v=!0),x++;return n=s_e(r,s,i,e),{clusters:n,degreeOfMembership:s}},"fuzzyCMeans"),o_e={kMeans:r_e,kMedoids:i_e,fuzzyCMeans:rre,fcm:rre},l_e=Rn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),c_e={single:"min",complete:"max"},h_e=l(function(t){var e=l_e(t),r=c_e[e.linkage];return r!=null&&(e.linkage=r),e},"setOptions"),ire=l(function(t,e,r,i,n){for(var a=0,s=1/0,o,h=n.attributes,u=l(function(C,E){return db(n.distance,h.length,function(L){return h[L](C)},function(L){return h[L](E)},C,E)},"getDist"),d=0;d<t.length;d++){var p=t[d].key,g=r[p][i[p]];g<s&&(a=p,s=g)}if(n.mode==="threshold"&&s>=n.threshold||n.mode==="dendrogram"&&t.length===1)return!1;var f=e[a],m=e[i[a]],y;n.mode==="dendrogram"?y={left:f,right:m,key:f.key}:y={value:f.value.concat(m.value),key:f.key},t[f.index]=y,t.splice(m.index,1),e[f.key]=y;for(var b=0;b<t.length;b++){var v=t[b];f.key===v.key?o=1/0:n.linkage==="min"?(o=r[f.key][v.key],r[f.key][v.key]>r[m.key][v.key]&&(o=r[m.key][v.key])):n.linkage==="max"?(o=r[f.key][v.key],r[f.key][v.key]<r[m.key][v.key]&&(o=r[m.key][v.key])):n.linkage==="mean"?o=(r[f.key][v.key]*f.size+r[m.key][v.key]*m.size)/(f.size+m.size):n.mode==="dendrogram"?o=u(v.value,f.value):o=u(v.value[0],f.value[0]),r[f.key][v.key]=r[v.key][f.key]=o}for(var x=0;x<t.length;x++){var w=t[x].key;if(i[w]===f.key||i[w]===m.key){for(var k=w,T=0;T<t.length;T++){var S=t[T].key;r[w][S]<r[w][k]&&(k=S)}i[w]=k}t[x].index=x}return f.key=m.key=f.index=m.index=null,!0},"mergeClosest"),og=l(function(t,e,r){t&&(t.value?e.push(t.value):(t.left&&og(t.left,e),t.right&&og(t.right,e)))},"getAllChildren"),G9=l(function(t,e){if(!t)return"";if(t.left&&t.right){var r=G9(t.left,e),i=G9(t.right,e),n=e.add({group:"nodes",data:{id:r+","+i}});return e.add({group:"edges",data:{source:r,target:n.id()}}),e.add({group:"edges",data:{source:i,target:n.id()}}),n.id()}else if(t.value)return t.value.id()},"buildDendrogram"),q9=l(function(t,e,r){if(!t)return[];var i=[],n=[],a=[];return e===0?(t.left&&og(t.left,i),t.right&&og(t.right,n),a=i.concat(n),[r.collection(a)]):e===1?t.value?[r.collection(t.value)]:(t.left&&og(t.left,i),t.right&&og(t.right,n),[r.collection(i),r.collection(n)]):t.value?[r.collection(t.value)]:(t.left&&(i=q9(t.left,e-1,r)),t.right&&(n=q9(t.right,e-1,r)),i.concat(n))},"buildClustersFromTree"),nre=l(function(t){for(var e=this.cy(),r=this.nodes(),i=h_e(t),n=i.attributes,a=l(function(v,x){return db(i.distance,n.length,function(w){return n[w](v)},function(w){return n[w](x)},v,x)},"getDist"),s=[],o=[],h=[],u=[],d=0;d<r.length;d++){var p={value:i.mode==="dendrogram"?r[d]:[r[d]],key:d,index:d};s[d]=p,u[d]=p,o[d]=[],h[d]=0}for(var g=0;g<s.length;g++)for(var f=0;f<=g;f++){var m=void 0;i.mode==="dendrogram"?m=g===f?1/0:a(s[g].value,s[f].value):m=g===f?1/0:a(s[g].value[0],s[f].value[0]),o[g][f]=m,o[f][g]=m,m<o[g][h[g]]&&(h[g]=f)}for(var y=ire(s,u,o,h,i);y;)y=ire(s,u,o,h,i);var b;return i.mode==="dendrogram"?(b=q9(s[0],i.dendrogramDepth,e),i.addDendrogram&&G9(s[0],e)):(b=new Array(s.length),s.forEach(function(v,x){v.key=v.index=null,b[x]=e.collection(v.value)})),b},"hierarchicalClustering"),u_e={hierarchicalClustering:nre,hca:nre},d_e=Rn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),p_e=l(function(t){var e=t.damping,r=t.preference;.5<=e&&e<1||vi("Damping must range on [0.5, 1).  Got: ".concat(e));var i=["median","mean","min","max"];return i.some(function(n){return n===r})||ft(r)||vi("Preference must be one of [".concat(i.map(function(n){return"'".concat(n,"'")}).join(", "),"] or a number.  Got: ").concat(r)),d_e(t)},"setOptions"),g_e=l(function(t,e,r,i){var n=l(function(a,s){return i[s](a)},"attr");return-db(t,i.length,function(a){return n(e,a)},function(a){return n(r,a)},e,r)},"getSimilarity"),f_e=l(function(t,e){var r=null;return e==="median"?r=fSe(t):e==="mean"?r=gSe(t):e==="min"?r=dSe(t):e==="max"?r=pSe(t):r=e,r},"getPreference"),m_e=l(function(t,e,r){for(var i=[],n=0;n<t;n++)e[n*t+n]+r[n*t+n]>0&&i.push(n);return i},"findExemplars"),are=l(function(t,e,r){for(var i=[],n=0;n<t;n++){for(var a=-1,s=-1/0,o=0;o<r.length;o++){var h=r[o];e[n*t+h]>s&&(a=h,s=e[n*t+h])}a>0&&i.push(a)}for(var u=0;u<r.length;u++)i[r[u]]=r[u];return i},"assignClusters"),y_e=l(function(t,e,r){for(var i=are(t,e,r),n=0;n<r.length;n++){for(var a=[],s=0;s<i.length;s++)i[s]===r[n]&&a.push(s);for(var o=-1,h=-1/0,u=0;u<a.length;u++){for(var d=0,p=0;p<a.length;p++)d+=e[a[p]*t+a[u]];d>h&&(o=u,h=d)}r[n]=a[o]}return i=are(t,e,r),i},"assign"),sre=l(function(t){for(var e=this.cy(),r=this.nodes(),i=p_e(t),n={},a=0;a<r.length;a++)n[r[a].id()]=a;var s,o,h,u,d,p;s=r.length,o=s*s,h=new Array(o);for(var g=0;g<o;g++)h[g]=-1/0;for(var f=0;f<s;f++)for(var m=0;m<s;m++)f!==m&&(h[f*s+m]=g_e(i.distance,r[f],r[m],i.attributes));u=f_e(h,i.preference);for(var y=0;y<s;y++)h[y*s+y]=u;d=new Array(o);for(var b=0;b<o;b++)d[b]=0;p=new Array(o);for(var v=0;v<o;v++)p[v]=0;for(var x=new Array(s),w=new Array(s),k=new Array(s),T=0;T<s;T++)x[T]=0,w[T]=0,k[T]=0;for(var S=new Array(s*i.minIterations),C=0;C<S.length;C++)S[C]=0;var E;for(E=0;E<i.maxIterations;E++){for(var L=0;L<s;L++){for(var I=-1/0,M=-1/0,N=-1,$=0,_=0;_<s;_++)x[_]=d[L*s+_],$=p[L*s+_]+h[L*s+_],$>=I?(M=I,I=$,N=_):$>M&&(M=$);for(var D=0;D<s;D++)d[L*s+D]=(1-i.damping)*(h[L*s+D]-I)+i.damping*x[D];d[L*s+N]=(1-i.damping)*(h[L*s+N]-M)+i.damping*x[N]}for(var R=0;R<s;R++){for(var O=0,A=0;A<s;A++)x[A]=p[A*s+R],w[A]=Math.max(0,d[A*s+R]),O+=w[A];O-=w[R],w[R]=d[R*s+R],O+=w[R];for(var B=0;B<s;B++)p[B*s+R]=(1-i.damping)*Math.min(0,O-w[B])+i.damping*x[B];p[R*s+R]=(1-i.damping)*(O-w[R])+i.damping*x[R]}for(var P=0,z=0;z<s;z++){var q=p[z*s+z]+d[z*s+z]>0?1:0;S[E%i.minIterations*s+z]=q,P+=q}if(P>0&&(E>=i.minIterations-1||E==i.maxIterations-1)){for(var K=0,W=0;W<s;W++){k[W]=0;for(var ae=0;ae<i.minIterations;ae++)k[W]+=S[ae*s+W];(k[W]===0||k[W]===i.minIterations)&&K++}if(K===s)break}}for(var ie=m_e(s,d,p),se=y_e(s,h,ie),oe={},Y=0;Y<ie.length;Y++)oe[ie[Y]]=[];for(var Q=0;Q<r.length;Q++){var j=n[r[Q].id()],H=se[j];H!=null&&oe[H].push(r[Q])}for(var J=new Array(ie.length),he=0;he<ie.length;he++)J[he]=e.collection(oe[ie[he]]);return J},"affinityPropagation"),v_e={affinityPropagation:sre,ap:sre},b_e=Rn({root:void 0,directed:!1}),x_e={hierholzer:l(function(t){if(!$r(t)){var e=arguments;t={root:e[0],directed:e[1]}}var r=b_e(t),i=r.root,n=r.directed,a=this,s=!1,o,h,u;i&&(u=zt(i)?this.filter(i)[0].id():i[0].id());var d={},p={};n?a.forEach(function(v){var x=v.id();if(v.isNode()){var w=v.indegree(!0),k=v.outdegree(!0),T=w-k,S=k-w;T==1?o?s=!0:o=x:S==1?h?s=!0:h=x:(S>1||T>1)&&(s=!0),d[x]=[],v.outgoers().forEach(function(C){C.isEdge()&&d[x].push(C.id())})}else p[x]=[void 0,v.target().id()]}):a.forEach(function(v){var x=v.id();if(v.isNode()){var w=v.degree(!0);w%2&&(o?h?s=!0:h=x:o=x),d[x]=[],v.connectedEdges().forEach(function(k){return d[x].push(k.id())})}else p[x]=[v.source().id(),v.target().id()]});var g={found:!1,trail:void 0};if(s)return g;if(h&&o)if(n){if(u&&h!=u)return g;u=h}else{if(u&&h!=u&&o!=u)return g;u||(u=h)}else u||(u=a[0].id());var f=l(function(v){for(var x=v,w=[v],k,T,S;d[x].length;)k=d[x].shift(),T=p[k][0],S=p[k][1],x!=S?(d[S]=d[S].filter(function(C){return C!=k}),x=S):!n&&x!=T&&(d[T]=d[T].filter(function(C){return C!=k}),x=T),w.unshift(k),w.unshift(x);return w},"walk"),m=[],y=[];for(y=f(u);y.length!=1;)d[y[0]].length==0?(m.unshift(a.getElementById(y.shift())),m.unshift(a.getElementById(y.shift()))):y=f(y.shift()).concat(y);m.unshift(a.getElementById(y.shift()));for(var b in d)if(d[b].length)return g;return g.found=!0,g.trail=this.spawn(m,!0),g},"hierholzer")},u6=l(function(){var t=this,e={},r=0,i=0,n=[],a=[],s={},o=l(function(d,p){for(var g=a.length-1,f=[],m=t.spawn();a[g].x!=d||a[g].y!=p;)f.push(a.pop().edge),g--;f.push(a.pop().edge),f.forEach(function(y){var b=y.connectedNodes().intersection(t);m.merge(y),b.forEach(function(v){var x=v.id(),w=v.connectedEdges().intersection(t);m.merge(v),e[x].cutVertex?m.merge(w.filter(function(k){return k.isLoop()})):m.merge(w)})}),n.push(m)},"buildComponent"),h=l(function(d,p,g){d===g&&(i+=1),e[p]={id:r,low:r++,cutVertex:!1};var f=t.getElementById(p).connectedEdges().intersection(t);if(f.size()===0)n.push(t.spawn(t.getElementById(p)));else{var m,y,b,v;f.forEach(function(x){m=x.source().id(),y=x.target().id(),b=m===p?y:m,b!==g&&(v=x.id(),s[v]||(s[v]=!0,a.push({x:p,y:b,edge:x})),b in e?e[p].low=Math.min(e[p].low,e[b].id):(h(d,b,p),e[p].low=Math.min(e[p].low,e[b].low),e[p].id<=e[b].low&&(e[p].cutVertex=!0,o(p,b))))})}},"biconnectedSearch");t.forEach(function(d){if(d.isNode()){var p=d.id();p in e||(i=0,h(p,p),e[p].cutVertex=i>1)}});var u=Object.keys(e).filter(function(d){return e[d].cutVertex}).map(function(d){return t.getElementById(d)});return{cut:t.spawn(u),components:n}},"hopcroftTarjanBiconnected"),w_e={hopcroftTarjanBiconnected:u6,htbc:u6,htb:u6,hopcroftTarjanBiconnectedComponents:u6},d6=l(function(){var t=this,e={},r=0,i=[],n=[],a=t.spawn(t),s=l(function(o){n.push(o),e[o]={index:r,low:r++,explored:!1};var h=t.getElementById(o).connectedEdges().intersection(t);if(h.forEach(function(f){var m=f.target().id();m!==o&&(m in e||s(m),e[m].explored||(e[o].low=Math.min(e[o].low,e[m].low)))}),e[o].index===e[o].low){for(var u=t.spawn();;){var d=n.pop();if(u.merge(t.getElementById(d)),e[d].low=e[o].index,e[d].explored=!0,d===o)break}var p=u.edgesWith(u),g=u.merge(p);i.push(g),a=a.difference(g)}},"stronglyConnectedSearch");return t.forEach(function(o){if(o.isNode()){var h=o.id();h in e||s(h)}}),{cut:a,components:i}},"tarjanStronglyConnected"),k_e={tarjanStronglyConnected:d6,tsc:d6,tscc:d6,tarjanStronglyConnectedComponents:d6},One={};[Jv,eSe,tSe,iSe,aSe,oSe,hSe,OSe,hg,ug,z9,HSe,o_e,u_e,v_e,x_e,w_e,k_e].forEach(function(t){Xt(One,t)});$ne=0,Bne=1,Pne=2,po=l(function(t){if(!(this instanceof po))return new po(t);this.id="Thenable/1.0.7",this.state=$ne,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))},"api");po.prototype={fulfill:l(function(t){return ore(this,Bne,"fulfillValue",t)},"fulfill"),reject:l(function(t){return ore(this,Pne,"rejectReason",t)},"reject"),then:l(function(t,e){var r=this,i=new po;return r.onFulfilled.push(cre(t,i,"fulfill")),r.onRejected.push(cre(e,i,"reject")),Fne(r),i.proxy},"then")};ore=l(function(t,e,r,i){return t.state===$ne&&(t.state=e,t[r]=i,Fne(t)),t},"deliver"),Fne=l(function(t){t.state===Bne?lre(t,"onFulfilled",t.fulfillValue):t.state===Pne&&lre(t,"onRejected",t.rejectReason)},"execute"),lre=l(function(t,e,r){if(t[e].length!==0){var i=t[e];t[e]=[];var n=l(function(){for(var a=0;a<i.length;a++)i[a](r)},"func");typeof setImmediate=="function"?setImmediate(n):setTimeout(n,0)}},"execute_handlers"),cre=l(function(t,e,r){return function(i){if(typeof t!="function")e[r].call(e,i);else{var n;try{n=t(i)}catch(a){e.reject(a);return}zne(e,n)}}},"resolver"),zne=l(function(t,e){if(t===e||t.proxy===e){t.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(Qi(e)==="object"&&e!==null||typeof e=="function")try{r=e.then}catch(n){t.reject(n);return}if(typeof r=="function"){var i=!1;try{r.call(e,function(n){i||(i=!0,n===e?t.reject(new TypeError("circular thenable chain")):zne(t,n))},function(n){i||(i=!0,t.reject(n))})}catch(n){i||t.reject(n)}return}t.fulfill(e)},"resolve");po.all=function(t){return new po(function(e,r){for(var i=new Array(t.length),n=0,a=l(function(o,h){i[o]=h,n++,n===t.length&&e(i)},"fulfill"),s=0;s<t.length;s++)(function(o){var h=t[o],u=h!=null&&h.then!=null;if(u)h.then(function(p){a(o,p)},function(p){r(p)});else{var d=h;a(o,d)}})(s)})};po.resolve=function(t){return new po(function(e,r){e(t)})};po.reject=function(t){return new po(function(e,r){r(t)})};xg=typeof Promise<"u"?Promise:po,U9=l(function(t,e,r){var i=yL(t),n=!i,a=this._private=Xt({duration:1e3},e,r);if(a.target=t,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&Ci(a.complete)&&a.completes.push(a.complete),n){var s=t.position();a.startPosition=a.startPosition||{x:s.x,y:s.y},a.startStyle=a.startStyle||t.cy().style().getAnimationStartStyle(t,a.style)}if(i){var o=t.pan();a.startPan={x:o.x,y:o.y},a.startZoom=t.zoom()}this.length=1,this[0]=this},"Animation"),ld=U9.prototype;Xt(ld,{instanceString:l(function(){return"animation"},"instanceString"),hook:l(function(){var t=this._private;if(!t.hooked){var e,r=t.target._private.animation;t.queue?e=r.queue:e=r.current,e.push(this),os(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},"hook"),play:l(function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},"play"),playing:l(function(){return this._private.playing},"playing"),apply:l(function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},"apply"),applying:l(function(){return this._private.applying},"applying"),pause:l(function(){var t=this._private;return t.playing=!1,t.started=!1,this},"pause"),stop:l(function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},"stop"),rewind:l(function(){return this.progress(0)},"rewind"),fastforward:l(function(){return this.progress(1)},"fastforward"),time:l(function(t){var e=this._private;return t===void 0?e.progress*e.duration:this.progress(t/e.duration)},"time"),progress:l(function(t){var e=this._private,r=e.playing;return t===void 0?e.progress:(r&&this.pause(),e.progress=t,e.started=!1,r&&this.play(),this)},"progress"),completed:l(function(){return this._private.progress===1},"completed"),reverse:l(function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var r=l(function(o,h){var u=t[o];u!=null&&(t[o]=t[h],t[h]=u)},"swap");if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),t.style)for(var i=0;i<t.style.length;i++){var n=t.style[i],a=n.name,s=t.startStyle[a];t.startStyle[a]=n,t.style[i]=s}return e&&this.play(),this},"reverse"),promise:l(function(t){var e=this._private,r;switch(t){case"frame":r=e.frames;break;default:case"complete":case"completed":r=e.completes}return new xg(function(i,n){r.push(function(){i()})})},"promise")});ld.complete=ld.completed;ld.run=ld.play;ld.running=ld.playing;T_e={animated:l(function(){return l(function(){var t=this,e=t.length!==void 0,r=e?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return!1;var n=r[0];if(n)return n._private.animation.current.length>0},"animatedImpl")},"animated"),clearQueue:l(function(){return l(function(){var t=this,e=t.length!==void 0,r=e?t:[t],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var n=0;n<r.length;n++){var a=r[n];a._private.animation.queue=[]}return this},"clearQueueImpl")},"clearQueue"),delay:l(function(){return l(function(t,e){var r=this._private.cy||this;return r.styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this},"delayImpl")},"delay"),delayAnimation:l(function(){return l(function(t,e){var r=this._private.cy||this;return r.styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this},"delayAnimationImpl")},"delayAnimation"),animation:l(function(){return l(function(t,e){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this,s=!i,o=!s;if(!a.styleEnabled())return this;var h=a.style();t=Xt({},t,e);var u=Object.keys(t).length===0;if(u)return new U9(n[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(o&&(t.style=h.getPropsList(t.style||t.css),t.css=void 0),o&&t.renderedPosition!=null){var d=t.renderedPosition,p=a.pan(),g=a.zoom();t.position=Tne(d,g,p)}if(s&&t.panBy!=null){var f=t.panBy,m=a.pan();t.pan={x:m.x+f.x,y:m.y+f.y}}var y=t.center||t.centre;if(s&&y!=null){var b=a.getCenterPan(y.eles,t.zoom);b!=null&&(t.pan=b)}if(s&&t.fit!=null){var v=t.fit,x=a.getFitViewport(v.eles||v.boundingBox,v.padding);x!=null&&(t.pan=x.pan,t.zoom=x.zoom)}if(s&&$r(t.zoom)){var w=a.getZoomedViewport(t.zoom);w!=null?(w.zoomed&&(t.zoom=w.zoom),w.panned&&(t.pan=w.pan)):t.zoom=null}return new U9(n[0],t)},"animationImpl")},"animation"),animate:l(function(){return l(function(t,e){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;e&&(t=Xt({},t,e));for(var s=0;s<n.length;s++){var o=n[s],h=o.animated()&&(t.queue===void 0||t.queue),u=o.animation(t,h?{queue:!0}:void 0);u.play()}return this},"animateImpl")},"animate"),stop:l(function(){return l(function(t,e){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<n.length;s++){for(var o=n[s],h=o._private,u=h.animation.current,d=0;d<u.length;d++){var p=u[d],g=p._private;e&&(g.duration=0)}t&&(h.animation.queue=[]),e||(h.animation.current=[])}return a.notify("draw"),this},"stopImpl")},"stop")};l(pb,"requireIsArray");l(Gne,"require_isKey");l(qne,"requireIsFunction");l(Une,"require_coreJsData");l(jne,"require_isMasked");l(Wne,"require_toSource");l(Vne,"require_baseIsNative");l(Yne,"require_getValue");l(J6,"require_getNative");l(gb,"require_nativeCreate");l(Hne,"require_hashClear");l(Xne,"require_hashDelete");l(Kne,"require_hashGet");l(Zne,"require_hashHas");l(Qne,"require_hashSet");l(Jne,"require_Hash");l(eae,"require_listCacheClear");l(AL,"requireEq");l(fb,"require_assocIndexOf");l(tae,"require_listCacheDelete");l(rae,"require_listCacheGet");l(iae,"require_listCacheHas");l(nae,"require_listCacheSet");l(aae,"require_ListCache");l(sae,"require_Map");l(oae,"require_mapCacheClear");l(lae,"require_isKeyable");l(mb,"require_getMapData");l(cae,"require_mapCacheDelete");l(hae,"require_mapCacheGet");l(uae,"require_mapCacheHas");l(dae,"require_mapCacheSet");l(pae,"require_MapCache");l(gae,"requireMemoize");l(fae,"require_memoizeCapped");l(LL,"require_stringToPath");l(NL,"require_arrayMap");l(mae,"require_baseToString");l(IL,"requireToString");l(RL,"require_castPath");l(ew,"require_toKey");l(yae,"require_baseGet");l(vae,"requireGet");E_e=vae(),C_e=mg(E_e);l(bae,"require_defineProperty");l(xae,"require_baseAssignValue");l(wae,"require_assignValue");l(kae,"require_isIndex");l(Tae,"require_baseSet");l(Eae,"requireSet");S_e=Eae(),__e=mg(S_e);l(Cae,"require_copyArray");l(Sae,"requireToPath");A_e=Sae(),L_e=mg(A_e),N_e={data:l(function(t){var e={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:l(function(r){},"beforeGet"),beforeSet:l(function(r,i){},"beforeSet"),onSet:l(function(r){},"onSet"),canSet:l(function(r){return!0},"canSet")};return t=Xt({},e,t),l(function(r,i){var n=t,a=this,s=a.length!==void 0,o=s?a:[a],h=s?a[0]:a;if(zt(r)){var u=r.indexOf(".")!==-1,d=u&&L_e(r);if(n.allowGetting&&i===void 0){var p;return h&&(n.beforeGet(h),d&&h._private[n.field][r]===void 0?p=C_e(h._private[n.field],d):p=h._private[n.field][r]),p}else if(n.allowSetting&&i!==void 0){var g=!n.immutableKeys[r];if(g){var f=fL({},r,i);n.beforeSet(a,f);for(var m=0,y=o.length;m<y;m++){var b=o[m];n.canSet(b)&&(d&&h._private[n.field][r]===void 0?__e(b._private[n.field],d,i):b._private[n.field][r]=i)}n.updateStyle&&a.updateStyle(),n.onSet(a),n.settingTriggersEvent&&a[n.triggerFnName](n.settingEvent)}}}else if(n.allowSetting&&$r(r)){var v=r,x,w,k=Object.keys(v);n.beforeSet(a,v);for(var T=0;T<k.length;T++){x=k[T],w=v[x];var S=!n.immutableKeys[x];if(S)for(var C=0;C<o.length;C++){var E=o[C];n.canSet(E)&&(E._private[n.field][x]=w)}}n.updateStyle&&a.updateStyle(),n.onSet(a),n.settingTriggersEvent&&a[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&Ci(r)){var L=r;a.on(n.bindingEvent,L)}else if(n.allowGetting&&r===void 0){var I;return h&&(n.beforeGet(h),I=h._private[n.field]),I}return a},"dataImpl")},"data"),removeData:l(function(t){var e={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=Xt({},e,t),l(function(r){var i=t,n=this,a=n.length!==void 0,s=a?n:[n];if(zt(r)){for(var o=r.split(/\s+/),h=o.length,u=0;u<h;u++){var d=o[u];if(!Th(d)){var p=!i.immutableKeys[d];if(p)for(var g=0,f=s.length;g<f;g++)s[g]._private[i.field][d]=void 0}}i.triggerEvent&&n[i.triggerFnName](i.event)}else if(r===void 0){for(var m=0,y=s.length;m<y;m++)for(var b=s[m]._private[i.field],v=Object.keys(b),x=0;x<v.length;x++){var w=v[x],k=!i.immutableKeys[w];k&&(b[w]=void 0)}i.triggerEvent&&n[i.triggerFnName](i.event)}return n},"removeDataImpl")},"removeData")},I_e={eventAliasesOn:l(function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(r,i){var n=this,a=Array.prototype.slice.call(arguments,0);return new xg(function(s,o){var h=l(function(p){n.off.apply(n,d),s(p)},"callback"),u=a.concat([h]),d=u.concat([]);n.on.apply(n,u)})}},"eventAliasesOn")},qr={};[T_e,N_e,I_e].forEach(function(t){Xt(qr,t)});R_e={animate:qr.animate(),animation:qr.animation(),animated:qr.animated(),clearQueue:qr.clearQueue(),delay:qr.delay(),delayAnimation:qr.delayAnimation(),stop:qr.stop()},k6={classes:l(function(t){var e=this;if(t===void 0){var r=[];return e[0]._private.classes.forEach(function(f){return r.push(f)}),r}else Jr(t)||(t=(t||"").match(/\S+/g)||[]);for(var i=[],n=new bg(t),a=0;a<e.length;a++){for(var s=e[a],o=s._private,h=o.classes,u=!1,d=0;d<t.length;d++){var p=t[d],g=h.has(p);if(!g){u=!0;break}}u||(u=h.size!==t.length),u&&(o.classes=n,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),e},"classes"),addClass:l(function(t){return this.toggleClass(t,!0)},"addClass"),hasClass:l(function(t){var e=this[0];return e!=null&&e._private.classes.has(t)},"hasClass"),toggleClass:l(function(t,e){Jr(t)||(t=t.match(/\S+/g)||[]);for(var r=this,i=e===void 0,n=[],a=0,s=r.length;a<s;a++)for(var o=r[a],h=o._private.classes,u=!1,d=0;d<t.length;d++){var p=t[d],g=h.has(p),f=!1;e||i&&!g?(h.add(p),f=!0):(!e||i&&g)&&(h.delete(p),f=!0),!u&&f&&(n.push(o),u=!0)}return n.length>0&&this.spawn(n).updateStyle().emit("class"),r},"toggleClass"),removeClass:l(function(t){return this.toggleClass(t,!1)},"removeClass"),flashClass:l(function(t,e){var r=this;if(e==null)e=250;else if(e===0)return r;return r.addClass(t),setTimeout(function(){r.removeClass(t)},e),r},"flashClass")};k6.className=k6.classNames=k6.classes;Or={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:on,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Or.variable="(?:[\\w-.]|(?:\\\\"+Or.metaChar+"))+";Or.className="(?:[\\w-]|(?:\\\\"+Or.metaChar+"))+";Or.value=Or.string+"|"+Or.number;Or.id=Or.variable;(function(){var t,e,r;for(t=Or.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Or.comparatorOp+="|@"+e;for(t=Or.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Or.comparatorOp+="|\\!"+e)})();Zr=l(function(){return{checks:[]}},"newQuery"),Lt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},j9=[{selector:":selected",matches:l(function(t){return t.selected()},"matches")},{selector:":unselected",matches:l(function(t){return!t.selected()},"matches")},{selector:":selectable",matches:l(function(t){return t.selectable()},"matches")},{selector:":unselectable",matches:l(function(t){return!t.selectable()},"matches")},{selector:":locked",matches:l(function(t){return t.locked()},"matches")},{selector:":unlocked",matches:l(function(t){return!t.locked()},"matches")},{selector:":visible",matches:l(function(t){return t.visible()},"matches")},{selector:":hidden",matches:l(function(t){return!t.visible()},"matches")},{selector:":transparent",matches:l(function(t){return t.transparent()},"matches")},{selector:":grabbed",matches:l(function(t){return t.grabbed()},"matches")},{selector:":free",matches:l(function(t){return!t.grabbed()},"matches")},{selector:":removed",matches:l(function(t){return t.removed()},"matches")},{selector:":inside",matches:l(function(t){return!t.removed()},"matches")},{selector:":grabbable",matches:l(function(t){return t.grabbable()},"matches")},{selector:":ungrabbable",matches:l(function(t){return!t.grabbable()},"matches")},{selector:":animated",matches:l(function(t){return t.animated()},"matches")},{selector:":unanimated",matches:l(function(t){return!t.animated()},"matches")},{selector:":parent",matches:l(function(t){return t.isParent()},"matches")},{selector:":childless",matches:l(function(t){return t.isChildless()},"matches")},{selector:":child",matches:l(function(t){return t.isChild()},"matches")},{selector:":orphan",matches:l(function(t){return t.isOrphan()},"matches")},{selector:":nonorphan",matches:l(function(t){return t.isChild()},"matches")},{selector:":compound",matches:l(function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()},"matches")},{selector:":loop",matches:l(function(t){return t.isLoop()},"matches")},{selector:":simple",matches:l(function(t){return t.isSimple()},"matches")},{selector:":active",matches:l(function(t){return t.active()},"matches")},{selector:":inactive",matches:l(function(t){return!t.active()},"matches")},{selector:":backgrounding",matches:l(function(t){return t.backgrounding()},"matches")},{selector:":nonbackgrounding",matches:l(function(t){return!t.backgrounding()},"matches")}].sort(function(t,e){return ICe(t.selector,e.selector)}),D_e=(function(){for(var t={},e,r=0;r<j9.length;r++)e=j9[r],t[e.selector]=e.matches;return t})(),M_e=l(function(t,e){return D_e[t](e)},"stateSelectorMatches"),O_e="("+j9.map(function(t){return t.selector}).join("|")+")",Jp=l(function(t){return t.replace(new RegExp("\\\\("+Or.metaChar+")","g"),function(e,r){return r})},"cleanMetaChars"),fh=l(function(t,e,r){t[t.length-1]=r},"replaceLastQuery"),W9=[{name:"group",query:!0,regex:"("+Or.group+")",populate:l(function(t,e,r){var i=Gi(r,1),n=i[0];e.checks.push({type:Lt.GROUP,value:n==="*"?n:n+"s"})},"populate")},{name:"state",query:!0,regex:O_e,populate:l(function(t,e,r){var i=Gi(r,1),n=i[0];e.checks.push({type:Lt.STATE,value:n})},"populate")},{name:"id",query:!0,regex:"\\#("+Or.id+")",populate:l(function(t,e,r){var i=Gi(r,1),n=i[0];e.checks.push({type:Lt.ID,value:Jp(n)})},"populate")},{name:"className",query:!0,regex:"\\.("+Or.className+")",populate:l(function(t,e,r){var i=Gi(r,1),n=i[0];e.checks.push({type:Lt.CLASS,value:Jp(n)})},"populate")},{name:"dataExists",query:!0,regex:"\\[\\s*("+Or.variable+")\\s*\\]",populate:l(function(t,e,r){var i=Gi(r,1),n=i[0];e.checks.push({type:Lt.DATA_EXIST,field:Jp(n)})},"populate")},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Or.variable+")\\s*("+Or.comparatorOp+")\\s*("+Or.value+")\\s*\\]",populate:l(function(t,e,r){var i=Gi(r,3),n=i[0],a=i[1],s=i[2],o=new RegExp("^"+Or.string+"$").exec(s)!=null;o?s=s.substring(1,s.length-1):s=parseFloat(s),e.checks.push({type:Lt.DATA_COMPARE,field:Jp(n),operator:a,value:s})},"populate")},{name:"dataBool",query:!0,regex:"\\[\\s*("+Or.boolOp+")\\s*("+Or.variable+")\\s*\\]",populate:l(function(t,e,r){var i=Gi(r,2),n=i[0],a=i[1];e.checks.push({type:Lt.DATA_BOOL,field:Jp(a),operator:n})},"populate")},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Or.meta+")\\s*("+Or.comparatorOp+")\\s*("+Or.number+")\\s*\\]\\]",populate:l(function(t,e,r){var i=Gi(r,3),n=i[0],a=i[1],s=i[2];e.checks.push({type:Lt.META_COMPARE,field:Jp(n),operator:a,value:parseFloat(s)})},"populate")},{name:"nextQuery",separator:!0,regex:Or.separator,populate:l(function(t,e){var r=t.currentSubject,i=t.edgeCount,n=t.compoundCount,a=t[t.length-1];r!=null&&(a.subject=r,t.currentSubject=null),a.edgeCount=i,a.compoundCount=n,t.edgeCount=0,t.compoundCount=0;var s=t[t.length++]=Zr();return s},"populate")},{name:"directedEdge",separator:!0,regex:Or.directedEdge,populate:l(function(t,e){if(t.currentSubject==null){var r=Zr(),i=e,n=Zr();return r.checks.push({type:Lt.DIRECTED_EDGE,source:i,target:n}),fh(t,e,r),t.edgeCount++,n}else{var a=Zr(),s=e,o=Zr();return a.checks.push({type:Lt.NODE_SOURCE,source:s,target:o}),fh(t,e,a),t.edgeCount++,o}},"populate")},{name:"undirectedEdge",separator:!0,regex:Or.undirectedEdge,populate:l(function(t,e){if(t.currentSubject==null){var r=Zr(),i=e,n=Zr();return r.checks.push({type:Lt.UNDIRECTED_EDGE,nodes:[i,n]}),fh(t,e,r),t.edgeCount++,n}else{var a=Zr(),s=e,o=Zr();return a.checks.push({type:Lt.NODE_NEIGHBOR,node:s,neighbor:o}),fh(t,e,a),o}},"populate")},{name:"child",separator:!0,regex:Or.child,populate:l(function(t,e){if(t.currentSubject==null){var r=Zr(),i=Zr(),n=t[t.length-1];return r.checks.push({type:Lt.CHILD,parent:n,child:i}),fh(t,e,r),t.compoundCount++,i}else if(t.currentSubject===e){var a=Zr(),s=t[t.length-1],o=Zr(),h=Zr(),u=Zr(),d=Zr();return a.checks.push({type:Lt.COMPOUND_SPLIT,left:s,right:o,subject:h}),h.checks=e.checks,e.checks=[{type:Lt.TRUE}],d.checks.push({type:Lt.TRUE}),o.checks.push({type:Lt.PARENT,parent:d,child:u}),fh(t,s,a),t.currentSubject=h,t.compoundCount++,u}else{var p=Zr(),g=Zr(),f=[{type:Lt.PARENT,parent:p,child:g}];return p.checks=e.checks,e.checks=f,t.compoundCount++,g}},"populate")},{name:"descendant",separator:!0,regex:Or.descendant,populate:l(function(t,e){if(t.currentSubject==null){var r=Zr(),i=Zr(),n=t[t.length-1];return r.checks.push({type:Lt.DESCENDANT,ancestor:n,descendant:i}),fh(t,e,r),t.compoundCount++,i}else if(t.currentSubject===e){var a=Zr(),s=t[t.length-1],o=Zr(),h=Zr(),u=Zr(),d=Zr();return a.checks.push({type:Lt.COMPOUND_SPLIT,left:s,right:o,subject:h}),h.checks=e.checks,e.checks=[{type:Lt.TRUE}],d.checks.push({type:Lt.TRUE}),o.checks.push({type:Lt.ANCESTOR,ancestor:d,descendant:u}),fh(t,s,a),t.currentSubject=h,t.compoundCount++,u}else{var p=Zr(),g=Zr(),f=[{type:Lt.ANCESTOR,ancestor:p,descendant:g}];return p.checks=e.checks,e.checks=f,t.compoundCount++,g}},"populate")},{name:"subject",modifier:!0,regex:Or.subject,populate:l(function(t,e){if(t.currentSubject!=null&&t.currentSubject!==e)return Ur("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var r=t[t.length-1],i=r.checks[0],n=i==null?null:i.type;n===Lt.DIRECTED_EDGE?i.type=Lt.NODE_TARGET:n===Lt.UNDIRECTED_EDGE&&(i.type=Lt.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)},"populate")}];W9.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});$_e=l(function(t){for(var e,r,i,n=0;n<W9.length;n++){var a=W9[n],s=a.name,o=t.match(a.regexObj);if(o!=null){r=o,e=a,i=s;var h=o[0];t=t.substring(h.length);break}}return{expr:e,match:r,name:i,remaining:t}},"consumeExpr"),B_e=l(function(t){var e=t.match(/^\s+/);if(e){var r=e[0];t=t.substring(r.length)}return t},"consumeWhitespace"),P_e=l(function(t){var e=this,r=e.inputText=t,i=e[0]=Zr();for(e.length=1,r=B_e(r);;){var n=$_e(r);if(n.expr==null)return Ur("The selector `"+t+"`is invalid"),!1;var a=n.match.slice(1),s=n.expr.populate(e,i,a);if(s===!1)return!1;if(s!=null&&(i=s),r=n.remaining,r.match(/^\s*$/))break}var o=e[e.length-1];e.currentSubject!=null&&(o.subject=e.currentSubject),o.edgeCount=e.edgeCount,o.compoundCount=e.compoundCount;for(var h=0;h<e.length;h++){var u=e[h];if(u.compoundCount>0&&u.edgeCount>0)return Ur("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(u.edgeCount>1)return Ur("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;u.edgeCount===1&&Ur("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},"parse"),F_e=l(function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=l(function(h){return h??""},"clean"),e=l(function(h){return zt(h)?'"'+h+'"':t(h)},"cleanVal"),r=l(function(h){return" "+h+" "},"space"),i=l(function(h,u){var d=h.type,p=h.value;switch(d){case Lt.GROUP:{var g=t(p);return g.substring(0,g.length-1)}case Lt.DATA_COMPARE:{var f=h.field,m=h.operator;return"["+f+r(t(m))+e(p)+"]"}case Lt.DATA_BOOL:{var y=h.operator,b=h.field;return"["+t(y)+b+"]"}case Lt.DATA_EXIST:{var v=h.field;return"["+v+"]"}case Lt.META_COMPARE:{var x=h.operator,w=h.field;return"[["+w+r(t(x))+e(p)+"]]"}case Lt.STATE:return p;case Lt.ID:return"#"+p;case Lt.CLASS:return"."+p;case Lt.PARENT:case Lt.CHILD:return n(h.parent,u)+r(">")+n(h.child,u);case Lt.ANCESTOR:case Lt.DESCENDANT:return n(h.ancestor,u)+" "+n(h.descendant,u);case Lt.COMPOUND_SPLIT:{var k=n(h.left,u),T=n(h.subject,u),S=n(h.right,u);return k+(k.length>0?" ":"")+T+S}case Lt.TRUE:return""}},"checkToString"),n=l(function(h,u){return h.checks.reduce(function(d,p,g){return d+(u===h&&g===0?"$":"")+i(p,u)},"")},"queryToString"),a="",s=0;s<this.length;s++){var o=this[s];a+=n(o,o.subject),this.length>1&&s<this.length-1&&(a+=", ")}return this.toStringCache=a,a},"toString"),z_e={parse:P_e,toString:F_e},_ae=l(function(t,e,r){var i,n=zt(t),a=ft(t),s=zt(r),o,h,u=!1,d=!1,p=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),d=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),u=!0),(n||s||u)&&(o=!n&&!a?"":""+t,h=""+r),u&&(t=o=o.toLowerCase(),r=h=h.toLowerCase()),e){case"*=":i=o.indexOf(h)>=0;break;case"$=":i=o.indexOf(h,o.length-h.length)>=0;break;case"^=":i=o.indexOf(h)===0;break;case"=":i=t===r;break;case">":p=!0,i=t>r;break;case">=":p=!0,i=t>=r;break;case"<":p=!0,i=t<r;break;case"<=":p=!0,i=t<=r;break;default:i=!1;break}return d&&(t!=null||!p)&&(i=!i),i},"valCmp"),G_e=l(function(t,e){switch(e){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},"boolCmp"),q_e=l(function(t){return t!==void 0},"existCmp"),DL=l(function(t,e){return t.data(e)},"data"),U_e=l(function(t,e){return t[e]()},"meta"),Di=[],ui=l(function(t,e){return t.checks.every(function(r){return Di[r.type](r,e)})},"matches");Di[Lt.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};Di[Lt.STATE]=function(t,e){var r=t.value;return M_e(r,e)};Di[Lt.ID]=function(t,e){var r=t.value;return e.id()===r};Di[Lt.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};Di[Lt.META_COMPARE]=function(t,e){var r=t.field,i=t.operator,n=t.value;return _ae(U_e(e,r),i,n)};Di[Lt.DATA_COMPARE]=function(t,e){var r=t.field,i=t.operator,n=t.value;return _ae(DL(e,r),i,n)};Di[Lt.DATA_BOOL]=function(t,e){var r=t.field,i=t.operator;return G_e(DL(e,r),i)};Di[Lt.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,q_e(DL(e,r))};Di[Lt.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],i=t.nodes[1],n=e.source(),a=e.target();return ui(r,n)&&ui(i,a)||ui(i,n)&&ui(r,a)};Di[Lt.NODE_NEIGHBOR]=function(t,e){return ui(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&ui(t.neighbor,r)})};Di[Lt.DIRECTED_EDGE]=function(t,e){return ui(t.source,e.source())&&ui(t.target,e.target())};Di[Lt.NODE_SOURCE]=function(t,e){return ui(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&ui(t.target,r)})};Di[Lt.NODE_TARGET]=function(t,e){return ui(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&ui(t.source,r)})};Di[Lt.CHILD]=function(t,e){return ui(t.child,e)&&ui(t.parent,e.parent())};Di[Lt.PARENT]=function(t,e){return ui(t.parent,e)&&e.children().some(function(r){return ui(t.child,r)})};Di[Lt.DESCENDANT]=function(t,e){return ui(t.descendant,e)&&e.ancestors().some(function(r){return ui(t.ancestor,r)})};Di[Lt.ANCESTOR]=function(t,e){return ui(t.ancestor,e)&&e.descendants().some(function(r){return ui(t.descendant,r)})};Di[Lt.COMPOUND_SPLIT]=function(t,e){return ui(t.subject,e)&&ui(t.left,e)&&ui(t.right,e)};Di[Lt.TRUE]=function(){return!0};Di[Lt.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};Di[Lt.FILTER]=function(t,e){var r=t.value;return r(e)};j_e=l(function(t){var e=this;if(e.length===1&&e[0].checks.length===1&&e[0].checks[0].type===Lt.ID)return t.getElementById(e[0].checks[0].value).collection();var r=l(function(i){for(var n=0;n<e.length;n++){var a=e[n];if(ui(a,i))return!0}return!1},"selectorFunction");return e.text()==null&&(r=l(function(){return!0},"selectorFunction")),t.filter(r)},"filter"),W_e=l(function(t){for(var e=this,r=0;r<e.length;r++){var i=e[r];if(ui(i,t))return!0}return!1},"matches"),V_e={matches:W_e,filter:j_e},Sh=l(function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||zt(t)&&t.match(/^\s*$/)||(os(t)?this.addQuery({checks:[{type:Lt.COLLECTION,value:t.collection()}]}):Ci(t)?this.addQuery({checks:[{type:Lt.FILTER,value:t}]}):zt(t)?this.parse(t)||(this.invalid=!0):vi("A selector must be created from a string; found "))},"Selector"),_h=Sh.prototype;[z_e,V_e].forEach(function(t){return Xt(_h,t)});_h.text=function(){return this.inputText};_h.size=function(){return this.length};_h.eq=function(t){return this[t]};_h.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};_h.addQuery=function(t){this[this.length++]=t};_h.selector=_h.toString;wh={allAre:l(function(t){var e=new Sh(t);return this.every(function(r){return e.matches(r)})},"allAre"),is:l(function(t){var e=new Sh(t);return this.some(function(r){return e.matches(r)})},"is"),some:l(function(t,e){for(var r=0;r<this.length;r++){var i=e?t.apply(e,[this[r],r,this]):t(this[r],r,this);if(i)return!0}return!1},"some"),every:l(function(t,e){for(var r=0;r<this.length;r++){var i=e?t.apply(e,[this[r],r,this]):t(this[r],r,this);if(!i)return!1}return!0},"every"),same:l(function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length,r=t.length;return e!==r?!1:e===1?this[0]===t[0]:this.every(function(i){return t.hasElementWithId(i.id())})},"same"),anySame:l(function(t){return t=this.cy().collection(t),this.some(function(e){return t.hasElementWithId(e.id())})},"anySame"),allAreNeighbors:l(function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every(function(r){return e.hasElementWithId(r.id())})},"allAreNeighbors"),contains:l(function(t){t=this.cy().collection(t);var e=this;return t.every(function(r){return e.hasElementWithId(r.id())})},"contains")};wh.allAreNeighbours=wh.allAreNeighbors;wh.has=wh.contains;wh.equal=wh.equals=wh.same;Is=l(function(t,e){return l(function(r,i,n,a){var s=r,o=this,h;if(s==null?h="":os(s)&&s.length===1&&(h=s.id()),o.length===1&&h){var u=o[0]._private,d=u.traversalCache=u.traversalCache||{},p=d[e]=d[e]||[],g=sd(h),f=p[g];return f||(p[g]=t.call(o,r,i,n,a))}else return t.call(o,r,i,n,a)},"traversalCache")},"cache"),fg={parent:l(function(t){var e=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var n=this[i],a=n._private.parent;a&&e.push(a)}return this.spawn(e,!0).filter(t)},"parent"),parents:l(function(t){for(var e=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var n=r[i];e.push(n)}r=r.parent()}return this.spawn(e,!0).filter(t)},"parents"),commonAncestors:l(function(t){for(var e,r=0;r<this.length;r++){var i=this[r],n=i.parents();e=e||n,e=e.intersect(n)}return e.filter(t)},"commonAncestors"),orphans:l(function(t){return this.stdFilter(function(e){return e.isOrphan()}).filter(t)},"orphans"),nonorphans:l(function(t){return this.stdFilter(function(e){return e.isChild()}).filter(t)},"nonorphans"),children:Is(function(t){for(var e=[],r=0;r<this.length;r++)for(var i=this[r],n=i._private.children,a=0;a<n.length;a++)e.push(n[a]);return this.spawn(e,!0).filter(t)},"children"),siblings:l(function(t){return this.parent().children().not(this).filter(t)},"siblings"),isParent:l(function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},"isParent"),isChildless:l(function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},"isChildless"),isChild:l(function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},"isChild"),isOrphan:l(function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},"isOrphan"),descendants:l(function(t){var e=[];function r(i){for(var n=0;n<i.length;n++){var a=i[n];e.push(a),a.children().nonempty()&&r(a.children())}}return l(r,"add"),r(this.children()),this.spawn(e,!0).filter(t)},"descendants")};l(tw,"forEachCompound");l(ML,"addChildren");fg.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return tw(this,t,e,ML)};l(OL,"addParent");fg.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return tw(this,t,e,OL)};l(Aae,"addParentAndChildren");fg.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return tw(this,t,e,Aae)};fg.ancestors=fg.parents;rb=Lae={data:qr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:qr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:qr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:qr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:qr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:qr.removeData({field:"rscratch",triggerEvent:!1}),id:l(function(){var t=this[0];if(t)return t._private.data.id},"id")};rb.attr=rb.data;rb.removeAttr=rb.removeData;Y_e=Lae,rw={};l(T6,"defineDegreeFunction");Xt(rw,{degree:T6(function(t,e){return e.source().same(e.target())?2:1}),indegree:T6(function(t,e){return e.target().same(t)?1:0}),outdegree:T6(function(t,e){return e.source().same(t)?1:0})});l(Ju,"defineDegreeBoundsFunction");Xt(rw,{minDegree:Ju("degree",function(t,e){return t<e}),maxDegree:Ju("degree",function(t,e){return t>e}),minIndegree:Ju("indegree",function(t,e){return t<e}),maxIndegree:Ju("indegree",function(t,e){return t>e}),minOutdegree:Ju("outdegree",function(t,e){return t<e}),maxOutdegree:Ju("outdegree",function(t,e){return t>e})});Xt(rw,{totalDegree:l(function(t){for(var e=0,r=this.nodes(),i=0;i<r.length;i++)e+=r[i].degree(t);return e},"totalDegree")});Iae=l(function(t,e,r){for(var i=0;i<t.length;i++){var n=t[i];if(!n.locked()){var a=n._private.position,s={x:e.x!=null?e.x-a.x:0,y:e.y!=null?e.y-a.y:0};n.isParent()&&!(s.x===0&&s.y===0)&&n.children().shift(s,r),n.dirtyBoundingBoxCache()}}},"beforePositionSet"),oie={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:l(function(t){t.updateCompoundBounds()},"beforeGet"),beforeSet:l(function(t,e){Iae(t,e,!1)},"beforeSet"),onSet:l(function(t){t.dirtyCompoundBoundsCache()},"onSet"),canSet:l(function(t){return!t.locked()},"canSet")};uo=Nae={position:qr.data(oie),silentPosition:qr.data(Xt({},oie,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:l(function(t,e){Iae(t,e,!0)},"beforeSet"),onSet:l(function(t){t.dirtyCompoundBoundsCache()},"onSet")})),positions:l(function(t,e){if($r(t))e?this.silentPosition(t):this.position(t);else if(Ci(t)){var r=t,i=this.cy();i.startBatch();for(var n=0;n<this.length;n++){var a=this[n],s=void 0;(s=r(a,n))&&(e?a.silentPosition(s):a.position(s))}i.endBatch()}return this},"positions"),silentPositions:l(function(t){return this.positions(t,!0)},"silentPositions"),shift:l(function(t,e,r){var i;if($r(t)?(i={x:ft(t.x)?t.x:0,y:ft(t.y)?t.y:0},r=e):zt(t)&&ft(e)&&(i={x:0,y:0},i[t]=e),i!=null){var n=this.cy();n.startBatch();for(var a=0;a<this.length;a++){var s=this[a];if(!(n.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var o=s.position(),h={x:o.x+i.x,y:o.y+i.y};r?s.silentPosition(h):s.position(h)}}n.endBatch()}return this},"shift"),silentShift:l(function(t,e){return $r(t)?this.shift(t,!0):zt(t)&&ft(e)&&this.shift(t,e,!0),this},"silentShift"),renderedPosition:l(function(t,e){var r=this[0],i=this.cy(),n=i.zoom(),a=i.pan(),s=$r(t)?t:void 0,o=s!==void 0||e!==void 0&&zt(t);if(r&&r.isNode())if(o)for(var h=0;h<this.length;h++){var u=this[h];e!==void 0?u.position(t,(e-a[t])/n):s!==void 0&&u.position(Tne(s,n,a))}else{var d=r.position();return s=Q6(d,n,a),t===void 0?s:s[t]}else if(!o)return;return this},"renderedPosition"),relativePosition:l(function(t,e){var r=this[0],i=this.cy(),n=$r(t)?t:void 0,a=n!==void 0||e!==void 0&&zt(t),s=i.hasCompoundNodes();if(r&&r.isNode())if(a)for(var o=0;o<this.length;o++){var h=this[o],u=s?h.parent():null,d=u&&u.length>0,p=d;d&&(u=u[0]);var g=p?u.position():{x:0,y:0};e!==void 0?h.position(t,e+g[t]):n!==void 0&&h.position({x:n.x+g.x,y:n.y+g.y})}else{var f=r.position(),m=s?r.parent():null,y=m&&m.length>0,b=y;y&&(m=m[0]);var v=b?m.position():{x:0,y:0};return n={x:f.x-v.x,y:f.y-v.y},t===void 0?n:n[t]}else if(!a)return;return this},"relativePosition")};uo.modelPosition=uo.point=uo.position;uo.modelPositions=uo.points=uo.positions;uo.renderedPoint=uo.renderedPosition;uo.relativePoint=uo.relativePosition;H_e=Nae;dg=Lh={};Lh.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),i=r.zoom(),n=r.pan(),a=e.x1*i+n.x,s=e.x2*i+n.x,o=e.y1*i+n.y,h=e.y2*i+n.y;return{x1:a,x2:s,y1:o,y2:h,w:s-a,h:h-o}};Lh.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var i=r._private;i.compoundBoundsClean=!1,i.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Lh.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,h=s.children(),u=s.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},p=h.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),g=o.position;(p.w===0||p.h===0)&&(p={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},p.x1=g.x-p.w/2,p.x2=g.x+p.w/2,p.y1=g.y-p.h/2,p.y2=g.y+p.h/2);function f(L,I,M){var N=0,$=0,_=I+M;return L>0&&_>0&&(N=I/_*L,$=M/_*L),{biasDiff:N,biasComplementDiff:$}}l(f,"computeBiasValues");function m(L,I,M,N){if(M.units==="%")switch(N){case"width":return L>0?M.pfValue*L:0;case"height":return I>0?M.pfValue*I:0;case"average":return L>0&&I>0?M.pfValue*(L+I)/2:0;case"min":return L>0&&I>0?L>I?M.pfValue*I:M.pfValue*L:0;case"max":return L>0&&I>0?L>I?M.pfValue*L:M.pfValue*I:0;default:return 0}else return M.units==="px"?M.pfValue:0}l(m,"computePaddingValues");var y=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(y=y*100/d.width.val);var b=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(b=b*100/d.width.val);var v=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(v=v*100/d.height.val);var x=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(x=x*100/d.height.val);var w=f(d.width.val-p.w,y,b),k=w.biasDiff,T=w.biasComplementDiff,S=f(d.height.val-p.h,v,x),C=S.biasDiff,E=S.biasComplementDiff;o.autoPadding=m(p.w,p.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(p.w,d.width.val),g.x=(-k+p.x1+p.x2+T)/2,o.autoHeight=Math.max(p.h,d.height.val),g.y=(-C+p.y1+p.y2+E)/2}l(r,"update");for(var i=0;i<this.length;i++){var n=this[i],a=n._private;(!a.compoundBoundsClean||t)&&(r(n),e.batching()||(a.compoundBoundsClean=!0))}return this};Ns=l(function(t){return t===1/0||t===-1/0?0:t},"noninf"),ho=l(function(t,e,r,i,n){i-e===0||n-r===0||e==null||r==null||i==null||n==null||(t.x1=e<t.x1?e:t.x1,t.x2=i>t.x2?i:t.x2,t.y1=r<t.y1?r:t.y1,t.y2=n>t.y2?n:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},"updateBounds"),yh=l(function(t,e){return e==null?t:ho(t,e.x1,e.y1,e.x2,e.y2)},"updateBoundsFromBox"),Pv=l(function(t,e,r){return za(t,e,r)},"prefixedProperty"),p6=l(function(t,e,r){if(!e.cy().headless()){var i=e._private,n=i.rstyle,a=n.arrowWidth/2,s=e.pstyle(r+"-arrow-shape").value,o,h;if(s!=="none"){r==="source"?(o=n.srcX,h=n.srcY):r==="target"?(o=n.tgtX,h=n.tgtY):(o=n.midX,h=n.midY);var u=i.arrowBounds=i.arrowBounds||{},d=u[r]=u[r]||{};d.x1=o-a,d.y1=h-a,d.x2=o+a,d.y2=h+a,d.w=d.x2-d.x1,d.h=d.y2-d.y1,b6(d,1),ho(t,d.x1,d.y1,d.x2,d.y2)}}},"updateBoundsFromArrow"),L9=l(function(t,e,r){if(!e.cy().headless()){var i;r?i=r+"-":i="";var n=e._private,a=n.rstyle,s=e.pstyle(i+"label").strValue;if(s){var o=e.pstyle("text-halign"),h=e.pstyle("text-valign"),u=Pv(a,"labelWidth",r),d=Pv(a,"labelHeight",r),p=Pv(a,"labelX",r),g=Pv(a,"labelY",r),f=e.pstyle(i+"text-margin-x").pfValue,m=e.pstyle(i+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle(i+"text-rotation"),v=e.pstyle("text-outline-width").pfValue,x=e.pstyle("text-border-width").pfValue,w=x/2,k=e.pstyle("text-background-padding").pfValue,T=2,S=d,C=u,E=C/2,L=S/2,I,M,N,$;if(y)I=p-E,M=p+E,N=g-L,$=g+L;else{switch(o.value){case"left":I=p-C,M=p;break;case"center":I=p-E,M=p+E;break;case"right":I=p,M=p+C;break}switch(h.value){case"top":N=g-S,$=g;break;case"center":N=g-L,$=g+L;break;case"bottom":N=g,$=g+S;break}}var _=f-Math.max(v,w)-k-T,D=f+Math.max(v,w)+k+T,R=m-Math.max(v,w)-k-T,O=m+Math.max(v,w)+k+T;I+=_,M+=D,N+=R,$+=O;var A=r||"main",B=n.labelBounds,P=B[A]=B[A]||{};P.x1=I,P.y1=N,P.x2=M,P.y2=$,P.w=M-I,P.h=$-N,P.leftPad=_,P.rightPad=D,P.topPad=R,P.botPad=O;var z=y&&b.strValue==="autorotate",q=b.pfValue!=null&&b.pfValue!==0;if(z||q){var K=z?Pv(n.rstyle,"labelAngle",r):b.pfValue,W=Math.cos(K),ae=Math.sin(K),ie=(I+M)/2,se=(N+$)/2;if(!y){switch(o.value){case"left":ie=M;break;case"right":ie=I;break}switch(h.value){case"top":se=$;break;case"bottom":se=N;break}}var oe=l(function(X,fe){return X=X-ie,fe=fe-se,{x:X*W-fe*ae+ie,y:X*ae+fe*W+se}},"rotate"),Y=oe(I,N),Q=oe(I,$),j=oe(M,N),H=oe(M,$);I=Math.min(Y.x,Q.x,j.x,H.x),M=Math.max(Y.x,Q.x,j.x,H.x),N=Math.min(Y.y,Q.y,j.y,H.y),$=Math.max(Y.y,Q.y,j.y,H.y)}var J=A+"Rot",he=B[J]=B[J]||{};he.x1=I,he.y1=N,he.x2=M,he.y2=$,he.w=M-I,he.h=$-N,ho(t,I,N,M,$),ho(n.labelBounds.all,I,N,M,$)}return t}},"updateBoundsFromLabel"),lie=l(function(t,e){if(!e.cy().headless()){var r=e.pstyle("outline-opacity").value,i=e.pstyle("outline-width").value,n=e.pstyle("outline-offset").value,a=i+n;Rae(t,e,r,a,"outside",a/2)}},"updateBoundsFromOutline"),Rae=l(function(t,e,r,i,n,a){if(!(r===0||i<=0||n==="inside")){var s=e.cy(),o=e.pstyle("shape").value,h=s.renderer().nodeShapes[o],u=e.position(),d=u.x,p=u.y,g=e.width(),f=e.height();if(h.hasMiterBounds){n==="center"&&(i/=2);var m=h.miterBounds(d,p,g,f,i);yh(t,m)}else a!=null&&a>0&&x6(t,[a,a,a,a])}},"updateBoundsFromMiter"),X_e=l(function(t,e){if(!e.cy().headless()){var r=e.pstyle("border-opacity").value,i=e.pstyle("border-width").pfValue,n=e.pstyle("border-position").value;Rae(t,e,r,i,n)}},"updateBoundsFromMiterBorder"),K_e=l(function(t,e){var r=t._private.cy,i=r.styleEnabled(),n=r.headless(),a=ma(),s=t._private,o=t.isNode(),h=t.isEdge(),u,d,p,g,f,m,y=s.rstyle,b=o&&i?t.pstyle("bounds-expansion").pfValue:[0],v=l(function(he){return he.pstyle("display").value!=="none"},"isDisplayed"),x=!i||v(t)&&(!h||v(t.source())&&v(t.target()));if(x){var w=0,k=0;i&&e.includeOverlays&&(w=t.pstyle("overlay-opacity").value,w!==0&&(k=t.pstyle("overlay-padding").value));var T=0,S=0;i&&e.includeUnderlays&&(T=t.pstyle("underlay-opacity").value,T!==0&&(S=t.pstyle("underlay-padding").value));var C=Math.max(k,S),E=0,L=0;if(i&&(E=t.pstyle("width").pfValue,L=E/2),o&&e.includeNodes){var I=t.position();f=I.x,m=I.y;var M=t.outerWidth(),N=M/2,$=t.outerHeight(),_=$/2;u=f-N,d=f+N,p=m-_,g=m+_,ho(a,u,p,d,g),i&&lie(a,t),i&&e.includeOutlines&&!n&&lie(a,t),i&&X_e(a,t)}else if(h&&e.includeEdges)if(i&&!n){var D=t.pstyle("curve-style").strValue;if(u=Math.min(y.srcX,y.midX,y.tgtX),d=Math.max(y.srcX,y.midX,y.tgtX),p=Math.min(y.srcY,y.midY,y.tgtY),g=Math.max(y.srcY,y.midY,y.tgtY),u-=L,d+=L,p-=L,g+=L,ho(a,u,p,d,g),D==="haystack"){var R=y.haystackPts;if(R&&R.length===2){if(u=R[0].x,p=R[0].y,d=R[1].x,g=R[1].y,u>d){var O=u;u=d,d=O}if(p>g){var A=p;p=g,g=A}ho(a,u-L,p-L,d+L,g+L)}}else if(D==="bezier"||D==="unbundled-bezier"||vh(D,"segments")||vh(D,"taxi")){var B;switch(D){case"bezier":case"unbundled-bezier":B=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":B=y.linePts;break}if(B!=null)for(var P=0;P<B.length;P++){var z=B[P];u=z.x-L,d=z.x+L,p=z.y-L,g=z.y+L,ho(a,u,p,d,g)}}}else{var q=t.source(),K=q.position(),W=t.target(),ae=W.position();if(u=K.x,d=ae.x,p=K.y,g=ae.y,u>d){var ie=u;u=d,d=ie}if(p>g){var se=p;p=g,g=se}u-=L,d+=L,p-=L,g+=L,ho(a,u,p,d,g)}if(i&&e.includeEdges&&h&&(p6(a,t,"mid-source"),p6(a,t,"mid-target"),p6(a,t,"source"),p6(a,t,"target")),i){var oe=t.pstyle("ghost").value==="yes";if(oe){var Y=t.pstyle("ghost-offset-x").pfValue,Q=t.pstyle("ghost-offset-y").pfValue;ho(a,a.x1+Y,a.y1+Q,a.x2+Y,a.y2+Q)}}var j=s.bodyBounds=s.bodyBounds||{};Yte(j,a),x6(j,b),b6(j,1),i&&(u=a.x1,d=a.x2,p=a.y1,g=a.y2,ho(a,u-C,p-C,d+C,g+C));var H=s.overlayBounds=s.overlayBounds||{};Yte(H,a),x6(H,b),b6(H,1);var J=s.labelBounds=s.labelBounds||{};J.all!=null?xSe(J.all):J.all=ma(),i&&e.includeLabels&&(e.includeMainLabels&&L9(a,t,null),h&&(e.includeSourceLabels&&L9(a,t,"source"),e.includeTargetLabels&&L9(a,t,"target")))}return a.x1=Ns(a.x1),a.y1=Ns(a.y1),a.x2=Ns(a.x2),a.y2=Ns(a.y2),a.w=Ns(a.x2-a.x1),a.h=Ns(a.y2-a.y1),a.w>0&&a.h>0&&x&&(x6(a,b),b6(a,1)),a},"boundingBoxImpl"),Dae=l(function(t){var e=0,r=l(function(n){return(n?1:0)<<e++},"tf"),i=0;return i+=r(t.incudeNodes),i+=r(t.includeEdges),i+=r(t.includeLabels),i+=r(t.includeMainLabels),i+=r(t.includeSourceLabels),i+=r(t.includeTargetLabels),i+=r(t.includeOverlays),i+=r(t.includeOutlines),i},"getKey"),Mae=l(function(t){var e=l(function(a){return Math.round(a)},"r");if(t.isEdge()){var r=t.source().position(),i=t.target().position();return zte([e(r.x),e(r.y),e(i.x),e(i.y)])}else{var n=t.position();return zte([e(n.x),e(n.y)])}},"getBoundingBoxPosKey"),cie=l(function(t,e){var r=t._private,i,n=t.isEdge(),a=e==null?hie:Dae(e),s=a===hie;if(r.bbCache==null?(i=K_e(t,ib),r.bbCache=i,r.bbCachePosKey=Mae(t)):i=r.bbCache,!s){var o=t.isNode();i=ma(),(e.includeNodes&&o||e.includeEdges&&!o)&&(e.includeOverlays?yh(i,r.overlayBounds):yh(i,r.bodyBounds)),e.includeLabels&&(e.includeMainLabels&&(!n||e.includeSourceLabels&&e.includeTargetLabels)?yh(i,r.labelBounds.all):(e.includeMainLabels&&yh(i,r.labelBounds.mainRot),e.includeSourceLabels&&yh(i,r.labelBounds.sourceRot),e.includeTargetLabels&&yh(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},"cachedBoundingBoxImpl"),ib={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},hie=Dae(ib),uie=Rn(ib);Lh.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,i=pg(function(d){var p=d._private;return p.bbCache==null||p.styleDirty||p.bbCachePosKey!==Mae(d)},function(d){return d.id()});if(r&&this.length===1&&!i(this[0]))t===void 0?t=ib:t=uie(t),e=cie(this[0],t);else{e=ma(),t=t||ib;var n=uie(t),a=this,s=a.cy(),o=s.styleEnabled();this.edges().forEach(i),this.nodes().forEach(i),o&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var h=0;h<a.length;h++){var u=a[h];i(u)&&u.dirtyBoundingBoxCache(),yh(e,cie(u,n))}}return e.x1=Ns(e.x1),e.y1=Ns(e.y1),e.x2=Ns(e.x2),e.y2=Ns(e.y2),e.w=Ns(e.x2-e.x1),e.h=Ns(e.y2-e.y1),e};Lh.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Lh.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),i=r.hasCompoundNodes(),n=r.collection();if(i&&(n=e.filter(function(u){return u.isParent()}),e=e.not(n)),$r(t)){var a=t;t=l(function(){return a},"fn")}var s=l(function(u,d){return u._private.bbAtOldPos=t(u,d)},"storeOldPos"),o=l(function(u){return u._private.bbAtOldPos},"getOldPos");r.startBatch(),e.forEach(s).silentPositions(t),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0));var h=bSe(this.boundingBox({useCache:!1}));return e.silentPositions(o),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0)),r.endBatch(),h};dg.boundingbox=dg.bb=dg.boundingBox;dg.renderedBoundingbox=dg.renderedBoundingBox;Z_e=Lh;Uv=yb={};Oae=l(function(t){t.uppercaseName=Cte(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=Cte(t.outerName),Uv[t.name]=l(function(){var e=this[0],r=e._private,i=r.cy,n=i._private.styleEnabled;if(e)if(n){if(e.isParent())return e.updateCompoundBounds(),r[t.autoName]||0;var a=e.pstyle(t.name);switch(a.strValue){case"label":return e.recalculateRenderedStyle(),r.rstyle[t.labelName]||0;default:return a.pfValue}}else return 1},"dimImpl"),Uv["outer"+t.uppercaseName]=l(function(){var e=this[0],r=e._private,i=r.cy,n=i._private.styleEnabled;if(e)if(n){var a=e[t.name](),s=e.pstyle("border-position").value,o;s==="center"?o=e.pstyle("border-width").pfValue:s==="outside"?o=2*e.pstyle("border-width").pfValue:o=0;var h=2*e.padding();return a+o+h}else return 1},"outerDimImpl"),Uv["rendered"+t.uppercaseName]=l(function(){var e=this[0];if(e){var r=e[t.name]();return r*this.cy().zoom()}},"renderedDimImpl"),Uv["rendered"+t.uppercaseOuterName]=l(function(){var e=this[0];if(e){var r=e[t.outerName]();return r*this.cy().zoom()}},"renderedOuterDimImpl")},"defineDimFns");Oae({name:"width"});Oae({name:"height"});yb.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};yb.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};yb.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};Q_e=yb,J_e=l(function(t,e){if(t.isEdge()&&t.takesUpSpace())return e(t)},"ifEdge"),eAe=l(function(t,e){if(t.isEdge()&&t.takesUpSpace()){var r=t.cy();return Q6(e(t),r.zoom(),r.pan())}},"ifEdgeRenderedPosition"),tAe=l(function(t,e){if(t.isEdge()&&t.takesUpSpace()){var r=t.cy(),i=r.pan(),n=r.zoom();return e(t).map(function(a){return Q6(a,n,i)})}},"ifEdgeRenderedPositions"),rAe=l(function(t){return t.renderer().getControlPoints(t)},"controlPoints"),iAe=l(function(t){return t.renderer().getSegmentPoints(t)},"segmentPoints"),nAe=l(function(t){return t.renderer().getSourceEndpoint(t)},"sourceEndpoint"),aAe=l(function(t){return t.renderer().getTargetEndpoint(t)},"targetEndpoint"),sAe=l(function(t){return t.renderer().getEdgeMidpoint(t)},"midpoint"),die={controlPoints:{get:rAe,mult:!0},segmentPoints:{get:iAe,mult:!0},sourceEndpoint:{get:nAe},targetEndpoint:{get:aAe},midpoint:{get:sAe}},oAe=l(function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},"renderedName"),lAe=Object.keys(die).reduce(function(t,e){var r=die[e],i=oAe(e);return t[e]=function(){return J_e(this,r.get)},r.mult?t[i]=function(){return tAe(this,r.get)}:t[i]=function(){return eAe(this,r.get)},t},{}),cAe=Xt({},H_e,Z_e,Q_e,lAe),$ae=l(function(t,e){this.recycle(t,e)},"Event");l(ng,"returnFalse");l(jv,"returnTrue");$ae.prototype={instanceString:l(function(){return"event"},"instanceString"),recycle:l(function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ng,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?jv:ng):t!=null&&t.type?e=t:this.type=t,e!=null&&(this.originalEvent=e.originalEvent,this.type=e.type!=null?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),n=this.cy.pan();this.renderedPosition={x:r.x*i+n.x,y:r.y*i+n.y}}this.timeStamp=t&&t.timeStamp||Date.now()},"recycle"),preventDefault:l(function(){this.isDefaultPrevented=jv;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},"preventDefault"),stopPropagation:l(function(){this.isPropagationStopped=jv;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},"stopPropagation"),stopImmediatePropagation:l(function(){this.isImmediatePropagationStopped=jv,this.stopPropagation()},"stopImmediatePropagation"),isDefaultPrevented:ng,isPropagationStopped:ng,isImmediatePropagationStopped:ng};Bae=/^([^.]+)(\.(?:[^.]+))?$/,hAe=".*",Pae={qualifierCompare:l(function(t,e){return t===e},"qualifierCompare"),eventMatches:l(function(){return!0},"eventMatches"),addEventFields:l(function(){},"addEventFields"),callbackContext:l(function(t){return t},"callbackContext"),beforeEmit:l(function(){},"beforeEmit"),afterEmit:l(function(){},"afterEmit"),bubble:l(function(){return!1},"bubble"),parent:l(function(){return null},"parent"),context:null},pie=Object.keys(Pae),uAe={};l(vb,"Emitter");Ah=vb.prototype,Fae=l(function(t,e,r,i,n,a,s){Ci(i)&&(n=i,i=null),s&&(a==null?a=s:a=Xt({},a,s));for(var o=Jr(r)?r:r.split(/\s+/),h=0;h<o.length;h++){var u=o[h];if(!Th(u)){var d=u.match(Bae);if(d){var p=d[1],g=d[2]?d[2]:null,f=e(t,u,p,g,i,n,a);if(f===!1)break}}}},"forEachEvent"),gie=l(function(t,e){return t.addEventFields(t.context,e),new $ae(e.type,e)},"makeEventObj"),dAe=l(function(t,e,r){if(xCe(r)){e(t,r);return}else if($r(r)){e(t,gie(t,r));return}for(var i=Jr(r)?r:r.split(/\s+/),n=0;n<i.length;n++){var a=i[n];if(!Th(a)){var s=a.match(Bae);if(s){var o=s[1],h=s[2]?s[2]:null,u=gie(t,{type:o,namespace:h,target:t.context});e(t,u)}}}},"forEachEventObj");Ah.on=Ah.addListener=function(t,e,r,i,n){return Fae(this,function(a,s,o,h,u,d,p){Ci(d)&&a.listeners.push({event:s,callback:d,type:o,namespace:h,qualifier:u,conf:p})},t,e,r,i,n),this};Ah.one=function(t,e,r,i){return this.on(t,e,r,i,{one:!0})};Ah.removeListener=Ah.off=function(t,e,r,i){var n=this;this.emitting!==0&&(this.listeners=WCe(this.listeners));for(var a=this.listeners,s=l(function(h){var u=a[h];Fae(n,function(d,p,g,f,m,y){if((u.type===g||t==="*")&&(!f&&u.namespace!==".*"||u.namespace===f)&&(!m||d.qualifierCompare(u.qualifier,m))&&(!y||u.callback===y))return a.splice(h,1),!1},t,e,r,i)},"_loop"),o=a.length-1;o>=0;o--)s(o);return this};Ah.removeAllListeners=function(){return this.removeListener("*")};Ah.emit=Ah.trigger=function(t,e,r){var i=this.listeners,n=i.length;return this.emitting++,Jr(e)||(e=[e]),dAe(this,function(a,s){r!=null&&(i=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],n=i.length);for(var o=l(function(){var u=i[h];if(u.type===s.type&&(!u.namespace||u.namespace===s.namespace||u.namespace===hAe)&&a.eventMatches(a.context,u,s)){var d=[s];e!=null&&YCe(d,e),a.beforeEmit(a.context,u,s),u.conf&&u.conf.one&&(a.listeners=a.listeners.filter(function(f){return f!==u}));var p=a.callbackContext(a.context,u,s),g=u.callback.apply(p,d);a.afterEmit(a.context,u,s),g===!1&&(s.stopPropagation(),s.preventDefault())}},"_loop2"),h=0;h<n;h++)o();a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,e)},t),this.emitting--,this};pAe={qualifierCompare:l(function(t,e){return t==null||e==null?t==null&&e==null:t.sameText(e)},"qualifierCompare"),eventMatches:l(function(t,e,r){var i=e.qualifier;return i!=null?t!==r.target&&lb(r.target)&&i.matches(r.target):!0},"eventMatches"),addEventFields:l(function(t,e){e.cy=t.cy(),e.target=t},"addEventFields"),callbackContext:l(function(t,e,r){return e.qualifier!=null?r.target:t},"callbackContext"),beforeEmit:l(function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},"beforeEmit"),bubble:l(function(){return!0},"bubble"),parent:l(function(t){return t.isChild()?t.parent():t.cy()},"parent")},g6=l(function(t){return zt(t)?new Sh(t):t},"argSelector"),zae={createEmitter:l(function(){for(var t=0;t<this.length;t++){var e=this[t],r=e._private;r.emitter||(r.emitter=new vb(pAe,e))}return this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(t,e,r){for(var i=g6(e),n=0;n<this.length;n++){var a=this[n];a.emitter().on(t,i,r)}return this},"on"),removeListener:l(function(t,e,r){for(var i=g6(e),n=0;n<this.length;n++){var a=this[n];a.emitter().removeListener(t,i,r)}return this},"removeListener"),removeAllListeners:l(function(){for(var t=0;t<this.length;t++){var e=this[t];e.emitter().removeAllListeners()}return this},"removeAllListeners"),one:l(function(t,e,r){for(var i=g6(e),n=0;n<this.length;n++){var a=this[n];a.emitter().one(t,i,r)}return this},"one"),once:l(function(t,e,r){for(var i=g6(e),n=0;n<this.length;n++){var a=this[n];a.emitter().on(t,i,r,{once:!0,onceCollection:this})}},"once"),emit:l(function(t,e){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(t,e)}return this},"emit"),emitAndNotify:l(function(t,e){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,e),this},"emitAndNotify")};qr.eventAliasesOn(zae);Gae={nodes:l(function(t){return this.filter(function(e){return e.isNode()}).filter(t)},"nodes"),edges:l(function(t){return this.filter(function(e){return e.isEdge()}).filter(t)},"edges"),byGroup:l(function(){for(var t=this.spawn(),e=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?t.push(i):e.push(i)}return{nodes:t,edges:e}},"byGroup"),filter:l(function(t,e){if(t===void 0)return this;if(zt(t)||os(t))return new Sh(t).filter(this);if(Ci(t)){for(var r=this.spawn(),i=this,n=0;n<i.length;n++){var a=i[n],s=e?t.apply(e,[a,n,i]):t(a,n,i);s&&r.push(a)}return r}return this.spawn()},"filter"),not:l(function(t){if(t){zt(t)&&(t=this.filter(t));for(var e=this.spawn(),r=0;r<this.length;r++){var i=this[r],n=t.has(i);n||e.push(i)}return e}else return this},"not"),absoluteComplement:l(function(){var t=this.cy();return t.mutableElements().not(this)},"absoluteComplement"),intersect:l(function(t){if(zt(t)){var e=t;return this.filter(e)}for(var r=this.spawn(),i=this,n=t,a=this.length<t.length,s=a?i:n,o=a?n:i,h=0;h<s.length;h++){var u=s[h];o.has(u)&&r.push(u)}return r},"intersect"),xor:l(function(t){var e=this._private.cy;zt(t)&&(t=e.$(t));var r=this.spawn(),i=this,n=t,a=l(function(s,o){for(var h=0;h<s.length;h++){var u=s[h],d=u._private.data.id,p=o.hasElementWithId(d);p||r.push(u)}},"add");return a(i,n),a(n,i),r},"xor"),diff:l(function(t){var e=this._private.cy;zt(t)&&(t=e.$(t));var r=this.spawn(),i=this.spawn(),n=this.spawn(),a=this,s=t,o=l(function(h,u,d){for(var p=0;p<h.length;p++){var g=h[p],f=g._private.data.id,m=u.hasElementWithId(f);m?n.merge(g):d.push(g)}},"add");return o(a,s,r),o(s,a,i),{left:r,right:i,both:n}},"diff"),add:l(function(t){var e=this._private.cy;if(!t)return this;if(zt(t)){var r=t;t=e.mutableElements().filter(r)}for(var i=this.spawnSelf(),n=0;n<t.length;n++){var a=t[n],s=!this.has(a);s&&i.push(a)}return i},"add"),merge:l(function(t){var e=this._private,r=e.cy;if(!t)return this;if(t&&zt(t)){var i=t;t=r.mutableElements().filter(i)}for(var n=e.map,a=0;a<t.length;a++){var s=t[a],o=s._private.data.id,h=!n.has(o);if(h){var u=this.length++;this[u]=s,n.set(o,{ele:s,index:u})}}return this},"merge"),unmergeAt:l(function(t){var e=this[t],r=e.id(),i=this._private,n=i.map;this[t]=void 0,n.delete(r);var a=t===this.length-1;if(this.length>1&&!a){var s=this.length-1,o=this[s],h=o._private.data.id;this[s]=void 0,this[t]=o,n.set(h,{ele:o,index:t})}return this.length--,this},"unmergeAt"),unmergeOne:l(function(t){t=t[0];var e=this._private,r=t._private.data.id,i=e.map,n=i.get(r);if(!n)return this;var a=n.index;return this.unmergeAt(a),this},"unmergeOne"),unmerge:l(function(t){var e=this._private.cy;if(!t)return this;if(t&&zt(t)){var r=t;t=e.mutableElements().filter(r)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},"unmerge"),unmergeBy:l(function(t){for(var e=this.length-1;e>=0;e--){var r=this[e];t(r)&&this.unmergeAt(e)}return this},"unmergeBy"),map:l(function(t,e){for(var r=[],i=this,n=0;n<i.length;n++){var a=i[n],s=e?t.apply(e,[a,n,i]):t(a,n,i);r.push(s)}return r},"map"),reduce:l(function(t,e){for(var r=e,i=this,n=0;n<i.length;n++)r=t(r,i[n],n,i);return r},"reduce"),max:l(function(t,e){for(var r=-1/0,i,n=this,a=0;a<n.length;a++){var s=n[a],o=e?t.apply(e,[s,a,n]):t(s,a,n);o>r&&(r=o,i=s)}return{value:r,ele:i}},"max"),min:l(function(t,e){for(var r=1/0,i,n=this,a=0;a<n.length;a++){var s=n[a],o=e?t.apply(e,[s,a,n]):t(s,a,n);o<r&&(r=o,i=s)}return{value:r,ele:i}},"min")},Pr=Gae;Pr.u=Pr["|"]=Pr["+"]=Pr.union=Pr.or=Pr.add;Pr["\\"]=Pr["!"]=Pr["-"]=Pr.difference=Pr.relativeComplement=Pr.subtract=Pr.not;Pr.n=Pr["&"]=Pr["."]=Pr.and=Pr.intersection=Pr.intersect;Pr["^"]=Pr["(+)"]=Pr["(-)"]=Pr.symmetricDifference=Pr.symdiff=Pr.xor;Pr.fnFilter=Pr.filterFn=Pr.stdFilter=Pr.filter;Pr.complement=Pr.abscomp=Pr.absoluteComplement;gAe={isNode:l(function(){return this.group()==="nodes"},"isNode"),isEdge:l(function(){return this.group()==="edges"},"isEdge"),isLoop:l(function(){return this.isEdge()&&this.source()[0]===this.target()[0]},"isLoop"),isSimple:l(function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},"isSimple"),group:l(function(){var t=this[0];if(t)return t._private.group},"group")},qae=l(function(t,e){var r=t.cy(),i=r.hasCompoundNodes();function n(u){var d=u.pstyle("z-compound-depth");return d.value==="auto"?i?u.zDepth():0:d.value==="bottom"?-1:d.value==="top"?xL:0}l(n,"getDepth");var a=n(t)-n(e);if(a!==0)return a;function s(u){var d=u.pstyle("z-index-compare");return d.value==="auto"&&u.isNode()?1:0}l(s,"getEleDepth");var o=s(t)-s(e);if(o!==0)return o;var h=t.pstyle("z-index").value-e.pstyle("z-index").value;return h!==0?h:t.poolIndex()-e.poolIndex()},"zIndexSort"),z6={forEach:l(function(t,e){if(Ci(t))for(var r=this.length,i=0;i<r;i++){var n=this[i],a=e?t.apply(e,[n,i,this]):t(n,i,this);if(a===!1)break}return this},"forEach"),toArray:l(function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},"toArray"),slice:l(function(t,e){var r=[],i=this.length;e==null&&(e=i),t==null&&(t=0),t<0&&(t=i+t),e<0&&(e=i+e);for(var n=t;n>=0&&n<e&&n<i;n++)r.push(this[n]);return this.spawn(r)},"slice"),size:l(function(){return this.length},"size"),eq:l(function(t){return this[t]||this.spawn()},"eq"),first:l(function(){return this[0]||this.spawn()},"first"),last:l(function(){return this[this.length-1]||this.spawn()},"last"),empty:l(function(){return this.length===0},"empty"),nonempty:l(function(){return!this.empty()},"nonempty"),sort:l(function(t){if(!Ci(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},"sort"),sortByZIndex:l(function(){return this.sort(qae)},"sortByZIndex"),zDepth:l(function(){var t=this[0];if(t){var e=t._private,r=e.group;if(r==="nodes"){var i=e.data.parent?t.parents().size():0;return t.isParent()?i:xL-1}else{var n=e.source,a=e.target,s=n.zDepth(),o=a.zDepth();return Math.max(s,o,0)}}},"zDepth")};z6.each=z6.forEach;fAe=l(function(){var t="undefined",e=(typeof Symbol>"u"?"undefined":Qi(Symbol))!=t&&Qi(Symbol.iterator)!=t;e&&(z6[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},n=0,a=this.length;return fL({next:l(function(){return n<a?i.value=r[n++]:(i.value=void 0,i.done=!0),i},"next")},Symbol.iterator,function(){return this})})},"defineSymbolIterator");fAe();mAe=Rn({nodeDimensionsIncludeLabels:!1}),E6={layoutDimensions:l(function(t){t=mAe(t);var e;if(!this.takesUpSpace())e={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var r=this.boundingBox();e={w:r.w,h:r.h}}else e={w:this.outerWidth(),h:this.outerHeight()};return(e.w===0||e.h===0)&&(e.w=e.h=1),e},"layoutDimensions"),layoutPositions:l(function(t,e,r){var i=this.nodes().filter(function(k){return!k.isParent()}),n=this.cy(),a=e.eles,s=l(function(k){return k.id()},"getMemoizeKey"),o=pg(r,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var h=l(function(k,T,S){var C={x:T.x1+T.w/2,y:T.y1+T.h/2},E={x:(S.x-C.x)*k,y:(S.y-C.y)*k};return{x:C.x+E.x,y:C.y+E.y}},"calculateSpacing"),u=e.spacingFactor&&e.spacingFactor!==1,d=l(function(){if(!u)return null;for(var k=ma(),T=0;T<i.length;T++){var S=i[T],C=o(S,T);Ene(k,C.x,C.y)}return k},"spacingBb"),p=d(),g=pg(function(k,T){var S=o(k,T);if(u){var C=Math.abs(e.spacingFactor);S=h(C,p,S)}return e.transform!=null&&(S=e.transform(k,S)),S},s);if(e.animate){for(var f=0;f<i.length;f++){var m=i[f],y=g(m,f),b=e.animateFilter==null||e.animateFilter(m,f);if(b){var v=m.animation({position:y,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(v)}else m.position(y)}if(e.fit){var x=n.animation({fit:{boundingBox:a.boundingBoxAt(g),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(x)}else if(e.zoom!==void 0&&e.pan!==void 0){var w=n.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(w)}t.animations.forEach(function(k){return k.play()}),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),xg.all(t.animations.map(function(k){return k.promise()})).then(function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})})}else i.positions(g),e.fit&&n.fit(e.eles,e.padding),e.zoom!=null&&n.zoom(e.zoom),e.pan&&n.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},"layoutPositions"),layout:l(function(t){var e=this.cy();return e.makeLayout(Xt({},t,{eles:this}))},"layout")};E6.createLayout=E6.makeLayout=E6.layout;l($L,"styleCache");l(bb,"cacheStyleFunction");l(xb,"cachePrototypeStyleFunction");Nn={recalculateRenderedStyle:l(function(t){var e=this.cy(),r=e.renderer(),i=e.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,t),this},"recalculateRenderedStyle"),dirtyStyleCache:l(function(){var t=this.cy(),e=l(function(i){return i._private.styleCache=null},"dirty");if(t.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(e)}else this.forEach(function(i){e(i),i.connectedEdges().forEach(e)});return this},"dirtyStyleCache"),updateStyle:l(function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching()){var r=e._private.batchStyleEles;return r.merge(this),this}var i=e.hasCompoundNodes(),n=this;t=!!(t||t===void 0),i&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=n;return t?a.emitAndNotify("style"):a.emit("style"),n.forEach(function(s){return s._private.styleDirty=!0}),this},"updateStyle"),cleanStyle:l(function(){var t=this.cy();if(t.styleEnabled())for(var e=0;e<this.length;e++){var r=this[e];r._private.styleDirty&&(r._private.styleDirty=!1,t.style().apply(r))}},"cleanStyle"),parsedStyle:l(function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,i.style().apply(r));var n=r._private.style[t];return n??(e?i.style().getDefaultProperty(t):null)}},"parsedStyle"),numericStyle:l(function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var r=e.pstyle(t);return r.pfValue!==void 0?r.pfValue:r.value}},"numericStyle"),numericStyleUnits:l(function(t){var e=this[0];if(e.cy().styleEnabled()&&e)return e.pstyle(t).units},"numericStyleUnits"),renderedStyle:l(function(t){var e=this.cy();if(!e.styleEnabled())return this;var r=this[0];if(r)return e.style().getRenderedStyle(r,t)},"renderedStyle"),style:l(function(t,e){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,n=r.style();if($r(t)){var a=t;n.applyBypass(this,a,i),this.emitAndNotify("style")}else if(zt(t))if(e===void 0){var s=this[0];return s?n.getStylePropertyValue(s,t):void 0}else n.applyBypass(this,t,e,i),this.emitAndNotify("style");else if(t===void 0){var o=this[0];return o?n.getRawStyle(o):void 0}return this},"style"),removeStyle:l(function(t){var e=this.cy();if(!e.styleEnabled())return this;var r=!1,i=e.style(),n=this;if(t===void 0)for(var a=0;a<n.length;a++){var s=n[a];i.removeAllBypasses(s,r)}else{t=t.split(/\s+/);for(var o=0;o<n.length;o++){var h=n[o];i.removeBypasses(h,t,r)}}return this.emitAndNotify("style"),this},"removeStyle"),show:l(function(){return this.css("display","element"),this},"show"),hide:l(function(){return this.css("display","none"),this},"hide"),effectiveOpacity:l(function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),r=this[0];if(r){var i=r._private,n=r.pstyle("opacity").value;if(!e)return n;var a=i.data.parent?r.parents():null;if(a)for(var s=0;s<a.length;s++){var o=a[s],h=o.pstyle("opacity").value;n=h*n}return n}},"effectiveOpacity"),transparent:l(function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0],r=e.cy().hasCompoundNodes();if(e)return r?e.effectiveOpacity()===0:e.pstyle("opacity").value===0},"transparent"),backgrounding:l(function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0];return!!e._private.backgrounding},"backgrounding")};l(C6,"checkCompound");l(iw,"defineDerivedStateFunction");wg=bb("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Nn.takesUpSpace=xb("takesUpSpace",iw({ok:wg}));yAe=bb("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&wg(t)}),vAe=bb("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&wg(t)});Nn.interactive=xb("interactive",iw({ok:yAe,parentOk:vAe,edgeOkViaNode:wg}));Nn.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};bAe=bb("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&wg(t)}),xAe=wg;Nn.visible=xb("visible",iw({ok:bAe,edgeOkViaNode:xAe}));Nn.hidden=function(){var t=this[0];if(t)return!t.visible()};Nn.isBundledBezier=xb("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Nn.bypass=Nn.css=Nn.style;Nn.renderedCss=Nn.renderedStyle;Nn.removeBypass=Nn.removeCss=Nn.removeStyle;Nn.pstyle=Nn.parsedStyle;kh={};l(V9,"defineSwitchFunction");l(ud,"defineSwitchSet");ud({field:"locked",overrideField:l(function(t){return t.cy().autolock()?!0:void 0},"overrideField"),on:"lock",off:"unlock"});ud({field:"grabbable",overrideField:l(function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},"overrideField"),on:"grabify",off:"ungrabify"});ud({field:"selected",ableField:"selectable",overrideAble:l(function(t){return t.cy().autounselectify()?!1:void 0},"overrideAble"),on:"select",off:"unselect"});ud({field:"selectable",overrideField:l(function(t){return t.cy().autounselectify()?!1:void 0},"overrideField"),on:"selectify",off:"unselectify"});kh.deselect=kh.unselect;kh.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};ud({field:"active",on:"activate",off:"unactivate"});ud({field:"pannable",on:"panify",off:"unpanify"});kh.inactive=function(){var t=this[0];if(t)return!t._private.active};Kn={},fie=l(function(t){return l(function(e){for(var r=this,i=[],n=0;n<r.length;n++){var a=r[n];if(a.isNode()){for(var s=!1,o=a.connectedEdges(),h=0;h<o.length;h++){var u=o[h],d=u.source(),p=u.target();if(t.noIncomingEdges&&p===a&&d!==a||t.noOutgoingEdges&&d===a&&p!==a){s=!0;break}}s||i.push(a)}}return this.spawn(i,!0).filter(e)},"dagExtremityImpl")},"defineDagExtremity"),mie=l(function(t){return function(e){for(var r=this,i=[],n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var s=a.connectedEdges(),o=0;o<s.length;o++){var h=s[o],u=h.source(),d=h.target();t.outgoing&&u===a?(i.push(h),i.push(d)):t.incoming&&d===a&&(i.push(h),i.push(u))}}return this.spawn(i,!0).filter(e)}},"defineDagOneHop"),yie=l(function(t){return function(e){for(var r=this,i=[],n={};;){var a=t.outgoing?r.outgoers():r.incomers();if(a.length===0)break;for(var s=!1,o=0;o<a.length;o++){var h=a[o],u=h.id();n[u]||(n[u]=!0,i.push(h),s=!0)}if(!s)break;r=a}return this.spawn(i,!0).filter(e)}},"defineDagAllHops");Kn.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Xt(Kn,{roots:fie({noIncomingEdges:!0}),leaves:fie({noOutgoingEdges:!0}),outgoers:Is(mie({outgoing:!0}),"outgoers"),successors:yie({outgoing:!0}),incomers:Is(mie({incoming:!0}),"incomers"),predecessors:yie({})});Xt(Kn,{neighborhood:Is(function(t){for(var e=[],r=this.nodes(),i=0;i<r.length;i++)for(var n=r[i],a=n.connectedEdges(),s=0;s<a.length;s++){var o=a[s],h=o.source(),u=o.target(),d=n===h?u:h;d.length>0&&e.push(d[0]),e.push(o[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:l(function(t){return this.neighborhood().add(this).filter(t)},"closedNeighborhood"),openNeighborhood:l(function(t){return this.neighborhood(t)},"openNeighborhood")});Kn.neighbourhood=Kn.neighborhood;Kn.closedNeighbourhood=Kn.closedNeighborhood;Kn.openNeighbourhood=Kn.openNeighborhood;Xt(Kn,{source:Is(l(function(t){var e=this[0],r;return e&&(r=e._private.source||e.cy().collection()),r&&t?r.filter(t):r},"sourceImpl"),"source"),target:Is(l(function(t){var e=this[0],r;return e&&(r=e._private.target||e.cy().collection()),r&&t?r.filter(t):r},"targetImpl"),"target"),sources:Y9({attr:"source"}),targets:Y9({attr:"target"})});l(Y9,"defineSourceFunction");Xt(Kn,{edgesWith:Is(H9(),"edgesWith"),edgesTo:Is(H9({thisIsSrc:!0}),"edgesTo")});l(H9,"defineEdgesWithFunction");Xt(Kn,{connectedEdges:Is(function(t){for(var e=[],r=this,i=0;i<r.length;i++){var n=r[i];if(n.isNode())for(var a=n._private.edges,s=0;s<a.length;s++){var o=a[s];e.push(o)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Is(function(t){for(var e=[],r=this,i=0;i<r.length;i++){var n=r[i];n.isEdge()&&(e.push(n.source()[0]),e.push(n.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Is(X9(),"parallelEdges"),codirectedEdges:Is(X9({codirected:!0}),"codirectedEdges")});l(X9,"defineParallelEdgesFunction");Xt(Kn,{components:l(function(t){var e=this,r=e.cy(),i=r.collection(),n=t==null?e.nodes():t.nodes(),a=[];t!=null&&n.empty()&&(n=t.sources());var s=l(function(h,u){i.merge(h),n.unmerge(h),u.merge(h)},"visitInComponent");if(n.empty())return e.spawn();var o=l(function(){var h=r.collection();a.push(h);var u=n[0];s(u,h),e.bfs({directed:!1,roots:u,visit:l(function(d){return s(d,h)},"visit")}),h.forEach(function(d){d.connectedEdges().forEach(function(p){e.has(p)&&h.has(p.source())&&h.has(p.target())&&h.merge(p)})})},"_loop");do o();while(n.length>0);return a},"components"),component:l(function(){var t=this[0];return t.cy().mutableElements().components(t)[0]},"component")});Kn.componentsOf=Kn.components;In=l(function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){vi("A collection must have a reference to the core");return}var n=new Wl,a=!1;if(!e)e=[];else if(e.length>0&&$r(e[0])&&!lb(e[0])){a=!0;for(var s=[],o=new bg,h=0,u=e.length;h<u;h++){var d=e[h];d.data==null&&(d.data={});var p=d.data;if(p.id==null)p.id=bne();else if(t.hasElementWithId(p.id)||o.has(p.id))continue;var g=new Z6(t,d,!1);s.push(g),o.add(p.id)}e=s}this.length=0;for(var f=0,m=e.length;f<m;f++){var y=e[f][0];if(y!=null){var b=y._private.data.id;(!r||!n.has(b))&&(r&&n.set(b,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(v){this.lazyMap=v},rebuildMap:l(function(){for(var v=this.lazyMap=new Wl,x=this.eles,w=0;w<x.length;w++){var k=x[w];v.set(k.id(),{index:w,ele:k})}},"rebuildMap")},r&&(this._private.map=n),a&&!i&&this.restore()},"Collection"),ai=Z6.prototype=In.prototype=Object.create(Array.prototype);ai.instanceString=function(){return"collection"};ai.spawn=function(t,e){return new In(this.cy(),t,e)};ai.spawnSelf=function(){return this.spawn(this)};ai.cy=function(){return this._private.cy};ai.renderer=function(){return this._private.cy.renderer()};ai.element=function(){return this[0]};ai.collection=function(){return Xie(this)?this:new In(this._private.cy,[this])};ai.unique=function(){return new In(this._private.cy,this,!0)};ai.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};ai.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new In(e)};ai.$id=ai.getElementById;ai.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};ai.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};ai.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};ai.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var i=e._private;if($r(t)){if(r.startBatch(),t.data){e.data(t.data);var n=i.data;if(e.isEdge()){var a=!1,s={},o=t.data.source,h=t.data.target;o!=null&&o!=n.source&&(s.source=""+o,a=!0),h!=null&&h!=n.target&&(s.target=""+h,a=!0),a&&(e=e.move(s))}else{var u="parent"in t.data,d=t.data.parent;u&&(d!=null||n.parent!=null)&&d!=n.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),e=e.move({parent:d}))}}t.position&&e.position(t.position);var p=l(function(m,y,b){var v=t[m];v!=null&&v!==i[m]&&(v?e[y]():e[b]())},"checkSwitch");return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var g={data:Jo(i.data),position:Jo(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,pannable:i.pannable,classes:null};g.classes="";var f=0;return i.classes.forEach(function(m){return g.classes+=f++===0?m:" "+m}),g}}};ai.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],i=r.json();t.push(i)}return t};ai.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var i=this[r],n=i.json(),a=new Z6(t,n,!1);e.push(a)}return new In(t,e)};ai.copy=ai.clone;ai.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,i=r.cy(),n=i._private,a=[],s=[],o,h=0,u=r.length;h<u;h++){var d=r[h];e&&!d.removed()||(d.isNode()?a.push(d):s.push(d))}o=a.concat(s);var p,g=l(function(){o.splice(p,1),p--},"removeFromElements");for(p=0;p<o.length;p++){var f=o[p],m=f._private,y=m.data;if(f.clearTraversalCache(),!(!e&&!m.removed)){if(y.id===void 0)y.id=bne();else if(ft(y.id))y.id=""+y.id;else if(Th(y.id)||!zt(y.id)){vi("Can not create element with invalid string ID `"+y.id+"`"),g();continue}else if(i.hasElementWithId(y.id)){vi("Can not create second element with ID `"+y.id+"`"),g();continue}}var b=y.id;if(f.isNode()){var v=m.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(f.isEdge()){for(var x=f,w=["source","target"],k=w.length,T=!1,S=0;S<k;S++){var C=w[S],E=y[C];ft(E)&&(E=y[C]=""+y[C]),E==null||E===""?(vi("Can not create edge `"+b+"` with unspecified "+C),T=!0):i.hasElementWithId(E)||(vi("Can not create edge `"+b+"` with nonexistant "+C+" `"+E+"`"),T=!0)}if(T){g();continue}var L=i.getElementById(y.source),I=i.getElementById(y.target);L.same(I)?L._private.edges.push(x):(L._private.edges.push(x),I._private.edges.push(x)),x._private.source=L,x._private.target=I}m.map=new Wl,m.map.set(b,{ele:f,index:0}),m.removed=!1,e&&i.addToPool(f)}for(var M=0;M<a.length;M++){var N=a[M],$=N._private.data;ft($.parent)&&($.parent=""+$.parent);var _=$.parent,D=_!=null;if(D||N._private.parent){var R=N._private.parent?i.collection().merge(N._private.parent):i.getElementById(_);if(R.empty())$.parent=void 0;else if(R[0].removed())Ur("Node added with missing parent, reference to parent removed"),$.parent=void 0,N._private.parent=null;else{for(var O=!1,A=R;!A.empty();){if(N.same(A)){O=!0,$.parent=void 0;break}A=A.parent()}O||(R[0]._private.children.push(N),N._private.parent=R[0],n.hasCompoundNodes=!0)}}}if(o.length>0){for(var B=o.length===r.length?r:new In(i,o),P=0;P<B.length;P++){var z=B[P];z.isNode()||(z.parallelEdges().clearTraversalCache(),z.source().clearTraversalCache(),z.target().clearTraversalCache())}var q;n.hasCompoundNodes?q=i.collection().merge(B).merge(B.connectedNodes()).merge(B.parent()):q=B,q.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?B.emitAndNotify("add"):e&&B.emit("add")}return r};ai.removed=function(){var t=this[0];return t&&t._private.removed};ai.inside=function(){var t=this[0];return t&&!t._private.removed};ai.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,i=[],n={},a=r._private.cy;function s(_){for(var D=_._private.edges,R=0;R<D.length;R++)h(D[R])}l(s,"addConnectedEdges");function o(_){for(var D=_._private.children,R=0;R<D.length;R++)h(D[R])}l(o,"addChildren");function h(_){var D=n[_.id()];e&&_.removed()||D||(n[_.id()]=!0,_.isNode()?(i.push(_),s(_),o(_)):i.unshift(_))}l(h,"add");for(var u=0,d=r.length;u<d;u++){var p=r[u];h(p)}function g(_,D){var R=_._private.edges;Eh(R,D),_.clearTraversalCache()}l(g,"removeEdgeRef");function f(_){_.clearTraversalCache()}l(f,"removeParallelRef");var m=[];m.ids={};function y(_,D){D=D[0],_=_[0];var R=_._private.children,O=_.id();Eh(R,D),D._private.parent=null,m.ids[O]||(m.ids[O]=!0,m.push(_))}l(y,"removeChildRef"),r.dirtyCompoundBoundsCache(),e&&a.removeFromPool(i);for(var b=0;b<i.length;b++){var v=i[b];if(v.isEdge()){var x=v.source()[0],w=v.target()[0];g(x,v),g(w,v);for(var k=v.parallelEdges(),T=0;T<k.length;T++){var S=k[T];f(S),S.isBundledBezier()&&S.dirtyBoundingBoxCache()}}else{var C=v.parent();C.length!==0&&y(C,v)}e&&(v._private.removed=!0)}var E=a._private.elements;a._private.hasCompoundNodes=!1;for(var L=0;L<E.length;L++){var I=E[L];if(I.isParent()){a._private.hasCompoundNodes=!0;break}}var M=new In(this.cy(),i);M.size()>0&&(t?M.emitAndNotify("remove"):e&&M.emit("remove"));for(var N=0;N<m.length;N++){var $=m[N];(!e||!$.removed())&&$.updateStyle()}return M};ai.move=function(t){var e=this._private.cy,r=this,i=!1,n=!1,a=l(function(f){return f==null?f:""+f},"toString");if(t.source!==void 0||t.target!==void 0){var s=a(t.source),o=a(t.target),h=s!=null&&e.hasElementWithId(s),u=o!=null&&e.hasElementWithId(o);(h||u)&&(e.batch(function(){r.remove(i,n),r.emitAndNotify("moveout");for(var f=0;f<r.length;f++){var m=r[f],y=m._private.data;m.isEdge()&&(h&&(y.source=s),u&&(y.target=o))}r.restore(i,n)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var d=a(t.parent),p=d===null||e.hasElementWithId(d);if(p){var g=d===null?void 0:d;e.batch(function(){var f=r.remove(i,n);f.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var y=r[m],b=y._private.data;y.isNode()&&(b.parent=g)}f.restore(i,n)}),r.emitAndNotify("move")}}return this};[One,R_e,k6,wh,fg,Y_e,rw,cAe,zae,Gae,gAe,z6,E6,Nn,kh,Kn].forEach(function(t){Xt(ai,t)});wAe={add:l(function(t){var e,r=this;if(os(t)){var i=t;if(i._private.cy===r)e=i.restore();else{for(var n=[],a=0;a<i.length;a++){var s=i[a];n.push(s.json())}e=new In(r,n)}}else if(Jr(t)){var o=t;e=new In(r,o)}else if($r(t)&&(Jr(t.nodes)||Jr(t.edges))){for(var h=t,u=[],d=["nodes","edges"],p=0,g=d.length;p<g;p++){var f=d[p],m=h[f];if(Jr(m))for(var y=0,b=m.length;y<b;y++){var v=Xt({group:f},m[y]);u.push(v)}}e=new In(r,u)}else{var x=t;e=new Z6(r,x).collection()}return e},"add"),remove:l(function(t){if(!os(t)&&zt(t)){var e=t;t=this.$(e)}return t.remove()},"remove")};l(Uae,"generateCubicBezier");kAe=(function(){function t(i){return-i.tension*i.x-i.friction*i.v}l(t,"springAccelerationForState");function e(i,n,a){var s={x:i.x+a.dx*n,v:i.v+a.dv*n,tension:i.tension,friction:i.friction};return{dx:s.v,dv:t(s)}}l(e,"springEvaluateStateWithDerivative");function r(i,n){var a={dx:i.v,dv:t(i)},s=e(i,n*.5,a),o=e(i,n*.5,s),h=e(i,n,o),u=1/6*(a.dx+2*(s.dx+o.dx)+h.dx),d=1/6*(a.dv+2*(s.dv+o.dv)+h.dv);return i.x=i.x+u*n,i.v=i.v+d*n,i}return l(r,"springIntegrateState"),l(function i(n,a,s){var o={x:-1,v:0,tension:null,friction:null},h=[0],u=0,d=1/1e4,p=16/1e3,g,f,m;for(n=parseFloat(n)||500,a=parseFloat(a)||20,s=s||null,o.tension=n,o.friction=a,g=s!==null,g?(u=i(n,a),f=u/s*p):f=p;m=r(m||o,f),h.push(1+m.x),u+=16,Math.abs(m.x)>d&&Math.abs(m.v)>d;);return g?function(y){return h[y*(h.length-1)|0]}:u},"springRK4Factory")})(),ni=l(function(t,e,r,i){var n=Uae(t,e,r,i);return function(a,s,o){return a+(s-a)*n(o)}},"cubicBezier"),S6={linear:l(function(t,e,r){return t+(e-t)*r},"linear"),ease:ni(.25,.1,.25,1),"ease-in":ni(.42,0,1,1),"ease-out":ni(0,0,.58,1),"ease-in-out":ni(.42,0,.58,1),"ease-in-sine":ni(.47,0,.745,.715),"ease-out-sine":ni(.39,.575,.565,1),"ease-in-out-sine":ni(.445,.05,.55,.95),"ease-in-quad":ni(.55,.085,.68,.53),"ease-out-quad":ni(.25,.46,.45,.94),"ease-in-out-quad":ni(.455,.03,.515,.955),"ease-in-cubic":ni(.55,.055,.675,.19),"ease-out-cubic":ni(.215,.61,.355,1),"ease-in-out-cubic":ni(.645,.045,.355,1),"ease-in-quart":ni(.895,.03,.685,.22),"ease-out-quart":ni(.165,.84,.44,1),"ease-in-out-quart":ni(.77,0,.175,1),"ease-in-quint":ni(.755,.05,.855,.06),"ease-out-quint":ni(.23,1,.32,1),"ease-in-out-quint":ni(.86,0,.07,1),"ease-in-expo":ni(.95,.05,.795,.035),"ease-out-expo":ni(.19,1,.22,1),"ease-in-out-expo":ni(1,0,0,1),"ease-in-circ":ni(.6,.04,.98,.335),"ease-out-circ":ni(.075,.82,.165,1),"ease-in-out-circ":ni(.785,.135,.15,.86),spring:l(function(t,e,r){if(r===0)return S6.linear;var i=kAe(t,e,r);return function(n,a,s){return n+(a-n)*i(s)}},"spring"),"cubic-bezier":ni};l(K9,"getEasedValue");l(Z9,"getValue");l(ed,"ease");l(jae,"step$1");l(ag,"valid");l(Wae,"startAnimation");l(Q9,"stepAll");TAe={animate:qr.animate(),animation:qr.animation(),animated:qr.animated(),clearQueue:qr.clearQueue(),delay:qr.delay(),delayAnimation:qr.delayAnimation(),stop:qr.stop(),addToAnimationPool:l(function(t){var e=this;e.styleEnabled()&&e._private.aniEles.merge(t)},"addToAnimationPool"),stopAnimationLoop:l(function(){this._private.animationsRunning=!1},"stopAnimationLoop"),startAnimationLoop:l(function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function e(){t._private.animationsRunning&&O6(l(function(i){Q9(i,t),e()},"animationStep"))}l(e,"headlessStep");var r=t.renderer();r&&r.beforeRender?r.beforeRender(l(function(i,n){Q9(n,t)},"rendererAnimationStep"),r.beforeRenderPriorities.animations):e()},"startAnimationLoop")},EAe={qualifierCompare:l(function(t,e){return t==null||e==null?t==null&&e==null:t.sameText(e)},"qualifierCompare"),eventMatches:l(function(t,e,r){var i=e.qualifier;return i!=null?t!==r.target&&lb(r.target)&&i.matches(r.target):!0},"eventMatches"),addEventFields:l(function(t,e){e.cy=t,e.target=t},"addEventFields"),callbackContext:l(function(t,e,r){return e.qualifier!=null?r.target:t},"callbackContext")},f6=l(function(t){return zt(t)?new Sh(t):t},"argSelector"),Vae={createEmitter:l(function(){var t=this._private;return t.emitter||(t.emitter=new vb(EAe,this)),this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(t,e,r){return this.emitter().on(t,f6(e),r),this},"on"),removeListener:l(function(t,e,r){return this.emitter().removeListener(t,f6(e),r),this},"removeListener"),removeAllListeners:l(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),one:l(function(t,e,r){return this.emitter().one(t,f6(e),r),this},"one"),once:l(function(t,e,r){return this.emitter().one(t,f6(e),r),this},"once"),emit:l(function(t,e){return this.emitter().emit(t,e),this},"emit"),emitAndNotify:l(function(t,e){return this.emit(t),this.notify(t,e),this},"emitAndNotify")};qr.eventAliasesOn(Vae);J9={png:l(function(t){var e=this._private.renderer;return t=t||{},e.png(t)},"png"),jpg:l(function(t){var e=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",e.jpg(t)},"jpg")};J9.jpeg=J9.jpg;_6={layout:l(function(t){var e=this;if(t==null){vi("Layout options must be specified to make a layout");return}if(t.name==null){vi("A `name` must be specified to make a layout");return}var r=t.name,i=e.extension("layout",r);if(i==null){vi("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var n;zt(t.eles)?n=e.$(t.eles):n=t.eles!=null?t.eles:e.$();var a=new i(Xt({},t,{cy:e,eles:n}));return a},"layout")};_6.createLayout=_6.makeLayout=_6.layout;CAe={notify:l(function(t,e){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[t]=r.batchNotifications[t]||this.collection();e!=null&&i.merge(e);return}if(r.notificationsEnabled){var n=this.renderer();this.destroyed()||!n||n.notify(t,e)}},"notify"),notifications:l(function(t){var e=this._private;return t===void 0?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},"notifications"),noNotifications:l(function(t){this.notifications(!1),t(),this.notifications(!0)},"noNotifications"),batching:l(function(){return this._private.batchCount>0},"batching"),startBatch:l(function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},"startBatch"),endBatch:l(function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach(function(r){var i=t.batchNotifications[r];i.empty()?e.notify(r):e.notify(r,i)})}return this},"endBatch"),batch:l(function(t){return this.startBatch(),t(),this.endBatch(),this},"batch"),batchData:l(function(t){var e=this;return this.batch(function(){for(var r=Object.keys(t),i=0;i<r.length;i++){var n=r[i],a=t[n],s=e.getElementById(n);s.data(a)}})},"batchData")},SAe=Rn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),eL={renderTo:l(function(t,e,r,i){var n=this._private.renderer;return n.renderTo(t,e,r,i),this},"renderTo"),renderer:l(function(){return this._private.renderer},"renderer"),forceRender:l(function(){return this.notify("draw"),this},"forceRender"),resize:l(function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},"resize"),initRenderer:l(function(t){var e=this,r=e.extension("renderer",t.name);if(r==null){vi("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&Ur("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=SAe(t);i.cy=e,e._private.renderer=new r(i),this.notify("init")},"initRenderer"),destroyRenderer:l(function(){var t=this;t.notify("destroy");var e=t.container();if(e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},"destroyRenderer"),onRender:l(function(t){return this.on("render",t)},"onRender"),offRender:l(function(t){return this.off("render",t)},"offRender")};eL.invalidateDimensions=eL.resize;A6={collection:l(function(t,e){return zt(t)?this.$(t):os(t)?t.collection():Jr(t)?(e||(e={}),new In(this,t,e.unique,e.removed)):new In(this)},"collection"),nodes:l(function(t){var e=this.$(function(r){return r.isNode()});return t?e.filter(t):e},"nodes"),edges:l(function(t){var e=this.$(function(r){return r.isEdge()});return t?e.filter(t):e},"edges"),$:l(function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},"$"),mutableElements:l(function(){return this._private.elements},"mutableElements")};A6.elements=A6.filter=A6.$;xn={},Vv="t",_Ae="f";xn.apply=function(t){for(var e=this,r=e._private,i=r.cy,n=i.collection(),a=0;a<t.length;a++){var s=t[a],o=e.getContextMeta(s);if(!o.empty){var h=e.getContextStyle(o),u=e.applyContextStyle(o,h,s);s._private.appliedInitStyle?e.updateTransitions(s,u.diffProps):s._private.appliedInitStyle=!0;var d=e.updateStyleHints(s);d&&n.push(s)}}return n};xn.getPropertiesDiff=function(t,e){var r=this,i=r._private.propDiffs=r._private.propDiffs||{},n=t+"-"+e,a=i[n];if(a)return a;for(var s=[],o={},h=0;h<r.length;h++){var u=r[h],d=t[h]===Vv,p=e[h]===Vv,g=d!==p,f=u.mappedProperties.length>0;if(g||p&&f){var m=void 0;g&&f||g?m=u.properties:f&&(m=u.mappedProperties);for(var y=0;y<m.length;y++){for(var b=m[y],v=b.name,x=!1,w=h+1;w<r.length;w++){var k=r[w],T=e[w]===Vv;if(T&&(x=k.properties[b.name]!=null,x))break}!o[v]&&!x&&(o[v]=!0,s.push(v))}}}return i[n]=s,s};xn.getContextMeta=function(t){for(var e=this,r="",i,n=t._private.styleCxtKey||"",a=0;a<e.length;a++){var s=e[a],o=s.selector&&s.selector.matches(t);o?r+=Vv:r+=_Ae}return i=e.getPropertiesDiff(n,r),t._private.styleCxtKey=r,{key:r,diffPropNames:i,empty:i.length===0}};xn.getContextStyle=function(t){var e=t.key,r=this,i=this._private.contextStyles=this._private.contextStyles||{};if(i[e])return i[e];for(var n={_private:{key:e}},a=0;a<r.length;a++){var s=r[a],o=e[a]===Vv;if(o)for(var h=0;h<s.properties.length;h++){var u=s.properties[h];n[u.name]=u}}return i[e]=n,n};xn.applyContextStyle=function(t,e,r){for(var i=this,n=t.diffPropNames,a={},s=i.types,o=0;o<n.length;o++){var h=n[o],u=e[h],d=r.pstyle(h);if(!u)if(d)d.bypass?u={name:h,deleteBypassed:!0}:u={name:h,delete:!0};else continue;if(d!==u){if(u.mapped===s.fn&&d!=null&&d.mapping!=null&&d.mapping.value===u.value){var p=d.mapping,g=p.fnValue=u.value(r);if(g===p.prevFnValue)continue}var f=a[h]={prev:d};i.applyParsedProperty(r,u),f.next=r.pstyle(h),f.next&&f.next.bypass&&(f.next=f.next.bypassed)}}return{diffProps:a}};xn.updateStyleHints=function(t){var e=t._private,r=this,i=r.propertyGroupNames,n=r.propertyGroupKeys,a=l(function(j,H,J){return r.getPropertiesHash(j,H,J)},"propHash"),s=e.styleKey;if(t.removed())return!1;var o=e.group==="nodes",h=t._private.style;i=Object.keys(h);for(var u=0;u<n.length;u++){var d=n[u];e.styleKeys[d]=[id,ig]}for(var p=l(function(j,H){return e.styleKeys[H][0]=Zv(j,e.styleKeys[H][0])},"updateGrKey1"),g=l(function(j,H){return e.styleKeys[H][1]=Qv(j,e.styleKeys[H][1])},"updateGrKey2"),f=l(function(j,H){p(j,H),g(j,H)},"updateGrKey"),m=l(function(j,H){for(var J=0;J<j.length;J++){var he=j.charCodeAt(J);p(he,H),g(he,H)}},"updateGrKeyWStr"),y=2e9,b=l(function(j){return-128<j&&j<128&&Math.floor(j)!==j?y-(j*1024|0):j},"cleanNum"),v=0;v<i.length;v++){var x=i[v],w=h[x];if(w!=null){var k=this.properties[x],T=k.type,S=k.groupKey,C=void 0;k.hashOverride!=null?C=k.hashOverride(t,w):w.pfValue!=null&&(C=w.pfValue);var E=k.enums==null?w.value:null,L=C!=null,I=E!=null,M=L||I,N=w.units;if(T.number&&M&&!T.multiple){var $=L?C:E;f(b($),S),!L&&N!=null&&m(N,S)}else m(w.strValue,S)}}for(var _=[id,ig],D=0;D<n.length;D++){var R=n[D],O=e.styleKeys[R];_[0]=Zv(O[0],_[0]),_[1]=Qv(O[1],_[1])}e.styleKey=FCe(_[0],_[1]);var A=e.styleKeys;e.labelDimsKey=gh(A.labelDimensions);var B=a(t,["label"],A.labelDimensions);if(e.labelKey=gh(B),e.labelStyleKey=gh(l6(A.commonLabel,B)),!o){var P=a(t,["source-label"],A.labelDimensions);e.sourceLabelKey=gh(P),e.sourceLabelStyleKey=gh(l6(A.commonLabel,P));var z=a(t,["target-label"],A.labelDimensions);e.targetLabelKey=gh(z),e.targetLabelStyleKey=gh(l6(A.commonLabel,z))}if(o){var q=e.styleKeys,K=q.nodeBody,W=q.nodeBorder,ae=q.nodeOutline,ie=q.backgroundImage,se=q.compound,oe=q.pie,Y=q.stripe,Q=[K,W,ae,ie,se,oe,Y].filter(function(j){return j!=null}).reduce(l6,[id,ig]);e.nodeKey=gh(Q),e.hasPie=oe!=null&&oe[0]!==id&&oe[1]!==ig,e.hasStripe=Y!=null&&Y[0]!==id&&Y[1]!==ig}return s!==e.styleKey};xn.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};xn.applyParsedProperty=function(t,e){var r=this,i=e,n=t._private.style,a,s=r.types,o=r.properties[i.name].type,h=i.bypass,u=n[i.name],d=u&&u.bypass,p=t._private,g="mapping",f=l(function(q){return q==null?null:q.pfValue!=null?q.pfValue:q.value},"getVal"),m=l(function(){var q=f(u),K=f(i);r.checkTriggers(t,i.name,q,K)},"checkTriggers");if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(i=e=this.parse(e.name,"bezier",h)),i.delete)return n[i.name]=void 0,m(),!0;if(i.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,m(),!0):!1:(m(),!0);if(i.deleteBypass)return u?u.bypass?(n[i.name]=u.bypassed,m(),!0):!1:(m(),!0);var y=l(function(){Ur("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")},"printMappingErr");switch(i.mapped){case s.mapData:{for(var b=i.field.split("."),v=p.data,x=0;x<b.length&&v;x++){var w=b[x];v=v[w]}if(v==null)return y(),!1;var k;if(ft(v)){var T=i.fieldMax-i.fieldMin;T===0?k=0:k=(v-i.fieldMin)/T}else return Ur("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+v+"` for `"+t.id()+"` is non-numeric)"),!1;if(k<0?k=0:k>1&&(k=1),o.color){var S=i.valueMin[0],C=i.valueMax[0],E=i.valueMin[1],L=i.valueMax[1],I=i.valueMin[2],M=i.valueMax[2],N=i.valueMin[3]==null?1:i.valueMin[3],$=i.valueMax[3]==null?1:i.valueMax[3],_=[Math.round(S+(C-S)*k),Math.round(E+(L-E)*k),Math.round(I+(M-I)*k),Math.round(N+($-N)*k)];a={bypass:i.bypass,name:i.name,value:_,strValue:"rgb("+_[0]+", "+_[1]+", "+_[2]+")"}}else if(o.number){var D=i.valueMin+(i.valueMax-i.valueMin)*k;a=this.parse(i.name,D,i.bypass,g)}else return!1;if(!a)return y(),!1;a.mapping=i,i=a;break}case s.data:{for(var R=i.field.split("."),O=p.data,A=0;A<R.length&&O;A++){var B=R[A];O=O[B]}if(O!=null&&(a=this.parse(i.name,O,i.bypass,g)),!a)return y(),!1;a.mapping=i,i=a;break}case s.fn:{var P=i.value,z=i.fnValue!=null?i.fnValue:P(t);if(i.prevFnValue=z,z==null)return Ur("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+t.id()+"` is null)"),!1;if(a=this.parse(i.name,z,i.bypass,g),!a)return Ur("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+t.id()+"` is invalid)"),!1;a.mapping=Jo(i),i=a;break}case void 0:break;default:return!1}return h?(d?i.bypassed=u.bypassed:i.bypassed=u,n[i.name]=i):d?u.bypassed=i:n[i.name]=i,m(),!0};xn.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),!e)i._private.style={};else for(var n=i._private.style,a=Object.keys(n),s=0;s<a.length;s++){var o=a[s],h=n[o];h!=null&&(h.bypass?h.bypassed=null:n[o]=null)}}};xn.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};xn.updateTransitions=function(t,e){var r=this,i=t._private,n=t.pstyle("transition-property").value,a=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(n.length>0&&a>0){for(var o={},h=!1,u=0;u<n.length;u++){var d=n[u],p=t.pstyle(d),g=e[d];if(g){var f=g.prev,m=f,y=g.next!=null?g.next:p,b=!1,v=void 0,x=1e-6;m&&(ft(m.pfValue)&&ft(y.pfValue)?(b=y.pfValue-m.pfValue,v=m.pfValue+x*b):ft(m.value)&&ft(y.value)?(b=y.value-m.value,v=m.value+x*b):Jr(m.value)&&Jr(y.value)&&(b=m.value[0]!==y.value[0]||m.value[1]!==y.value[1]||m.value[2]!==y.value[2],v=m.strValue),b&&(o[d]=y.strValue,this.applyBypass(t,d,v),h=!0))}}if(!h)return;i.transitioning=!0,new xg(function(w){s>0?t.delayAnimation(s).play().promise().then(w):w()}).then(function(){return t.animation({style:o,duration:a,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,n),t.emitAndNotify("style"),i.transitioning=!1})}else i.transitioning&&(this.removeBypasses(t,n),t.emitAndNotify("style"),i.transitioning=!1)};xn.checkTrigger=function(t,e,r,i,n,a){var s=this.properties[e],o=n(s);t.removed()||o!=null&&o(r,i,t)&&a(s)};xn.checkZOrderTrigger=function(t,e,r,i){var n=this;this.checkTrigger(t,e,r,i,function(a){return a.triggersZOrder},function(){n._private.cy.notify("zorder",t)})};xn.checkBoundsTrigger=function(t,e,r,i){this.checkTrigger(t,e,r,i,function(n){return n.triggersBounds},function(n){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};xn.checkConnectedEdgesBoundsTrigger=function(t,e,r,i){this.checkTrigger(t,e,r,i,function(n){return n.triggersBoundsOfConnectedEdges},function(n){t.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};xn.checkParallelEdgesBoundsTrigger=function(t,e,r,i){this.checkTrigger(t,e,r,i,function(n){return n.triggersBoundsOfParallelEdges},function(n){t.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};xn.checkTriggers=function(t,e,r,i){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,i),this.checkBoundsTrigger(t,e,r,i),this.checkConnectedEdgesBoundsTrigger(t,e,r,i),this.checkParallelEdgesBoundsTrigger(t,e,r,i)};wb={};wb.applyBypass=function(t,e,r,i){var n=this,a=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var o=0;o<n.properties.length;o++){var h=n.properties[o],u=h.name,d=this.parse(u,r,!0);d&&a.push(d)}}else if(zt(e)){var p=this.parse(e,r,!0);p&&a.push(p)}else if($r(e)){var g=e;i=r;for(var f=Object.keys(g),m=0;m<f.length;m++){var y=f[m],b=g[y];if(b===void 0&&(b=g[X6(y)]),b!==void 0){var v=this.parse(y,b,!0);v&&a.push(v)}}}else return!1;if(a.length===0)return!1;for(var x=!1,w=0;w<t.length;w++){for(var k=t[w],T={},S=void 0,C=0;C<a.length;C++){var E=a[C];if(i){var L=k.pstyle(E.name);S=T[E.name]={prev:L}}x=this.applyParsedProperty(k,Jo(E))||x,i&&(S.next=k.pstyle(E.name))}x&&this.updateStyleHints(k),i&&this.updateTransitions(k,T,s)}return x};wb.overrideBypass=function(t,e,r){e=vL(e);for(var i=0;i<t.length;i++){var n=t[i],a=n._private.style[e],s=this.properties[e].type,o=s.color,h=s.mutiple,u=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(n,e,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),o?a.strValue="rgb("+r.join(",")+")":h?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(n)),this.checkTriggers(n,e,u,r)}};wb.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};wb.removeBypasses=function(t,e,r){for(var i=!0,n=0;n<t.length;n++){for(var a=t[n],s={},o=0;o<e.length;o++){var h=e[o],u=this.properties[h],d=a.pstyle(u.name);if(!(!d||!d.bypass)){var p="",g=this.parse(h,p,!0),f=s[u.name]={prev:d};this.applyParsedProperty(a,g),f.next=a.pstyle(u.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,i)}};BL={};BL.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};BL.containerCss=function(t){var e=this._private.cy,r=e.container(),i=e.window();if(i&&r&&i.getComputedStyle)return i.getComputedStyle(r).getPropertyValue(t)};el={};el.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};el.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var i={},n=0;n<r.properties.length;n++){var a=r.properties[n],s=r.getStylePropertyValue(t,a.name,e);s!=null&&(i[a.name]=s,i[X6(a.name)]=s)}return i}};el.getIndexedStyle=function(t,e,r,i){var n=t.pstyle(e)[r][i];return n??t.cy().style().getDefaultProperty(e)[r][0]};el.getStylePropertyValue=function(t,e,r){var i=this;if(t=t[0],t){var n=i.properties[e];n.alias&&(n=n.pointsTo);var a=n.type,s=t.pstyle(n.name);if(s){var o=s.value,h=s.units,u=s.strValue;if(r&&a.number&&o!=null&&ft(o)){var d=t.cy().zoom(),p=l(function(y){return y*d},"getRenderedValue"),g=l(function(y,b){return p(y)+b},"getValueStringWithUnits"),f=Jr(o),m=f?h.every(function(y){return y!=null}):h!=null;return m?f?o.map(function(y,b){return g(y,h[b])}).join(" "):g(o,h):f?o.map(function(y){return zt(y)?y:""+p(y)}).join(" "):""+p(o)}else if(u!=null)return u}return null}};el.getAnimationStartStyle=function(t,e){for(var r={},i=0;i<e.length;i++){var n=e[i],a=n.name,s=t.pstyle(a);s!==void 0&&($r(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r};el.getPropsList=function(t){var e=this,r=[],i=t,n=e.properties;if(i)for(var a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],h=i[o],u=n[o]||n[vL(o)],d=this.parse(u.name,h);d&&r.push(d)}return r};el.getNonDefaultPropertiesHash=function(t,e,r){var i=r.slice(),n,a,s,o,h,u;for(h=0;h<e.length;h++)if(n=e[h],a=t.pstyle(n,!1),a!=null)if(a.pfValue!=null)i[0]=Zv(o,i[0]),i[1]=Qv(o,i[1]);else for(s=a.strValue,u=0;u<s.length;u++)o=s.charCodeAt(u),i[0]=Zv(o,i[0]),i[1]=Qv(o,i[1]);return i};el.getPropertiesHash=el.getNonDefaultPropertiesHash;nw={};nw.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var i=t[r],n=i.selector,a=i.style||i.css,s=Object.keys(a);e.selector(n);for(var o=0;o<s.length;o++){var h=s[o],u=a[h];e.css(h,u)}}return e};nw.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};nw.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],i=r.selector,n=r.properties,a={},s=0;s<n.length;s++){var o=n[s];a[o.name]=o.strValue}t.push({selector:i?i.toString():"core",style:a})}return t};PL={};PL.appendFromString=function(t){var e=this,r=this,i=""+t,n,a,s;i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){i.length>n.length?i=i.substr(n.length):i=""}l(o,"removeSelAndBlockFromRemaining");function h(){a.length>s.length?a=a.substr(s.length):a=""}for(l(h,"removePropAndValFromRem");;){var u=i.match(/^\s*$/);if(u)break;var d=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){Ur("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}n=d[0];var p=d[1];if(p!=="core"){var g=new Sh(p);if(g.invalid){Ur("Skipping parsing of block: Invalid selector found in string stylesheet: "+p),o();continue}}var f=d[2],m=!1;a=f;for(var y=[];;){var b=a.match(/^\s*$/);if(b)break;var v=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!v){Ur("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+f),m=!0;break}s=v[0];var x=v[1],w=v[2],k=e.properties[x];if(!k){Ur("Skipping property: Invalid property name in: "+s),h();continue}var T=r.parse(x,w);if(!T){Ur("Skipping property: Invalid property definition in: "+s),h();continue}y.push({name:x,val:w}),h()}if(m){o();break}r.selector(p);for(var S=0;S<y.length;S++){var C=y[S];r.css(C.name,C.val)}o()}return r};PL.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};Zi={};(function(){var t=on,e=SCe,r=ACe,i=LCe,n=NCe,a=l(function(Q){return"^"+Q+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},"data"),s=l(function(Q){var j=t+"|\\w+|"+e+"|"+r+"|"+i+"|"+n;return"^"+Q+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+j+")\\s*\\,\\s*("+j+")\\)$"},"mapData"),o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Zi.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:l(function(Q,j){switch(Q.length){case 2:return j[0]!=="deg"&&j[0]!=="rad"&&j[1]!=="deg"&&j[1]!=="rad";case 1:return zt(Q[0])||j[0]==="deg"||j[0]==="rad";default:return!1}},"validate")},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:l(function(Q){var j=Q.length;return j===1||j===2||j===4},"validate")}};var h={zeroNonZero:l(function(Q,j){return(Q==null||j==null)&&Q!==j||Q==0&&j!=0?!0:Q!=0&&j==0},"zeroNonZero"),any:l(function(Q,j){return Q!=j},"any"),emptyNonEmpty:l(function(Q,j){var H=Th(Q),J=Th(j);return H&&!J||!H&&J},"emptyNonEmpty")},u=Zi.types,d=[{name:"label",type:u.text,triggersBounds:h.any,triggersZOrder:h.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:h.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:h.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:h.any}],p=[{name:"source-label",type:u.text,triggersBounds:h.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:h.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:h.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:h.any},{name:"source-text-offset",type:u.size,triggersBounds:h.any}],g=[{name:"target-label",type:u.text,triggersBounds:h.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:h.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:h.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:h.any},{name:"target-text-offset",type:u.size,triggersBounds:h.any}],f=[{name:"font-family",type:u.fontFamily,triggersBounds:h.any},{name:"font-style",type:u.fontStyle,triggersBounds:h.any},{name:"font-weight",type:u.fontWeight,triggersBounds:h.any},{name:"font-size",type:u.size,triggersBounds:h.any},{name:"text-transform",type:u.textTransform,triggersBounds:h.any},{name:"text-wrap",type:u.textWrap,triggersBounds:h.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:h.any},{name:"text-max-width",type:u.size,triggersBounds:h.any},{name:"text-outline-width",type:u.size,triggersBounds:h.any},{name:"line-height",type:u.positiveNumber,triggersBounds:h.any}],m=[{name:"text-valign",type:u.valign,triggersBounds:h.any},{name:"text-halign",type:u.halign,triggersBounds:h.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:h.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:h.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:h.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:h.any},{name:"text-justification",type:u.justification},{name:"box-select-labels",type:u.bool,triggersBounds:h.any}],y=[{name:"events",type:u.bool,triggersZOrder:h.any},{name:"text-events",type:u.bool,triggersZOrder:h.any},{name:"box-selection",type:u.boxSelection,triggersZOrder:h.any}],b=[{name:"display",type:u.display,triggersZOrder:h.any,triggersBounds:h.any,triggersBoundsOfConnectedEdges:h.any,triggersBoundsOfParallelEdges:l(function(Q,j,H){return Q===j?!1:H.pstyle("curve-style").value==="bezier"},"triggersBoundsOfParallelEdges")},{name:"visibility",type:u.visibility,triggersZOrder:h.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:h.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:h.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:h.any},{name:"z-index",type:u.number,triggersZOrder:h.any}],v=[{name:"overlay-padding",type:u.size,triggersBounds:h.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:h.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:h.any},{name:"overlay-corner-radius",type:u.cornerRadius}],x=[{name:"underlay-padding",type:u.size,triggersBounds:h.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:h.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:h.any},{name:"underlay-corner-radius",type:u.cornerRadius}],w=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],k=l(function(Q,j){return j.value==="label"?-Q.poolIndex():j.pfValue},"nodeSizeHashOverride"),T=[{name:"height",type:u.nodeSize,triggersBounds:h.any,hashOverride:k},{name:"width",type:u.nodeSize,triggersBounds:h.any,hashOverride:k},{name:"shape",type:u.nodeShape,triggersBounds:h.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:h.any},{name:"corner-radius",type:u.cornerRadius},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:h.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:h.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:h.any}],S=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:h.any},{name:"border-style",type:u.borderStyle},{name:"border-cap",type:u.lineCap},{name:"border-join",type:u.lineJoin},{name:"border-dash-pattern",type:u.numbers},{name:"border-dash-offset",type:u.number},{name:"border-position",type:u.linePosition}],C=[{name:"outline-color",type:u.color},{name:"outline-opacity",type:u.zeroOneNumber},{name:"outline-width",type:u.size,triggersBounds:h.any},{name:"outline-style",type:u.borderStyle},{name:"outline-offset",type:u.size,triggersBounds:h.any}],E=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],L=[{name:"position",type:u.position,triggersBounds:h.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:h.any},{name:"min-width",type:u.size,triggersBounds:h.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:h.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:h.any},{name:"min-height",type:u.size,triggersBounds:h.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:h.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:h.any}],I=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-outline-width",type:u.size},{name:"line-outline-color",type:u.color},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:h.any,triggersBoundsOfParallelEdges:l(function(Q,j){return Q===j?!1:Q==="bezier"||j==="bezier"},"triggersBoundsOfParallelEdges")},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:h.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:h.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:h.any},{name:"control-point-step-size",type:u.size,triggersBounds:h.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:h.any},{name:"control-point-weights",type:u.numbers,triggersBounds:h.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:h.any},{name:"segment-weights",type:u.numbers,triggersBounds:h.any},{name:"segment-radii",type:u.numbers,triggersBounds:h.any},{name:"radius-type",type:u.radiusType,triggersBounds:h.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:h.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:h.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:h.any},{name:"taxi-radius",type:u.number,triggersBounds:h.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:h.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:h.any},{name:"loop-direction",type:u.angle,triggersBounds:h.any},{name:"loop-sweep",type:u.angle,triggersBounds:h.any},{name:"source-distance-from-node",type:u.size,triggersBounds:h.any},{name:"target-distance-from-node",type:u.size,triggersBounds:h.any}],M=[{name:"ghost",type:u.bool,triggersBounds:h.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:h.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:h.any},{name:"ghost-opacity",type:u.zeroOneNumber}],N=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],$=[];Zi.pieBackgroundN=16,$.push({name:"pie-size",type:u.sizeMaybePercent}),$.push({name:"pie-hole",type:u.sizeMaybePercent}),$.push({name:"pie-start-angle",type:u.angle});for(var _=1;_<=Zi.pieBackgroundN;_++)$.push({name:"pie-"+_+"-background-color",type:u.color}),$.push({name:"pie-"+_+"-background-size",type:u.percent}),$.push({name:"pie-"+_+"-background-opacity",type:u.zeroOneNumber});var D=[];Zi.stripeBackgroundN=16,D.push({name:"stripe-size",type:u.sizeMaybePercent}),D.push({name:"stripe-direction",type:u.axisDirectionPrimary});for(var R=1;R<=Zi.stripeBackgroundN;R++)D.push({name:"stripe-"+R+"-background-color",type:u.color}),D.push({name:"stripe-"+R+"-background-size",type:u.percent}),D.push({name:"stripe-"+R+"-background-opacity",type:u.zeroOneNumber});var O=[],A=Zi.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:h.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill},{name:"arrow-width",type:u.arrowWidth}].forEach(function(Q){A.forEach(function(j){var H=j+"-"+Q.name,J=Q.type,he=Q.triggersBounds;O.push({name:H,type:J,triggersBounds:he})})},{});var B=Zi.properties=[].concat(y,w,b,v,x,M,m,f,d,p,g,T,S,C,E,$,D,L,I,O,N),P=Zi.propertyGroups={behavior:y,transition:w,visibility:b,overlay:v,underlay:x,ghost:M,commonLabel:m,labelDimensions:f,mainLabel:d,sourceLabel:p,targetLabel:g,nodeBody:T,nodeBorder:S,nodeOutline:C,backgroundImage:E,pie:$,stripe:D,compound:L,edgeLine:I,edgeArrow:O,core:N},z=Zi.propertyGroupNames={},q=Zi.propertyGroupKeys=Object.keys(P);q.forEach(function(Q){z[Q]=P[Q].map(function(j){return j.name}),P[Q].forEach(function(j){return j.groupKey=Q})});var K=Zi.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Zi.propertyNames=B.map(function(Q){return Q.name});for(var W=0;W<B.length;W++){var ae=B[W];B[ae.name]=ae}for(var ie=0;ie<K.length;ie++){var se=K[ie],oe=B[se.pointsTo],Y={name:se.name,alias:!0,pointsTo:oe};B.push(Y),B[se.name]=Y}})();Zi.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Zi.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Xt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(h,u){for(var d=1;d<=Zi.pieBackgroundN;d++){var p=u.name.replace("{{i}}",d),g=u.value;h[p]=g}return h},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(h,u){for(var d=1;d<=Zi.stripeBackgroundN;d++){var p=u.name.replace("{{i}}",d),g=u.value;h[p]=g}return h},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(h,u){return Zi.arrowPrefixes.forEach(function(d){var p=d+"-"+u.name,g=u.value;h[p]=g}),h},{})),r={},i=0;i<this.properties.length;i++){var n=this.properties[i];if(!n.pointsTo){var a=n.name,s=e[a],o=this.parse(a,s);r[a]=o}}return t.defaultProperties=r,t.defaultProperties};Zi.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};aw={};aw.parse=function(t,e,r,i){var n=this;if(Ci(e))return n.parseImplWarn(t,e,r,i);var a=i==="mapping"||i===!0||i===!1||i==null?"dontcare":i,s=r?"t":"f",o=""+e,h=gne(t,o,s,a),u=n.propCache=n.propCache||[],d;return(d=u[h])||(d=u[h]=n.parseImplWarn(t,e,r,i)),(r||i==="mapping")&&(d=Jo(d),d&&(d.value=Jo(d.value))),d};aw.parseImplWarn=function(t,e,r,i){var n=this.parseImpl(t,e,r,i);return!n&&e!=null&&Ur("The style property `".concat(t,": ").concat(e,"` is invalid")),n&&(n.name==="width"||n.name==="height")&&e==="label"&&Ur("The style value of `label` is deprecated for `"+n.name+"`"),n};aw.parseImpl=function(t,e,r,i){var n=this;t=vL(t);var a=n.properties[t],s=e,o=n.types;if(!a||e===void 0)return null;a.alias&&(a=a.pointsTo,t=a.name);var h=zt(e);h&&(e=e.trim());var u=a.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Ci(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:r};var d,p;if(!(!h||i||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(d=new RegExp(o.data.regex).exec(e))){if(r)return!1;var g=o.data;return{name:t,value:d,strValue:""+e,mapped:g,field:d[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(p=new RegExp(o.mapData.regex).exec(e))){if(r||u.multiple)return!1;var f=o.mapData;if(!(u.color||u.number))return!1;var m=this.parse(t,p[4]);if(!m||m.mapped)return!1;var y=this.parse(t,p[5]);if(!y||y.mapped)return!1;if(m.pfValue===y.pfValue||m.strValue===y.strValue)return Ur("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+m.strValue+"`"),this.parse(t,m.strValue);if(u.color){var b=m.value,v=y.value,x=b[0]===v[0]&&b[1]===v[1]&&b[2]===v[2]&&(b[3]===v[3]||(b[3]==null||b[3]===1)&&(v[3]==null||v[3]===1));if(x)return!1}return{name:t,value:p,strValue:""+e,mapped:f,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:m.value,valueMax:y.value,bypass:r}}}if(u.multiple&&i!=="multiple"){var w;if(h?w=e.split(/\s+/):Jr(e)?w=e:w=[e],u.evenMultiple&&w.length%2!==0)return null;for(var k=[],T=[],S=[],C="",E=!1,L=0;L<w.length;L++){var I=n.parse(t,w[L],r,"multiple");E=E||zt(I.value),k.push(I.value),S.push(I.pfValue!=null?I.pfValue:I.value),T.push(I.units),C+=(L>0?" ":"")+I.strValue}return u.validate&&!u.validate(k,T)?null:u.singleEnum&&E?k.length===1&&zt(k[0])?{name:t,value:k[0],strValue:k[0],bypass:r}:null:{name:t,value:k,pfValue:S,strValue:C,bypass:r,units:T}}var M=l(function(){for(var oe=0;oe<u.enums.length;oe++){var Y=u.enums[oe];if(Y===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null},"checkEnums");if(u.number){var N,$="px";if(u.units&&(N=u.units),u.implicitUnits&&($=u.implicitUnits),!u.unitless)if(h){var _="px|em"+(u.allowPercent?"|\\%":"");N&&(_=N);var D=e.match("^("+on+")("+_+")?$");D&&(e=D[1],N=D[2]||$)}else(!N||u.implicitUnits)&&(N=$);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=s,M();if(u.integer&&!bCe(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var R={name:t,value:e,strValue:""+e+(N||""),units:N,bypass:r};return u.unitless||N!=="px"&&N!=="em"?R.pfValue=e:R.pfValue=N==="px"||!N?e:this.getEmSizeInPixels()*e,(N==="ms"||N==="s")&&(R.pfValue=N==="ms"?e:1e3*e),(N==="deg"||N==="rad")&&(R.pfValue=N==="rad"?e:mSe(e)),N==="%"&&(R.pfValue=e/100),R}else if(u.propList){var O=[],A=""+e;if(A!=="none"){for(var B=A.split(/\s*,\s*|\s+/),P=0;P<B.length;P++){var z=B[P].trim();n.properties[z]?O.push(z):Ur("`"+z+"` is not a valid property name")}if(O.length===0)return null}return{name:t,value:O,strValue:O.length===0?"none":O.join(" "),bypass:r}}else if(u.color){var q=Jie(e);return q?{name:t,value:q,pfValue:q,strValue:"rgb("+q[0]+","+q[1]+","+q[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var K=M();if(K)return K}for(var W=u.regexes?u.regexes:[u.regex],ae=0;ae<W.length;ae++){var ie=new RegExp(W[ae]),se=ie.exec(e);if(se)return{name:t,value:u.singleRegexMatchValue?se[1]:se,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?M():null};bn=l(function(t){if(!(this instanceof bn))return new bn(t);if(!yL(t)){vi("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},"Style"),Zn=bn.prototype;Zn.instanceString=function(){return"style"};Zn.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),i=0;i<this.length;i++)this[i]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(n){var a=n[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};Zn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Zn.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Zn.selector=function(t){var e=t==="core"?null:new Sh(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Zn.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],i=0;i<t.properties.length;i++){var n=t.properties[i],a=r[n.name];a===void 0&&(a=r[X6(n.name)]),a!==void 0&&this.cssRule(n.name,a)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Zn.style=Zn.css;Zn.cssRule=function(t,e){var r=this.parse(t,e);if(r){var i=this.length-1;this[i].properties.push(r),this[i].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[i].mappedProperties.push(r);var n=!this[i].selector;n&&(this._private.coreStyle[r.name]=r)}return this};Zn.append=function(t){return Kie(t)?t.appendToStyle(this):Jr(t)?this.appendFromJson(t):zt(t)&&this.appendFromString(t),this};bn.fromJson=function(t,e){var r=new bn(t);return r.fromJson(e),r};bn.fromString=function(t,e){return new bn(t).fromString(e)};[xn,wb,BL,el,nw,PL,Zi,aw].forEach(function(t){Xt(Zn,t)});bn.types=Zn.types;bn.properties=Zn.properties;bn.propertyGroups=Zn.propertyGroups;bn.propertyGroupNames=Zn.propertyGroupNames;bn.propertyGroupKeys=Zn.propertyGroupKeys;AAe={style:l(function(t){if(t){var e=this.setStyle(t);e.update()}return this._private.style},"style"),setStyle:l(function(t){var e=this._private;return Kie(t)?e.style=t.generateStyle(this):Jr(t)?e.style=bn.fromJson(this,t):zt(t)?e.style=bn.fromString(this,t):e.style=bn(this),e.style},"setStyle"),updateStyle:l(function(){this.mutableElements().updateStyle()},"updateStyle")},LAe="single",cd={autolock:l(function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},"autolock"),autoungrabify:l(function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},"autoungrabify"),autounselectify:l(function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},"autounselectify"),selectionType:l(function(t){var e=this._private;if(e.selectionType==null&&(e.selectionType=LAe),t!==void 0)(t==="additive"||t==="single")&&(e.selectionType=t);else return e.selectionType;return this},"selectionType"),panningEnabled:l(function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},"panningEnabled"),userPanningEnabled:l(function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},"userPanningEnabled"),zoomingEnabled:l(function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},"zoomingEnabled"),userZoomingEnabled:l(function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},"userZoomingEnabled"),boxSelectionEnabled:l(function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},"boxSelectionEnabled"),pan:l(function(){var t=arguments,e=this._private.pan,r,i,n,a,s;switch(t.length){case 0:return e;case 1:if(zt(t[0]))return r=t[0],e[r];if($r(t[0])){if(!this._private.panningEnabled)return this;n=t[0],a=n.x,s=n.y,ft(a)&&(e.x=a),ft(s)&&(e.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=t[0],i=t[1],(r==="x"||r==="y")&&ft(i)&&(e[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},"pan"),panBy:l(function(t,e){var r=arguments,i=this._private.pan,n,a,s,o,h;if(!this._private.panningEnabled)return this;switch(r.length){case 1:$r(t)&&(s=r[0],o=s.x,h=s.y,ft(o)&&(i.x+=o),ft(h)&&(i.y+=h),this.emit("pan viewport"));break;case 2:n=t,a=e,(n==="x"||n==="y")&&ft(a)&&(i[n]+=a),this.emit("pan viewport");break}return this.notify("viewport"),this},"panBy"),gc:l(function(){this.notify("gc")},"gc"),fit:l(function(t,e){var r=this.getFitViewport(t,e);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},"fit"),getFitViewport:l(function(t,e){if(ft(t)&&e===void 0&&(e=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(zt(t)){var i=t;t=this.$(i)}else if(kCe(t)){var n=t;r={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else os(t)||(t=this.mutableElements());if(!(os(t)&&t.empty())){r=r||t.boundingBox();var a=this.width(),s=this.height(),o;if(e=ft(e)?e:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){o=Math.min((a-2*e)/r.w,(s-2*e)/r.h),o=o>this._private.maxZoom?this._private.maxZoom:o,o=o<this._private.minZoom?this._private.minZoom:o;var h={x:(a-o*(r.x1+r.x2))/2,y:(s-o*(r.y1+r.y2))/2};return{zoom:o,pan:h}}}}},"getFitViewport"),zoomRange:l(function(t,e){var r=this._private;if(e==null){var i=t;t=i.min,e=i.max}return ft(t)&&ft(e)&&t<=e?(r.minZoom=t,r.maxZoom=e):ft(t)&&e===void 0&&t<=r.maxZoom?r.minZoom=t:ft(e)&&t===void 0&&e>=r.minZoom&&(r.maxZoom=e),this},"zoomRange"),minZoom:l(function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},"minZoom"),maxZoom:l(function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},"maxZoom"),getZoomedViewport:l(function(t){var e=this._private,r=e.pan,i=e.zoom,n,a,s=!1;if(e.zoomingEnabled||(s=!0),ft(t)?a=t:$r(t)&&(a=t.level,t.position!=null?n=Q6(t.position,i,r):t.renderedPosition!=null&&(n=t.renderedPosition),n!=null&&!e.panningEnabled&&(s=!0)),a=a>e.maxZoom?e.maxZoom:a,a=a<e.minZoom?e.minZoom:a,s||!ft(a)||a===i||n!=null&&(!ft(n.x)||!ft(n.y)))return null;if(n!=null){var o=r,h=i,u=a,d={x:-u/h*(n.x-o.x)+n.x,y:-u/h*(n.y-o.y)+n.y};return{zoomed:!0,panned:!0,zoom:u,pan:d}}else return{zoomed:!0,panned:!1,zoom:a,pan:r}},"getZoomedViewport"),zoom:l(function(t){if(t===void 0)return this._private.zoom;var e=this.getZoomedViewport(t),r=this._private;return e==null||!e.zoomed?this:(r.zoom=e.zoom,e.panned&&(r.pan.x=e.pan.x,r.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},"zoom"),viewport:l(function(t){var e=this._private,r=!0,i=!0,n=[],a=!1,s=!1;if(!t)return this;if(ft(t.zoom)||(r=!1),$r(t.pan)||(i=!1),!r&&!i)return this;if(r){var o=t.zoom;o<e.minZoom||o>e.maxZoom||!e.zoomingEnabled?a=!0:(e.zoom=o,n.push("zoom"))}if(i&&(!a||!t.cancelOnFailedZoom)&&e.panningEnabled){var h=t.pan;ft(h.x)&&(e.pan.x=h.x,s=!1),ft(h.y)&&(e.pan.y=h.y,s=!1),s||n.push("pan")}return n.length>0&&(n.push("viewport"),this.emit(n.join(" ")),this.notify("viewport")),this},"viewport"),center:l(function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},"center"),getCenterPan:l(function(t,e){if(this._private.panningEnabled){if(zt(t)){var r=t;t=this.mutableElements().filter(r)}else os(t)||(t=this.mutableElements());if(t.length!==0){var i=t.boundingBox(),n=this.width(),a=this.height();e=e===void 0?this._private.zoom:e;var s={x:(n-e*(i.x1+i.x2))/2,y:(a-e*(i.y1+i.y2))/2};return s}}},"getCenterPan"),reset:l(function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},"reset"),invalidateSize:l(function(){this._private.sizeCache=null},"invalidateSize"),size:l(function(){var t=this._private,e=t.container,r=this;return t.sizeCache=t.sizeCache||(e?(function(){var i=r.window().getComputedStyle(e),n=l(function(a){return parseFloat(i.getPropertyValue(a))},"val");return{width:e.clientWidth-n("padding-left")-n("padding-right"),height:e.clientHeight-n("padding-top")-n("padding-bottom")}})():{width:1,height:1})},"size"),width:l(function(){return this.size().width},"width"),height:l(function(){return this.size().height},"height"),extent:l(function(){var t=this._private.pan,e=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-t.x)/e,x2:(r.x2-t.x)/e,y1:(r.y1-t.y)/e,y2:(r.y2-t.y)/e};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},"extent"),renderedExtent:l(function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}},"renderedExtent"),multiClickDebounceTime:l(function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this},"multiClickDebounceTime")};cd.centre=cd.center;cd.autolockNodes=cd.autolock;cd.autoungrabifyNodes=cd.autoungrabify;nb={data:qr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:qr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:qr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:qr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};nb.attr=nb.data;nb.removeAttr=nb.removeData;ab=l(function(t){var e=this;t=Xt({},t);var r=t.container;r&&!M6(r)&&M6(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var n=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=e;var a=sn!==void 0&&r!==void 0&&!t.headless,s=t;s.layout=Xt({name:a?"grid":"null"},s.layout),s.renderer=Xt({name:a?"canvas":"null"},s.renderer);var o=l(function(g,f,m){return f!==void 0?f:m!==void 0?m:g},"defVal"),h=this._private={container:r,ready:!1,options:s,elements:new In(this),listeners:[],aniEles:new In(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:o(!0,s.zoomingEnabled),userZoomingEnabled:o(!0,s.userZoomingEnabled),panningEnabled:o(!0,s.panningEnabled),userPanningEnabled:o(!0,s.userPanningEnabled),boxSelectionEnabled:o(!0,s.boxSelectionEnabled),autolock:o(!1,s.autolock,s.autolockNodes),autoungrabify:o(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:o(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?a:s.styleEnabled,zoom:ft(s.zoom)?s.zoom:1,pan:{x:$r(s.pan)&&ft(s.pan.x)?s.pan.x:0,y:$r(s.pan)&&ft(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:o(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var u=l(function(g,f){var m=g.some(TCe);if(m)return xg.all(g).then(f);f(g)},"loadExtData");h.styleEnabled&&e.setStyle([]);var d=Xt({},s,s.renderer);e.initRenderer(d);var p=l(function(g,f,m){e.notifications(!1);var y=e.mutableElements();y.length>0&&y.remove(),g!=null&&($r(g)||Jr(g))&&e.add(g),e.one("layoutready",function(v){e.notifications(!0),e.emit(v),e.one("load",f),e.emitAndNotify("load")}).one("layoutstop",function(){e.one("done",m),e.emit("done")});var b=Xt({},e._private.options.layout);b.eles=e.elements(),e.layout(b).run()},"setElesAndLayout");u([s.style,s.elements],function(g){var f=g[0],m=g[1];h.styleEnabled&&e.style().append(f),p(m,function(){e.startAnimationLoop(),h.ready=!0,Ci(s.ready)&&e.on("ready",s.ready);for(var y=0;y<n.length;y++){var b=n[y];e.on("ready",b)}i&&(i.readies=[]),e.emit("ready")},s.done)})},"Core"),G6=ab.prototype;Xt(G6,{instanceString:l(function(){return"core"},"instanceString"),isReady:l(function(){return this._private.ready},"isReady"),destroyed:l(function(){return this._private.destroyed},"destroyed"),ready:l(function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},"ready"),destroy:l(function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},"destroy"),hasElementWithId:l(function(t){return this._private.elements.hasElementWithId(t)},"hasElementWithId"),getElementById:l(function(t){return this._private.elements.getElementById(t)},"getElementById"),hasCompoundNodes:l(function(){return this._private.hasCompoundNodes},"hasCompoundNodes"),headless:l(function(){return this._private.renderer.isHeadless()},"headless"),styleEnabled:l(function(){return this._private.styleEnabled},"styleEnabled"),addToPool:l(function(t){return this._private.elements.merge(t),this},"addToPool"),removeFromPool:l(function(t){return this._private.elements.unmerge(t),this},"removeFromPool"),container:l(function(){return this._private.container||null},"container"),window:l(function(){var t=this._private.container;if(t==null)return sn;var e=this._private.container.ownerDocument;return e===void 0||e==null?sn:e.defaultView||sn},"window"),mount:l(function(t){if(t!=null){var e=this,r=e._private,i=r.options;return!M6(t)&&M6(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),r.container=t,r.styleEnabled=!0,e.invalidateSize(),e.initRenderer(Xt({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),e.startAnimationLoop(),e.style(i.style),e.emit("mount"),e}},"mount"),unmount:l(function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},"unmount"),options:l(function(){return Jo(this._private.options)},"options"),json:l(function(t){var e=this,r=e._private,i=e.mutableElements(),n=l(function(x){return e.getElementById(x.id())},"getFreshRef");if($r(t)){if(e.startBatch(),t.elements){var a={},s=l(function(x,w){for(var k=[],T=[],S=0;S<x.length;S++){var C=x[S];if(!C.data.id){Ur("cy.json() cannot handle elements without an ID attribute");continue}var E=""+C.data.id,L=e.getElementById(E);a[E]=!0,L.length!==0?T.push({ele:L,json:C}):(w&&(C.group=w),k.push(C))}e.add(k);for(var I=0;I<T.length;I++){var M=T[I],N=M.ele,$=M.json;N.json($)}},"updateEles");if(Jr(t.elements))s(t.elements);else for(var o=["nodes","edges"],h=0;h<o.length;h++){var u=o[h],d=t.elements[u];Jr(d)&&s(d,u)}var p=e.collection();i.filter(function(x){return!a[x.id()]}).forEach(function(x){x.isParent()?p.merge(x):x.remove()}),p.forEach(function(x){return x.children().move({parent:null})}),p.forEach(function(x){return n(x).remove()})}t.style&&e.style(t.style),t.zoom!=null&&t.zoom!==r.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x!==r.pan.x||t.pan.y!==r.pan.y)&&e.pan(t.pan),t.data&&e.data(t.data);for(var g=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],f=0;f<g.length;f++){var m=g[f];t[m]!=null&&e[m](t[m])}return e.endBatch(),this}else{var y=!!t,b={};y?b.elements=this.elements().map(function(x){return x.json()}):(b.elements={},i.forEach(function(x){var w=x.group();b.elements[w]||(b.elements[w]=[]),b.elements[w].push(x.json())})),this._private.styleEnabled&&(b.style=e.style().json()),b.data=Jo(e.data());var v=r.options;return b.zoomingEnabled=r.zoomingEnabled,b.userZoomingEnabled=r.userZoomingEnabled,b.zoom=r.zoom,b.minZoom=r.minZoom,b.maxZoom=r.maxZoom,b.panningEnabled=r.panningEnabled,b.userPanningEnabled=r.userPanningEnabled,b.pan=Jo(r.pan),b.boxSelectionEnabled=r.boxSelectionEnabled,b.renderer=Jo(v.renderer),b.hideEdgesOnViewport=v.hideEdgesOnViewport,b.textureOnViewport=v.textureOnViewport,b.wheelSensitivity=v.wheelSensitivity,b.motionBlur=v.motionBlur,b.multiClickDebounceTime=v.multiClickDebounceTime,b}},"json")});G6.$id=G6.getElementById;[wAe,TAe,Vae,J9,_6,CAe,eL,A6,AAe,cd,nb].forEach(function(t){Xt(G6,t)});NAe={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(t,e){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(t,e){return e},"transform")},IAe={maximal:!1,acyclic:!1},eg=l(function(t){return t.scratch("breadthfirst")},"getInfo"),vie=l(function(t,e){return t.scratch("breadthfirst",e)},"setInfo");l(FL,"BreadthFirstLayout");FL.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,i=r.nodes().filter(function(ce){return ce.isChildless()}),n=r,a=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,o=!!t.boundingBox,h=ma(o?t.boundingBox:structuredClone(e.extent())),u;if(os(t.roots))u=t.roots;else if(Jr(t.roots)){for(var d=[],p=0;p<t.roots.length;p++){var g=t.roots[p],f=e.getElementById(g);d.push(f)}u=e.collection(d)}else if(zt(t.roots))u=e.$(t.roots);else if(a)u=i.roots();else{var m=r.components();u=e.collection();for(var y=l(function(){var ce=m[b],Le=ce.maxDegree(!1),$e=ce.filter(function(je){return je.degree(!1)===Le});u=u.add($e)},"_loop"),b=0;b<m.length;b++)y()}var v=[],x={},w=l(function(ce,Le){v[Le]==null&&(v[Le]=[]);var $e=v[Le].length;v[Le].push(ce),vie(ce,{index:$e,depth:Le})},"addToDepth"),k=l(function(ce,Le){var $e=eg(ce),je=$e.depth,qe=$e.index;v[je][qe]=null,ce.isChildless()&&w(ce,Le)},"changeDepth");n.bfs({roots:u,directed:t.directed,visit:l(function(ce,Le,$e,je,qe){var Ce=ce[0],De=Ce.id();Ce.isChildless()&&w(Ce,qe),x[De]=!0},"visit")});for(var T=[],S=0;S<i.length;S++){var C=i[S];x[C.id()]||T.push(C)}var E=l(function(ce){for(var Le=v[ce],$e=0;$e<Le.length;$e++){var je=Le[$e];if(je==null){Le.splice($e,1),$e--;continue}vie(je,{depth:ce,index:$e})}},"assignDepthsAt"),L=l(function(ce,Le){for(var $e=eg(ce),je=ce.incomers().filter(function(Ve){return Ve.isNode()&&r.has(Ve)}),qe=-1,Ce=ce.id(),De=0;De<je.length;De++){var ye=je[De],Pe=eg(ye);qe=Math.max(qe,Pe.depth)}if($e.depth<=qe){if(!t.acyclic&&Le[Ce])return null;var ue=qe+1;return k(ce,ue),Le[Ce]=ue,!0}return!1},"adjustMaximally");if(a&&s){var I=[],M={},N=l(function(ce){return I.push(ce)},"enqueue"),$=l(function(){return I.shift()},"dequeue");for(i.forEach(function(ce){return I.push(ce)});I.length>0;){var _=$(),D=L(_,M);if(D)_.outgoers().filter(function(ce){return ce.isNode()&&r.has(ce)}).forEach(N);else if(D===null){Ur("Detected double maximal shift for node `"+_.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var R=0;if(t.avoidOverlap)for(var O=0;O<i.length;O++){var A=i[O],B=A.layoutDimensions(t),P=B.w,z=B.h;R=Math.max(R,P,z)}var q={},K=l(function(ce){if(q[ce.id()])return q[ce.id()];for(var Le=eg(ce).depth,$e=ce.neighborhood(),je=0,qe=0,Ce=0;Ce<$e.length;Ce++){var De=$e[Ce];if(!(De.isEdge()||De.isParent()||!i.has(De))){var ye=eg(De);if(ye!=null){var Pe=ye.index,ue=ye.depth;if(!(Pe==null||ue==null)){var Ve=v[ue].length;ue<Le&&(je+=Pe/Ve,qe++)}}}}return qe=Math.max(1,qe),je=je/qe,qe===0&&(je=0),q[ce.id()]=je,je},"getWeightedPercent"),W=l(function(ce,Le){var $e=K(ce),je=K(Le),qe=$e-je;return qe===0?Qie(ce.id(),Le.id()):qe},"sortFn");t.depthSort!==void 0&&(W=t.depthSort);for(var ae=v.length,ie=0;ie<ae;ie++)v[ie].sort(W),E(ie);for(var se=[],oe=0;oe<T.length;oe++)se.push(T[oe]);var Y=l(function(){for(var ce=0;ce<ae;ce++)E(ce)},"assignDepths");se.length&&(v.unshift(se),ae=v.length,Y());for(var Q=0,j=0;j<ae;j++)Q=Math.max(v[j].length,Q);var H={x:h.x1+h.w/2,y:h.y1+h.h/2},J=i.reduce(function(ce,Le){return(function($e){return{w:ce.w===-1?$e.w:(ce.w+$e.w)/2,h:ce.h===-1?$e.h:(ce.h+$e.h)/2}})(Le.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),he=Math.max(ae===1?0:o?(h.h-t.padding*2-J.h)/(ae-1):(h.h-t.padding*2-J.h)/(ae+1),R),X=v.reduce(function(ce,Le){return Math.max(ce,Le.length)},0),fe=l(function(ce){var Le=eg(ce),$e=Le.depth,je=Le.index;if(t.circle){var qe=Math.min(h.w/2/ae,h.h/2/ae);qe=Math.max(qe,R);var Ce=qe*$e+qe-(ae>0&&v[0].length<=3?qe/2:0),De=2*Math.PI/v[$e].length*je;return $e===0&&v[0].length===1&&(Ce=1),{x:H.x+Ce*Math.cos(De),y:H.y+Ce*Math.sin(De)}}else{var ye=v[$e].length,Pe=Math.max(ye===1?0:o?(h.w-t.padding*2-J.w)/((t.grid?X:ye)-1):(h.w-t.padding*2-J.w)/((t.grid?X:ye)+1),R),ue={x:H.x+(je+1-(ye+1)/2)*Pe,y:H.y+($e+1-(ae+1)/2)*he};return ue}},"getPositionTopBottom"),V={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(V).indexOf(t.direction)===-1&&vi("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(V).join(", ")));var Se=l(function(ce){return mne(fe(ce),h,V[t.direction])},"getPosition");return r.nodes().layoutPositions(this,t,Se),this};RAe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(t,e){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(t,e){return e},"transform")};l(zL,"CircleLayout");zL.prototype.run=function(){var t=this.options,e=t,r=t.cy,i=e.eles,n=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,a=i.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));for(var s=ma(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},h=e.sweep===void 0?2*Math.PI-2*Math.PI/a.length:e.sweep,u=h/Math.max(1,a.length-1),d,p=0,g=0;g<a.length;g++){var f=a[g],m=f.layoutDimensions(e),y=m.w,b=m.h;p=Math.max(p,y,b)}if(ft(e.radius)?d=e.radius:a.length<=1?d=0:d=Math.min(s.h,s.w)/2-p,a.length>1&&e.avoidOverlap){p*=1.75;var v=Math.cos(u)-Math.cos(0),x=Math.sin(u)-Math.sin(0),w=Math.sqrt(p*p/(v*v+x*x));d=Math.max(w,d)}var k=l(function(T,S){var C=e.startAngle+S*u*(n?1:-1),E=d*Math.cos(C),L=d*Math.sin(C),I={x:o.x+E,y:o.y+L};return I},"getPos");return i.nodes().layoutPositions(this,e,k),this};DAe={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:l(function(t){return t.degree()},"concentric"),levelWidth:l(function(t){return t.maxDegree()/4},"levelWidth"),animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(t,e){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(t,e){return e},"transform")};l(GL,"ConcentricLayout");GL.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=t.cy,n=e.eles,a=n.nodes().not(":parent"),s=ma(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},h=[],u=0,d=0;d<a.length;d++){var p=a[d],g=void 0;g=e.concentric(p),h.push({value:g,node:p}),p._private.scratch.concentric=g}a.updateStyle();for(var f=0;f<a.length;f++){var m=a[f],y=m.layoutDimensions(e);u=Math.max(u,y.w,y.h)}h.sort(function(he,X){return X.value-he.value});for(var b=e.levelWidth(a),v=[[]],x=v[0],w=0;w<h.length;w++){var k=h[w];if(x.length>0){var T=Math.abs(x[0].value-k.value);T>=b&&(x=[],v.push(x))}x.push(k)}var S=u+e.minNodeSpacing;if(!e.avoidOverlap){var C=v.length>0&&v[0].length>1,E=Math.min(s.w,s.h)/2-S,L=E/(v.length+C?1:0);S=Math.min(S,L)}for(var I=0,M=0;M<v.length;M++){var N=v[M],$=e.sweep===void 0?2*Math.PI-2*Math.PI/N.length:e.sweep,_=N.dTheta=$/Math.max(1,N.length-1);if(N.length>1&&e.avoidOverlap){var D=Math.cos(_)-Math.cos(0),R=Math.sin(_)-Math.sin(0),O=Math.sqrt(S*S/(D*D+R*R));I=Math.max(O,I)}N.r=I,I+=S}if(e.equidistant){for(var A=0,B=0,P=0;P<v.length;P++){var z=v[P],q=z.r-B;A=Math.max(A,q)}B=0;for(var K=0;K<v.length;K++){var W=v[K];K===0&&(B=W.r),W.r=B,B+=A}}for(var ae={},ie=0;ie<v.length;ie++)for(var se=v[ie],oe=se.dTheta,Y=se.r,Q=0;Q<se.length;Q++){var j=se[Q],H=e.startAngle+(r?1:-1)*oe*Q,J={x:o.x+Y*Math.cos(H),y:o.y+Y*Math.sin(H)};ae[j.node.id()]=J}return n.nodes().layoutPositions(this,e,function(he){var X=he.id();return ae[X]}),this};MAe={ready:l(function(){},"ready"),stop:l(function(){},"stop"),animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:l(function(t,e){return!0},"animateFilter"),animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:l(function(t){return 2048},"nodeRepulsion"),nodeOverlap:4,idealEdgeLength:l(function(t){return 32},"idealEdgeLength"),edgeElasticity:l(function(t){return 32},"edgeElasticity"),nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};l(kb,"CoseLayout");kb.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?N9=!0:N9=!1;var i=OAe(e,r,t);N9&&BAe(i),t.randomize&&PAe(i);var n=Vl(),a=l(function(){FAe(i,e,t),t.fit===!0&&e.fit(t.padding)},"refresh"),s=l(function(p){return!(r.stopped||p>=t.numIter||(zAe(i,t),i.temperature=i.temperature*t.coolingFactor,i.temperature<t.minTemp))},"mainLoop"),o=l(function(){if(t.animate===!0||t.animate===!1)a(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var p=t.eles.nodes(),g=Hae(i,t,p);p.layoutPositions(r,t,g)}},"done"),h=0,u=!0;if(t.animate===!0){var d=l(function(){for(var p=0;u&&p<t.refresh;)u=s(h),h++,p++;if(!u)xie(i,t),o();else{var g=Vl();g-n>=t.animationThreshold&&a(),O6(d)}},"frame");d()}else{for(;u;)u=s(h),h++;xie(i,t),o()}return this};kb.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};kb.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};OAe=l(function(t,e,r){for(var i=r.eles.edges(),n=r.eles.nodes(),a=ma(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:n.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},o=r.eles.components(),h={},u=0;u<o.length;u++)for(var d=o[u],p=0;p<d.length;p++){var g=d[p];h[g.id()]=u}for(var u=0;u<s.nodeSize;u++){var f=n[u],m=f.layoutDimensions(r),y={};y.isLocked=f.locked(),y.id=f.data("id"),y.parentId=f.data("parent"),y.cmptId=h[f.id()],y.children=[],y.positionX=f.position("x"),y.positionY=f.position("y"),y.offsetX=0,y.offsetY=0,y.height=m.w,y.width=m.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(f.style("padding")),y.padRight=parseFloat(f.style("padding")),y.padTop=parseFloat(f.style("padding")),y.padBottom=parseFloat(f.style("padding")),y.nodeRepulsion=Ci(r.nodeRepulsion)?r.nodeRepulsion(f):r.nodeRepulsion,s.layoutNodes.push(y),s.idToIndex[y.id]=u}for(var b=[],v=0,x=-1,w=[],u=0;u<s.nodeSize;u++){var f=s.layoutNodes[u],k=f.parentId;k!=null?s.layoutNodes[s.idToIndex[k]].children.push(f.id):(b[++x]=f.id,w.push(f.id))}for(s.graphSet.push(w);v<=x;){var T=b[v++],S=s.idToIndex[T],g=s.layoutNodes[S],C=g.children;if(C.length>0){s.graphSet.push(C);for(var u=0;u<C.length;u++)b[++x]=C[u]}}for(var u=0;u<s.graphSet.length;u++)for(var E=s.graphSet[u],p=0;p<E.length;p++){var L=s.idToIndex[E[p]];s.indexToGraph[L]=u}for(var u=0;u<s.edgeSize;u++){var I=i[u],M={};M.id=I.data("id"),M.sourceId=I.data("source"),M.targetId=I.data("target");var N=Ci(r.idealEdgeLength)?r.idealEdgeLength(I):r.idealEdgeLength,$=Ci(r.edgeElasticity)?r.edgeElasticity(I):r.edgeElasticity,_=s.idToIndex[M.sourceId],D=s.idToIndex[M.targetId],R=s.indexToGraph[_],O=s.indexToGraph[D];if(R!=O){for(var A=$Ae(M.sourceId,M.targetId,s),B=s.graphSet[A],P=0,y=s.layoutNodes[_];B.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],P++;for(y=s.layoutNodes[D];B.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],P++;N*=P*r.nestingFactor}M.idealLength=N,M.elasticity=$,s.layoutEdges.push(M)}return s},"createLayoutInfo"),$Ae=l(function(t,e,r){var i=Yae(t,e,0,r);return 2>i.count?0:i.graph},"findLCA"),Yae=l(function(t,e,r,i){var n=i.graphSet[r];if(-1<n.indexOf(t)&&-1<n.indexOf(e))return{count:2,graph:r};for(var a=0,s=0;s<n.length;s++){var o=n[s],h=i.idToIndex[o],u=i.layoutNodes[h].children;if(u.length!==0){var d=i.indexToGraph[i.idToIndex[u[0]]],p=Yae(t,e,d,i);if(p.count!==0)if(p.count===1){if(a++,a===2)break}else return p}}return{count:a,graph:r}},"findLCA_aux"),PAe=l(function(t,e){for(var r=t.clientWidth,i=t.clientHeight,n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];a.children.length===0&&!a.isLocked&&(a.positionX=Math.random()*r,a.positionY=Math.random()*i)}},"randomizePositions"),Hae=l(function(t,e,r){var i=t.boundingBox,n={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(r.forEach(function(a){var s=t.layoutNodes[t.idToIndex[a.data("id")]];n.x1=Math.min(n.x1,s.positionX),n.x2=Math.max(n.x2,s.positionX),n.y1=Math.min(n.y1,s.positionY),n.y2=Math.max(n.y2,s.positionY)}),n.w=n.x2-n.x1,n.h=n.y2-n.y1),function(a,s){var o=t.layoutNodes[t.idToIndex[a.data("id")]];if(e.boundingBox){var h=n.w===0?.5:(o.positionX-n.x1)/n.w,u=n.h===0?.5:(o.positionY-n.y1)/n.h;return{x:i.x1+h*i.w,y:i.y1+u*i.h}}else return{x:o.positionX,y:o.positionY}}},"getScaleInBoundsFn"),FAe=l(function(t,e,r){var i=r.layout,n=r.eles.nodes(),a=Hae(t,r,n);n.positions(a),t.ready!==!0&&(t.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},"refreshPositions"),zAe=l(function(t,e,r){GAe(t,e),jAe(t),WAe(t,e),VAe(t),YAe(t)},"step"),GAe=l(function(t,e){for(var r=0;r<t.graphSet.length;r++)for(var i=t.graphSet[r],n=i.length,a=0;a<n;a++)for(var s=t.layoutNodes[t.idToIndex[i[a]]],o=a+1;o<n;o++){var h=t.layoutNodes[t.idToIndex[i[o]]];qAe(s,h,t,e)}},"calculateNodeForces"),bie=l(function(t){return-1+2*t*Math.random()},"randomDistance"),qAe=l(function(t,e,r,i){var n=t.cmptId,a=e.cmptId;if(!(n!==a&&!r.isCompound)){var s=e.positionX-t.positionX,o=e.positionY-t.positionY,h=1;s===0&&o===0&&(s=bie(h),o=bie(h));var u=UAe(t,e,s,o);if(u>0)var b=i.nodeOverlap*u,y=Math.sqrt(s*s+o*o),v=b*s/y,x=b*o/y;else var d=q6(t,s,o),p=q6(e,-1*s,-1*o),g=p.x-d.x,f=p.y-d.y,m=g*g+f*f,y=Math.sqrt(m),b=(t.nodeRepulsion+e.nodeRepulsion)/m,v=b*g/y,x=b*f/y;t.isLocked||(t.offsetX-=v,t.offsetY-=x),e.isLocked||(e.offsetX+=v,e.offsetY+=x)}},"nodeRepulsion"),UAe=l(function(t,e,r,i){if(r>0)var n=t.maxX-e.minX;else var n=e.maxX-t.minX;if(i>0)var a=t.maxY-e.minY;else var a=e.maxY-t.minY;return n>=0&&a>=0?Math.sqrt(n*n+a*a):0},"nodesOverlap"),q6=l(function(t,e,r){var i=t.positionX,n=t.positionY,a=t.height||1,s=t.width||1,o=r/e,h=a/s,u={};return e===0&&0<r||e===0&&0>r?(u.x=i,u.y=n+a/2,u):0<e&&-1*h<=o&&o<=h?(u.x=i+s/2,u.y=n+s*r/2/e,u):0>e&&-1*h<=o&&o<=h?(u.x=i-s/2,u.y=n-s*r/2/e,u):0<r&&(o<=-1*h||o>=h)?(u.x=i+a*e/2/r,u.y=n+a/2,u):(0>r&&(o<=-1*h||o>=h)&&(u.x=i-a*e/2/r,u.y=n-a/2),u)},"findClippingPoint"),jAe=l(function(t,e){for(var r=0;r<t.edgeSize;r++){var i=t.layoutEdges[r],n=t.idToIndex[i.sourceId],a=t.layoutNodes[n],s=t.idToIndex[i.targetId],o=t.layoutNodes[s],h=o.positionX-a.positionX,u=o.positionY-a.positionY;if(!(h===0&&u===0)){var d=q6(a,h,u),p=q6(o,-1*h,-1*u),g=p.x-d.x,f=p.y-d.y,m=Math.sqrt(g*g+f*f),y=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var b=y*g/m,v=y*f/m;else var b=0,v=0;a.isLocked||(a.offsetX+=b,a.offsetY+=v),o.isLocked||(o.offsetX-=b,o.offsetY-=v)}}},"calculateEdgeForces"),WAe=l(function(t,e){if(e.gravity!==0)for(var r=1,i=0;i<t.graphSet.length;i++){var n=t.graphSet[i],a=n.length;if(i===0)var h=t.clientHeight/2,u=t.clientWidth/2;else var s=t.layoutNodes[t.idToIndex[n[0]]],o=t.layoutNodes[t.idToIndex[s.parentId]],h=o.positionX,u=o.positionY;for(var d=0;d<a;d++){var p=t.layoutNodes[t.idToIndex[n[d]]];if(!p.isLocked){var g=h-p.positionX,f=u-p.positionY,m=Math.sqrt(g*g+f*f);if(m>r){var y=e.gravity*g/m,b=e.gravity*f/m;p.offsetX+=y,p.offsetY+=b}}}}},"calculateGravityForces"),VAe=l(function(t,e){var r=[],i=0,n=-1;for(r.push.apply(r,t.graphSet[0]),n+=t.graphSet[0].length;i<=n;){var a=r[i++],s=t.idToIndex[a],o=t.layoutNodes[s],h=o.children;if(0<h.length&&!o.isLocked){for(var u=o.offsetX,d=o.offsetY,p=0;p<h.length;p++){var g=t.layoutNodes[t.idToIndex[h[p]]];g.offsetX+=u,g.offsetY+=d,r[++n]=h[p]}o.offsetX=0,o.offsetY=0}}},"propagateForces"),YAe=l(function(t,e){for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var n=HAe(i.offsetX,i.offsetY,t.temperature);i.positionX+=n.x,i.positionY+=n.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Xae(i,t)}}for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},"updatePositions"),HAe=l(function(t,e,r){var i=Math.sqrt(t*t+e*e);if(i>r)var n={x:r*t/i,y:r*e/i};else var n={x:t,y:e};return n},"limitForce"),Xae=l(function(t,e){var r=t.parentId;if(r!=null){var i=e.layoutNodes[e.idToIndex[r]],n=!1;if((i.maxX==null||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,n=!0),(i.minX==null||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,n=!0),(i.maxY==null||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,n=!0),(i.minY==null||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,n=!0),n)return Xae(i,e)}},"updateAncestryBoundaries"),xie=l(function(t,e){for(var r=t.layoutNodes,i=[],n=0;n<r.length;n++){var a=r[n],s=a.cmptId,o=i[s]=i[s]||[];o.push(a)}for(var h=0,n=0;n<i.length;n++){var u=i[n];if(u){u.x1=1/0,u.x2=-1/0,u.y1=1/0,u.y2=-1/0;for(var d=0;d<u.length;d++){var p=u[d];u.x1=Math.min(u.x1,p.positionX-p.width/2),u.x2=Math.max(u.x2,p.positionX+p.width/2),u.y1=Math.min(u.y1,p.positionY-p.height/2),u.y2=Math.max(u.y2,p.positionY+p.height/2)}u.w=u.x2-u.x1,u.h=u.y2-u.y1,h+=u.w*u.h}}i.sort(function(v,x){return x.w*x.h-v.w*v.h});for(var g=0,f=0,m=0,y=0,b=Math.sqrt(h)*t.clientWidth/t.clientHeight,n=0;n<i.length;n++){var u=i[n];if(u){for(var d=0;d<u.length;d++){var p=u[d];p.isLocked||(p.positionX+=g-u.x1,p.positionY+=f-u.y1)}g+=u.w+e.componentSpacing,m+=u.w+e.componentSpacing,y=Math.max(y,u.h),m>b&&(f+=y+e.componentSpacing,g=0,m=0,y=0)}}},"separateComponents"),XAe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:l(function(t){},"position"),sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(t,e){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(t,e){return e},"transform")};l(qL,"GridLayout");qL.prototype.run=function(){var t=this.options,e=t,r=t.cy,i=e.eles,n=i.nodes().not(":parent");e.sort&&(n=n.sort(e.sort));var a=ma(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)i.nodes().layoutPositions(this,e,function(K){return{x:a.x1,y:a.y1}});else{var s=n.size(),o=Math.sqrt(s*a.h/a.w),h=Math.round(o),u=Math.round(a.w/a.h*o),d=l(function(K){if(K==null)return Math.min(h,u);var W=Math.min(h,u);W==h?h=K:u=K},"small"),p=l(function(K){if(K==null)return Math.max(h,u);var W=Math.max(h,u);W==h?h=K:u=K},"large"),g=e.rows,f=e.cols!=null?e.cols:e.columns;if(g!=null&&f!=null)h=g,u=f;else if(g!=null&&f==null)h=g,u=Math.ceil(s/h);else if(g==null&&f!=null)u=f,h=Math.ceil(s/u);else if(u*h>s){var m=d(),y=p();(m-1)*y>=s?d(m-1):(y-1)*m>=s&&p(y-1)}else for(;u*h<s;){var b=d(),v=p();(v+1)*b>=s?p(v+1):d(b+1)}var x=a.w/u,w=a.h/h;if(e.condense&&(x=0,w=0),e.avoidOverlap)for(var k=0;k<n.length;k++){var T=n[k],S=T._private.position;(S.x==null||S.y==null)&&(S.x=0,S.y=0);var C=T.layoutDimensions(e),E=e.avoidOverlapPadding,L=C.w+E,I=C.h+E;x=Math.max(x,L),w=Math.max(w,I)}for(var M={},N=l(function(K,W){return!!M["c-"+K+"-"+W]},"used"),$=l(function(K,W){M["c-"+K+"-"+W]=!0},"use"),_=0,D=0,R=l(function(){D++,D>=u&&(D=0,_++)},"moveToNextCell"),O={},A=0;A<n.length;A++){var B=n[A],P=e.position(B);if(P&&(P.row!==void 0||P.col!==void 0)){var z={row:P.row,col:P.col};if(z.col===void 0)for(z.col=0;N(z.row,z.col);)z.col++;else if(z.row===void 0)for(z.row=0;N(z.row,z.col);)z.row++;O[B.id()]=z,$(z.row,z.col)}}var q=l(function(K,W){var ae,ie;if(K.locked()||K.isParent())return!1;var se=O[K.id()];if(se)ae=se.col*x+x/2+a.x1,ie=se.row*w+w/2+a.y1;else{for(;N(_,D);)R();ae=D*x+x/2+a.x1,ie=_*w+w/2+a.y1,$(_,D),R()}return{x:ae,y:ie}},"getPos");n.layoutPositions(this,e,q)}return this};KAe={ready:l(function(){},"ready"),stop:l(function(){},"stop")};l(sw,"NullLayout");sw.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};sw.prototype.stop=function(){return this};ZAe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(t,e){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(t,e){return e},"transform")};l(UL,"PresetLayout");UL.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),i=Ci(t.positions);function n(a){if(t.positions==null)return uSe(a.position());if(i)return t.positions(a);var s=t.positions[a._private.data.id];return s??null}return l(n,"getPosition"),r.layoutPositions(this,t,function(a,s){var o=n(a);return a.locked()||o==null?!1:o}),this};QAe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(t,e){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(t,e){return e},"transform")};l(jL,"RandomLayout");jL.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,i=ma(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),n=l(function(a,s){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}},"getPos");return r.nodes().layoutPositions(this,t,n),this};JAe=[{name:"breadthfirst",impl:FL},{name:"circle",impl:zL},{name:"concentric",impl:GL},{name:"cose",impl:kb},{name:"grid",impl:qL},{name:"null",impl:sw},{name:"preset",impl:UL},{name:"random",impl:jL}];l(WL,"NullRenderer");wie=l(function(){},"noop"),kie=l(function(){throw new Error("A headless instance can not render images")},"throwImgErr");WL.prototype={recalculateRenderedStyle:wie,notify:l(function(){this.notifications++},"notify"),init:wie,isHeadless:l(function(){return!0},"isHeadless"),png:kie,jpg:kie};VL={};VL.arrowShapeWidth=.3;VL.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=l(function(h,u,d,p,g,f,m){var y=g.x-d/2-m,b=g.x+d/2+m,v=g.y-d/2-m,x=g.y+d/2+m,w=y<=h&&h<=b&&v<=u&&u<=x;return w},"bbCollide"),i=l(function(h,u,d,p,g){var f=h*Math.cos(p)-u*Math.sin(p),m=h*Math.sin(p)+u*Math.cos(p),y=f*d,b=m*d,v=y+g.x,x=b+g.y;return{x:v,y:x}},"transform"),n=l(function(h,u,d,p){for(var g=[],f=0;f<h.length;f+=2){var m=h[f],y=h[f+1];g.push(i(m,y,u,d,p))}return g},"transformPoints"),a=l(function(h){for(var u=[],d=0;d<h.length;d++){var p=h[d];u.push(p.x,p.y)}return u},"pointsToArr"),s=l(function(h){return h.pstyle("width").pfValue*h.pstyle("arrow-scale").pfValue*2},"standardGap"),o=l(function(h,u){zt(u)&&(u=t[u]),t[h]=Xt({name:h,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:l(function(d,p,g,f,m,y){var b=a(n(this.points,g+2*y,f,m)),v=Ga(d,p,b);return v},"collide"),roughCollide:r,draw:l(function(d,p,g,f){var m=n(this.points,p,g,f);e.arrowShapeImpl("polygon")(d,m)},"draw"),spacing:l(function(d){return 0},"spacing"),gap:s},u)},"defineArrowShape");o("none",{collide:$6,roughCollide:$6,draw:wL,spacing:qte,gap:qte}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:l(function(h,u,d,p,g){var f=n(this.points,u,d,p),m=this.controlPoint,y=i(m[0],m[1],u,d,p);e.arrowShapeImpl(this.name)(h,f,y)},"draw"),gap:l(function(h){return s(h)*.8},"gap")}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:l(function(h,u,d,p,g,f,m){var y=a(n(this.points,d+2*m,p,g)),b=a(n(this.pointsTee,d+2*m,p,g)),v=Ga(h,u,y)||Ga(h,u,b);return v},"collide"),draw:l(function(h,u,d,p,g){var f=n(this.points,u,d,p),m=n(this.pointsTee,u,d,p);e.arrowShapeImpl(this.name)(h,f,m)},"draw")}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:l(function(h,u,d,p,g,f,m){var y=g,b=Math.pow(y.x-h,2)+Math.pow(y.y-u,2)<=Math.pow((d+2*m)*this.radius,2),v=a(n(this.points,d+2*m,p,g));return Ga(h,u,v)||b},"collide"),draw:l(function(h,u,d,p,g){var f=n(this.pointsTr,u,d,p);e.arrowShapeImpl(this.name)(h,f,p.x,p.y,this.radius*u)},"draw"),spacing:l(function(h){return e.getArrowWidth(h.pstyle("width").pfValue,h.pstyle("arrow-scale").value)*this.radius},"spacing")}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:l(function(h,u){var d=this.baseCrossLinePts.slice(),p=u/h,g=3,f=5;return d[g]=d[g]-p,d[f]=d[f]-p,d},"crossLinePts"),collide:l(function(h,u,d,p,g,f,m){var y=a(n(this.points,d+2*m,p,g)),b=a(n(this.crossLinePts(d,f),d+2*m,p,g)),v=Ga(h,u,y)||Ga(h,u,b);return v},"collide"),draw:l(function(h,u,d,p,g){var f=n(this.points,u,d,p),m=n(this.crossLinePts(u,g),u,d,p);e.arrowShapeImpl(this.name)(h,f,m)},"draw")}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:l(function(h){return s(h)*.525},"gap")}),o("circle",{radius:.15,collide:l(function(h,u,d,p,g,f,m){var y=g,b=Math.pow(y.x-h,2)+Math.pow(y.y-u,2)<=Math.pow((d+2*m)*this.radius,2);return b},"collide"),draw:l(function(h,u,d,p,g){e.arrowShapeImpl(this.name)(h,p.x,p.y,this.radius*u)},"draw"),spacing:l(function(h){return e.getArrowWidth(h.pstyle("width").pfValue,h.pstyle("arrow-scale").value)*this.radius},"spacing")}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:l(function(h){return 1},"spacing"),gap:l(function(h){return 1},"gap")}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:l(function(h){return h.pstyle("width").pfValue*h.pstyle("arrow-scale").value},"gap")}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:l(function(h){return .95*h.pstyle("width").pfValue*h.pstyle("arrow-scale").value},"gap")})};dd={};dd.projectIntoViewport=function(t,e){var r=this.cy,i=this.findContainerClientCoords(),n=i[0],a=i[1],s=i[4],o=r.pan(),h=r.zoom(),u=((t-n)/s-o.x)/h,d=((e-a)/s-o.y)/h;return[u,d]};dd.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),i=l(function(b){return parseFloat(r.getPropertyValue(b))},"styleValue"),n={left:i("padding-left"),right:i("padding-right"),top:i("padding-top"),bottom:i("padding-bottom")},a={left:i("border-left-width"),right:i("border-right-width"),top:i("border-top-width"),bottom:i("border-bottom-width")},s=t.clientWidth,o=t.clientHeight,h=n.left+n.right,u=n.top+n.bottom,d=a.left+a.right,p=e.width/(s+d),g=s-h,f=o-u,m=e.left+n.left+a.left,y=e.top+n.top+a.top;return this.containerBB=[m,y,g,f,p]};dd.invalidateContainerClientCoordsCache=function(){this.containerBB=null};dd.findNearestElement=function(t,e,r,i){return this.findNearestElements(t,e,r,i)[0]};dd.findNearestElements=function(t,e,r,i){var n=this,a=this,s=a.getCachedZSortedEles(),o=[],h=a.cy.zoom(),u=a.cy.hasCompoundNodes(),d=(i?24:8)/h,p=(i?8:2)/h,g=(i?8:2)/h,f=1/0,m,y;r&&(s=s.interactive);function b(C,E){if(C.isNode()){if(y)return;y=C,o.push(C)}if(C.isEdge()&&(E==null||E<f))if(m){if(m.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===C.pstyle("z-compound-depth").value){for(var L=0;L<o.length;L++)if(o[L].isEdge()){o[L]=C,m=C,f=E??f;break}}}else o.push(C),m=C,f=E??f}l(b,"addEle");function v(C){var E=C.outerWidth()+2*p,L=C.outerHeight()+2*p,I=E/2,M=L/2,N=C.position(),$=C.pstyle("corner-radius").value==="auto"?"auto":C.pstyle("corner-radius").pfValue,_=C._private.rscratch;if(N.x-I<=t&&t<=N.x+I&&N.y-M<=e&&e<=N.y+M){var D=a.nodeShapes[n.getNodeShape(C)];if(D.checkPoint(t,e,0,E,L,N.x,N.y,$,_))return b(C,0),!0}}l(v,"checkNode");function x(C){var E=C._private,L=E.rscratch,I=C.pstyle("width").pfValue,M=C.pstyle("arrow-scale").value,N=I/2+d,$=N*N,_=N*2,D=E.source,R=E.target,O;if(L.edgeType==="segments"||L.edgeType==="straight"||L.edgeType==="haystack"){for(var A=L.allpts,B=0;B+3<A.length;B+=2)if(TSe(t,e,A[B],A[B+1],A[B+2],A[B+3],_)&&$>(O=ASe(t,e,A[B],A[B+1],A[B+2],A[B+3])))return b(C,O),!0}else if(L.edgeType==="bezier"||L.edgeType==="multibezier"||L.edgeType==="self"||L.edgeType==="compound"){for(var A=L.allpts,B=0;B+5<L.allpts.length;B+=4)if(ESe(t,e,A[B],A[B+1],A[B+2],A[B+3],A[B+4],A[B+5],_)&&$>(O=_Se(t,e,A[B],A[B+1],A[B+2],A[B+3],A[B+4],A[B+5])))return b(C,O),!0}for(var D=D||E.source,R=R||E.target,P=n.getArrowWidth(I,M),z=[{name:"source",x:L.arrowStartX,y:L.arrowStartY,angle:L.srcArrowAngle},{name:"target",x:L.arrowEndX,y:L.arrowEndY,angle:L.tgtArrowAngle},{name:"mid-source",x:L.midX,y:L.midY,angle:L.midsrcArrowAngle},{name:"mid-target",x:L.midX,y:L.midY,angle:L.midtgtArrowAngle}],B=0;B<z.length;B++){var q=z[B],K=a.arrowShapes[C.pstyle(q.name+"-arrow-shape").value],W=C.pstyle("width").pfValue;if(K.roughCollide(t,e,P,q.angle,{x:q.x,y:q.y},W,d)&&K.collide(t,e,P,q.angle,{x:q.x,y:q.y},W,d))return b(C),!0}u&&o.length>0&&(v(D),v(R))}l(x,"checkEdge");function w(C,E,L){return za(C,E,L)}l(w,"preprop");function k(C,E){var L=C._private,I=g,M;E?M=E+"-":M="",C.boundingBox();var N=L.labelBounds[E||"main"],$=C.pstyle(M+"label").value,_=C.pstyle("text-events").strValue==="yes";if(!(!_||!$)){var D=w(L.rscratch,"labelX",E),R=w(L.rscratch,"labelY",E),O=w(L.rscratch,"labelAngle",E),A=C.pstyle(M+"text-margin-x").pfValue,B=C.pstyle(M+"text-margin-y").pfValue,P=N.x1-I-A,z=N.x2+I-A,q=N.y1-I-B,K=N.y2+I-B;if(O){var W=Math.cos(O),ae=Math.sin(O),ie=l(function(H,J){return H=H-D,J=J-R,{x:H*W-J*ae+D,y:H*ae+J*W+R}},"rotate"),se=ie(P,q),oe=ie(P,K),Y=ie(z,q),Q=ie(z,K),j=[se.x+A,se.y+B,Y.x+A,Y.y+B,Q.x+A,Q.y+B,oe.x+A,oe.y+B];if(Ga(t,e,j))return b(C),!0}else if(bh(N,t,e))return b(C),!0}}l(k,"checkLabel");for(var T=s.length-1;T>=0;T--){var S=s[T];S.isNode()?v(S)||k(S):x(S)||k(S)||k(S,"source")||k(S,"target")}return o};dd.getAllInBox=function(t,e,r,i){var n=this.getCachedZSortedEles().interactive,a=this.cy.zoom(),s=2/a,o=[],h=Math.min(t,r),u=Math.max(t,r),d=Math.min(e,i),p=Math.max(e,i);t=h,r=u,e=d,i=p;var g=ma({x1:t,y1:e,x2:r,y2:i}),f=[{x:g.x1,y:g.y1},{x:g.x2,y:g.y1},{x:g.x2,y:g.y2},{x:g.x1,y:g.y2}],m=[[f[0],f[1]],[f[1],f[2]],[f[2],f[3]],[f[3],f[0]]];function y(J,he,X){return za(J,he,X)}l(y,"preprop");function b(J,he){var X=J._private,fe=s,V="";J.boundingBox();var Se=X.labelBounds.main;if(!Se)return null;var ce=y(X.rscratch,"labelX",he),Le=y(X.rscratch,"labelY",he),$e=y(X.rscratch,"labelAngle",he),je=J.pstyle(V+"text-margin-x").pfValue,qe=J.pstyle(V+"text-margin-y").pfValue,Ce=Se.x1-fe-je,De=Se.x2+fe-je,ye=Se.y1-fe-qe,Pe=Se.y2+fe-qe;if($e){var ue=Math.cos($e),Ve=Math.sin($e),Z=l(function(Ne,F){return Ne=Ne-ce,F=F-Le,{x:Ne*ue-F*Ve+ce,y:Ne*Ve+F*ue+Le}},"rotate");return[Z(Ce,ye),Z(De,ye),Z(De,Pe),Z(Ce,Pe)]}else return[{x:Ce,y:ye},{x:De,y:ye},{x:De,y:Pe},{x:Ce,y:Pe}]}l(b,"getRotatedLabelBox");function v(J,he,X,fe){function V(Se,ce,Le){return(Le.y-Se.y)*(ce.x-Se.x)>(ce.y-Se.y)*(Le.x-Se.x)}return l(V,"ccw"),V(J,X,fe)!==V(he,X,fe)&&V(J,he,X)!==V(J,he,fe)}l(v,"doLinesIntersect");for(var x=0;x<n.length;x++){var w=n[x];if(w.isNode()){var k=w,T=k.pstyle("text-events").strValue==="yes",S=k.pstyle("box-selection").strValue,C=k.pstyle("box-select-labels").strValue==="yes";if(S==="none")continue;var E=(S==="overlap"||C)&&T,L=k.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:E});if(S==="contain"){var I=!1;if(C&&T){var M=b(k);M&&w6(M,f)&&(o.push(k),I=!0)}!I&&Cne(g,L)&&o.push(k)}else if(S==="overlap"&&CL(g,L)){var N=k.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),$=[{x:N.x1,y:N.y1},{x:N.x2,y:N.y1},{x:N.x2,y:N.y2},{x:N.x1,y:N.y2}];if(w6($,f))o.push(k);else{var _=b(k);_&&w6(_,f)&&o.push(k)}}}else{var D=w,R=D._private,O=R.rscratch,A=D.pstyle("box-selection").strValue;if(A==="none")continue;if(A==="contain"){if(O.startX!=null&&O.startY!=null&&!bh(g,O.startX,O.startY)||O.endX!=null&&O.endY!=null&&!bh(g,O.endX,O.endY))continue;if(O.edgeType==="bezier"||O.edgeType==="multibezier"||O.edgeType==="self"||O.edgeType==="compound"||O.edgeType==="segments"||O.edgeType==="haystack"){for(var B=R.rstyle.bezierPts||R.rstyle.linePts||R.rstyle.haystackPts,P=!0,z=0;z<B.length;z++)if(!Hte(g,B[z])){P=!1;break}P&&o.push(D)}else O.edgeType==="straight"&&o.push(D)}else if(A==="overlap"){var q=!1;if(O.startX!=null&&O.startY!=null&&O.endX!=null&&O.endY!=null&&(bh(g,O.startX,O.startY)||bh(g,O.endX,O.endY)))o.push(D),q=!0;else if(!q&&O.edgeType==="haystack"){for(var K=R.rstyle.haystackPts,W=0;W<K.length;W++)if(Hte(g,K[W])){o.push(D),q=!0;break}}if(!q){var ae=R.rstyle.bezierPts||R.rstyle.linePts||R.rstyle.haystackPts;if((!ae||ae.length<2)&&O.edgeType==="straight"&&O.startX!=null&&O.startY!=null&&O.endX!=null&&O.endY!=null&&(ae=[{x:O.startX,y:O.startY},{x:O.endX,y:O.endY}]),!ae||ae.length<2)continue;for(var ie=0;ie<ae.length-1;ie++){for(var se=ae[ie],oe=ae[ie+1],Y=0;Y<m.length;Y++){var Q=Gi(m[Y],2),j=Q[0],H=Q[1];if(v(se,oe,j,H)){o.push(D),q=!0;break}}if(q)break}}}}}return o};U6={};U6.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",i=e.edgeType==="bezier",n=e.edgeType==="multibezier",a=e.edgeType==="segments",s=e.edgeType==="compound",o=e.edgeType==="self",h,u,d,p,g,f,v,x;if(r?(d=e.haystackPts[0],p=e.haystackPts[1],g=e.haystackPts[2],f=e.haystackPts[3]):(d=e.arrowStartX,p=e.arrowStartY,g=e.arrowEndX,f=e.arrowEndY),v=e.midX,x=e.midY,a)h=d-e.segpts[0],u=p-e.segpts[1];else if(n||s||o||i){var m=e.allpts,y=vn(m[0],m[2],m[4],.1),b=vn(m[1],m[3],m[5],.1);h=d-y,u=p-b}else h=d-v,u=p-x;e.srcArrowAngle=c6(h,u);var v=e.midX,x=e.midY;if(r&&(v=(d+g)/2,x=(p+f)/2),h=g-d,u=f-p,a){var m=e.allpts;if(m.length/2%2===0){var w=m.length/2,k=w-2;h=m[w]-m[k],u=m[w+1]-m[k+1]}else if(e.isRound)h=e.midVector[1],u=-e.midVector[0];else{var w=m.length/2-1,k=w-2;h=m[w]-m[k],u=m[w+1]-m[k+1]}}else if(n||s||o){var m=e.allpts,T=e.ctrlpts,S,C,E,L;if(T.length/2%2===0){var I=m.length/2-1,M=I+2,N=M+2;S=vn(m[I],m[M],m[N],0),C=vn(m[I+1],m[M+1],m[N+1],0),E=vn(m[I],m[M],m[N],1e-4),L=vn(m[I+1],m[M+1],m[N+1],1e-4)}else{var M=m.length/2-1,I=M-2,N=M+2;S=vn(m[I],m[M],m[N],.4999),C=vn(m[I+1],m[M+1],m[N+1],.4999),E=vn(m[I],m[M],m[N],.5),L=vn(m[I+1],m[M+1],m[N+1],.5)}h=E-S,u=L-C}if(e.midtgtArrowAngle=c6(h,u),e.midDispX=h,e.midDispY=u,h*=-1,u*=-1,a){var m=e.allpts;if(m.length/2%2!==0&&!e.isRound){var w=m.length/2-1,$=w+2;h=-(m[$]-m[w]),u=-(m[$+1]-m[w+1])}}if(e.midsrcArrowAngle=c6(h,u),a)h=g-e.segpts[e.segpts.length-2],u=f-e.segpts[e.segpts.length-1];else if(n||s||o||i){var m=e.allpts,_=m.length,y=vn(m[_-6],m[_-4],m[_-2],.9),b=vn(m[_-5],m[_-3],m[_-1],.9);h=g-y,u=f-b}else h=g-v,u=f-x;e.tgtArrowAngle=c6(h,u)};U6.getArrowWidth=U6.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},i=r[t+", "+e];return i||(i=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=i,i)};Qo={},Ls={},Sie=l(function(t,e,r){r.x=e.x-t.x,r.y=e.y-t.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},"asVec"),e9e=l(function(t,e){e.x=t.x*-1,e.y=t.y*-1,e.nx=t.nx*-1,e.ny=t.ny*-1,e.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},"invertVec"),t9e=l(function(t,e,r,i,n){if(t!==Cie?Sie(e,t,Qo):e9e(Ls,Qo),Sie(e,r,Ls),Tie=Qo.nx*Ls.ny-Qo.ny*Ls.nx,Eie=Qo.nx*Ls.nx-Qo.ny*-Ls.ny,Ul=Math.asin(Math.max(-1,Math.min(1,Tie))),Math.abs(Ul)<1e-6){tL=e.x,rL=e.y,td=tg=0;return}nd=1,L6=!1,Eie<0?Ul<0?Ul=Math.PI+Ul:(Ul=Math.PI-Ul,nd=-1,L6=!0):Ul>0&&(nd=-1,L6=!0),e.radius!==void 0?tg=e.radius:tg=i,Ku=Ul/2,m6=Math.min(Qo.len/2,Ls.len/2),n?(Zo=Math.abs(Math.cos(Ku)*tg/Math.sin(Ku)),Zo>m6?(Zo=m6,td=Math.abs(Zo*Math.sin(Ku)/Math.cos(Ku))):td=tg):(Zo=Math.min(m6,tg),td=Math.abs(Zo*Math.sin(Ku)/Math.cos(Ku))),iL=e.x+Ls.nx*Zo,nL=e.y+Ls.ny*Zo,tL=iL-Ls.ny*td*nd,rL=nL+Ls.nx*td*nd,Kae=e.x+Qo.nx*Zo,Zae=e.y+Qo.ny*Zo,Cie=e},"calcCornerArc");l(YL,"drawPreparedRoundCorner");l(ow,"getRoundCorner");sb=.01,r9e=Math.sqrt(2*sb),Qn={};Qn.findMidptPtsEtc=function(t,e){var r=e.posPts,i=e.intersectionPts,n=e.vectorNormInverse,a,s=t.pstyle("source-endpoint"),o=t.pstyle("target-endpoint"),h=s.units!=null&&o.units!=null,u=l(function(k,T,S,C){var E=C-T,L=S-k,I=Math.sqrt(L*L+E*E);return{x:-E/I,y:L/I}},"recalcVectorNormInverse"),d=t.pstyle("edge-distances").value;switch(d){case"node-position":a=r;break;case"intersection":a=i;break;case"endpoints":{if(h){var p=this.manualEndptToPx(t.source()[0],s),g=Gi(p,2),f=g[0],m=g[1],y=this.manualEndptToPx(t.target()[0],o),b=Gi(y,2),v=b[0],x=b[1],w={x1:f,y1:m,x2:v,y2:x};n=u(f,m,v,x),a=w}else Ur("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=i;break}}return{midptPts:a,vectorNormInverse:n}};Qn.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],i=r._private,n=i.rscratch;if(!n.haystack){var a=Math.random()*2*Math.PI;n.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,n.target={x:Math.cos(a),y:Math.sin(a)}}var s=i.source,o=i.target,h=s.position(),u=o.position(),d=s.width(),p=o.width(),g=s.height(),f=o.height(),m=r.pstyle("haystack-radius").value,y=m/2;n.haystackPts=n.allpts=[n.source.x*d*y+h.x,n.source.y*g*y+h.y,n.target.x*p*y+u.x,n.target.y*f*y+u.y],n.midX=(n.allpts[0]+n.allpts[2])/2,n.midY=(n.allpts[1]+n.allpts[3])/2,n.edgeType="haystack",n.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Qn.findSegmentsPoints=function(t,e){var r=t._private.rscratch,i=t.pstyle("segment-weights"),n=t.pstyle("segment-distances"),a=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),o=Math.min(i.pfValue.length,n.pfValue.length),h=a.pfValue[a.pfValue.length-1],u=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var d=0;d<o;d++){var p=i.pfValue[d],g=n.pfValue[d],f=1-p,m=p,y=this.findMidptPtsEtc(t,e),b=y.midptPts,v=y.vectorNormInverse,x={x:b.x1*f+b.x2*m,y:b.y1*f+b.y2*m};r.segpts.push(x.x+v.x*g,x.y+v.y*g),r.radii.push(a.pfValue[d]!==void 0?a.pfValue[d]:h),r.isArcRadius.push((s.pfValue[d]!==void 0?s.pfValue[d]:u)==="arc-radius")}};Qn.findLoopPoints=function(t,e,r,i){var n=t._private.rscratch,a=e.dirCounts,s=e.srcPos,o=t.pstyle("control-point-distances"),h=o?o.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,d=t.pstyle("loop-sweep").pfValue,p=t.pstyle("control-point-step-size").pfValue;n.edgeType="self";var g=r,f=p;i&&(g=0,f=h);var m=u-Math.PI/2,y=m-d/2,b=m+d/2,v=u+"_"+d;g=a[v]===void 0?a[v]=0:++a[v],n.ctrlpts=[s.x+Math.cos(y)*1.4*f*(g/3+1),s.y+Math.sin(y)*1.4*f*(g/3+1),s.x+Math.cos(b)*1.4*f*(g/3+1),s.y+Math.sin(b)*1.4*f*(g/3+1)]};Qn.findCompoundLoopPoints=function(t,e,r,i){var n=t._private.rscratch;n.edgeType="compound";var a=e.srcPos,s=e.tgtPos,o=e.srcW,h=e.srcH,u=e.tgtW,d=e.tgtH,p=t.pstyle("control-point-step-size").pfValue,g=t.pstyle("control-point-distances"),f=g?g.pfValue[0]:void 0,m=r,y=p;i&&(m=0,y=f);var b=50,v={x:a.x-o/2,y:a.y-h/2},x={x:s.x-u/2,y:s.y-d/2},w={x:Math.min(v.x,x.x),y:Math.min(v.y,x.y)},k=.5,T=Math.max(k,Math.log(o*sb)),S=Math.max(k,Math.log(u*sb));n.ctrlpts=[w.x,w.y-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*T,w.x-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*S,w.y]};Qn.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Qn.findBezierPoints=function(t,e,r,i,n){var a=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,o=t.pstyle("control-point-distances"),h=t.pstyle("control-point-weights"),u=o&&h?Math.min(o.value.length,h.value.length):1,d=o?o.pfValue[0]:void 0,p=h.value[0],g=i;a.edgeType=g?"multibezier":"bezier",a.ctrlpts=[];for(var f=0;f<u;f++){var m=(.5-e.eles.length/2+r)*s*(n?-1:1),y=void 0,b=EL(m);g&&(d=o?o.pfValue[f]:s,p=h.value[f]),i?y=d:y=d!==void 0?b*d:void 0;var v=y!==void 0?y:m,x=1-p,w=p,k=this.findMidptPtsEtc(t,e),T=k.midptPts,S=k.vectorNormInverse,C={x:T.x1*x+T.x2*w,y:T.y1*x+T.y2*w};a.ctrlpts.push(C.x+S.x*v,C.y+S.y*v)}};Qn.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var i="vertical",n="horizontal",a="leftward",s="rightward",o="downward",h="upward",u="auto",d=e.posPts,p=e.srcW,g=e.srcH,f=e.tgtW,m=e.tgtH,y=t.pstyle("edge-distances").value,b=y!=="node-position",v=t.pstyle("taxi-direction").value,x=v,w=t.pstyle("taxi-turn"),k=w.units==="%",T=w.pfValue,S=T<0,C=t.pstyle("taxi-turn-min-distance").pfValue,E=b?(p+f)/2:0,L=b?(g+m)/2:0,I=d.x2-d.x1,M=d.y2-d.y1,N=l(function(F,te){return F>0?Math.max(F-te,0):Math.min(F+te,0)},"subDWH"),$=N(I,E),_=N(M,L),D=!1;x===u?v=Math.abs($)>Math.abs(_)?n:i:x===h||x===o?(v=i,D=!0):(x===a||x===s)&&(v=n,D=!0);var R=v===i,O=R?_:$,A=R?M:I,B=EL(A),P=!1;!(D&&(k||S))&&(x===o&&A<0||x===h&&A>0||x===a&&A>0||x===s&&A<0)&&(B*=-1,O=B*Math.abs(O),P=!0);var z;if(k){var q=T<0?1+T:T;z=q*O}else{var K=T<0?O:0;z=K+T*B}var W=l(function(F){return Math.abs(F)<C||Math.abs(F)>=Math.abs(O)},"getIsTooClose"),ae=W(z),ie=W(Math.abs(O)-Math.abs(z)),se=ae||ie;if(se&&!P)if(R){var oe=Math.abs(A)<=g/2,Y=Math.abs(I)<=f/2;if(oe){var Q=(d.x1+d.x2)/2,j=d.y1,H=d.y2;r.segpts=[Q,j,Q,H]}else if(Y){var J=(d.y1+d.y2)/2,he=d.x1,X=d.x2;r.segpts=[he,J,X,J]}else r.segpts=[d.x1,d.y2]}else{var fe=Math.abs(A)<=p/2,V=Math.abs(M)<=m/2;if(fe){var Se=(d.y1+d.y2)/2,ce=d.x1,Le=d.x2;r.segpts=[ce,Se,Le,Se]}else if(V){var $e=(d.x1+d.x2)/2,je=d.y1,qe=d.y2;r.segpts=[$e,je,$e,qe]}else r.segpts=[d.x2,d.y1]}else if(R){var Ce=d.y1+z+(b?g/2*B:0),De=d.x1,ye=d.x2;r.segpts=[De,Ce,ye,Ce]}else{var Pe=d.x1+z+(b?p/2*B:0),ue=d.y1,Ve=d.y2;r.segpts=[Pe,ue,Pe,Ve]}if(r.isRound){var Z=t.pstyle("taxi-radius").value,Ne=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Z),r.isArcRadius=new Array(r.segpts.length/2).fill(Ne)}};Qn.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var i=e.srcPos,n=e.tgtPos,a=e.srcW,s=e.srcH,o=e.tgtW,h=e.tgtH,u=e.srcShape,d=e.tgtShape,p=e.srcCornerRadius,g=e.tgtCornerRadius,f=e.srcRs,m=e.tgtRs,y=!ft(r.startX)||!ft(r.startY),b=!ft(r.arrowStartX)||!ft(r.arrowStartY),v=!ft(r.endX)||!ft(r.endY),x=!ft(r.arrowEndX)||!ft(r.arrowEndY),w=3,k=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,T=w*k,S=od({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),C=S<T,E=od({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),L=E<T,I=!1;if(y||b||C){I=!0;var M={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},N=Math.sqrt(M.x*M.x+M.y*M.y),$={x:M.x/N,y:M.y/N},_=Math.max(a,s),D={x:r.ctrlpts[0]+$.x*2*_,y:r.ctrlpts[1]+$.y*2*_},R=u.intersectLine(i.x,i.y,a,s,D.x,D.y,0,p,f);C?(r.ctrlpts[0]=r.ctrlpts[0]+$.x*(T-S),r.ctrlpts[1]=r.ctrlpts[1]+$.y*(T-S)):(r.ctrlpts[0]=R[0]+$.x*T,r.ctrlpts[1]=R[1]+$.y*T)}if(v||x||L){I=!0;var O={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},A=Math.sqrt(O.x*O.x+O.y*O.y),B={x:O.x/A,y:O.y/A},P=Math.max(a,s),z={x:r.ctrlpts[0]+B.x*2*P,y:r.ctrlpts[1]+B.y*2*P},q=d.intersectLine(n.x,n.y,o,h,z.x,z.y,0,g,m);L?(r.ctrlpts[0]=r.ctrlpts[0]+B.x*(T-E),r.ctrlpts[1]=r.ctrlpts[1]+B.y*(T-E)):(r.ctrlpts[0]=q[0]+B.x*T,r.ctrlpts[1]=q[1]+B.y*T)}I&&this.findEndpoints(t)}};Qn.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var i,n;e.ctrlpts.length/2%2===0?(i=e.allpts.length/2-1,e.midX=e.allpts[i],e.midY=e.allpts[i+1]):(i=e.allpts.length/2-3,n=.5,e.midX=vn(e.allpts[i],e.allpts[i+2],e.allpts[i+4],n),e.midY=vn(e.allpts[i+1],e.allpts[i+3],e.allpts[i+5],n))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var a=2;a+3<e.allpts.length;a+=2){var s=e.radii[a/2-1],o=e.isArcRadius[a/2-1];e.roundCorners.push(ow({x:e.allpts[a-2],y:e.allpts[a-1]},{x:e.allpts[a],y:e.allpts[a+1],radius:s},{x:e.allpts[a+2],y:e.allpts[a+3]},s,o))}}if(e.segpts.length%4===0){var h=e.segpts.length/2,u=h-2;e.midX=(e.segpts[u]+e.segpts[h])/2,e.midY=(e.segpts[u+1]+e.segpts[h+1])/2}else{var d=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[d],e.midY=e.segpts[d+1];else{var p={x:e.segpts[d],y:e.segpts[d+1]},g=e.roundCorners[d/2];if(g.radius===0){var f={x:e.segpts[d+2],y:e.segpts[d+3]};e.midX=p.x,e.midY=p.y,e.midVector=[p.y-f.y,f.x-p.x]}else{var m=[p.x-g.cx,p.y-g.cy],y=g.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(b){return b*y}),e.midX=g.cx+m[0],e.midY=g.cy+m[1],e.midVector=m}}}}};Qn.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||ft(e.startX)&&ft(e.startY)&&ft(e.endX)&&ft(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Ur("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Qn.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,i=r.cy,n=i.hasCompoundNodes(),a=new Wl,s=l(function(E,L){return[].concat(Kv(E),[L?1:0]).join("-")},"getKey"),o=[],h=[],u=0;u<t.length;u++){var d=t[u],p=d._private,g=d.pstyle("curve-style").value;if(!(d.removed()||!d.takesUpSpace())){if(g==="haystack"){h.push(d);continue}var f=g==="unbundled-bezier"||vh(g,"segments")||g==="straight"||g==="straight-triangle"||vh(g,"taxi"),m=g==="unbundled-bezier"||g==="bezier",y=p.source,b=p.target,v=y.poolIndex(),x=b.poolIndex(),w=[v,x].sort(),k=s(w,f),T=a.get(k);T==null&&(T={eles:[]},o.push({pairId:w,edgeIsUnbundled:f}),a.set(k,T)),T.eles.push(d),f&&(T.hasUnbundled=!0),m&&(T.hasBezier=!0)}}for(var S=l(function(){var E=o[C],L=E.pairId,I=E.edgeIsUnbundled,M=s(L,I),N=a.get(M),$;if(!N.hasUnbundled){var _=N.eles[0].parallelEdges().filter(function(Z){return Z.isBundledBezier()});kL(N.eles),_.forEach(function(Z){return N.eles.push(Z)}),N.eles.sort(function(Z,Ne){return Z.poolIndex()-Ne.poolIndex()})}var D=N.eles[0],R=D.source(),O=D.target();if(R.poolIndex()>O.poolIndex()){var A=R;R=O,O=A}var B=N.srcPos=R.position(),P=N.tgtPos=O.position(),z=N.srcW=R.outerWidth(),q=N.srcH=R.outerHeight(),K=N.tgtW=O.outerWidth(),W=N.tgtH=O.outerHeight(),ae=N.srcShape=r.nodeShapes[e.getNodeShape(R)],ie=N.tgtShape=r.nodeShapes[e.getNodeShape(O)],se=N.srcCornerRadius=R.pstyle("corner-radius").value==="auto"?"auto":R.pstyle("corner-radius").pfValue,oe=N.tgtCornerRadius=O.pstyle("corner-radius").value==="auto"?"auto":O.pstyle("corner-radius").pfValue,Y=N.tgtRs=O._private.rscratch,Q=N.srcRs=R._private.rscratch;N.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var j=0;j<N.eles.length;j++){var H=N.eles[j],J=H[0]._private.rscratch,he=H.pstyle("curve-style").value,X=he==="unbundled-bezier"||vh(he,"segments")||vh(he,"taxi"),fe=!R.same(H.source());if(!N.calculatedIntersection&&R!==O&&(N.hasBezier||N.hasUnbundled)){N.calculatedIntersection=!0;var V=ae.intersectLine(B.x,B.y,z,q,P.x,P.y,0,se,Q),Se=N.srcIntn=V,ce=ie.intersectLine(P.x,P.y,K,W,B.x,B.y,0,oe,Y),Le=N.tgtIntn=ce,$e=N.intersectionPts={x1:V[0],x2:ce[0],y1:V[1],y2:ce[1]},je=N.posPts={x1:B.x,x2:P.x,y1:B.y,y2:P.y},qe=ce[1]-V[1],Ce=ce[0]-V[0],De=Math.sqrt(Ce*Ce+qe*qe);ft(De)&&De>=r9e||(De=Math.sqrt(Math.max(Ce*Ce,sb)+Math.max(qe*qe,sb)));var ye=N.vector={x:Ce,y:qe},Pe=N.vectorNorm={x:ye.x/De,y:ye.y/De},ue={x:-Pe.y,y:Pe.x};N.nodesOverlap=!ft(De)||ie.checkPoint(V[0],V[1],0,K,W,P.x,P.y,oe,Y)||ae.checkPoint(ce[0],ce[1],0,z,q,B.x,B.y,se,Q),N.vectorNormInverse=ue,$={nodesOverlap:N.nodesOverlap,dirCounts:N.dirCounts,calculatedIntersection:!0,hasBezier:N.hasBezier,hasUnbundled:N.hasUnbundled,eles:N.eles,srcPos:P,srcRs:Y,tgtPos:B,tgtRs:Q,srcW:K,srcH:W,tgtW:z,tgtH:q,srcIntn:Le,tgtIntn:Se,srcShape:ie,tgtShape:ae,posPts:{x1:je.x2,y1:je.y2,x2:je.x1,y2:je.y1},intersectionPts:{x1:$e.x2,y1:$e.y2,x2:$e.x1,y2:$e.y1},vector:{x:-ye.x,y:-ye.y},vectorNorm:{x:-Pe.x,y:-Pe.y},vectorNormInverse:{x:-ue.x,y:-ue.y}}}var Ve=fe?$:N;J.nodesOverlap=Ve.nodesOverlap,J.srcIntn=Ve.srcIntn,J.tgtIntn=Ve.tgtIntn,J.isRound=he.startsWith("round"),n&&(R.isParent()||R.isChild()||O.isParent()||O.isChild())&&(R.parents().anySame(O)||O.parents().anySame(R)||R.same(O)&&R.isParent())?e.findCompoundLoopPoints(H,Ve,j,X):R===O?e.findLoopPoints(H,Ve,j,X):he.endsWith("segments")?e.findSegmentsPoints(H,Ve):he.endsWith("taxi")?e.findTaxiPoints(H,Ve):he==="straight"||!X&&N.eles.length%2===1&&j===Math.floor(N.eles.length/2)?e.findStraightEdgePoints(H):e.findBezierPoints(H,Ve,j,X,fe),e.findEndpoints(H),e.tryToCorrectInvalidPoints(H,Ve),e.checkForInvalidEdgeWarning(H),e.storeAllpts(H),e.storeEdgeProjections(H),e.calculateArrowAngles(H),e.recalculateEdgeLabelProjections(H),e.calculateLabelAngles(H)}},"_loop"),C=0;C<o.length;C++)S();this.findHaystackPoints(h)}};l(HL,"getPts");Qn.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return HL(e.segpts)};Qn.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return HL(e.ctrlpts)};Qn.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};Tb={};Tb.manualEndptToPx=function(t,e){var r=this,i=t.position(),n=t.outerWidth(),a=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*n),e.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=i.x,o[1]+=i.y,o}else{var h=e.pfValue[0];h=-Math.PI/2+h;var u=2*Math.max(n,a),d=[i.x+Math.cos(h)*u,i.y+Math.sin(h)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(i.x,i.y,n,a,d[0],d[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};Tb.findEndpoints=function(t){var e,r,i,n,a=this,s,o=t.source()[0],h=t.target()[0],u=o.position(),d=h.position(),p=t.pstyle("target-arrow-shape").value,g=t.pstyle("source-arrow-shape").value,f=t.pstyle("target-distance-from-node").pfValue,m=t.pstyle("source-distance-from-node").pfValue,y=o._private.rscratch,b=h._private.rscratch,v=t.pstyle("curve-style").value,x=t._private.rscratch,w=x.edgeType,k=vh(v,"taxi"),T=w==="self"||w==="compound",S=w==="bezier"||w==="multibezier"||T,C=w!=="bezier",E=w==="straight"||w==="segments",L=w==="segments",I=S||C||E,M=T||k,N=t.pstyle("source-endpoint"),$=M?"outside-to-node":N.value,_=o.pstyle("corner-radius").value==="auto"?"auto":o.pstyle("corner-radius").pfValue,D=t.pstyle("target-endpoint"),R=M?"outside-to-node":D.value,O=h.pstyle("corner-radius").value==="auto"?"auto":h.pstyle("corner-radius").pfValue;x.srcManEndpt=N,x.tgtManEndpt=D;var A,B,P,z,q=(e=(D==null||(r=D.pfValue)===null||r===void 0?void 0:r.length)===2?D.pfValue:null)!==null&&e!==void 0?e:[0,0],K=(i=(N==null||(n=N.pfValue)===null||n===void 0?void 0:n.length)===2?N.pfValue:null)!==null&&i!==void 0?i:[0,0];if(S){var W=[x.ctrlpts[0],x.ctrlpts[1]],ae=C?[x.ctrlpts[x.ctrlpts.length-2],x.ctrlpts[x.ctrlpts.length-1]]:W;A=ae,B=W}else if(E){var ie=L?x.segpts.slice(0,2):[d.x+q[0],d.y+q[1]],se=L?x.segpts.slice(x.segpts.length-2):[u.x+K[0],u.y+K[1]];A=se,B=ie}if(R==="inside-to-node")s=[d.x,d.y];else if(D.units)s=this.manualEndptToPx(h,D);else if(R==="outside-to-line")s=x.tgtIntn;else if(R==="outside-to-node"||R==="outside-to-node-or-label"?P=A:(R==="outside-to-line"||R==="outside-to-line-or-label")&&(P=[u.x,u.y]),s=a.nodeShapes[this.getNodeShape(h)].intersectLine(d.x,d.y,h.outerWidth(),h.outerHeight(),P[0],P[1],0,O,b),R==="outside-to-node-or-label"||R==="outside-to-line-or-label"){var oe=h._private.rscratch,Y=oe.labelWidth,Q=oe.labelHeight,j=oe.labelX,H=oe.labelY,J=Y/2,he=Q/2,X=h.pstyle("text-valign").value;X==="top"?H-=he:X==="bottom"&&(H+=he);var fe=h.pstyle("text-halign").value;fe==="left"?j-=J:fe==="right"&&(j+=J);var V=tb(P[0],P[1],[j-J,H-he,j+J,H-he,j+J,H+he,j-J,H+he],d.x,d.y);if(V.length>0){var Se=u,ce=Qu(Se,sg(s)),Le=Qu(Se,sg(V)),$e=ce;if(Le<ce&&(s=V,$e=Le),V.length>2){var je=Qu(Se,{x:V[2],y:V[3]});je<$e&&(s=[V[2],V[3]])}}}var qe=h6(s,A,a.arrowShapes[p].spacing(t)+f),Ce=h6(s,A,a.arrowShapes[p].gap(t)+f);if(x.endX=Ce[0],x.endY=Ce[1],x.arrowEndX=qe[0],x.arrowEndY=qe[1],$==="inside-to-node")s=[u.x,u.y];else if(N.units)s=this.manualEndptToPx(o,N);else if($==="outside-to-line")s=x.srcIntn;else if($==="outside-to-node"||$==="outside-to-node-or-label"?z=B:($==="outside-to-line"||$==="outside-to-line-or-label")&&(z=[d.x,d.y]),s=a.nodeShapes[this.getNodeShape(o)].intersectLine(u.x,u.y,o.outerWidth(),o.outerHeight(),z[0],z[1],0,_,y),$==="outside-to-node-or-label"||$==="outside-to-line-or-label"){var De=o._private.rscratch,ye=De.labelWidth,Pe=De.labelHeight,ue=De.labelX,Ve=De.labelY,Z=ye/2,Ne=Pe/2,F=o.pstyle("text-valign").value;F==="top"?Ve-=Ne:F==="bottom"&&(Ve+=Ne);var te=o.pstyle("text-halign").value;te==="left"?ue-=Z:te==="right"&&(ue+=Z);var ne=tb(z[0],z[1],[ue-Z,Ve-Ne,ue+Z,Ve-Ne,ue+Z,Ve+Ne,ue-Z,Ve+Ne],u.x,u.y);if(ne.length>0){var de=d,ge=Qu(de,sg(s)),xe=Qu(de,sg(ne)),Ee=ge;if(xe<ge&&(s=[ne[0],ne[1]],Ee=xe),ne.length>2){var Te=Qu(de,{x:ne[2],y:ne[3]});Te<Ee&&(s=[ne[2],ne[3]])}}}var Fe=h6(s,B,a.arrowShapes[g].spacing(t)+m),We=h6(s,B,a.arrowShapes[g].gap(t)+m);x.startX=We[0],x.startY=We[1],x.arrowStartX=Fe[0],x.arrowStartY=Fe[1],I&&(!ft(x.startX)||!ft(x.startY)||!ft(x.endX)||!ft(x.endY)?x.badLine=!0:x.badLine=!1)};Tb.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Tb.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};XL={};l(Qae,"pushBezierPts");XL.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,i=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,i==="multibezier"||i==="bezier"||i==="self"||i==="compound"){e.rstyle.bezierPts=[];for(var n=0;n+5<r.allpts.length;n+=4)Qae(this,t,r.allpts.slice(n,n+6))}else if(i==="segments")for(var a=e.rstyle.linePts=[],n=0;n+1<r.allpts.length;n+=2)a.push({x:r.allpts[n],y:r.allpts[n+1]});else if(i==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};XL.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};tl={};tl.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Th(e)){var r,i,n=t._private,a=t.width(),s=t.height(),o=t.padding(),h=t.position(),u=t.pstyle("text-halign").strValue,d=t.pstyle("text-valign").strValue,p=n.rscratch,g=n.rstyle;switch(u){case"left":r=h.x-a/2-o;break;case"right":r=h.x+a/2+o;break;default:r=h.x}switch(d){case"top":i=h.y-s/2-o;break;case"bottom":i=h.y+s/2+o;break;default:i=h.y}p.labelX=r,p.labelY=i,g.labelX=r,g.labelY=i,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};Jae=l(function(t,e){var r=Math.atan(e/t);return t===0&&r<0&&(r=r*-1),r},"lineAngleFromDelta"),ese=l(function(t,e){var r=e.x-t.x,i=e.y-t.y;return Jae(r,i)},"lineAngle"),i9e=l(function(t,e,r,i){var n=eb(0,i-.001,1),a=eb(0,i+.001,1),s=cg(t,e,r,n),o=cg(t,e,r,a);return ese(s,o)},"bezierAngle");tl.recalculateEdgeLabelProjections=function(t){var e,r=t._private,i=r.rscratch,n=this,a={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(a.mid||a.source||a.target){e={x:i.midX,y:i.midY};var s=l(function(d,p,g){jl(r.rscratch,d,p,g),jl(r.rstyle,d,p,g)},"setRs");s("labelX",null,e.x),s("labelY",null,e.y);var o=Jae(i.midDispX,i.midDispY);s("labelAutoAngle",null,o);var h=l(function(){if(h.cache)return h.cache;for(var d=[],p=0;p+5<i.allpts.length;p+=4){var g={x:i.allpts[p],y:i.allpts[p+1]},f={x:i.allpts[p+2],y:i.allpts[p+3]},m={x:i.allpts[p+4],y:i.allpts[p+5]};d.push({p0:g,p1:f,p2:m,startDist:0,length:0,segments:[]})}var y=r.rstyle.bezierPts,b=n.bezierProjPcts.length;function v(S,C,E,L,I){var M=od(C,E),N=S.segments[S.segments.length-1],$={p0:C,p1:E,t0:L,t1:I,startDist:N?N.startDist+N.length:0,length:M};S.segments.push($),S.length+=M}l(v,"addSegment");for(var x=0;x<d.length;x++){var w=d[x],k=d[x-1];k&&(w.startDist=k.startDist+k.length),v(w,w.p0,y[x*b],0,n.bezierProjPcts[0]);for(var T=0;T<b-1;T++)v(w,y[x*b+T],y[x*b+T+1],n.bezierProjPcts[T],n.bezierProjPcts[T+1]);v(w,y[x*b+b-1],w.p2,n.bezierProjPcts[b-1],1)}return h.cache=d},"createControlPointInfo"),u=l(function(d){var p,g=d==="source";if(a[d]){var f=t.pstyle(d+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=h(),y,b=0,v=0,x=0;x<m.length;x++){for(var w=m[g?x:m.length-1-x],k=0;k<w.segments.length;k++){var T=w.segments[g?k:w.segments.length-1-k],S=x===m.length-1&&k===w.segments.length-1;if(b=v,v+=T.length,v>=f||S){y={cp:w,segment:T};break}}if(y)break}var C=y.cp,E=y.segment,L=(f-b)/E.length,I=E.t1-E.t0,M=g?E.t0+I*L:E.t1-I*L;M=eb(0,M,1),e=cg(C.p0,C.p1,C.p2,M),p=i9e(C.p0,C.p1,C.p2,M);break}case"straight":case"segments":case"haystack":{for(var N=0,$,_,D,R,O=i.allpts.length,A=0;A+3<O&&(g?(D={x:i.allpts[A],y:i.allpts[A+1]},R={x:i.allpts[A+2],y:i.allpts[A+3]}):(D={x:i.allpts[O-2-A],y:i.allpts[O-1-A]},R={x:i.allpts[O-4-A],y:i.allpts[O-3-A]}),$=od(D,R),_=N,N+=$,!(N>=f));A+=2);var B=f-_,P=B/$;P=eb(0,P,1),e=vSe(D,R,P),p=ese(D,R);break}}s("labelX",d,e.x),s("labelY",d,e.y),s("labelAutoAngle",d,p)}},"calculateEndProjection");u("source"),u("target"),this.applyLabelDimensions(t)}};tl.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};tl.applyPrefixedLabelDimensions=function(t,e){var r=t._private,i=this.getLabelText(t,e),n=sd(i,t._private.labelDimsKey);if(za(r.rscratch,"prefixedLabelDimsKey",e)!==n){jl(r.rscratch,"prefixedLabelDimsKey",e,n);var a=this.calculateLabelDimensions(t,i),s=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,h=za(r.rscratch,"labelWrapCachedLines",e)||[],u=o!=="wrap"?1:Math.max(h.length,1),d=a.height/u,p=d*s,g=a.width,f=a.height+(u-1)*(s-1)*d;jl(r.rstyle,"labelWidth",e,g),jl(r.rscratch,"labelWidth",e,g),jl(r.rstyle,"labelHeight",e,f),jl(r.rscratch,"labelHeight",e,f),jl(r.rscratch,"labelLineHeight",e,p)}};tl.getLabelText=function(t,e){var r=t._private,i=e?e+"-":"",n=t.pstyle(i+"label").strValue,a=t.pstyle("text-transform").value,s=l(function(q,K){return K?(jl(r.rscratch,q,e,K),K):za(r.rscratch,q,e)},"rscratch");if(!n)return"";a=="none"||(a=="uppercase"?n=n.toUpperCase():a=="lowercase"&&(n=n.toLowerCase()));var o=t.pstyle("text-wrap").value;if(o==="wrap"){var h=s("labelKey");if(h!=null&&s("labelWrapKey")===h)return s("labelWrapCachedText");for(var u="\u200B",d=n.split(`
`),p=t.pstyle("text-max-width").pfValue,g=t.pstyle("text-overflow-wrap").value,f=g==="anywhere",m=[],y=/[\s\u200b]+|$/g,b=0;b<d.length;b++){var v=d[b],x=this.calculateLabelDimensions(t,v),w=x.width;if(f){var k=v.split("").join(u);v=k}if(w>p){var T=v.matchAll(y),S="",C=0,E=fa(T),L;try{for(E.s();!(L=E.n()).done;){var I=L.value,M=I[0],N=v.substring(C,I.index);C=I.index+M.length;var $=S.length===0?N:S+N+M,_=this.calculateLabelDimensions(t,$),D=_.width;D<=p?S+=N+M:(S&&m.push(S),S=N+M)}}catch(q){E.e(q)}finally{E.f()}S.match(/^[\s\u200b]+$/)||m.push(S)}else m.push(v)}s("labelWrapCachedLines",m),n=s("labelWrapCachedText",m.join(`
`)),s("labelWrapKey",h)}else if(o==="ellipsis"){var R=t.pstyle("text-max-width").pfValue,O="",A="\u2026",B=!1;if(this.calculateLabelDimensions(t,n).width<R)return n;for(var P=0;P<n.length;P++){var z=this.calculateLabelDimensions(t,O+n[P]+A).width;if(z>R)break;O+=n[P],P===n.length-1&&(B=!0)}return B||(O+=A),O}return n};tl.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};tl.calculateLabelDimensions=function(t,e){var r=this,i=r.cy.window(),n=i.document,a=0,s=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue,h=t.pstyle("font-family").strValue,u=t.pstyle("font-weight").strValue,d=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!d){d=this.labelCalcCanvas=n.createElement("canvas"),p=this.labelCalcCanvasContext=d.getContext("2d");var g=d.style;g.position="absolute",g.left="-9999px",g.top="-9999px",g.zIndex="-1",g.visibility="hidden",g.pointerEvents="none"}p.font="".concat(s," ").concat(u," ").concat(o,"px ").concat(h);for(var f=0,m=0,y=e.split(`
`),b=0;b<y.length;b++){var v=y[b],x=p.measureText(v),w=Math.ceil(x.width),k=o;f=Math.max(w,f),m+=k}return f+=a,m+=a,{width:f,height:m}};tl.calculateLabelAngle=function(t,e){var r=t._private,i=r.rscratch,n=t.isEdge(),a=e?e+"-":"",s=t.pstyle(a+"text-rotation"),o=s.strValue;return o==="none"?0:n&&o==="autorotate"?i.labelAutoAngle:o==="autorotate"?0:s.pfValue};tl.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),i=t._private,n=i.rscratch;n.labelAngle=e.calculateLabelAngle(t),r&&(n.sourceLabelAngle=e.calculateLabelAngle(t,"source"),n.targetLabelAngle=e.calculateLabelAngle(t,"target"))};tse={},_ie=28,Aie=!1;tse.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<_ie||t.height()<_ie))return Aie||(Ur("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Aie=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var i=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(i).name}return r};lw={};lw.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,i=l(function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(a),s)for(var o=0;o<a.length;o++){var h=a[o],u=h._private,d=u.rstyle;d.clean=!1,d.cleanConnected=!1}},"enqueue");r.binder(t).on("bounds.* dirty.*",l(function(a){var s=a.target;i(s)},"onDirtyBounds")).on("style.* background.*",l(function(a){var s=a.target;i(s,!1)},"onDirtyStyle"));var n=l(function(a){if(a){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var o=0;o<e.length;o++){var h=e[o],u=h._private.rstyle;h.isNode()&&!u.cleanConnected&&(i(h.connectedEdges()),u.cleanConnected=!0)}if(s)for(var d=0;d<s.length;d++){var p=s[d];p(a,e)}r.recalculateRenderedStyle(e),e=t.collection()}},"updateEleCalcs");r.flushRenderedStyleQueue=function(){n(!0)},r.beforeRender(n,r.beforeRenderPriorities.eleCalcs)};lw.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};lw.recalculateRenderedStyle=function(t,e){var r=l(function(w){return w._private.rstyle.cleanConnected},"isCleanConnected");if(t.length!==0){var i=[],n=[];if(!this.destroyed){e===void 0&&(e=!0);for(var a=0;a<t.length;a++){var s=t[a],o=s._private,h=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(h.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(w){return!w._private.rstyle.clean&&w.isBundledBezier()})&&(h.clean=!1),!(e&&h.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?n.push(s):i.push(s),h.clean=!0)}for(var u=0;u<n.length;u++){var d=n[u],p=d._private,g=p.rstyle,f=d.position();this.recalculateNodeLabelProjection(d),g.nodeX=f.x,g.nodeY=f.y,g.nodeW=d.pstyle("width").pfValue,g.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(i);for(var m=0;m<i.length;m++){var y=i[m],b=y._private,v=b.rstyle,x=b.rscratch;v.srcX=x.arrowStartX,v.srcY=x.arrowStartY,v.tgtX=x.arrowEndX,v.tgtY=x.arrowEndY,v.midX=x.midX,v.midY=x.midY,v.labelAngle=x.labelAngle,v.sourceLabelAngle=x.sourceLabelAngle,v.targetLabelAngle=x.targetLabelAngle}}}};cw={};cw.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var i=t[r],n=i._private.rscratch;i.grabbed()&&!i.isParent()?e.push(i):n.inDragLayer?t.drag.push(i):t.nondrag.push(i)}for(var r=0;r<e.length;r++){var i=e[r];t.drag.push(i)}}};cw.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};cw.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(qae),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};rse={};[dd,U6,Qn,Tb,XL,tl,tse,lw,cw].forEach(function(t){Xt(rse,t)});ise={};ise.getCachedImage=function(t,e,r){var i=this,n=i.imageCache=i.imageCache||{},a=n[t];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=n[t]=n[t]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",h=t.substring(0,o.length).toLowerCase()===o;return h||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};kg={};kg.registerBinding=function(t,e,r,i){var n=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var a=[],s=0;s<t.length;s++){var o=t[s];if(o!==void 0){var h=this.binder(o);a.push(h.on.apply(h,n))}}return a}var h=this.binder(t);return h.on.apply(h,n)};kg.binder=function(t){var e=this,r=e.cy.window(),i=t===r||t===r.document||t===r.document.body||wCe(t);if(e.supportsPassiveEvents==null){var n=!1;try{var a=Object.defineProperty({},"passive",{get:l(function(){return n=!0,!0},"get")});r.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=n}var s=l(function(o,h,u){var d=Array.prototype.slice.call(arguments);return i&&e.supportsPassiveEvents&&(d[2]={capture:u??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:d}),(t.addEventListener||t.on).apply(t,d),this},"on");return{on:s,addEventListener:s,addListener:s,bind:s}};kg.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};kg.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};kg.load=function(){var t=this,e=t.cy.window(),r=l(function(F){return F.selected()},"isSelected"),i=l(function(F){var te=F.getRootNode();if(te&&te.nodeType===11&&te.host!==void 0)return te},"getShadowRoot"),n=l(function(F,te,ne,de){F==null&&(F=t.cy);for(var ge=0;ge<te.length;ge++){var xe=te[ge];F.emit({originalEvent:ne,type:xe,position:de})}},"triggerEvents"),a=l(function(F){return F.shiftKey||F.metaKey||F.ctrlKey},"isMultSelKeyDown"),s=l(function(F,te){var ne=!0;if(t.cy.hasCompoundNodes()&&F&&F.pannable())for(var de=0;te&&de<te.length;de++){var F=te[de];if(F.isNode()&&F.isParent()&&!F.pannable()){ne=!1;break}}else ne=!0;return ne},"allowPanningPassthrough"),o=l(function(F){F[0]._private.grabbed=!0},"setGrabbed"),h=l(function(F){F[0]._private.grabbed=!1},"setFreed"),u=l(function(F){F[0]._private.rscratch.inDragLayer=!0},"setInDragLayer"),d=l(function(F){F[0]._private.rscratch.inDragLayer=!1},"setOutDragLayer"),p=l(function(F){F[0]._private.rscratch.isGrabTarget=!0},"setGrabTarget"),g=l(function(F){F[0]._private.rscratch.isGrabTarget=!1},"removeGrabTarget"),f=l(function(F,te){var ne=te.addToList,de=ne.has(F);!de&&F.grabbable()&&!F.locked()&&(ne.merge(F),o(F))},"addToDragList"),m=l(function(F,te){if(F.cy().hasCompoundNodes()&&!(te.inDragLayer==null&&te.addToList==null)){var ne=F.descendants();te.inDragLayer&&(ne.forEach(u),ne.connectedEdges().forEach(u)),te.addToList&&f(ne,te)}},"addDescendantsToDrag"),y=l(function(F,te){te=te||{};var ne=F.cy().hasCompoundNodes();te.inDragLayer&&(F.forEach(u),F.neighborhood().stdFilter(function(de){return!ne||de.isEdge()}).forEach(u)),te.addToList&&F.forEach(function(de){f(de,te)}),m(F,te),x(F,{inDragLayer:te.inDragLayer}),t.updateCachedGrabbedEles()},"addNodesToDrag"),b=y,v=l(function(F){F&&(t.getCachedZSortedEles().forEach(function(te){h(te),d(te),g(te)}),t.updateCachedGrabbedEles())},"freeDraggedElements"),x=l(function(F,te){if(!(te.inDragLayer==null&&te.addToList==null)&&F.cy().hasCompoundNodes()){var ne=F.ancestors().orphans();if(!ne.same(F)){var de=ne.descendants().spawnSelf().merge(ne).unmerge(F).unmerge(F.descendants()),ge=de.connectedEdges();te.inDragLayer&&(ge.forEach(u),de.forEach(u)),te.addToList&&de.forEach(function(xe){f(xe,te)})}}},"updateAncestorsInDragLayer"),w=l(function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},"blurActiveDomElement"),k=typeof MutationObserver<"u",T=typeof ResizeObserver<"u";k?(t.removeObserver=new MutationObserver(function(F){for(var te=0;te<F.length;te++){var ne=F[te],de=ne.removedNodes;if(de)for(var ge=0;ge<de.length;ge++){var xe=de[ge];if(xe===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(F){t.destroy()});var S=hb(function(){t.cy.resize()},100);k&&(t.styleObserver=new MutationObserver(S),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",S),T&&(t.resizeObserver=new ResizeObserver(S),t.resizeObserver.observe(t.container));var C=l(function(F,te){for(;F!=null;)te(F),F=F.parentNode},"forEachUp"),E=l(function(){t.invalidateContainerClientCoordsCache()},"invalidateCoords");C(t.container,function(F){t.registerBinding(F,"transitionend",E),t.registerBinding(F,"animationend",E),t.registerBinding(F,"scroll",E)}),t.registerBinding(t.container,"contextmenu",function(F){F.preventDefault()});var L=l(function(){return t.selection[4]!==0},"inBoxSelection"),I=l(function(F){for(var te=t.findContainerClientCoords(),ne=te[0],de=te[1],ge=te[2],xe=te[3],Ee=F.touches?F.touches:[F],Te=!1,Fe=0;Fe<Ee.length;Fe++){var We=Ee[Fe];if(ne<=We.clientX&&We.clientX<=ne+ge&&de<=We.clientY&&We.clientY<=de+xe){Te=!0;break}}if(!Te)return!1;for(var it=t.container,Be=F.target,Ye=Be.parentNode,Ge=!1;Ye;){if(Ye===it){Ge=!0;break}Ye=Ye.parentNode}return!!Ge},"eventInContainer");t.registerBinding(t.container,"mousedown",l(function(F){if(I(F)&&!(t.hoverData.which===1&&F.which!==1)){F.preventDefault(),w(),t.hoverData.capture=!0,t.hoverData.which=F.which;var te=t.cy,ne=[F.clientX,F.clientY],de=t.projectIntoViewport(ne[0],ne[1]),ge=t.selection,xe=t.findNearestElements(de[0],de[1],!0,!1),Ee=xe[0],Te=t.dragData.possibleDragElements;t.hoverData.mdownPos=de,t.hoverData.mdownGPos=ne;var Fe=l(function(Ge){return{originalEvent:F,type:Ge,position:{x:de[0],y:de[1]}}},"makeEvent"),We=l(function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Ge=t.hoverData.down;Ge?Ge.emit(Fe("taphold")):te.emit(Fe("taphold"))}},t.tapholdDuration)},"checkForTaphold");if(F.which==3){t.hoverData.cxtStarted=!0;var it={originalEvent:F,type:"cxttapstart",position:{x:de[0],y:de[1]}};Ee?(Ee.activate(),Ee.emit(it),t.hoverData.down=Ee):te.emit(it),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(F.which==1){Ee&&Ee.activate();{if(Ee!=null&&t.nodeIsGrabbable(Ee)){var Be=l(function(Ge){Ge.emit(Fe("grab"))},"triggerGrab");if(p(Ee),!Ee.selected())Te=t.dragData.possibleDragElements=te.collection(),b(Ee,{addToList:Te}),Ee.emit(Fe("grabon")).emit(Fe("grab"));else{Te=t.dragData.possibleDragElements=te.collection();var Ye=te.$(function(Ge){return Ge.isNode()&&Ge.selected()&&t.nodeIsGrabbable(Ge)});y(Ye,{addToList:Te}),Ee.emit(Fe("grabon")),Ye.forEach(Be)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Ee,t.hoverData.downs=xe,t.hoverData.downTime=new Date().getTime()}n(Ee,["mousedown","tapstart","vmousedown"],F,{x:de[0],y:de[1]}),Ee==null?(ge[4]=1,t.data.bgActivePosistion={x:de[0],y:de[1]},t.redrawHint("select",!0),t.redraw()):Ee.pannable()&&(ge[4]=1),We()}ge[0]=ge[2]=de[0],ge[1]=ge[3]=de[1]}},"mousedownHandler"),!1);var M=i(t.container);t.registerBinding([e,M],"mousemove",l(function(F){var te=t.hoverData.capture;if(!(!te&&!I(F))){var ne=!1,de=t.cy,ge=de.zoom(),xe=[F.clientX,F.clientY],Ee=t.projectIntoViewport(xe[0],xe[1]),Te=t.hoverData.mdownPos,Fe=t.hoverData.mdownGPos,We=t.selection,it=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(it=t.findNearestElement(Ee[0],Ee[1],!0,!1));var Be=t.hoverData.last,Ye=t.hoverData.down,Ge=[Ee[0]-We[2],Ee[1]-We[3]],ze=t.dragData.possibleDragElements,Xe;if(Fe){var xt=xe[0]-Fe[0],st=xt*xt,at=xe[1]-Fe[1],Tt=at*at,et=st+Tt;t.hoverData.isOverThresholdDrag=Xe=et>=t.desktopTapThreshold2}var ct=a(F);Xe&&(t.hoverData.tapholdCancelled=!0);var pt=l(function(){var Nr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Nr.length===0?(Nr.push(Ge[0]),Nr.push(Ge[1])):(Nr[0]+=Ge[0],Nr[1]+=Ge[1])},"updateDragDelta");ne=!0,n(it,["mousemove","vmousemove","tapdrag"],F,{x:Ee[0],y:Ee[1]});var Qe=l(function(Nr){return{originalEvent:F,type:Nr,position:{x:Ee[0],y:Ee[1]}}},"makeEvent"),Ze=l(function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||de.emit(Qe("boxstart")),We[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()},"goIntoBoxMode");if(t.hoverData.which===3){if(Xe){var _t=Qe("cxtdrag");Ye?Ye.emit(_t):de.emit(_t),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||it!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(Qe("cxtdragout")),t.hoverData.cxtOver=it,it&&it.emit(Qe("cxtdragover")))}}else if(t.hoverData.dragging){if(ne=!0,de.panningEnabled()&&de.userPanningEnabled()){var Bt;if(t.hoverData.justStartedPan){var Dt=t.hoverData.mdownPos;Bt={x:(Ee[0]-Dt[0])*ge,y:(Ee[1]-Dt[1])*ge},t.hoverData.justStartedPan=!1}else Bt={x:Ge[0]*ge,y:Ge[1]*ge};de.panBy(Bt),de.emit(Qe("dragpan")),t.hoverData.dragged=!0}Ee=t.projectIntoViewport(F.clientX,F.clientY)}else if(We[4]==1&&(Ye==null||Ye.pannable())){if(Xe){if(!t.hoverData.dragging&&de.boxSelectionEnabled()&&(ct||!de.panningEnabled()||!de.userPanningEnabled()))Ze();else if(!t.hoverData.selecting&&de.panningEnabled()&&de.userPanningEnabled()){var Vr=s(Ye,t.hoverData.downs);Vr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,We[4]=0,t.data.bgActivePosistion=sg(Te),t.redrawHint("select",!0),t.redraw())}Ye&&Ye.pannable()&&Ye.active()&&Ye.unactivate()}}else{if(Ye&&Ye.pannable()&&Ye.active()&&Ye.unactivate(),(!Ye||!Ye.grabbed())&&it!=Be&&(Be&&n(Be,["mouseout","tapdragout"],F,{x:Ee[0],y:Ee[1]}),it&&n(it,["mouseover","tapdragover"],F,{x:Ee[0],y:Ee[1]}),t.hoverData.last=it),Ye)if(Xe){if(de.boxSelectionEnabled()&&ct)Ye&&Ye.grabbed()&&(v(ze),Ye.emit(Qe("freeon")),ze.emit(Qe("free")),t.dragData.didDrag&&(Ye.emit(Qe("dragfreeon")),ze.emit(Qe("dragfree")))),Ze();else if(Ye&&Ye.grabbed()&&t.nodeIsDraggable(Ye)){var Jt=!t.dragData.didDrag;Jt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||y(ze,{inDragLayer:!0});var Ut={x:0,y:0};if(ft(Ge[0])&&ft(Ge[1])&&(Ut.x+=Ge[0],Ut.y+=Ge[1],Jt)){var or=t.hoverData.dragDelta;or&&ft(or[0])&&ft(or[1])&&(Ut.x+=or[0],Ut.y+=or[1])}t.hoverData.draggingEles=!0,ze.silentShift(Ut).emit(Qe("position")).emit(Qe("drag")),t.redrawHint("drag",!0),t.redraw()}}else pt();ne=!0}if(We[2]=Ee[0],We[3]=Ee[1],ne)return F.stopPropagation&&F.stopPropagation(),F.preventDefault&&F.preventDefault(),!1}},"mousemoveHandler"),!1);var N,$,_;t.registerBinding(e,"mouseup",l(function(F){if(!(t.hoverData.which===1&&F.which!==1&&t.hoverData.capture)){var te=t.hoverData.capture;if(te){t.hoverData.capture=!1;var ne=t.cy,de=t.projectIntoViewport(F.clientX,F.clientY),ge=t.selection,xe=t.findNearestElement(de[0],de[1],!0,!1),Ee=t.dragData.possibleDragElements,Te=t.hoverData.down,Fe=a(F);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Te&&Te.unactivate();var We=l(function(Xe){return{originalEvent:F,type:Xe,position:{x:de[0],y:de[1]}}},"makeEvent");if(t.hoverData.which===3){var it=We("cxttapend");if(Te?Te.emit(it):ne.emit(it),!t.hoverData.cxtDragged){var Be=We("cxttap");Te?Te.emit(Be):ne.emit(Be)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(n(xe,["mouseup","tapend","vmouseup"],F,{x:de[0],y:de[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(n(Te,["click","tap","vclick"],F,{x:de[0],y:de[1]}),$=!1,F.timeStamp-_<=ne.multiClickDebounceTime()?(N&&clearTimeout(N),$=!0,_=null,n(Te,["dblclick","dbltap","vdblclick"],F,{x:de[0],y:de[1]})):(N=setTimeout(function(){$||n(Te,["oneclick","onetap","voneclick"],F,{x:de[0],y:de[1]})},ne.multiClickDebounceTime()),_=F.timeStamp)),Te==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!a(F)&&(ne.$(r).unselect(["tapunselect"]),Ee.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Ee=ne.collection()),xe==Te&&!t.dragData.didDrag&&!t.hoverData.selecting&&xe!=null&&xe._private.selectable&&(t.hoverData.dragging||(ne.selectionType()==="additive"||Fe?xe.selected()?xe.unselect(["tapunselect"]):xe.select(["tapselect"]):Fe||(ne.$(r).unmerge(xe).unselect(["tapunselect"]),xe.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Ye=ne.collection(t.getAllInBox(ge[0],ge[1],ge[2],ge[3]));t.redrawHint("select",!0),Ye.length>0&&t.redrawHint("eles",!0),ne.emit(We("boxend"));var Ge=l(function(Xe){return Xe.selectable()&&!Xe.selected()},"eleWouldBeSelected");ne.selectionType()==="additive"||Fe||ne.$(r).unmerge(Ye).unselect(),Ye.emit(We("box")).stdFilter(Ge).select().emit(We("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ge[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var ze=Te&&Te.grabbed();v(Ee),ze&&(Te.emit(We("freeon")),Ee.emit(We("free")),t.dragData.didDrag&&(Te.emit(We("dragfreeon")),Ee.emit(We("dragfree"))))}}ge[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},"mouseupHandler"),!1);var D=[],R=4,O,A=1e5,B=l(function(F,te){for(var ne=0;ne<F.length;ne++)if(F[ne]%te!==0)return!1;return!0},"allAreDivisibleBy"),P=l(function(F){for(var te=Math.abs(F[0]),ne=1;ne<F.length;ne++)if(Math.abs(F[ne])!==te)return!1;return!0},"allAreSameMagnitude"),z=l(function(F){var te=!1,ne=F.deltaY;if(ne==null&&(F.wheelDeltaY!=null?ne=F.wheelDeltaY/4:F.wheelDelta!=null&&(ne=F.wheelDelta/4)),ne!==0){if(O==null)if(D.length>=R){var de=D;if(O=B(de,5),!O){var ge=Math.abs(de[0]);O=P(de)&&ge>5}if(O)for(var xe=0;xe<de.length;xe++)A=Math.min(Math.abs(de[xe]),A)}else D.push(ne),te=!0;else O&&(A=Math.min(Math.abs(ne),A));if(!t.scrollingPage){var Ee=t.cy,Te=Ee.zoom(),Fe=Ee.pan(),We=t.projectIntoViewport(F.clientX,F.clientY),it=[We[0]*Te+Fe.x,We[1]*Te+Fe.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||L()){F.preventDefault();return}if(Ee.panningEnabled()&&Ee.userPanningEnabled()&&Ee.zoomingEnabled()&&Ee.userZoomingEnabled()){F.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var Be;te&&Math.abs(ne)>5&&(ne=EL(ne)*5),Be=ne/-250,O&&(Be/=A,Be*=3),Be=Be*t.wheelSensitivity;var Ye=F.deltaMode===1;Ye&&(Be*=33);var Ge=Ee.zoom()*Math.pow(10,Be);F.type==="gesturechange"&&(Ge=t.gestureStartZoom*F.scale),Ee.zoom({level:Ge,renderedPosition:{x:it[0],y:it[1]}}),Ee.emit({type:F.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:F,position:{x:We[0],y:We[1]}})}}}},"wheelHandler");t.registerBinding(t.container,"wheel",z,!0),t.registerBinding(e,"scroll",l(function(F){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},"scrollHandler"),!0),t.registerBinding(t.container,"gesturestart",l(function(F){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||F.preventDefault()},"gestureStartHandler"),!0),t.registerBinding(t.container,"gesturechange",function(F){t.hasTouchStarted||z(F)},!0),t.registerBinding(t.container,"mouseout",l(function(F){var te=t.projectIntoViewport(F.clientX,F.clientY);t.cy.emit({originalEvent:F,type:"mouseout",position:{x:te[0],y:te[1]}})},"mouseOutHandler"),!1),t.registerBinding(t.container,"mouseover",l(function(F){var te=t.projectIntoViewport(F.clientX,F.clientY);t.cy.emit({originalEvent:F,type:"mouseover",position:{x:te[0],y:te[1]}})},"mouseOverHandler"),!1);var q,K,W,ae,ie,se,oe,Y,Q,j,H,J,he,X=l(function(F,te,ne,de){return Math.sqrt((ne-F)*(ne-F)+(de-te)*(de-te))},"distance"),fe=l(function(F,te,ne,de){return(ne-F)*(ne-F)+(de-te)*(de-te)},"distanceSq"),V;t.registerBinding(t.container,"touchstart",V=l(function(F){if(t.hasTouchStarted=!0,!!I(F)){w(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var te=t.cy,ne=t.touchData.now,de=t.touchData.earlier;if(F.touches[0]){var ge=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);ne[0]=ge[0],ne[1]=ge[1]}if(F.touches[1]){var ge=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);ne[2]=ge[0],ne[3]=ge[1]}if(F.touches[2]){var ge=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);ne[4]=ge[0],ne[5]=ge[1]}var xe=l(function(et){return{originalEvent:F,type:et,position:{x:ne[0],y:ne[1]}}},"makeEvent");if(F.touches[1]){t.touchData.singleTouchMoved=!0,v(t.dragData.touchDragEles);var Ee=t.findContainerClientCoords();Q=Ee[0],j=Ee[1],H=Ee[2],J=Ee[3],q=F.touches[0].clientX-Q,K=F.touches[0].clientY-j,W=F.touches[1].clientX-Q,ae=F.touches[1].clientY-j,he=0<=q&&q<=H&&0<=W&&W<=H&&0<=K&&K<=J&&0<=ae&&ae<=J;var Te=te.pan(),Fe=te.zoom();ie=X(q,K,W,ae),se=fe(q,K,W,ae),oe=[(q+W)/2,(K+ae)/2],Y=[(oe[0]-Te.x)/Fe,(oe[1]-Te.y)/Fe];var We=200,it=We*We;if(se<it&&!F.touches[2]){var Be=t.findNearestElement(ne[0],ne[1],!0,!0),Ye=t.findNearestElement(ne[2],ne[3],!0,!0);Be&&Be.isNode()?(Be.activate().emit(xe("cxttapstart")),t.touchData.start=Be):Ye&&Ye.isNode()?(Ye.activate().emit(xe("cxttapstart")),t.touchData.start=Ye):te.emit(xe("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(F.touches[2])te.boxSelectionEnabled()&&F.preventDefault();else if(!F.touches[1]&&F.touches[0]){var Ge=t.findNearestElements(ne[0],ne[1],!0,!0),ze=Ge[0];if(ze!=null&&(ze.activate(),t.touchData.start=ze,t.touchData.starts=Ge,t.nodeIsGrabbable(ze))){var Xe=t.dragData.touchDragEles=te.collection(),xt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),ze.selected()?(xt=te.$(function(et){return et.selected()&&t.nodeIsGrabbable(et)}),y(xt,{addToList:Xe})):b(ze,{addToList:Xe}),p(ze),ze.emit(xe("grabon")),xt?xt.forEach(function(et){et.emit(xe("grab"))}):ze.emit(xe("grab"))}n(ze,["touchstart","tapstart","vmousedown"],F,{x:ne[0],y:ne[1]}),ze==null&&(t.data.bgActivePosistion={x:ge[0],y:ge[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&n(t.touchData.start,["taphold"],F,{x:ne[0],y:ne[1]})},t.tapholdDuration)}if(F.touches.length>=1){for(var st=t.touchData.startPosition=[null,null,null,null,null,null],at=0;at<ne.length;at++)st[at]=de[at]=ne[at];var Tt=F.touches[0];t.touchData.startGPosition=[Tt.clientX,Tt.clientY]}}},"touchstartHandler"),!1);var Se;t.registerBinding(e,"touchmove",Se=l(function(F){var te=t.touchData.capture;if(!(!te&&!I(F))){var ne=t.selection,de=t.cy,ge=t.touchData.now,xe=t.touchData.earlier,Ee=de.zoom();if(F.touches[0]){var Te=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);ge[0]=Te[0],ge[1]=Te[1]}if(F.touches[1]){var Te=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);ge[2]=Te[0],ge[3]=Te[1]}if(F.touches[2]){var Te=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);ge[4]=Te[0],ge[5]=Te[1]}var Fe=l(function(Xx){return{originalEvent:F,type:Xx,position:{x:ge[0],y:ge[1]}}},"makeEvent"),We=t.touchData.startGPosition,it;if(te&&F.touches[0]&&We){for(var Be=[],Ye=0;Ye<ge.length;Ye++)Be[Ye]=ge[Ye]-xe[Ye];var Ge=F.touches[0].clientX-We[0],ze=Ge*Ge,Xe=F.touches[0].clientY-We[1],xt=Xe*Xe,st=ze+xt;it=st>=t.touchTapThreshold2}if(te&&t.touchData.cxt){F.preventDefault();var at=F.touches[0].clientX-Q,Tt=F.touches[0].clientY-j,et=F.touches[1].clientX-Q,ct=F.touches[1].clientY-j,pt=fe(at,Tt,et,ct),Qe=pt/se,Ze=150,_t=Ze*Ze,Bt=1.5,Dt=Bt*Bt;if(Qe>=Dt||pt>=_t){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Vr=Fe("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(Vr),t.touchData.start=null):de.emit(Vr)}}if(te&&t.touchData.cxt){var Vr=Fe("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Vr):de.emit(Vr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var Jt=t.findNearestElement(ge[0],ge[1],!0,!0);(!t.touchData.cxtOver||Jt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(Fe("cxtdragout")),t.touchData.cxtOver=Jt,Jt&&Jt.emit(Fe("cxtdragover")))}else if(te&&F.touches[2]&&de.boxSelectionEnabled())F.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||de.emit(Fe("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,ne[4]=1,!ne||ne.length===0||ne[0]===void 0?(ne[0]=(ge[0]+ge[2]+ge[4])/3,ne[1]=(ge[1]+ge[3]+ge[5])/3,ne[2]=(ge[0]+ge[2]+ge[4])/3+1,ne[3]=(ge[1]+ge[3]+ge[5])/3+1):(ne[2]=(ge[0]+ge[2]+ge[4])/3,ne[3]=(ge[1]+ge[3]+ge[5])/3),t.redrawHint("select",!0),t.redraw();else if(te&&F.touches[1]&&!t.touchData.didSelect&&de.zoomingEnabled()&&de.panningEnabled()&&de.userZoomingEnabled()&&de.userPanningEnabled()){F.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ut=t.dragData.touchDragEles;if(Ut){t.redrawHint("drag",!0);for(var or=0;or<Ut.length;or++){var Nr=Ut[or]._private;Nr.grabbed=!1,Nr.rscratch.inDragLayer=!1}}var be=t.touchData.start,at=F.touches[0].clientX-Q,Tt=F.touches[0].clientY-j,et=F.touches[1].clientX-Q,ct=F.touches[1].clientY-j,ht=X(at,Tt,et,ct),ot=ht/ie;if(he){var nr=at-q,Ir=Tt-K,Sr=et-W,dn=ct-ae,ei=(nr+Sr)/2,Vi=(Ir+dn)/2,_a=de.zoom(),Kr=_a*ot,Ai=de.pan(),vt=Y[0]*_a+Ai.x,rt=Y[1]*_a+Ai.y,He={x:-Kr/_a*(vt-Ai.x-ei)+vt,y:-Kr/_a*(rt-Ai.y-Vi)+rt};if(be&&be.active()){var Ut=t.dragData.touchDragEles;v(Ut),t.redrawHint("drag",!0),t.redrawHint("eles",!0),be.unactivate().emit(Fe("freeon")),Ut.emit(Fe("free")),t.dragData.didDrag&&(be.emit(Fe("dragfreeon")),Ut.emit(Fe("dragfree")))}de.viewport({zoom:Kr,pan:He,cancelOnFailedZoom:!0}),de.emit(Fe("pinchzoom")),ie=ht,q=at,K=Tt,W=et,ae=ct,t.pinching=!0}if(F.touches[0]){var Te=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);ge[0]=Te[0],ge[1]=Te[1]}if(F.touches[1]){var Te=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);ge[2]=Te[0],ge[3]=Te[1]}if(F.touches[2]){var Te=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);ge[4]=Te[0],ge[5]=Te[1]}}else if(F.touches[0]&&!t.touchData.didSelect){var Ft=t.touchData.start,pe=t.touchData.last,Jt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(Jt=t.findNearestElement(ge[0],ge[1],!0,!0)),te&&Ft!=null&&F.preventDefault(),te&&Ft!=null&&t.nodeIsDraggable(Ft))if(it){var Ut=t.dragData.touchDragEles,rn=!t.dragData.didDrag;rn&&y(Ut,{inDragLayer:!0}),t.dragData.didDrag=!0;var me={x:0,y:0};if(ft(Be[0])&&ft(Be[1])&&(me.x+=Be[0],me.y+=Be[1],rn)){t.redrawHint("eles",!0);var Br=t.touchData.dragDelta;Br&&ft(Br[0])&&ft(Br[1])&&(me.x+=Br[0],me.y+=Br[1])}t.hoverData.draggingEles=!0,Ut.silentShift(me).emit(Fe("position")).emit(Fe("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==xe[0]&&t.touchData.startPosition[1]==xe[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Br=t.touchData.dragDelta=t.touchData.dragDelta||[];Br.length===0?(Br.push(Be[0]),Br.push(Be[1])):(Br[0]+=Be[0],Br[1]+=Be[1])}if(n(Ft||Jt,["touchmove","tapdrag","vmousemove"],F,{x:ge[0],y:ge[1]}),(!Ft||!Ft.grabbed())&&Jt!=pe&&(pe&&pe.emit(Fe("tapdragout")),Jt&&Jt.emit(Fe("tapdragover"))),t.touchData.last=Jt,te)for(var or=0;or<ge.length;or++)ge[or]&&t.touchData.startPosition[or]&&it&&(t.touchData.singleTouchMoved=!0);if(te&&(Ft==null||Ft.pannable())&&de.panningEnabled()&&de.userPanningEnabled()){var Hx=s(Ft,t.touchData.starts);Hx&&(F.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=sg(t.touchData.startPosition)),t.swipePanning?(de.panBy({x:Be[0]*Ee,y:Be[1]*Ee}),de.emit(Fe("dragpan"))):it&&(t.swipePanning=!0,de.panBy({x:Ge*Ee,y:Xe*Ee}),de.emit(Fe("dragpan")),Ft&&(Ft.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Te=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);ge[0]=Te[0],ge[1]=Te[1]}}for(var Ye=0;Ye<ge.length;Ye++)xe[Ye]=ge[Ye];te&&F.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},"touchmoveHandler"),!1);var ce;t.registerBinding(e,"touchcancel",ce=l(function(F){var te=t.touchData.start;t.touchData.capture=!1,te&&te.unactivate()},"touchcancelHandler"));var Le,$e,je,qe;if(t.registerBinding(e,"touchend",Le=l(function(F){var te=t.touchData.start,ne=t.touchData.capture;if(ne)F.touches.length===0&&(t.touchData.capture=!1),F.preventDefault();else return;var de=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ge=t.cy,xe=ge.zoom(),Ee=t.touchData.now,Te=t.touchData.earlier;if(F.touches[0]){var Fe=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);Ee[0]=Fe[0],Ee[1]=Fe[1]}if(F.touches[1]){var Fe=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);Ee[2]=Fe[0],Ee[3]=Fe[1]}if(F.touches[2]){var Fe=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);Ee[4]=Fe[0],Ee[5]=Fe[1]}var We=l(function(Ze){return{originalEvent:F,type:Ze,position:{x:Ee[0],y:Ee[1]}}},"makeEvent");te&&te.unactivate();var it;if(t.touchData.cxt){if(it=We("cxttapend"),te?te.emit(it):ge.emit(it),!t.touchData.cxtDragged){var Be=We("cxttap");te?te.emit(Be):ge.emit(Be)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!F.touches[2]&&ge.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Ye=ge.collection(t.getAllInBox(de[0],de[1],de[2],de[3]));de[0]=void 0,de[1]=void 0,de[2]=void 0,de[3]=void 0,de[4]=0,t.redrawHint("select",!0),ge.emit(We("boxend"));var Ge=l(function(Ze){return Ze.selectable()&&!Ze.selected()},"eleWouldBeSelected");Ye.emit(We("box")).stdFilter(Ge).select().emit(We("boxselect")),Ye.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(te==null||te.unactivate(),F.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!F.touches[1]&&!F.touches[0]&&!F.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var ze=t.dragData.touchDragEles;if(te!=null){var Xe=te._private.grabbed;v(ze),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Xe&&(te.emit(We("freeon")),ze.emit(We("free")),t.dragData.didDrag&&(te.emit(We("dragfreeon")),ze.emit(We("dragfree")))),n(te,["touchend","tapend","vmouseup","tapdragout"],F,{x:Ee[0],y:Ee[1]}),te.unactivate(),t.touchData.start=null}else{var xt=t.findNearestElement(Ee[0],Ee[1],!0,!0);n(xt,["touchend","tapend","vmouseup","tapdragout"],F,{x:Ee[0],y:Ee[1]})}var st=t.touchData.startPosition[0]-Ee[0],at=st*st,Tt=t.touchData.startPosition[1]-Ee[1],et=Tt*Tt,ct=at+et,pt=ct*xe*xe;t.touchData.singleTouchMoved||(te||ge.$(":selected").unselect(["tapunselect"]),n(te,["tap","vclick"],F,{x:Ee[0],y:Ee[1]}),$e=!1,F.timeStamp-qe<=ge.multiClickDebounceTime()?(je&&clearTimeout(je),$e=!0,qe=null,n(te,["dbltap","vdblclick"],F,{x:Ee[0],y:Ee[1]})):(je=setTimeout(function(){$e||n(te,["onetap","voneclick"],F,{x:Ee[0],y:Ee[1]})},ge.multiClickDebounceTime()),qe=F.timeStamp)),te!=null&&!t.dragData.didDrag&&te._private.selectable&&pt<t.touchTapThreshold2&&!t.pinching&&(ge.selectionType()==="single"?(ge.$(r).unmerge(te).unselect(["tapunselect"]),te.select(["tapselect"])):te.selected()?te.unselect(["tapunselect"]):te.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var Qe=0;Qe<Ee.length;Qe++)Te[Qe]=Ee[Qe];t.dragData.didDrag=!1,F.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),F.touches.length<2&&(F.touches.length===1&&(t.touchData.startGPosition=[F.touches[0].clientX,F.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},"touchendHandler"),!1),typeof TouchEvent>"u"){var Ce=[],De=l(function(F){return{clientX:F.clientX,clientY:F.clientY,force:1,identifier:F.pointerId,pageX:F.pageX,pageY:F.pageY,radiusX:F.width/2,radiusY:F.height/2,screenX:F.screenX,screenY:F.screenY,target:F.target}},"makeTouch"),ye=l(function(F){return{event:F,touch:De(F)}},"makePointer"),Pe=l(function(F){Ce.push(ye(F))},"addPointer"),ue=l(function(F){for(var te=0;te<Ce.length;te++){var ne=Ce[te];if(ne.event.pointerId===F.pointerId){Ce.splice(te,1);return}}},"removePointer"),Ve=l(function(F){var te=Ce.filter(function(ne){return ne.event.pointerId===F.pointerId})[0];te.event=F,te.touch=De(F)},"updatePointer"),Z=l(function(F){F.touches=Ce.map(function(te){return te.touch})},"addTouchesToEvent"),Ne=l(function(F){return F.pointerType==="mouse"||F.pointerType===4},"pointerIsMouse");t.registerBinding(t.container,"pointerdown",function(F){Ne(F)||(F.preventDefault(),Pe(F),Z(F),V(F))}),t.registerBinding(t.container,"pointerup",function(F){Ne(F)||(ue(F),Z(F),Le(F))}),t.registerBinding(t.container,"pointercancel",function(F){Ne(F)||(ue(F),Z(F),ce(F))}),t.registerBinding(t.container,"pointermove",function(F){Ne(F)||(F.preventDefault(),Ve(F),Z(F),Se(F))})}};Kl={};Kl.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:l(function(r,i,n,a,s,o){this.renderer.nodeShapeImpl("polygon",r,i,n,a,s,this.points)},"draw"),intersectLine:l(function(r,i,n,a,s,o,h,u){return tb(s,o,this.points,r,i,n/2,a/2,h)},"intersectLine"),checkPoint:l(function(r,i,n,a,s,o,h,u){return Yl(r,i,this.points,o,h,a,s,[0,-1],n)},"checkPoint"),hasMiterBounds:t!=="rectangle",miterBounds:l(function(r,i,n,a,s,o){return _ne(this.points,r,i,n,a,s)},"miterBounds")}};Kl.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:l(function(t,e,r,i,n,a){this.renderer.nodeShapeImpl(this.name,t,e,r,i,n)},"draw"),intersectLine:l(function(t,e,r,i,n,a,s,o){return NSe(n,a,t,e,r/2+s,i/2+s)},"intersectLine"),checkPoint:l(function(t,e,r,i,n,a,s,o){return ad(t,e,i,n,a,s,r)},"checkPoint")}};Kl.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:l(function(r,i,n,a,s,o,h){if(o[h]!==void 0&&o[h+"-cx"]===r&&o[h+"-cy"]===i)return o[h];o[h]=new Array(e.length/2),o[h+"-cx"]=r,o[h+"-cy"]=i;var u=n/2,d=a/2;s=s==="auto"?Nne(n,a):s;for(var p=new Array(e.length/2),g=0;g<e.length/2;g++)p[g]={x:r+u*e[g*2],y:i+d*e[g*2+1]};var f,m,y,b,v=p.length;for(m=p[v-1],f=0;f<v;f++)y=p[f%v],b=p[(f+1)%v],o[h][f]=ow(m,y,b,s),m=y,y=b;return o[h]},"getOrCreateCorners"),draw:l(function(r,i,n,a,s,o,h){this.renderer.nodeShapeImpl("round-polygon",r,i,n,a,s,this.points,this.getOrCreateCorners(i,n,a,s,o,h,"drawCorners"))},"draw"),intersectLine:l(function(r,i,n,a,s,o,h,u,d){return RSe(s,o,this.points,r,i,n,a,h,this.getOrCreateCorners(r,i,n,a,u,d,"corners"))},"intersectLine"),checkPoint:l(function(r,i,n,a,s,o,h,u,d){return LSe(r,i,this.points,o,h,a,s,this.getOrCreateCorners(o,h,a,s,u,d,"corners"))},"checkPoint")}};Kl.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ga(4,0),draw:l(function(t,e,r,i,n,a){this.renderer.nodeShapeImpl(this.name,t,e,r,i,n,this.points,a)},"draw"),intersectLine:l(function(t,e,r,i,n,a,s,o){return Ane(n,a,t,e,r,i,s,o)},"intersectLine"),checkPoint:l(function(t,e,r,i,n,a,s,o){var h=i/2,u=n/2;o=o==="auto"?Ch(i,n):o,o=Math.min(h,u,o);var d=o*2;return!!(Yl(t,e,this.points,a,s,i,n-d,[0,-1],r)||Yl(t,e,this.points,a,s,i-d,n,[0,-1],r)||ad(t,e,d,d,a-h+o,s-u+o,r)||ad(t,e,d,d,a+h-o,s-u+o,r)||ad(t,e,d,d,a+h-o,s+u-o,r)||ad(t,e,d,d,a-h+o,s+u-o,r))},"checkPoint")}};Kl.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:SL(),points:ga(4,0),draw:l(function(t,e,r,i,n,a){this.renderer.nodeShapeImpl(this.name,t,e,r,i,n,null,a)},"draw"),generateCutTrianglePts:l(function(t,e,r,i,n){var a=n==="auto"?this.cornerLength:n,s=e/2,o=t/2,h=r-o,u=r+o,d=i-s,p=i+s;return{topLeft:[h,d+a,h+a,d,h+a,d+a],topRight:[u-a,d,u,d+a,u-a,d+a],bottomRight:[u,p-a,u-a,p,u-a,p-a],bottomLeft:[h+a,p,h,p-a,h+a,p-a]}},"generateCutTrianglePts"),intersectLine:l(function(t,e,r,i,n,a,s,o){var h=this.generateCutTrianglePts(r+2*s,i+2*s,t,e,o),u=[].concat.apply([],[h.topLeft.splice(0,4),h.topRight.splice(0,4),h.bottomRight.splice(0,4),h.bottomLeft.splice(0,4)]);return tb(n,a,u,t,e)},"intersectLine"),checkPoint:l(function(t,e,r,i,n,a,s,o){var h=o==="auto"?this.cornerLength:o;if(Yl(t,e,this.points,a,s,i,n-2*h,[0,-1],r)||Yl(t,e,this.points,a,s,i-2*h,n,[0,-1],r))return!0;var u=this.generateCutTrianglePts(i,n,a,s);return Ga(t,e,u.topLeft)||Ga(t,e,u.topRight)||Ga(t,e,u.bottomRight)||Ga(t,e,u.bottomLeft)},"checkPoint")}};Kl.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ga(4,0),draw:l(function(t,e,r,i,n,a){this.renderer.nodeShapeImpl(this.name,t,e,r,i,n)},"draw"),intersectLine:l(function(t,e,r,i,n,a,s,o){var h=.15,u=.5,d=.85,p=this.generateBarrelBezierPts(r+2*s,i+2*s,t,e),g=l(function(m){var y=cg({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},h),b=cg({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},u),v=cg({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},d);return[m[0],m[1],y.x,y.y,b.x,b.y,v.x,v.y,m[4],m[5]]},"approximateBarrelCurvePts"),f=[].concat(g(p.topLeft),g(p.topRight),g(p.bottomRight),g(p.bottomLeft));return tb(n,a,f,t,e)},"intersectLine"),generateBarrelBezierPts:l(function(t,e,r,i){var n=e/2,a=t/2,s=r-a,o=r+a,h=i-n,u=i+n,d=F9(t,e),p=d.heightOffset,g=d.widthOffset,f=d.ctrlPtOffsetPct*t,m={topLeft:[s,h+p,s+f,h,s+g,h],topRight:[o-g,h,o-f,h,o,h+p],bottomRight:[o,u-p,o-f,u,o-g,u],bottomLeft:[s+g,u,s+f,u,s,u-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},"generateBarrelBezierPts"),checkPoint:l(function(t,e,r,i,n,a,s,o){var h=F9(i,n),u=h.heightOffset,d=h.widthOffset;if(Yl(t,e,this.points,a,s,i,n-2*u,[0,-1],r)||Yl(t,e,this.points,a,s,i-2*d,n,[0,-1],r))return!0;for(var p=this.generateBarrelBezierPts(i,n,a,s),g=l(function(S,C,E){var L=E[4],I=E[2],M=E[0],N=E[5],$=E[1],_=Math.min(L,M),D=Math.max(L,M),R=Math.min(N,$),O=Math.max(N,$);if(_<=S&&S<=D&&R<=C&&C<=O){var A=DSe(L,I,M),B=CSe(A[0],A[1],A[2],S),P=B.filter(function(z){return 0<=z&&z<=1});if(P.length>0)return P[0]}return null},"getCurveT"),f=Object.keys(p),m=0;m<f.length;m++){var y=f[m],b=p[y],v=g(t,e,b);if(v!=null){var x=b[5],w=b[3],k=b[1],T=vn(x,w,k,v);if(b.isTop&&T<=e||b.isBottom&&e<=T)return!0}}return!1},"checkPoint")}};Kl.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ga(4,0),draw:l(function(t,e,r,i,n,a){this.renderer.nodeShapeImpl(this.name,t,e,r,i,n,this.points,a)},"draw"),intersectLine:l(function(t,e,r,i,n,a,s,o){var h=t-(r/2+s),u=e-(i/2+s),d=u,p=t+(r/2+s),g=xh(n,a,t,e,h,u,p,d,!1);return g.length>0?g:Ane(n,a,t,e,r,i,s,o)},"intersectLine"),checkPoint:l(function(t,e,r,i,n,a,s,o){o=o==="auto"?Ch(i,n):o;var h=2*o;if(Yl(t,e,this.points,a,s,i,n-h,[0,-1],r)||Yl(t,e,this.points,a,s,i-h,n,[0,-1],r))return!0;var u=i/2+2*r,d=n/2+2*r,p=[a-u,s-d,a-u,s,a+u,s,a+u,s-d];return!!(Ga(t,e,p)||ad(t,e,h,h,a+i/2-o,s+n/2-o,r)||ad(t,e,h,h,a-i/2+o,s+n/2-o,r))},"checkPoint")}};Kl.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",ga(3,0)),this.generateRoundPolygon("round-triangle",ga(3,0)),this.generatePolygon("rectangle",ga(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",ga(5,0)),this.generateRoundPolygon("round-pentagon",ga(5,0)),this.generatePolygon("hexagon",ga(6,0)),this.generateRoundPolygon("round-hexagon",ga(6,0)),this.generatePolygon("heptagon",ga(7,0)),this.generateRoundPolygon("round-heptagon",ga(7,0)),this.generatePolygon("octagon",ga(8,0)),this.generateRoundPolygon("round-octagon",ga(8,0));var i=new Array(20);{var n=P9(5,0),a=P9(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[o*2]*=s,a[o*2+1]*=s;for(var o=0;o<20/4;o++)i[o*4]=n[o*2],i[o*4+1]=n[o*2+1],i[o*4+2]=a[o*2],i[o*4+3]=a[o*2+1]}i=Lne(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var h=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",h),this.generateRoundPolygon("round-tag",h)}t.makePolygon=function(u){var d=u.join("$"),p="polygon-"+d,g;return(g=this[p])?g:e.generatePolygon(p,u)}};Eb={};Eb.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Eb.redraw=function(t){t=t||xne();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Eb.beforeRender=function(t,e){if(!this.destroyed){e==null&&vi("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(i,n){return n.priority-i.priority})}};Lie=l(function(t,e,r){for(var i=t.beforeRenderCallbacks,n=0;n<i.length;n++)i[n].fn(e,r)},"beforeRenderCallbacks");Eb.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=l(function(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){Lie(t,!0,i);var n=Vl();t.render(t.renderOptions);var a=t.lastDrawTime=Vl();t.averageRedrawTime===void 0&&(t.averageRedrawTime=a-n),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=a-n;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else Lie(t,!1,i);t.skipFrame=!1,O6(r)}},"renderFn");O6(r)}};n9e=l(function(t){this.init(t)},"BaseRenderer"),nse=n9e,Tg=nse.prototype;Tg.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Tg.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),i=e.cy.window();if(i){var n=i.document,a=n.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",h=n.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!h){var u=n.createElement("style");u.id=s,u.textContent="."+o+" { position: relative; }",a.insertBefore(u,a.children[0])}var d=i.getComputedStyle(r),p=d.getPropertyValue("position");p==="static"&&Ur("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=ft(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Tg.notify=function(t,e){var r=this,i=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&i.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Tg.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],i=r,n=i.target;(n.off||n.removeEventListener).apply(n,i.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Tg.isHeadless=function(){return!1};[VL,rse,ise,kg,Kl,Eb].forEach(function(t){Xt(Tg,t)});I9=1e3/60,ase={setupDequeueing:l(function(t){return l(function(){var e=this,r=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var i=hb(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},t.deqRedrawThreshold),n=l(function(s,o){var h=Vl(),u=r.averageRedrawTime,d=r.lastRedrawTime,p=[],g=r.cy.extent(),f=r.getPixelRatio();for(s||r.flushRenderedStyleQueue();;){var m=Vl(),y=m-h,b=m-o;if(d<I9){var v=I9-(s?u:0);if(b>=t.deqFastCost*v)break}else if(s){if(y>=t.deqCost*d||y>=t.deqAvgCost*u)break}else if(b>=t.deqNoDrawCost*I9)break;var x=t.deq(e,f,g);if(x.length>0)for(var w=0;w<x.length;w++)p.push(x[w]);else break}p.length>0&&(t.onDeqd(e,p),!s&&t.shouldRedraw(e,p,f,g)&&i())},"dequeue"),a=t.priority||wL;r.beforeRender(n,a(e))}},"setupDequeueingImpl")},"setupDequeueing")},a9e=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$6;Hl(this,t),this.idsByKey=new Wl,this.keyForId=new Wl,this.cachesByLvl=new Wl,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return l(t,"ElementTextureCacheLookup"),Xl(t,[{key:"getIdsFor",value:l(function(e){e==null&&vi("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(e);return i||(i=new bg,r.set(e,i)),i},"getIdsFor")},{key:"addIdForKey",value:l(function(e,r){e!=null&&this.getIdsFor(e).add(r)},"addIdForKey")},{key:"deleteIdForKey",value:l(function(e,r){e!=null&&this.getIdsFor(e).delete(r)},"deleteIdForKey")},{key:"getNumberOfIdsForKey",value:l(function(e){return e==null?0:this.getIdsFor(e).size},"getNumberOfIdsForKey")},{key:"updateKeyMappingFor",value:l(function(e){var r=e.id(),i=this.keyForId.get(r),n=this.getKey(e);this.deleteIdForKey(i,r),this.addIdForKey(n,r),this.keyForId.set(r,n)},"updateKeyMappingFor")},{key:"deleteKeyMappingFor",value:l(function(e){var r=e.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)},"deleteKeyMappingFor")},{key:"keyHasChangedFor",value:l(function(e){var r=e.id(),i=this.keyForId.get(r),n=this.getKey(e);return i!==n},"keyHasChangedFor")},{key:"isInvalid",value:l(function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)},"isInvalid")},{key:"getCachesAt",value:l(function(e){var r=this.cachesByLvl,i=this.lvls,n=r.get(e);return n||(n=new Wl,r.set(e,n),i.push(e)),n},"getCachesAt")},{key:"getCache",value:l(function(e,r){return this.getCachesAt(r).get(e)},"getCache")},{key:"get",value:l(function(e,r){var i=this.getKey(e),n=this.getCache(i,r);return n!=null&&this.updateKeyMappingFor(e),n},"get")},{key:"getForCachedKey",value:l(function(e,r){var i=this.keyForId.get(e.id()),n=this.getCache(i,r);return n},"getForCachedKey")},{key:"hasCache",value:l(function(e,r){return this.getCachesAt(r).has(e)},"hasCache")},{key:"has",value:l(function(e,r){var i=this.getKey(e);return this.hasCache(i,r)},"has")},{key:"setCache",value:l(function(e,r,i){i.key=e,this.getCachesAt(r).set(e,i)},"setCache")},{key:"set",value:l(function(e,r,i){var n=this.getKey(e);this.setCache(n,r,i),this.updateKeyMappingFor(e)},"set")},{key:"deleteCache",value:l(function(e,r){this.getCachesAt(r).delete(e)},"deleteCache")},{key:"delete",value:l(function(e,r){var i=this.getKey(e);this.deleteCache(i,r)},"_delete")},{key:"invalidateKey",value:l(function(e){var r=this;this.lvls.forEach(function(i){return r.deleteCache(e,i)})},"invalidateKey")},{key:"invalidate",value:l(function(e){var r=e.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(e);var n=this.doesEleInvalidateKey(e);return n&&this.invalidateKey(i),n||this.getNumberOfIdsForKey(i)===0},"invalidate")}])})(),Nie=25,y6=50,N6=-4,aL=3,sse=7.99,s9e=8,o9e=1024,l9e=1024,c9e=1024,h9e=.2,u9e=.8,d9e=10,p9e=.15,g9e=.1,f9e=.9,m9e=.9,y9e=100,v9e=1,lg={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},b9e=Rn({getKey:null,doesEleInvalidateKey:$6,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:yne,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Wv=l(function(t,e){var r=this;r.renderer=t,r.onDequeues=[];var i=b9e(e);Xt(r,i),r.lookup=new a9e(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},"ElementTextureCache"),ln=Wv.prototype;ln.reasons=lg;ln.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};ln.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},i=r[t]=r[t]||[];return i};ln.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new ub(function(r,i){return i.reqs-r.reqs});return e};ln.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};ln.getElement=function(t,e,r,i,n){var a=this,s=this.renderer,o=s.cy.zoom(),h=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!a.allowEdgeTxrCaching&&t.isEdge()||!a.allowParentTxrCaching&&t.isParent())return null;if(i==null&&(i=Math.ceil(TL(o*r))),i<N6)i=N6;else if(o>=sse||i>aL)return null;var u=Math.pow(2,i),d=e.h*u,p=e.w*u,g=s.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,g))return null;var f=h.get(t,i);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;var m;if(d<=Nie?m=Nie:d<=y6?m=y6:m=Math.ceil(d/y6)*y6,d>c9e||p>l9e)return null;var y=a.getTextureQueue(m),b=y[y.length-2],v=l(function(){return a.recycleTexture(m,p)||a.addTexture(m,p)},"addNewTxr");b||(b=y[y.length-1]),b||(b=v()),b.width-b.usedWidth<p&&(b=v());for(var x=l(function(D){return D&&D.scaledLabelShown===g},"scalableFrom"),w=n&&n===lg.dequeue,k=n&&n===lg.highQuality,T=n&&n===lg.downscale,S,C=i+1;C<=aL;C++){var E=h.get(t,C);if(E){S=E;break}}var L=S&&S.level===i+1?S:null,I=l(function(){b.context.drawImage(L.texture.canvas,L.x,0,L.width,L.height,b.usedWidth,0,p,d)},"downscale");if(b.context.setTransform(1,0,0,1,0,0),b.context.clearRect(b.usedWidth,0,p,m),x(L))I();else if(x(S))if(k){for(var M=S.level;M>i;M--)L=a.getElement(t,e,r,M,lg.downscale);I()}else return a.queueElement(t,S.level-1),S;else{var N;if(!w&&!k&&!T)for(var $=i-1;$>=N6;$--){var _=h.get(t,$);if(_){N=_;break}}if(x(N))return a.queueElement(t,i),N;b.context.translate(b.usedWidth,0),b.context.scale(u,u),this.drawElement(b.context,t,e,g,!1),b.context.scale(1/u,1/u),b.context.translate(-b.usedWidth,0)}return f={x:b.usedWidth,texture:b,level:i,scale:u,width:p,height:d,scaledLabelShown:g},b.usedWidth+=Math.ceil(p+s9e),b.eleCaches.push(f),h.set(t,i,f),a.checkTextureFullness(b),f};ln.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};ln.invalidateElement=function(t){var e=this,r=e.lookup,i=[],n=r.isInvalid(t);if(n){for(var a=N6;a<=aL;a++){var s=r.getForCachedKey(t,a);s&&i.push(s)}var o=r.invalidate(t);if(o)for(var h=0;h<i.length;h++){var u=i[h],d=u.texture;d.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(d)}e.removeFromQueue(t)}};ln.checkTextureUtility=function(t){t.invalidatedWidth>=h9e*t.width&&this.retireTexture(t)};ln.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>u9e&&t.fullnessChecks>=d9e?Eh(r,t):t.fullnessChecks++};ln.retireTexture=function(t){var e=this,r=t.height,i=e.getTextureQueue(r),n=this.lookup;Eh(i,t),t.retired=!0;for(var a=t.eleCaches,s=0;s<a.length;s++){var o=a[s];n.deleteCache(o.key,o.level)}kL(a);var h=e.getRetiredTextureQueue(r);h.push(t)};ln.addTexture=function(t,e){var r=this,i=r.getTextureQueue(t),n={};return i.push(n),n.eleCaches=[],n.height=t,n.width=Math.max(o9e,e),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=r.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n};ln.recycleTexture=function(t,e){for(var r=this,i=r.getTextureQueue(t),n=r.getRetiredTextureQueue(t),a=0;a<n.length;a++){var s=n[a];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,kL(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Eh(n,s),i.push(s),s}};ln.queueElement=function(t,e){var r=this,i=r.getElementQueue(),n=r.getElementKeyToQueue(),a=this.getKey(t),s=n[a];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,i.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:a};i.push(o),n[a]=o}};ln.dequeue=function(t){for(var e=this,r=e.getElementQueue(),i=e.getElementKeyToQueue(),n=[],a=e.lookup,s=0;s<v9e&&r.size()>0;s++){var o=r.pop(),h=o.key,u=o.eles[0],d=a.hasCache(u,o.level);if(i[h]=null,!d){n.push(o);var p=e.getBoundingBox(u);e.getElement(u,p,t,o.level,lg.dequeue)}}return n};ln.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),i=e.getElementKeyToQueue(),n=this.getKey(t),a=i[n];a!=null&&(a.eles.length===1?(a.reqs=xL,r.updateItem(a),r.pop(),i[n]=null):a.eles.unmerge(t))};ln.onDequeue=function(t){this.onDequeues.push(t)};ln.offDequeue=function(t){Eh(this.onDequeues,t)};ln.setupDequeueing=ase.setupDequeueing({deqRedrawThreshold:y9e,deqCost:p9e,deqAvgCost:g9e,deqNoDrawCost:f9e,deqFastCost:m9e,deq:l(function(t,e,r){return t.dequeue(e,r)},"deq"),onDeqd:l(function(t,e){for(var r=0;r<t.onDequeues.length;r++){var i=t.onDequeues[r];i(e)}},"onDeqd"),shouldRedraw:l(function(t,e,r,i){for(var n=0;n<e.length;n++)for(var a=e[n].eles,s=0;s<a.length;s++){var o=a[s].boundingBox();if(CL(o,i))return!0}return!1},"shouldRedraw"),priority:l(function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq},"priority")});x9e=1,Yv=-4,j6=2,w9e=3.99,k9e=50,T9e=50,E9e=.15,C9e=.1,S9e=.9,_9e=.9,A9e=1,Iie=250,L9e=4e3*4e3,Rie=32767,N9e=!0,ose=l(function(t){var e=this,r=e.renderer=t,i=r.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=Vl()-2*Iie,e.skipping=!1,e.eleTxrDeqs=i.collection(),e.scheduleElementRefinement=hb(function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)},T9e),r.beforeRender(function(a,s){s-e.lastInvalidationTime<=Iie?e.skipping=!0:e.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var n=l(function(a,s){return s.reqs-a.reqs},"qSort");e.layersQueue=new ub(n),e.setupDequeueing()},"LayeredTextureCache"),Dn=ose.prototype,Die=0,I9e=Math.pow(2,53)-1;Dn.makeLayer=function(t,e){var r=Math.pow(2,e),i=Math.ceil(t.w*r),n=Math.ceil(t.h*r),a=this.renderer.makeOffscreenCanvas(i,n),s={id:Die=++Die%I9e,bb:t,level:e,width:i,height:n,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,h=-s.bb.x1,u=-s.bb.y1;return o.scale(r,r),o.translate(h,u),s};Dn.getLayers=function(t,e,r){var i=this,n=i.renderer,a=n.cy,s=a.zoom(),o=i.firstGet;if(i.firstGet=!1,r==null){if(r=Math.ceil(TL(s*e)),r<Yv)r=Yv;else if(s>=w9e||r>j6)return null}i.validateLayersElesOrdering(r,t);var h=i.layersByLevel,u=Math.pow(2,r),d=h[r]=h[r]||[],p,g=i.levelIsComplete(r,t),f,m=l(function(){var L=l(function($){if(i.validateLayersElesOrdering($,t),i.levelIsComplete($,t))return f=h[$],!0},"canUseAsTmpLvl"),I=l(function($){if(!f)for(var _=r+$;Yv<=_&&_<=j6&&!L(_);_+=$);},"checkLvls");I(1),I(-1);for(var M=d.length-1;M>=0;M--){var N=d[M];N.invalid&&Eh(d,N)}},"checkTempLevels");if(!g)m();else return d;var y=l(function(){if(!p){p=ma();for(var L=0;L<t.length;L++)wSe(p,t[L].boundingBox())}return p},"getBb"),b=l(function(L){L=L||{};var I=L.after;y();var M=Math.ceil(p.w*u),N=Math.ceil(p.h*u);if(M>Rie||N>Rie)return null;var $=M*N;if($>L9e)return null;var _=i.makeLayer(p,r);if(I!=null){var D=d.indexOf(I)+1;d.splice(D,0,_)}else(L.insert===void 0||L.insert)&&d.unshift(_);return _},"makeLayer");if(i.skipping&&!o)return null;for(var v=null,x=t.length/x9e,w=!o,k=0;k<t.length;k++){var T=t[k],S=T._private.rscratch,C=S.imgLayerCaches=S.imgLayerCaches||{},E=C[r];if(E){v=E;continue}if((!v||v.eles.length>=x||!Cne(v.bb,T.boundingBox()))&&(v=b({insert:!0,after:v}),!v))return null;f||w?i.queueLayer(v,T):i.drawEleInLayer(v,T,r,e),v.eles.push(T),C[r]=v}return f||(w?null:d)};Dn.getEleLevelForLayerLevel=function(t,e){return t};Dn.drawEleInLayer=function(t,e,r,i){var n=this,a=this.renderer,s=t.context,o=e.boundingBox();o.w===0||o.h===0||!e.visible()||(r=n.getEleLevelForLayerLevel(r,i),a.setImgSmoothing(s,!1),a.drawCachedElement(s,e,null,null,r,N9e),a.setImgSmoothing(s,!0))};Dn.levelIsComplete=function(t,e){var r=this,i=r.layersByLevel[t];if(!i||i.length===0)return!1;for(var n=0,a=0;a<i.length;a++){var s=i[a];if(s.reqs>0||s.invalid)return!1;n+=s.eles.length}return n===e.length};Dn.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var i=0;i<r.length;i++){for(var n=r[i],a=-1,s=0;s<e.length;s++)if(n.eles[0]===e[s]){a=s;break}if(a<0){this.invalidateLayer(n);continue}for(var o=a,s=0;s<n.eles.length;s++)if(n.eles[s]!==e[o+s]){this.invalidateLayer(n);break}}};Dn.updateElementsInLayers=function(t,e){for(var r=this,i=lb(t[0]),n=0;n<t.length;n++)for(var a=i?null:t[n],s=i?t[n]:t[n].ele,o=s._private.rscratch,h=o.imgLayerCaches=o.imgLayerCaches||{},u=Yv;u<=j6;u++){var d=h[u];d&&(a&&r.getEleLevelForLayerLevel(d.level)!==a.level||e(d,s,a))}};Dn.haveLayers=function(){for(var t=this,e=!1,r=Yv;r<=j6;r++){var i=t.layersByLevel[r];if(i&&i.length>0){e=!0;break}}return e};Dn.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Vl(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,l(function(r,i,n){e.invalidateLayer(r)},"invalAssocLayers")))};Dn.invalidateLayer=function(t){if(this.lastInvalidationTime=Vl(),!t.invalid){var e=t.level,r=t.eles,i=this.layersByLevel[e];Eh(i,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var n=0;n<r.length;n++){var a=r[n]._private.rscratch.imgLayerCaches;a&&(a[e]=null)}}};Dn.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,l(function(r,i,n){var a=r.replacement;if(a||(a=r.replacement=e.makeLayer(r.bb,r.level),a.replaces=r,a.eles=r.eles),!a.reqs)for(var s=0;s<a.eles.length;s++)e.queueLayer(a,a.eles[s])},"refineEachEle"))};Dn.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Dn.queueLayer=function(t,e){var r=this,i=r.layersQueue,n=t.elesQueue,a=n.hasId=n.hasId||{};if(!t.replacement){if(e){if(a[e.id()])return;n.push(e),a[e.id()]=!0}t.reqs?(t.reqs++,i.updateItem(t)):(t.reqs=1,i.push(t))}};Dn.dequeue=function(t){for(var e=this,r=e.layersQueue,i=[],n=0;n<A9e&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(e.drawEleInLayer(a,s,a.level,t),n++),i.length===0&&i.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&e.applyLayerReplacement(a),e.requestRedraw())}return i};Dn.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],i=t.replaces,n=r.indexOf(i);if(!(n<0||i.invalid)){r[n]=t;for(var a=0;a<t.eles.length;a++){var s=t.eles[a]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}e.requestRedraw()}};Dn.requestRedraw=hb(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Dn.setupDequeueing=ase.setupDequeueing({deqRedrawThreshold:k9e,deqCost:E9e,deqAvgCost:C9e,deqNoDrawCost:S9e,deqFastCost:_9e,deq:l(function(t,e){return t.dequeue(e)},"deq"),onDeqd:wL,shouldRedraw:yne,priority:l(function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq},"priority")});lse={};l(cse,"polygon");l(hse,"triangleBackcurve");l(sL,"triangleTee");l(use,"circleTriangle");l(dse,"circle$1");lse.arrowShapeImpl=function(t){return(Mie||(Mie={polygon:cse,"triangle-backcurve":hse,"triangle-tee":sL,"circle-triangle":use,"triangle-cross":sL,circle:dse}))[t]};rl={};rl.drawElement=function(t,e,r,i,n,a){var s=this;e.isNode()?s.drawNode(t,e,r,i,n,a):s.drawEdge(t,e,r,i,n,a)};rl.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};rl.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};rl.drawCachedElementPortion=function(t,e,r,i,n,a,s,o){var h=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var d=r.getElement(e,u,i,n,a);if(d!=null){var p=o(h,e);if(p===0)return;var g=s(h,e),f=u.x1,m=u.y1,y=u.w,b=u.h,v,x,w,k,T;if(g!==0){var S=r.getRotationPoint(e);w=S.x,k=S.y,t.translate(w,k),t.rotate(g),T=h.getImgSmoothing(t),T||h.setImgSmoothing(t,!0);var C=r.getRotationOffset(e);v=C.x,x=C.y}else v=f,x=m;var E;p!==1&&(E=t.globalAlpha,t.globalAlpha=E*p),t.drawImage(d.texture.canvas,d.x,0,d.width,d.height,v,x,y,b),p!==1&&(t.globalAlpha=E),g!==0&&(t.rotate(-g),t.translate(-w,-k),T||h.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};R9e=l(function(){return 0},"getZeroRotation"),D9e=l(function(t,e){return t.getTextAngle(e,null)},"getLabelRotation"),M9e=l(function(t,e){return t.getTextAngle(e,"source")},"getSourceLabelRotation"),O9e=l(function(t,e){return t.getTextAngle(e,"target")},"getTargetLabelRotation"),$9e=l(function(t,e){return e.effectiveOpacity()},"getOpacity"),R9=l(function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()},"getTextOpacity");rl.drawCachedElement=function(t,e,r,i,n,a){var s=this,o=s.data,h=o.eleTxrCache,u=o.lblTxrCache,d=o.slbTxrCache,p=o.tlbTxrCache,g=e.boundingBox(),f=a===!0?h.reasons.highQuality:null;if(!(g.w===0||g.h===0||!e.visible())&&(!i||CL(g,i))){var m=e.isEdge(),y=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,h,r,n,f,R9e,$9e),(!m||!y)&&s.drawCachedElementPortion(t,e,u,r,n,f,D9e,R9),m&&!y&&(s.drawCachedElementPortion(t,e,d,r,n,f,M9e,R9),s.drawCachedElementPortion(t,e,p,r,n,f,O9e,R9)),s.drawElementOverlay(t,e)}};rl.drawElements=function(t,e){for(var r=this,i=0;i<e.length;i++){var n=e[i];r.drawElement(t,n)}};rl.drawCachedElements=function(t,e,r,i){for(var n=this,a=0;a<e.length;a++){var s=e[a];n.drawCachedElement(t,s,r,i)}};rl.drawCachedNodes=function(t,e,r,i){for(var n=this,a=0;a<e.length;a++){var s=e[a];s.isNode()&&n.drawCachedElement(t,s,r,i)}};rl.drawLayeredElements=function(t,e,r,i){var n=this,a=n.data.lyrTxrCache.getLayers(e,r);if(a)for(var s=0;s<a.length;s++){var o=a[s],h=o.bb;h.w===0||h.h===0||t.drawImage(o.canvas,h.x1,h.y1,h.w,h.h)}else n.drawCachedElements(t,e,r,i)};Zl={};Zl.drawEdge=function(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=e._private.rscratch;if(!(a&&!e.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var h;r&&(h=r,t.translate(-h.x1,-h.y1));var u=a?e.pstyle("opacity").value:1,d=a?e.pstyle("line-opacity").value:1,p=e.pstyle("curve-style").value,g=e.pstyle("line-style").value,f=e.pstyle("width").pfValue,m=e.pstyle("line-cap").value,y=e.pstyle("line-outline-width").value,b=e.pstyle("line-outline-color").value,v=u*d,x=u*d,w=l(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;p==="straight-triangle"?(s.eleStrokeStyle(t,e,_),s.drawEdgeTrianglePath(e,t,o.allpts)):(t.lineWidth=f,t.lineCap=m,s.eleStrokeStyle(t,e,_),s.drawEdgePath(e,t,o.allpts,g),t.lineCap="butt")},"drawLine"),k=l(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(t.lineWidth=f+y,t.lineCap=m,y>0)s.colorStrokeStyle(t,b[0],b[1],b[2],_);else{t.lineCap="butt";return}p==="straight-triangle"?s.drawEdgeTrianglePath(e,t,o.allpts):(s.drawEdgePath(e,t,o.allpts,g),t.lineCap="butt")},"drawLineOutline"),T=l(function(){n&&s.drawEdgeOverlay(t,e)},"drawOverlay"),S=l(function(){n&&s.drawEdgeUnderlay(t,e)},"drawUnderlay"),C=l(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;s.drawArrowheads(t,e,_)},"drawArrows"),E=l(function(){s.drawElementText(t,e,null,i)},"drawText");t.lineJoin="round";var L=e.pstyle("ghost").value==="yes";if(L){var I=e.pstyle("ghost-offset-x").pfValue,M=e.pstyle("ghost-offset-y").pfValue,N=e.pstyle("ghost-opacity").value,$=v*N;t.translate(I,M),w($),C($),t.translate(-I,-M)}else k();S(),w(),C(),T(),E(),r&&t.translate(h.x1,h.y1)}};pse=l(function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(e,r){if(r.visible()){var i=r.pstyle("".concat(t,"-opacity")).value;if(i!==0){var n=this,a=n.usePaths(),s=r._private.rscratch,o=r.pstyle("".concat(t,"-padding")).pfValue,h=2*o,u=r.pstyle("".concat(t,"-color")).value;e.lineWidth=h,s.edgeType==="self"&&!a?e.lineCap="butt":e.lineCap="round",n.colorStrokeStyle(e,u[0],u[1],u[2],i),n.drawEdgePath(r,e,s.allpts,"solid")}}}},"drawEdgeOverlayUnderlay");Zl.drawEdgeOverlay=pse("overlay");Zl.drawEdgeUnderlay=pse("underlay");Zl.drawEdgePath=function(t,e,r,i){var n=t._private.rscratch,a=e,s,o=!1,h=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,d=t.pstyle("line-dash-offset").pfValue;if(h){var p=r.join("$"),g=n.pathCacheKey&&n.pathCacheKey===p;g?(s=e=n.pathCache,o=!0):(s=e=new Path2D,n.pathCacheKey=p,n.pathCache=s)}if(a.setLineDash)switch(i){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(u),a.lineDashOffset=d;break;case"solid":a.setLineDash([]);break}if(!o&&!n.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),n.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var f=2;f+3<r.length;f+=4)e.quadraticCurveTo(r[f],r[f+1],r[f+2],r[f+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)e.lineTo(r[m],r[m+1]);break;case"segments":if(n.isRound){var y=fa(n.roundCorners),b;try{for(y.s();!(b=y.n()).done;){var v=b.value;YL(e,v)}}catch(w){y.e(w)}finally{y.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var x=2;x+1<r.length;x+=2)e.lineTo(r[x],r[x+1]);break}e=a,h?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};Zl.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var i=t.pstyle("width").pfValue,n=0;n+1<r.length;n+=2){var a=[r[n+2]-r[n],r[n+3]-r[n+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],h=[o[0]*i/2,o[1]*i/2];e.beginPath(),e.moveTo(r[n]-h[0],r[n+1]-h[1]),e.lineTo(r[n]+h[0],r[n+1]+h[1]),e.lineTo(r[n+2],r[n+3]),e.closePath(),e.fill()}};Zl.drawArrowheads=function(t,e,r){var i=e._private.rscratch,n=i.edgeType==="haystack";n||this.drawArrowhead(t,e,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,r),n||this.drawArrowhead(t,e,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,r)};Zl.drawArrowhead=function(t,e,r,i,n,a,s){if(!(isNaN(i)||i==null||isNaN(n)||n==null||isNaN(a)||a==null)){var o=this,h=e.pstyle(r+"-arrow-shape").value;if(h!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",d=e.pstyle(r+"-arrow-fill").value,p=e.pstyle("width").pfValue,g=e.pstyle(r+"-arrow-width"),f=g.value==="match-line"?p:g.pfValue;g.units==="%"&&(f*=p);var m=e.pstyle("opacity").value;s===void 0&&(s=m);var y=t.globalCompositeOperation;(s!==1||d==="hollow")&&(t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,1),o.colorStrokeStyle(t,255,255,255,1),o.drawArrowShape(e,t,u,p,h,f,i,n,a),t.globalCompositeOperation=y);var b=e.pstyle(r+"-arrow-color").value;o.colorFillStyle(t,b[0],b[1],b[2],s),o.colorStrokeStyle(t,b[0],b[1],b[2],s),o.drawArrowShape(e,t,d,p,h,f,i,n,a)}}};Zl.drawArrowShape=function(t,e,r,i,n,a,s,o,h){var u=this,d=this.usePaths()&&n!=="triangle-cross",p=!1,g,f=e,m={x:s,y:o},y=t.pstyle("arrow-scale").value,b=this.getArrowWidth(i,y),v=u.arrowShapes[n];if(d){var x=u.arrowPathCache=u.arrowPathCache||[],w=sd(n),k=x[w];k!=null?(g=e=k,p=!0):(g=e=new Path2D,x[w]=g)}p||(e.beginPath&&e.beginPath(),d?v.draw(e,1,0,{x:0,y:0},1):v.draw(e,b,h,m,i),e.closePath&&e.closePath()),e=f,d&&(e.translate(s,o),e.rotate(h),e.scale(b,b)),(r==="filled"||r==="both")&&(d?e.fill(g):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=a/(d?b:1),e.lineJoin="miter",d?e.stroke(g):e.stroke()),d&&(e.scale(1/b,1/b),e.rotate(-h),e.translate(-s,-o))};KL={};KL.safeDrawImage=function(t,e,r,i,n,a,s,o,h,u){if(!(n<=0||a<=0||h<=0||u<=0))try{t.drawImage(e,r,i,n,a,s,o,h,u)}catch(d){Ur(d)}};KL.drawInscribedImage=function(t,e,r,i,n){var a=this,s=r.position(),o=s.x,h=s.y,u=r.cy().style(),d=u.getIndexedStyle.bind(u),p=d(r,"background-fit","value",i),g=d(r,"background-repeat","value",i),f=r.width(),m=r.height(),y=r.padding()*2,b=f+(d(r,"background-width-relative-to","value",i)==="inner"?0:y),v=m+(d(r,"background-height-relative-to","value",i)==="inner"?0:y),x=r._private.rscratch,w=d(r,"background-clip","value",i),k=w==="node",T=d(r,"background-image-opacity","value",i)*n,S=d(r,"background-image-smoothing","value",i),C=r.pstyle("corner-radius").value;C!=="auto"&&(C=r.pstyle("corner-radius").pfValue);var E=e.width||e.cachedW,L=e.height||e.cachedH;(E==null||L==null)&&(document.body.appendChild(e),E=e.cachedW=e.width||e.offsetWidth,L=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var I=E,M=L;if(d(r,"background-width","value",i)!=="auto"&&(d(r,"background-width","units",i)==="%"?I=d(r,"background-width","pfValue",i)*b:I=d(r,"background-width","pfValue",i)),d(r,"background-height","value",i)!=="auto"&&(d(r,"background-height","units",i)==="%"?M=d(r,"background-height","pfValue",i)*v:M=d(r,"background-height","pfValue",i)),!(I===0||M===0)){if(p==="contain"){var N=Math.min(b/I,v/M);I*=N,M*=N}else if(p==="cover"){var N=Math.max(b/I,v/M);I*=N,M*=N}var $=o-b/2,_=d(r,"background-position-x","units",i),D=d(r,"background-position-x","pfValue",i);_==="%"?$+=(b-I)*D:$+=D;var R=d(r,"background-offset-x","units",i),O=d(r,"background-offset-x","pfValue",i);R==="%"?$+=(b-I)*O:$+=O;var A=h-v/2,B=d(r,"background-position-y","units",i),P=d(r,"background-position-y","pfValue",i);B==="%"?A+=(v-M)*P:A+=P;var z=d(r,"background-offset-y","units",i),q=d(r,"background-offset-y","pfValue",i);z==="%"?A+=(v-M)*q:A+=q,x.pathCache&&($-=o,A-=h,o=0,h=0);var K=t.globalAlpha;t.globalAlpha=T;var W=a.getImgSmoothing(t),ae=!1;if(S==="no"&&W?(a.setImgSmoothing(t,!1),ae=!0):S==="yes"&&!W&&(a.setImgSmoothing(t,!0),ae=!0),g==="no-repeat")k&&(t.save(),x.pathCache?t.clip(x.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(t,o,h,b,v,C,x),t.clip())),a.safeDrawImage(t,e,0,0,E,L,$,A,I,M),k&&t.restore();else{var ie=t.createPattern(e,g);t.fillStyle=ie,a.nodeShapes[a.getNodeShape(r)].draw(t,o,h,b,v,C,x),t.translate($,A),t.fill(),t.translate(-$,-A)}t.globalAlpha=K,ae&&a.setImgSmoothing(t,W)}};pd={};pd.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),i=this.getPixelRatio(),n=Math.ceil(TL(r*i));e=Math.pow(2,n)}var a=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(a<s)};pd.drawElementText=function(t,e,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(i==null){if(a&&!s.eleTextBiggerThanMin(e))return}else if(i===!1)return;if(e.isNode()){var o=e.pstyle("label");if(!o||!o.value)return;var h=s.getLabelJustification(e);t.textAlign=h,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,d=e.pstyle("label"),p=e.pstyle("source-label"),g=e.pstyle("target-label");if(u||(!d||!d.value)&&(!p||!p.value)&&(!g||!g.value))return;t.textAlign="center",t.textBaseline="bottom"}var f=!r,m;r&&(m=r,t.translate(-m.x1,-m.y1)),n==null?(s.drawText(t,e,null,f,a),e.isEdge()&&(s.drawText(t,e,"source",f,a),s.drawText(t,e,"target",f,a))):s.drawText(t,e,n,f,a),r&&t.translate(m.x1,m.y1)};pd.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};pd.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e.pstyle("font-style").strValue,n=e.pstyle("font-size").pfValue+"px",a=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,o=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,h=e.pstyle("text-outline-opacity").value*o,u=e.pstyle("color").value,d=e.pstyle("text-outline-color").value;t.font=i+" "+s+" "+n+" "+a,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],o),this.colorStrokeStyle(t,d[0],d[1],d[2],h)};l(gse,"circle");l(oL,"roundRect");pd.getTextAngle=function(t,e){var r,i=t._private,n=i.rscratch,a=e?e+"-":"",s=t.pstyle(a+"text-rotation");if(s.strValue==="autorotate"){var o=za(n,"labelAngle",e);r=t.isEdge()?o:0}else s.strValue==="none"?r=0:r=s.pfValue;return r};pd.drawText=function(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=e._private,s=a.rscratch,o=n?e.effectiveOpacity():1;if(!(n&&(o===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var h=za(s,"labelX",r),u=za(s,"labelY",r),d,p,g=this.getLabelText(e,r);if(g!=null&&g!==""&&!isNaN(h)&&!isNaN(u)){this.setupTextStyle(t,e,n);var f=r?r+"-":"",m=za(s,"labelWidth",r),y=za(s,"labelHeight",r),b=e.pstyle(f+"text-margin-x").pfValue,v=e.pstyle(f+"text-margin-y").pfValue,x=e.isEdge(),w=e.pstyle("text-halign").value,k=e.pstyle("text-valign").value;x&&(w="center",k="center"),h+=b,u+=v;var T;switch(i?T=this.getTextAngle(e,r):T=0,T!==0&&(d=h,p=u,t.translate(d,p),t.rotate(T),h=0,u=0),k){case"top":break;case"center":u+=y/2;break;case"bottom":u+=y;break}var S=e.pstyle("text-background-opacity").value,C=e.pstyle("text-border-opacity").value,E=e.pstyle("text-border-width").pfValue,L=e.pstyle("text-background-padding").pfValue,I=e.pstyle("text-background-shape").strValue,M=I==="round-rectangle"||I==="roundrectangle",N=I==="circle",$=2;if(S>0||E>0&&C>0){var _=t.fillStyle,D=t.strokeStyle,R=t.lineWidth,O=e.pstyle("text-background-color").value,A=e.pstyle("text-border-color").value,B=e.pstyle("text-border-style").value,P=S>0,z=E>0&&C>0,q=h-L;switch(w){case"left":q-=m;break;case"center":q-=m/2;break}var K=u-y-L,W=m+2*L,ae=y+2*L;if(P&&(t.fillStyle="rgba(".concat(O[0],",").concat(O[1],",").concat(O[2],",").concat(S*o,")")),z&&(t.strokeStyle="rgba(".concat(A[0],",").concat(A[1],",").concat(A[2],",").concat(C*o,")"),t.lineWidth=E,t.setLineDash))switch(B){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=E/4,t.setLineDash([]);break;case"solid":default:t.setLineDash([]);break}if(M?(t.beginPath(),oL(t,q,K,W,ae,$)):N?(t.beginPath(),gse(t,q,K,W,ae)):(t.beginPath(),t.rect(q,K,W,ae)),P&&t.fill(),z&&t.stroke(),z&&B==="double"){var ie=E/2;t.beginPath(),M?oL(t,q+ie,K+ie,W-2*ie,ae-2*ie,$):t.rect(q+ie,K+ie,W-2*ie,ae-2*ie),t.stroke()}t.fillStyle=_,t.strokeStyle=D,t.lineWidth=R,t.setLineDash&&t.setLineDash([])}var se=2*e.pstyle("text-outline-width").pfValue;if(se>0&&(t.lineWidth=se),e.pstyle("text-wrap").value==="wrap"){var oe=za(s,"labelWrapCachedLines",r),Y=za(s,"labelLineHeight",r),Q=m/2,j=this.getLabelJustification(e);switch(j==="auto"||(w==="left"?j==="left"?h+=-m:j==="center"&&(h+=-Q):w==="center"?j==="left"?h+=-Q:j==="right"&&(h+=Q):w==="right"&&(j==="center"?h+=Q:j==="right"&&(h+=m))),k){case"top":u-=(oe.length-1)*Y;break;case"center":case"bottom":u-=(oe.length-1)*Y;break}for(var H=0;H<oe.length;H++)se>0&&t.strokeText(oe[H],h,u),t.fillText(oe[H],h,u),u+=Y}else se>0&&t.strokeText(g,h,u),t.fillText(g,h,u);T!==0&&(t.rotate(-T),t.translate(-d,-p))}}};Nh={};Nh.drawNode=function(t,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,h,u=e._private,d=u.rscratch,p=e.position();if(!(!ft(p.x)||!ft(p.y))&&!(a&&!e.visible())){var g=a?e.effectiveOpacity():1,f=s.usePaths(),m,y=!1,b=e.padding();o=e.width()+2*b,h=e.height()+2*b;var v;r&&(v=r,t.translate(-v.x1,-v.y1));for(var x=e.pstyle("background-image"),w=x.value,k=new Array(w.length),T=new Array(w.length),S=0,C=0;C<w.length;C++){var E=w[C],L=k[C]=E!=null&&E!=="none";if(L){var I=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",C);S++,T[C]=s.getCachedImage(E,I,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var M=e.pstyle("background-blacken").value,N=e.pstyle("border-width").pfValue,$=e.pstyle("background-opacity").value*g,_=e.pstyle("border-color").value,D=e.pstyle("border-style").value,R=e.pstyle("border-join").value,O=e.pstyle("border-cap").value,A=e.pstyle("border-position").value,B=e.pstyle("border-dash-pattern").pfValue,P=e.pstyle("border-dash-offset").pfValue,z=e.pstyle("border-opacity").value*g,q=e.pstyle("outline-width").pfValue,K=e.pstyle("outline-color").value,W=e.pstyle("outline-style").value,ae=e.pstyle("outline-opacity").value*g,ie=e.pstyle("outline-offset").value,se=e.pstyle("corner-radius").value;se!=="auto"&&(se=e.pstyle("corner-radius").pfValue);var oe=l(function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;s.eleFillStyle(t,e,Z)},"setupShapeColor"),Y=l(function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z;s.colorStrokeStyle(t,_[0],_[1],_[2],Z)},"setupBorderColor"),Q=l(function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ae;s.colorStrokeStyle(t,K[0],K[1],K[2],Z)},"setupOutlineColor"),j=l(function(Z,Ne,F,te){var ne=s.nodePathCache=s.nodePathCache||[],de=gne(F==="polygon"?F+","+te.join(","):F,""+Ne,""+Z,""+se),ge=ne[de],xe,Ee=!1;return ge!=null?(xe=ge,Ee=!0,d.pathCache=xe):(xe=new Path2D,ne[de]=d.pathCache=xe),{path:xe,cacheHit:Ee}},"getPath"),H=e.pstyle("shape").strValue,J=e.pstyle("shape-polygon-points").pfValue;if(f){t.translate(p.x,p.y);var he=j(o,h,H,J);m=he.path,y=he.cacheHit}var X=l(function(){if(!y){var Z=p;f&&(Z={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(m||t,Z.x,Z.y,o,h,se,d)}f?t.fill(m):t.fill()},"drawShape"),fe=l(function(){for(var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,F=u.backgrounding,te=0,ne=0;ne<T.length;ne++){var de=e.cy().style().getIndexedStyle(e,"background-image-containment","value",ne);if(Ne&&de==="over"||!Ne&&de==="inside"){te++;continue}k[ne]&&T[ne].complete&&!T[ne].error&&(te++,s.drawInscribedImage(t,T[ne],e,ne,Z))}u.backgrounding=te!==S,F!==u.backgrounding&&e.updateStyle(!1)},"drawImages"),V=l(function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasPie(e)&&(s.drawPie(t,e,Ne),Z&&(f||s.nodeShapes[s.getNodeShape(e)].draw(t,p.x,p.y,o,h,se,d)))},"drawPie"),Se=l(function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasStripe(e)&&(t.save(),f?t.clip(d.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(t,p.x,p.y,o,h,se,d),t.clip()),s.drawStripe(t,e,Ne),t.restore(),Z&&(f||s.nodeShapes[s.getNodeShape(e)].draw(t,p.x,p.y,o,h,se,d)))},"drawStripe"),ce=l(function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,Ne=(M>0?M:-M)*Z,F=M>0?0:255;M!==0&&(s.colorFillStyle(t,F,F,F,Ne),f?t.fill(m):t.fill())},"darken"),Le=l(function(){if(N>0){if(t.lineWidth=N,t.lineCap=O,t.lineJoin=R,t.setLineDash)switch(D){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(B),t.lineDashOffset=P;break;case"solid":case"double":t.setLineDash([]);break}if(A!=="center"){if(t.save(),t.lineWidth*=2,A==="inside")f?t.clip(m):t.clip();else{var Z=new Path2D;Z.rect(-o/2-N,-h/2-N,o+2*N,h+2*N),Z.addPath(m),t.clip(Z,"evenodd")}f?t.stroke(m):t.stroke(),t.restore()}else f?t.stroke(m):t.stroke();if(D==="double"){t.lineWidth=N/3;var Ne=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",f?t.stroke(m):t.stroke(),t.globalCompositeOperation=Ne}t.setLineDash&&t.setLineDash([])}},"drawBorder"),$e=l(function(){if(q>0){if(t.lineWidth=q,t.lineCap="butt",t.setLineDash)switch(W){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var Z=p;f&&(Z={x:0,y:0});var Ne=s.getNodeShape(e),F=N;A==="inside"&&(F=0),A==="outside"&&(F*=2);var te=(o+F+(q+ie))/o,ne=(h+F+(q+ie))/h,de=o*te,ge=h*ne,xe=s.nodeShapes[Ne].points,Ee;if(f){var Te=j(de,ge,Ne,xe);Ee=Te.path}if(Ne==="ellipse")s.drawEllipsePath(Ee||t,Z.x,Z.y,de,ge);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Ne)){var Fe=0,We=0,it=0;Ne==="round-diamond"?Fe=(F+ie+q)*1.4:Ne==="round-heptagon"?(Fe=(F+ie+q)*1.075,it=-(F/2+ie+q)/35):Ne==="round-hexagon"?Fe=(F+ie+q)*1.12:Ne==="round-pentagon"?(Fe=(F+ie+q)*1.13,it=-(F/2+ie+q)/15):Ne==="round-tag"?(Fe=(F+ie+q)*1.12,We=(F/2+q+ie)*.07):Ne==="round-triangle"&&(Fe=(F+ie+q)*(Math.PI/2),it=-(F+ie/2+q)/Math.PI),Fe!==0&&(te=(o+Fe)/o,de=o*te,["round-hexagon","round-tag"].includes(Ne)||(ne=(h+Fe)/h,ge=h*ne)),se=se==="auto"?Nne(de,ge):se;for(var Be=de/2,Ye=ge/2,Ge=se+(F+q+ie)/2,ze=new Array(xe.length/2),Xe=new Array(xe.length/2),xt=0;xt<xe.length/2;xt++)ze[xt]={x:Z.x+We+Be*xe[xt*2],y:Z.y+it+Ye*xe[xt*2+1]};var st,at,Tt,et,ct=ze.length;for(at=ze[ct-1],st=0;st<ct;st++)Tt=ze[st%ct],et=ze[(st+1)%ct],Xe[st]=ow(at,Tt,et,Ge),at=Tt,Tt=et;s.drawRoundPolygonPath(Ee||t,Z.x+We,Z.y+it,o*te,h*ne,xe,Xe)}else if(["roundrectangle","round-rectangle"].includes(Ne))se=se==="auto"?Ch(de,ge):se,s.drawRoundRectanglePath(Ee||t,Z.x,Z.y,de,ge,se+(F+q+ie)/2);else if(["cutrectangle","cut-rectangle"].includes(Ne))se=se==="auto"?SL():se,s.drawCutRectanglePath(Ee||t,Z.x,Z.y,de,ge,null,se+(F+q+ie)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Ne))se=se==="auto"?Ch(de,ge):se,s.drawBottomRoundRectanglePath(Ee||t,Z.x,Z.y,de,ge,se+(F+q+ie)/2);else if(Ne==="barrel")s.drawBarrelPath(Ee||t,Z.x,Z.y,de,ge);else if(Ne.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Ne)){var pt=(F+q+ie)/o;xe=B6(P6(xe,pt)),s.drawPolygonPath(Ee||t,Z.x,Z.y,o,h,xe)}else{var Qe=(F+q+ie)/o;xe=B6(P6(xe,-Qe)),s.drawPolygonPath(Ee||t,Z.x,Z.y,o,h,xe)}if(f?t.stroke(Ee):t.stroke(),W==="double"){t.lineWidth=F/3;var Ze=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",f?t.stroke(Ee):t.stroke(),t.globalCompositeOperation=Ze}t.setLineDash&&t.setLineDash([])}},"drawOutline"),je=l(function(){n&&s.drawNodeOverlay(t,e,p,o,h)},"drawOverlay"),qe=l(function(){n&&s.drawNodeUnderlay(t,e,p,o,h)},"drawUnderlay"),Ce=l(function(){s.drawElementText(t,e,null,i)},"drawText"),De=e.pstyle("ghost").value==="yes";if(De){var ye=e.pstyle("ghost-offset-x").pfValue,Pe=e.pstyle("ghost-offset-y").pfValue,ue=e.pstyle("ghost-opacity").value,Ve=ue*g;t.translate(ye,Pe),Q(),$e(),oe(ue*$),X(),fe(Ve,!0),Y(ue*z),Le(),V(M!==0||N!==0),Se(M!==0||N!==0),fe(Ve,!1),ce(Ve),t.translate(-ye,-Pe)}f&&t.translate(-p.x,-p.y),qe(),f&&t.translate(p.x,p.y),Q(),$e(),oe(),X(),fe(g,!0),Y(),Le(),V(M!==0||N!==0),Se(M!==0||N!==0),fe(g,!1),ce(),f&&t.translate(-p.x,-p.y),Ce(),je(),r&&t.translate(v.x1,v.y1)}};fse=l(function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(e,r,i,n,a){var s=this;if(r.visible()){var o=r.pstyle("".concat(t,"-padding")).pfValue,h=r.pstyle("".concat(t,"-opacity")).value,u=r.pstyle("".concat(t,"-color")).value,d=r.pstyle("".concat(t,"-shape")).value,p=r.pstyle("".concat(t,"-corner-radius")).value;if(h>0){if(i=i||r.position(),n==null||a==null){var g=r.padding();n=r.width()+2*g,a=r.height()+2*g}s.colorFillStyle(e,u[0],u[1],u[2],h),s.nodeShapes[d].draw(e,i.x,i.y,n+o*2,a+o*2,p),e.fill()}}}},"drawNodeOverlayUnderlay");Nh.drawNodeOverlay=fse("overlay");Nh.drawNodeUnderlay=fse("underlay");Nh.hasPie=function(t){return t=t[0],t._private.hasPie};Nh.hasStripe=function(t){return t=t[0],t._private.hasStripe};Nh.drawPie=function(t,e,r,i){e=e[0],i=i||e.position();var n=e.cy().style(),a=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),o=e.pstyle("pie-start-angle").pfValue,h=i.x,u=i.y,d=e.width(),p=e.height(),g=Math.min(d,p)/2,f,m=0,y=this.usePaths();if(y&&(h=0,u=0),a.units==="%"?g=g*a.pfValue:a.pfValue!==void 0&&(g=a.pfValue/2),s.units==="%"?f=g*s.pfValue:s.pfValue!==void 0&&(f=s.pfValue/2),!(f>=g))for(var b=1;b<=n.pieBackgroundN;b++){var v=e.pstyle("pie-"+b+"-background-size").value,x=e.pstyle("pie-"+b+"-background-color").value,w=e.pstyle("pie-"+b+"-background-opacity").value*r,k=v/100;k+m>1&&(k=1-m);var T=1.5*Math.PI+2*Math.PI*m;T+=o;var S=2*Math.PI*k,C=T+S;v===0||m>=1||m+k>1||(f===0?(t.beginPath(),t.moveTo(h,u),t.arc(h,u,g,T,C),t.closePath()):(t.beginPath(),t.arc(h,u,g,T,C),t.arc(h,u,f,C,T,!0),t.closePath()),this.colorFillStyle(t,x[0],x[1],x[2],w),t.fill(),m+=k)}};Nh.drawStripe=function(t,e,r,i){e=e[0],i=i||e.position();var n=e.cy().style(),a=i.x,s=i.y,o=e.width(),h=e.height(),u=0,d=this.usePaths();t.save();var p=e.pstyle("stripe-direction").value,g=e.pstyle("stripe-size");switch(p){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var f=o,m=h;g.units==="%"?(f=f*g.pfValue,m=m*g.pfValue):g.pfValue!==void 0&&(f=g.pfValue,m=g.pfValue),d&&(a=0,s=0),s-=f/2,a-=m/2;for(var y=1;y<=n.stripeBackgroundN;y++){var b=e.pstyle("stripe-"+y+"-background-size").value,v=e.pstyle("stripe-"+y+"-background-color").value,x=e.pstyle("stripe-"+y+"-background-opacity").value*r,w=b/100;w+u>1&&(w=1-u),!(b===0||u>=1||u+w>1)&&(t.beginPath(),t.rect(a,s+m*u,f,m*w),t.closePath(),this.colorFillStyle(t,v[0],v[1],v[2],x),t.fill(),u+=w)}t.restore()};ya={},B9e=100;ya.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};ya.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,i,n=0;n<e.length;n++)if(i=e[n],i.context===t){r=!1;break}return r&&(i={context:t},e.push(i)),i};ya.createGradientStyleFor=function(t,e,r,i,n){var a,s=this.usePaths(),o=r.pstyle(e+"-gradient-stop-colors").value,h=r.pstyle(e+"-gradient-stop-positions").pfValue;if(i==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),d=r.targetEndpoint(),p=r.midpoint(),g=od(u,p),f=od(d,p);a=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,f))}else{var m=s?{x:0,y:0}:r.position(),y=r.paddedWidth(),b=r.paddedHeight();a=t.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(y,b))}else if(r.isEdge()){var v=r.sourceEndpoint(),x=r.targetEndpoint();a=t.createLinearGradient(v.x,v.y,x.x,x.y)}else{var w=s?{x:0,y:0}:r.position(),k=r.paddedWidth(),T=r.paddedHeight(),S=k/2,C=T/2,E=r.pstyle("background-gradient-direction").value;switch(E){case"to-bottom":a=t.createLinearGradient(w.x,w.y-C,w.x,w.y+C);break;case"to-top":a=t.createLinearGradient(w.x,w.y+C,w.x,w.y-C);break;case"to-left":a=t.createLinearGradient(w.x+S,w.y,w.x-S,w.y);break;case"to-right":a=t.createLinearGradient(w.x-S,w.y,w.x+S,w.y);break;case"to-bottom-right":case"to-right-bottom":a=t.createLinearGradient(w.x-S,w.y-C,w.x+S,w.y+C);break;case"to-top-right":case"to-right-top":a=t.createLinearGradient(w.x-S,w.y+C,w.x+S,w.y-C);break;case"to-bottom-left":case"to-left-bottom":a=t.createLinearGradient(w.x+S,w.y-C,w.x-S,w.y+C);break;case"to-top-left":case"to-left-top":a=t.createLinearGradient(w.x+S,w.y+C,w.x-S,w.y-C);break}}if(!a)return null;for(var L=h.length===o.length,I=o.length,M=0;M<I;M++)a.addColorStop(L?h[M]:M/(I-1),"rgba("+o[M][0]+","+o[M][1]+","+o[M][2]+","+n+")");return a};ya.gradientFillStyle=function(t,e,r,i){var n=this.createGradientStyleFor(t,"background",e,r,i);if(!n)return null;t.fillStyle=n};ya.colorFillStyle=function(t,e,r,i,n){t.fillStyle="rgba("+e+","+r+","+i+","+n+")"};ya.eleFillStyle=function(t,e,r){var i=e.pstyle("background-fill").value;if(i==="linear-gradient"||i==="radial-gradient")this.gradientFillStyle(t,e,i,r);else{var n=e.pstyle("background-color").value;this.colorFillStyle(t,n[0],n[1],n[2],r)}};ya.gradientStrokeStyle=function(t,e,r,i){var n=this.createGradientStyleFor(t,"line",e,r,i);if(!n)return null;t.strokeStyle=n};ya.colorStrokeStyle=function(t,e,r,i,n){t.strokeStyle="rgba("+e+","+r+","+i+","+n+")"};ya.eleStrokeStyle=function(t,e,r){var i=e.pstyle("line-fill").value;if(i==="linear-gradient"||i==="radial-gradient")this.gradientStrokeStyle(t,e,i,r);else{var n=e.pstyle("line-color").value;this.colorStrokeStyle(t,n[0],n[1],n[2],r)}};ya.matchCanvasSize=function(t){var e=this,r=e.data,i=e.findContainerClientCoords(),n=i[2],a=i[3],s=e.getPixelRatio(),o=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var h=n*s,u=a*s,d;if(!(h===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var p=r.canvasContainer;p.style.width=n+"px",p.style.height=a+"px";for(var g=0;g<e.CANVAS_LAYERS;g++)d=r.canvases[g],d.width=h,d.height=u,d.style.width=n+"px",d.style.height=a+"px";for(var g=0;g<e.BUFFER_COUNT;g++)d=r.bufferCanvases[g],d.width=h,d.height=u,d.style.width=n+"px",d.style.height=a+"px";e.textureMult=1,s<=1&&(d=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,d.width=h*e.textureMult,d.height=u*e.textureMult),e.canvasWidth=h,e.canvasHeight=u,e.pixelRatio=s}};ya.renderTo=function(t,e,r,i){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:i})};ya.clearCanvas=function(){var t=this,e=t.data;function r(i){i.clearRect(0,0,t.canvasWidth,t.canvasHeight)}l(r,"clear"),r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};ya.render=function(t){var e=this;t=t||xne();var r=e.cy,i=t.forcedContext,n=t.drawAllLayers,a=t.drawOnlyNodeLayer,s=t.forcedZoom,o=t.forcedPan,h=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=e.data,d=u.canvasNeedsRedraw,p=e.textureOnViewport&&!i&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),g=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,f=e.motionBlurPxRatio,m=r.hasCompoundNodes(),y=e.hoverData.draggingEles,b=!!(e.hoverData.selecting||e.touchData.selecting);g=g&&!i&&e.motionBlurEnabled&&!b;var v=g;i||(e.prevPxRatio!==h&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=h),!i&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),g&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(v=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!p&&(d[e.NODE]=!0,d[e.SELECT_BOX]=!0);var x=r.style(),w=r.zoom(),k=s!==void 0?s:w,T=r.pan(),S={x:T.x,y:T.y},C={zoom:w,pan:{x:T.x,y:T.y}},E=e.prevViewport,L=E===void 0||C.zoom!==E.zoom||C.pan.x!==E.pan.x||C.pan.y!==E.pan.y;!L&&!(y&&!m)&&(e.motionBlurPxRatio=1),o&&(S=o),k*=h,S.x*=h,S.y*=h;var I=e.getCachedZSortedEles();function M(Y,Q,j,H,J){var he=Y.globalCompositeOperation;Y.globalCompositeOperation="destination-out",e.colorFillStyle(Y,255,255,255,e.motionBlurTransparency),Y.fillRect(Q,j,H,J),Y.globalCompositeOperation=he}l(M,"mbclear");function N(Y,Q){var j,H,J,he;!e.clearingMotionBlur&&(Y===u.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||Y===u.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(j={x:T.x*f,y:T.y*f},H=w*f,J=e.canvasWidth*f,he=e.canvasHeight*f):(j=S,H=k,J=e.canvasWidth,he=e.canvasHeight),Y.setTransform(1,0,0,1,0,0),Q==="motionBlur"?M(Y,0,0,J,he):!i&&(Q===void 0||Q)&&Y.clearRect(0,0,J,he),n||(Y.translate(j.x,j.y),Y.scale(H,H)),o&&Y.translate(o.x,o.y),s&&Y.scale(s,s)}if(l(N,"setContextTransform"),p||(e.textureDrawLastFrame=!1),p){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var $=e.data.bufferContexts[e.TEXTURE_BUFFER];$.setTransform(1,0,0,1,0,0),$.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:$,drawOnlyNodeLayer:!0,forcedPxRatio:h*e.textureMult});var C=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}d[e.DRAG]=!1,d[e.NODE]=!1;var _=u.contexts[e.NODE],D=e.textureCache.texture,C=e.textureCache.viewport;_.setTransform(1,0,0,1,0,0),g?M(_,0,0,C.width,C.height):_.clearRect(0,0,C.width,C.height);var R=x.core("outside-texture-bg-color").value,O=x.core("outside-texture-bg-opacity").value;e.colorFillStyle(_,R[0],R[1],R[2],O),_.fillRect(0,0,C.width,C.height);var w=r.zoom();N(_,!1),_.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/h,C.height/C.zoom/h),_.drawImage(D,C.mpan.x,C.mpan.y,C.width/C.zoom/h,C.height/C.zoom/h)}else e.textureOnViewport&&!i&&(e.textureCache=null);var A=r.extent(),B=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),P=e.hideEdgesOnViewport&&B,z=[];if(z[e.NODE]=!d[e.NODE]&&g&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,z[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),z[e.DRAG]=!d[e.DRAG]&&g&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,z[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),d[e.NODE]||n||a||z[e.NODE]){var q=g&&!z[e.NODE]&&f!==1,_=i||(q?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:u.contexts[e.NODE]),K=g&&!q?"motionBlur":void 0;N(_,K),P?e.drawCachedNodes(_,I.nondrag,h,A):e.drawLayeredElements(_,I.nondrag,h,A),e.debug&&e.drawDebugPoints(_,I.nondrag),!n&&!g&&(d[e.NODE]=!1)}if(!a&&(d[e.DRAG]||n||z[e.DRAG])){var q=g&&!z[e.DRAG]&&f!==1,_=i||(q?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:u.contexts[e.DRAG]);N(_,g&&!q?"motionBlur":void 0),P?e.drawCachedNodes(_,I.drag,h,A):e.drawCachedElements(_,I.drag,h,A),e.debug&&e.drawDebugPoints(_,I.drag),!n&&!g&&(d[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,N),g&&f!==1){var W=u.contexts[e.NODE],ae=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],ie=u.contexts[e.DRAG],se=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],oe=l(function(Y,Q,j){Y.setTransform(1,0,0,1,0,0),j||!v?Y.clearRect(0,0,e.canvasWidth,e.canvasHeight):M(Y,0,0,e.canvasWidth,e.canvasHeight);var H=f;Y.drawImage(Q,0,0,e.canvasWidth*H,e.canvasHeight*H,0,0,e.canvasWidth,e.canvasHeight)},"drawMotionBlur");(d[e.NODE]||z[e.NODE])&&(oe(W,ae,z[e.NODE]),d[e.NODE]=!1),(d[e.DRAG]||z[e.DRAG])&&(oe(ie,se,z[e.DRAG]),d[e.DRAG]=!1)}e.prevViewport=C,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),g&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!p,e.mbFrames=0,d[e.NODE]=!0,d[e.DRAG]=!0,e.redraw()},B9e)),i||r.emit("render")};ya.drawSelectionRectangle=function(t,e){var r=this,i=r.cy,n=r.data,a=i.style(),s=t.drawOnlyNodeLayer,o=t.drawAllLayers,h=n.canvasNeedsRedraw,u=t.forcedContext;if(r.showFps||!s&&h[r.SELECT_BOX]&&!o){var d=u||n.contexts[r.SELECT_BOX];if(e(d),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var p=r.cy.zoom(),g=a.core("selection-box-border-width").value/p;d.lineWidth=g,d.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",d.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),g>0&&(d.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",d.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(n.bgActivePosistion&&!r.hoverData.selecting){var p=r.cy.zoom(),f=n.bgActivePosistion;d.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",d.beginPath(),d.arc(f.x,f.y,a.core("active-bg-size").pfValue/p,0,2*Math.PI),d.fill()}var m=r.lastRedrawTime;if(r.showFps&&m){m=Math.round(m);var y=Math.round(1e3/m),b="1 frame = "+m+" ms = "+y+" fps";if(d.setTransform(1,0,0,1,0,0),d.fillStyle="rgba(255, 0, 0, 0.75)",d.strokeStyle="rgba(255, 0, 0, 0.75)",d.font="30px Arial",!Fv){var v=d.measureText(b);Fv=v.actualBoundingBoxAscent}d.fillText(b,0,Fv);var x=60;d.strokeRect(0,Fv+10,250,20),d.fillRect(0,Fv+10,250*Math.min(y/x,1),20)}o||(h[r.SELECT_BOX]=!1)}};l(lL,"compileShader");l(mse,"createProgram");l(yse,"createTextureCanvas");l(hw,"getEffectivePanZoom");l(vse,"getEffectiveZoom");l(bse,"modelToRenderedPosition");l(xse,"isSimpleShape");l(wse,"arrayEqual");l(mh,"toWebGLColor");l(rd,"indexToVec4");l(kse,"vec4ToIndex");l(Tse,"createTexture");l(ZL,"getTypeInfo");l(QL,"createTypedArray");l(Ese,"createTypedArrayView");l(Cse,"createBufferStaticDraw");l(co,"createBufferDynamicDraw");l(Sse,"create3x3MatrixBufferDynamicDraw");l(_se,"createPickingFrameBuffer");Oie=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});l(I6,"create");l(cL,"identity");l(Ase,"multiply");l(Hv,"translate");l(hL,"rotate");l(W6,"scale");l(Lse,"projection");P9e=(function(){function t(e,r,i,n){Hl(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=i,this.texHeight=Math.floor(r/i),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=n(e,r,r),this.scratch=n(e,r,this.texHeight,"scratch")}return l(t,"Atlas"),Xl(t,[{key:"lock",value:l(function(){this.locked=!0},"lock")},{key:"getKeys",value:l(function(){return new Set(this.keyToLocation.keys())},"getKeys")},{key:"getScale",value:l(function(e){var r=e.w,i=e.h,n=this.texHeight,a=this.texSize,s=n/i,o=r*s,h=i*s;return o>a&&(s=a/r,o=r*s,h=i*s),{scale:s,texW:o,texH:h}},"getScale")},{key:"draw",value:l(function(e,r,i){var n=this;if(this.locked)throw new Error("can't draw, atlas is locked");var a=this.texSize,s=this.texRows,o=this.texHeight,h=this.getScale(r),u=h.scale,d=h.texW,p=h.texH,g=l(function(v,x){if(i&&x){var w=x.context,k=v.x,T=v.row,S=k,C=o*T;w.save(),w.translate(S,C),w.scale(u,u),i(w,r),w.restore()}},"drawAt"),f=[null,null],m=l(function(){g(n.freePointer,n.canvas),f[0]={x:n.freePointer.x,y:n.freePointer.row*o,w:d,h:p},f[1]={x:n.freePointer.x+d,y:n.freePointer.row*o,w:0,h:p},n.freePointer.x+=d,n.freePointer.x==a&&(n.freePointer.x=0,n.freePointer.row++)},"drawNormal"),y=l(function(){var v=n.scratch,x=n.canvas;v.clear(),g({x:0,row:0},v);var w=a-n.freePointer.x,k=d-w,T=o;{var S=n.freePointer.x,C=n.freePointer.row*o,E=w;x.context.drawImage(v,0,0,E,T,S,C,E,T),f[0]={x:S,y:C,w:E,h:p}}{var L=w,I=(n.freePointer.row+1)*o,M=k;x&&x.context.drawImage(v,L,0,M,T,0,I,M,T),f[1]={x:0,y:I,w:M,h:p}}n.freePointer.x=k,n.freePointer.row++},"drawWrapped"),b=l(function(){n.freePointer.x=0,n.freePointer.row++},"moveToStartOfNextRow");if(this.freePointer.x+d<=a)m();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===a?(b(),m()):this.enableWrapping?y():(b(),m())}return this.keyToLocation.set(e,f),this.needsBuffer=!0,f},"draw")},{key:"getOffsets",value:l(function(e){return this.keyToLocation.get(e)},"getOffsets")},{key:"isEmpty",value:l(function(){return this.freePointer.x===0&&this.freePointer.row===0},"isEmpty")},{key:"canFit",value:l(function(e){if(this.locked)return!1;var r=this.texSize,i=this.texRows,n=this.getScale(e),a=n.texW;return this.freePointer.x+a>r?this.freePointer.row<i-1:!0},"canFit")},{key:"bufferIfNeeded",value:l(function(e){this.texture||(this.texture=Tse(e,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))},"bufferIfNeeded")},{key:"dispose",value:l(function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0},"dispose")}])})(),F9e=(function(){function t(e,r,i,n){Hl(this,t),this.r=e,this.texSize=r,this.texRows=i,this.createTextureCanvas=n,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return l(t,"AtlasCollection"),Xl(t,[{key:"getKeys",value:l(function(){return new Set(this.styleKeyToAtlas.keys())},"getKeys")},{key:"_createAtlas",value:l(function(){var e=this.r,r=this.texSize,i=this.texRows,n=this.createTextureCanvas;return new P9e(e,r,i,n)},"_createAtlas")},{key:"_getScratchCanvas",value:l(function(){if(!this.scratch){var e=this.r,r=this.texSize,i=this.texRows,n=this.createTextureCanvas,a=Math.floor(r/i);this.scratch=n(e,r,a,"scratch")}return this.scratch},"_getScratchCanvas")},{key:"draw",value:l(function(e,r,i){var n=this.styleKeyToAtlas.get(e);return n||(n=this.atlases[this.atlases.length-1],(!n||!n.canFit(r))&&(n&&n.lock(),n=this._createAtlas(),this.atlases.push(n)),n.draw(e,r,i),this.styleKeyToAtlas.set(e,n)),n},"draw")},{key:"getAtlas",value:l(function(e){return this.styleKeyToAtlas.get(e)},"getAtlas")},{key:"hasAtlas",value:l(function(e){return this.styleKeyToAtlas.has(e)},"hasAtlas")},{key:"markKeyForGC",value:l(function(e){this.markedKeys.add(e)},"markKeyForGC")},{key:"gc",value:l(function(){var e=this,r=this.markedKeys;if(r.size===0){console.log("nothing to garbage collect");return}var i=[],n=new Map,a=null,s=fa(this.atlases),o;try{var h=l(function(){var u=o.value,d=u.getKeys(),p=Nse(r,d);if(p.size===0)return i.push(u),d.forEach(function(w){return n.set(w,u)}),1;a||(a=e._createAtlas(),i.push(a));var g=fa(d),f;try{for(g.s();!(f=g.n()).done;){var m=f.value;if(!p.has(m)){var y=u.getOffsets(m),b=Gi(y,2),v=b[0],x=b[1];a.canFit({w:v.w+x.w,h:v.h})||(a.lock(),a=e._createAtlas(),i.push(a)),u.canvas&&(e._copyTextureToNewAtlas(m,u,a),n.set(m,a))}}}catch(w){g.e(w)}finally{g.f()}u.dispose()},"_loop");for(s.s();!(o=s.n()).done;)h()}catch(u){s.e(u)}finally{s.f()}this.atlases=i,this.styleKeyToAtlas=n,this.markedKeys=new Set},"gc")},{key:"_copyTextureToNewAtlas",value:l(function(e,r,i){var n=r.getOffsets(e),a=Gi(n,2),s=a[0],o=a[1];if(o.w===0)i.draw(e,s,function(p){p.drawImage(r.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var h=this._getScratchCanvas();h.clear(),h.context.drawImage(r.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),h.context.drawImage(r.canvas,o.x,o.y,o.w,o.h,s.w,0,o.w,o.h);var u=s.w+o.w,d=s.h;i.draw(e,{w:u,h:d},function(p){p.drawImage(h,0,0,u,d,0,0,u,d)})}},"_copyTextureToNewAtlas")},{key:"getCounts",value:l(function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}},"getCounts")}])})();l(Nse,"intersection");z9e=(function(){function t(e,r){Hl(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return l(t,"AtlasManager"),Xl(t,[{key:"getAtlasSize",value:l(function(){return this.atlasSize},"getAtlasSize")},{key:"addAtlasCollection",value:l(function(e,r){var i=this.globalOptions,n=i.webglTexSize,a=i.createTextureCanvas,s=r.texRows,o=this._cacheScratchCanvas(a),h=new F9e(this.r,n,s,o);this.collections.set(e,h)},"addAtlasCollection")},{key:"addRenderType",value:l(function(e,r){var i=r.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var n=this.collections.get(i),a=Xt({type:e,atlasCollection:n},r);this.renderTypes.set(e,a)},"addRenderType")},{key:"getRenderTypeOpts",value:l(function(e){return this.renderTypes.get(e)},"getRenderTypeOpts")},{key:"getAtlasCollection",value:l(function(e){return this.collections.get(e)},"getAtlasCollection")},{key:"_cacheScratchCanvas",value:l(function(e){var r=-1,i=-1,n=null;return function(a,s,o,h){return h?((!n||s!=r||o!=i)&&(r=s,i=o,n=e(a,s,o)),n):e(a,s,o)}},"_cacheScratchCanvas")},{key:"_key",value:l(function(e,r){return"".concat(e,"-").concat(r)},"_key")},{key:"invalidate",value:l(function(e){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.forceRedraw,a=n===void 0?!1:n,s=i.filterEle,o=s===void 0?function(){return!0}:s,h=i.filterType,u=h===void 0?function(){return!0}:h,d=!1,p=!1,g=fa(e),f;try{for(g.s();!(f=g.n()).done;){var m=f.value;if(o(m)){var y=fa(this.renderTypes.values()),b;try{var v=l(function(){var x=b.value,w=x.type;if(u(w)){var k=r.collections.get(x.collection),T=x.getKey(m),S=Array.isArray(T)?T:[T];if(a)S.forEach(function(I){return k.markKeyForGC(I)}),p=!0;else{var C=x.getID?x.getID(m):m.id(),E=r._key(w,C),L=r.typeAndIdToKey.get(E);L!==void 0&&!wse(S,L)&&(d=!0,r.typeAndIdToKey.delete(E),L.forEach(function(I){return k.markKeyForGC(I)}))}}},"_loop2");for(y.s();!(b=y.n()).done;)v()}catch(x){y.e(x)}finally{y.f()}}}}catch(x){g.e(x)}finally{g.f()}return p&&(this.gc(),d=!1),d},"invalidate")},{key:"gc",value:l(function(){var e=fa(this.collections.values()),r;try{for(e.s();!(r=e.n()).done;){var i=r.value;i.gc()}}catch(n){e.e(n)}finally{e.f()}},"gc")},{key:"getOrCreateAtlas",value:l(function(e,r,i,n){var a=this.renderTypes.get(r),s=this.collections.get(a.collection),o=!1,h=s.draw(n,i,function(p){a.drawClipped?(p.save(),p.beginPath(),p.rect(0,0,i.w,i.h),p.clip(),a.drawElement(p,e,i,!0,!0),p.restore()):a.drawElement(p,e,i,!0,!0),o=!0});if(o){var u=a.getID?a.getID(e):e.id(),d=this._key(r,u);this.typeAndIdToKey.has(d)?this.typeAndIdToKey.get(d).push(n):this.typeAndIdToKey.set(d,[n])}return h},"getOrCreateAtlas")},{key:"getAtlasInfo",value:l(function(e,r){var i=this,n=this.renderTypes.get(r),a=n.getKey(e),s=Array.isArray(a)?a:[a];return s.map(function(o){var h=n.getBoundingBox(e,o),u=i.getOrCreateAtlas(e,r,h,o),d=u.getOffsets(o),p=Gi(d,2),g=p[0],f=p[1];return{atlas:u,tex:g,tex1:g,tex2:f,bb:h}})},"getAtlasInfo")},{key:"getDebugInfo",value:l(function(){var e=[],r=fa(this.collections),i;try{for(r.s();!(i=r.n()).done;){var n=Gi(i.value,2),a=n[0],s=n[1],o=s.getCounts(),h=o.keyCount,u=o.atlasCount;e.push({type:a,keyCount:h,atlasCount:u})}}catch(d){r.e(d)}finally{r.f()}return e},"getDebugInfo")}])})(),G9e=(function(){function t(e){Hl(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return l(t,"AtlasBatchManager"),Xl(t,[{key:"getMaxAtlasesPerBatch",value:l(function(){return this.maxAtlasesPerBatch},"getMaxAtlasesPerBatch")},{key:"getAtlasSize",value:l(function(){return this.atlasSize},"getAtlasSize")},{key:"getIndexArray",value:l(function(){return Array.from({length:this.maxAtlasesPerBatch},function(e,r){return r})},"getIndexArray")},{key:"startBatch",value:l(function(){this.batchAtlases=[]},"startBatch")},{key:"getAtlasCount",value:l(function(){return this.batchAtlases.length},"getAtlasCount")},{key:"getAtlases",value:l(function(){return this.batchAtlases},"getAtlases")},{key:"canAddToCurrentBatch",value:l(function(e){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(e):!0},"canAddToCurrentBatch")},{key:"getAtlasIndexForBatch",value:l(function(e){var r=this.batchAtlases.indexOf(e);if(r<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(e),r=this.batchAtlases.length-1}return r},"getAtlasIndexForBatch")}])})(),q9e=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,U9e=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,j9e=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,W9e=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Xv={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},V6={IGNORE:1,USE_BB:2},D9=0,$ie=1,Bie=2,M9=3,rg=4,v6=5,zv=6,Gv=7,V9e=(function(){function t(e,r,i){Hl(this,t),this.r=e,this.gl=r,this.maxInstances=i.webglBatchSize,this.atlasSize=i.webglTexSize,this.bgColor=i.bgColor,this.debug=i.webglDebug,this.batchDebugInfo=[],i.enableWrapping=!0,i.createTextureCanvas=yse,this.atlasManager=new z9e(e,i),this.batchManager=new G9e(i),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Xv.SCREEN),this.pickingProgram=this._createShaderProgram(Xv.PICKING),this.vao=this._createVAO()}return l(t,"ElementDrawingWebGL"),Xl(t,[{key:"addAtlasCollection",value:l(function(e,r){this.atlasManager.addAtlasCollection(e,r)},"addAtlasCollection")},{key:"addTextureAtlasRenderType",value:l(function(e,r){this.atlasManager.addRenderType(e,r)},"addTextureAtlasRenderType")},{key:"addSimpleShapeRenderType",value:l(function(e,r){this.simpleShapeOptions.set(e,r)},"addSimpleShapeRenderType")},{key:"invalidate",value:l(function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.type,n=this.atlasManager;return i?n.invalidate(e,{filterType:l(function(a){return a===i},"filterType"),forceRedraw:!0}):n.invalidate(e)},"invalidate")},{key:"gc",value:l(function(){this.atlasManager.gc()},"gc")},{key:"_createShaderProgram",value:l(function(e){var r=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(D9,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(rg," || aVertType == ").concat(Gv,` 
             || aVertType == `).concat(v6," || aVertType == ").concat(zv,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat($ie,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(Bie,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(M9,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),n=this.batchManager.getIndexArray(),a=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(n.map(function(h){return"uniform sampler2D uTexture".concat(h,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(q9e,`
      `).concat(U9e,`
      `).concat(j9e,`
      `).concat(W9e,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(D9,`) {
          // look up the texel from the texture unit
          `).concat(n.map(function(h){return"if(vAtlasId == ".concat(h,") outColor = texture(uTexture").concat(h,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(M9,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(rg,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(rg," || vVertType == ").concat(Gv,` 
          || vVertType == `).concat(v6," || vVertType == ").concat(zv,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(rg,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Gv,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Gv,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(e.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=mse(r,i,a);s.aPosition=r.getAttribLocation(s,"aPosition"),s.aIndex=r.getAttribLocation(s,"aIndex"),s.aVertType=r.getAttribLocation(s,"aVertType"),s.aTransform=r.getAttribLocation(s,"aTransform"),s.aAtlasId=r.getAttribLocation(s,"aAtlasId"),s.aTex=r.getAttribLocation(s,"aTex"),s.aPointAPointB=r.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=r.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=r.getAttribLocation(s,"aLineWidth"),s.aColor=r.getAttribLocation(s,"aColor"),s.aCornerRadius=r.getAttribLocation(s,"aCornerRadius"),s.aBorderColor=r.getAttribLocation(s,"aBorderColor"),s.uPanZoomMatrix=r.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=r.getUniformLocation(s,"uAtlasSize"),s.uBGColor=r.getUniformLocation(s,"uBGColor"),s.uZoom=r.getUniformLocation(s,"uZoom"),s.uTextures=[];for(var o=0;o<this.batchManager.getMaxAtlasesPerBatch();o++)s.uTextures.push(r.getUniformLocation(s,"uTexture".concat(o)));return s},"_createShaderProgram")},{key:"_createVAO",value:l(function(){var e=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=e.length/2;var r=this.maxInstances,i=this.gl,n=this.program,a=i.createVertexArray();return i.bindVertexArray(a),Cse(i,"vec2",n.aPosition,e),this.transformBuffer=Sse(i,r,n.aTransform),this.indexBuffer=co(i,r,"vec4",n.aIndex),this.vertTypeBuffer=co(i,r,"int",n.aVertType),this.atlasIdBuffer=co(i,r,"int",n.aAtlasId),this.texBuffer=co(i,r,"vec4",n.aTex),this.pointAPointBBuffer=co(i,r,"vec4",n.aPointAPointB),this.pointCPointDBuffer=co(i,r,"vec4",n.aPointCPointD),this.lineWidthBuffer=co(i,r,"vec2",n.aLineWidth),this.colorBuffer=co(i,r,"vec4",n.aColor),this.cornerRadiusBuffer=co(i,r,"vec4",n.aCornerRadius),this.borderColorBuffer=co(i,r,"vec4",n.aBorderColor),i.bindVertexArray(null),a},"_createVAO")},{key:"buffers",get:l(function(){var e=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(r){return vh(r,"Buffer")}).map(function(r){return e[r]})),this._buffers},"get")},{key:"startFrame",value:l(function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xv.SCREEN;this.panZoomMatrix=e,this.renderTarget=r,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()},"startFrame")},{key:"startBatch",value:l(function(){this.instanceCount=0,this.batchManager.startBatch()},"startBatch")},{key:"endFrame",value:l(function(){this.endBatch()},"endFrame")},{key:"_isVisible",value:l(function(e,r){return e.visible()?r&&r.isVisible?r.isVisible(e):!0:!1},"_isVisible")},{key:"drawTexture",value:l(function(e,r,i){var n=this.atlasManager,a=this.batchManager,s=n.getRenderTypeOpts(i);if(this._isVisible(e,s)&&!(e.isEdge()&&!this._isValidEdge(e))){if(this.renderTarget.picking&&s.getTexPickingMode){var o=s.getTexPickingMode(e);if(o===V6.IGNORE)return;if(o==V6.USE_BB){this.drawPickingRectangle(e,r,i);return}}var h=n.getAtlasInfo(e,i),u=fa(h),d;try{for(u.s();!(d=u.n()).done;){var p=d.value,g=p.atlas,f=p.tex1,m=p.tex2;a.canAddToCurrentBatch(g)||this.endBatch();for(var y=a.getAtlasIndexForBatch(g),b=0,v=[[f,!0],[m,!1]];b<v.length;b++){var x=Gi(v[b],2),w=x[0],k=x[1];if(w.w!=0){var T=this.instanceCount;this.vertTypeBuffer.getView(T)[0]=D9;var S=this.indexBuffer.getView(T);rd(r,S);var C=this.atlasIdBuffer.getView(T);C[0]=y;var E=this.texBuffer.getView(T);E[0]=w.x,E[1]=w.y,E[2]=w.w,E[3]=w.h;var L=this.transformBuffer.getMatrixView(T);this.setTransformMatrix(e,L,s,p,k),this.instanceCount++,k||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(I){u.e(I)}finally{u.f()}}},"drawTexture")},{key:"setTransformMatrix",value:l(function(e,r,i,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=0;if(i.shapeProps&&i.shapeProps.padding&&(s=e.pstyle(i.shapeProps.padding).pfValue),n){var o=n.bb,h=n.tex1,u=n.tex2,d=h.w/(h.w+u.w);a||(d=1-d);var p=this._getAdjustedBB(o,s,a,d);this._applyTransformMatrix(r,p,i,e)}else{var g=i.getBoundingBox(e),f=this._getAdjustedBB(g,s,!0,1);this._applyTransformMatrix(r,f,i,e)}},"setTransformMatrix")},{key:"_applyTransformMatrix",value:l(function(e,r,i,n){var a,s;cL(e);var o=i.getRotation?i.getRotation(n):0;if(o!==0){var h=i.getRotationPoint(n),u=h.x,d=h.y;Hv(e,e,[u,d]),hL(e,e,o);var p=i.getRotationOffset(n);a=p.x+(r.xOffset||0),s=p.y+(r.yOffset||0)}else a=r.x1,s=r.y1;Hv(e,e,[a,s]),W6(e,e,[r.w,r.h])},"_applyTransformMatrix")},{key:"_getAdjustedBB",value:l(function(e,r,i,n){var a=e.x1,s=e.y1,o=e.w,h=e.h,u=e.yOffset;r&&(a-=r,s-=r,o+=2*r,h+=2*r);var d=0,p=o*n;return i&&n<1?o=p:!i&&n<1&&(d=o-p,a+=d,o=p),{x1:a,y1:s,w:o,h,xOffset:d,yOffset:u}},"_getAdjustedBB")},{key:"drawPickingRectangle",value:l(function(e,r,i){var n=this.atlasManager.getRenderTypeOpts(i),a=this.instanceCount;this.vertTypeBuffer.getView(a)[0]=rg;var s=this.indexBuffer.getView(a);rd(r,s);var o=this.colorBuffer.getView(a);mh([0,0,0],1,o);var h=this.transformBuffer.getMatrixView(a);this.setTransformMatrix(e,h,n),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()},"drawPickingRectangle")},{key:"drawNode",value:l(function(e,r,i){var n=this.simpleShapeOptions.get(i);if(this._isVisible(e,n)){var a=n.shapeProps,s=this._getVertTypeForShape(e,a.shape);if(s===void 0||n.isSimple&&!n.isSimple(e)){this.drawTexture(e,r,i);return}var o=this.instanceCount;if(this.vertTypeBuffer.getView(o)[0]=s,s===v6||s===zv){var h=n.getBoundingBox(e),u=this._getCornerRadius(e,a.radius,h),d=this.cornerRadiusBuffer.getView(o);d[0]=u,d[1]=u,d[2]=u,d[3]=u,s===zv&&(d[0]=0,d[2]=0)}var p=this.indexBuffer.getView(o);rd(r,p);var g=e.pstyle(a.color).value,f=e.pstyle(a.opacity).value,m=this.colorBuffer.getView(o);mh(g,f,m);var y=this.lineWidthBuffer.getView(o);if(y[0]=0,y[1]=0,a.border){var b=e.pstyle("border-width").value;if(b>0){var v=e.pstyle("border-color").value,x=e.pstyle("border-opacity").value,w=this.borderColorBuffer.getView(o);mh(v,x,w);var k=e.pstyle("border-position").value;if(k==="inside")y[0]=0,y[1]=-b;else if(k==="outside")y[0]=b,y[1]=0;else{var T=b/2;y[0]=T,y[1]=-T}}}var S=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(e,S,n),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},"drawNode")},{key:"_getVertTypeForShape",value:l(function(e,r){var i=e.pstyle(r).value;switch(i){case"rectangle":return rg;case"ellipse":return Gv;case"roundrectangle":case"round-rectangle":return v6;case"bottom-round-rectangle":return zv;default:return}},"_getVertTypeForShape")},{key:"_getCornerRadius",value:l(function(e,r,i){var n=i.w,a=i.h;if(e.pstyle(r).value==="auto")return Ch(n,a);var s=e.pstyle(r).pfValue,o=n/2,h=a/2;return Math.min(s,h,o)},"_getCornerRadius")},{key:"drawEdgeArrow",value:l(function(e,r,i){if(e.visible()){var n=e._private.rscratch,a,s,o;if(i==="source"?(a=n.arrowStartX,s=n.arrowStartY,o=n.srcArrowAngle):(a=n.arrowEndX,s=n.arrowEndY,o=n.tgtArrowAngle),!(isNaN(a)||a==null||isNaN(s)||s==null||isNaN(o)||o==null)){var h=e.pstyle(i+"-arrow-shape").value;if(h!=="none"){var u=e.pstyle(i+"-arrow-color").value,d=e.pstyle("opacity").value,p=e.pstyle("line-opacity").value,g=d*p,f=e.pstyle("width").pfValue,m=e.pstyle("arrow-scale").value,y=this.r.getArrowWidth(f,m),b=this.instanceCount,v=this.transformBuffer.getMatrixView(b);cL(v),Hv(v,v,[a,s]),W6(v,v,[y,y]),hL(v,v,o),this.vertTypeBuffer.getView(b)[0]=M9;var x=this.indexBuffer.getView(b);rd(r,x);var w=this.colorBuffer.getView(b);mh(u,g,w),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},"drawEdgeArrow")},{key:"drawEdgeLine",value:l(function(e,r){if(e.visible()){var i=this._getEdgePoints(e);if(i){var n=e.pstyle("opacity").value,a=e.pstyle("line-opacity").value,s=e.pstyle("width").pfValue,o=e.pstyle("line-color").value,h=n*a;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var u=this.instanceCount;this.vertTypeBuffer.getView(u)[0]=$ie;var d=this.indexBuffer.getView(u);rd(r,d);var p=this.colorBuffer.getView(u);mh(o,h,p);var g=this.lineWidthBuffer.getView(u);g[0]=s;var f=this.pointAPointBBuffer.getView(u);f[0]=i[0],f[1]=i[1],f[2]=i[2],f[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var m=0;m<i.length-2;m+=2){var y=this.instanceCount;this.vertTypeBuffer.getView(y)[0]=Bie;var b=this.indexBuffer.getView(y);rd(r,b);var v=this.colorBuffer.getView(y);mh(o,h,v);var x=this.lineWidthBuffer.getView(y);x[0]=s;var w=i[m-2],k=i[m-1],T=i[m],S=i[m+1],C=i[m+2],E=i[m+3],L=i[m+4],I=i[m+5];m==0&&(w=2*T-C+.001,k=2*S-E+.001),m==i.length-4&&(L=2*C-T+.001,I=2*E-S+.001);var M=this.pointAPointBBuffer.getView(y);M[0]=w,M[1]=k,M[2]=T,M[3]=S;var N=this.pointCPointDBuffer.getView(y);N[0]=C,N[1]=E,N[2]=L,N[3]=I,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},"drawEdgeLine")},{key:"_isValidEdge",value:l(function(e){var r=e._private.rscratch;return!(r.badLine||r.allpts==null||isNaN(r.allpts[0]))},"_isValidEdge")},{key:"_getEdgePoints",value:l(function(e){var r=e._private.rscratch;if(this._isValidEdge(e)){var i=r.allpts;if(i.length==4)return i;var n=this._getNumSegments(e);return this._getCurveSegmentPoints(i,n)}},"_getEdgePoints")},{key:"_getNumSegments",value:l(function(e){var r=15;return Math.min(Math.max(r,5),this.maxInstances)},"_getNumSegments")},{key:"_getCurveSegmentPoints",value:l(function(e,r){if(e.length==4)return e;for(var i=Array((r+1)*2),n=0;n<=r;n++)if(n==0)i[0]=e[0],i[1]=e[1];else if(n==r)i[n*2]=e[e.length-2],i[n*2+1]=e[e.length-1];else{var a=n/r;this._setCurvePoint(e,a,i,n*2)}return i},"_getCurveSegmentPoints")},{key:"_setCurvePoint",value:l(function(e,r,i,n){if(e.length<=2)i[n]=e[0],i[n+1]=e[1];else{for(var a=Array(e.length-2),s=0;s<a.length;s+=2){var o=(1-r)*e[s]+r*e[s+2],h=(1-r)*e[s+1]+r*e[s+3];a[s]=o,a[s+1]=h}return this._setCurvePoint(a,r,i,n)}},"_setCurvePoint")},{key:"endBatch",value:l(function(){var e=this.gl,r=this.vao,i=this.vertexCount,n=this.instanceCount;if(n!==0){var a=this.renderTarget.picking?this.pickingProgram:this.program;e.useProgram(a),e.bindVertexArray(r);var s=fa(this.buffers),o;try{for(s.s();!(o=s.n()).done;){var h=o.value;h.bufferSubData(n)}}catch(f){s.e(f)}finally{s.f()}for(var u=this.batchManager.getAtlases(),d=0;d<u.length;d++)u[d].bufferIfNeeded(e);for(var p=0;p<u.length;p++)e.activeTexture(e.TEXTURE0+p),e.bindTexture(e.TEXTURE_2D,u[p].texture),e.uniform1i(a.uTextures[p],p);e.uniform1f(a.uZoom,vse(this.r)),e.uniformMatrix3fv(a.uPanZoomMatrix,!1,this.panZoomMatrix),e.uniform1i(a.uAtlasSize,this.batchManager.getAtlasSize());var g=mh(this.bgColor,1);e.uniform4fv(a.uBGColor,g),e.drawArraysInstanced(e.TRIANGLES,0,i,n),e.bindVertexArray(null),e.bindTexture(e.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:n,atlasCount:u.length}),this.startBatch()}},"endBatch")},{key:"getDebugInfo",value:l(function(){var e=this.atlasManager.getDebugInfo(),r=e.reduce(function(a,s){return a+s.atlasCount},0),i=this.batchDebugInfo,n=i.reduce(function(a,s){return a+s.count},0);return{atlasInfo:e,totalAtlases:r,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:n}},"getDebugInfo")}])})(),Ise={};Ise.initWebgl=function(t,e){var r=this,i=r.data.contexts[r.WEBGL];t.bgColor=Rse(r),t.webglTexSize=Math.min(t.webglTexSize,i.getParameter(i.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=_se(i),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new V9e(r,i,t);var n=l(function(d){return function(p){return r.getTextAngle(p,d)}},"getLabelRotation"),a=l(function(d){return function(p){var g=p.pstyle(d);return g&&g.value}},"isLabelVisible"),s=l(function(d){return function(p){return p.pstyle("".concat(d,"-opacity")).value>0}},"isLayerVisible"),o=l(function(d){var p=d.pstyle("text-events").strValue==="yes";return p?V6.USE_BB:V6.IGNORE},"getTexPickingMode"),h=l(function(d){var p=d.position(),g=p.x,f=p.y,m=d.outerWidth(),y=d.outerHeight();return{w:m,h:y,x1:g-m/2,y1:f-y/2}},"getBBForSimpleShape");r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:h,isSimple:xse,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:h,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:h,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:o,getKey:O9(e.getLabelKey,null),getBoundingBox:$9(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:n(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:a("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:o,getKey:O9(e.getSourceLabelKey,"source"),getBoundingBox:$9(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:n("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:a("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:o,getKey:O9(e.getTargetLabelKey,"target"),getBoundingBox:$9(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:n("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:a("target-label")});var u=hb(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(d,p){var g=!1;p&&p.length>0&&(g|=r.drawing.invalidate(p)),g&&u()}),Dse(r)};l(Rse,"getBGColor");l(JL,"getLabelLines");O9=l(function(t,e){return function(r){var i=t(r),n=JL(r,e);return n.length>1?n.map(function(a,s){return"".concat(i,"_").concat(s)}):i}},"getStyleKeysForLabel"),$9=l(function(t,e){return function(r,i){var n=t(r);if(typeof i=="string"){var a=i.indexOf("_");if(a>0){var s=Number(i.substring(a+1)),o=JL(r,e),h=n.h/o.length,u=h*s,d=n.y1+u;return{x1:n.x1,w:n.w,y1:d,h,yOffset:u}}}return n}},"getBoundingBoxForLabel");l(Dse,"overrideCanvasRendererFunctions");l(Mse,"clearWebgl");l(Ose,"clearCanvas");l($se,"createPanZoomMatrix");l(eN,"setContextTransform");l(Bse,"drawSelectionRectangle");l(Pse,"drawAxes");l(Fse,"drawAtlases");l(zse,"getPickingIndexes");l(Gse,"findNearestElementsWebgl");l(R6,"drawEle");l(tN,"renderWebgl");Ih={};Ih.drawPolygonPath=function(t,e,r,i,n,a){var s=i/2,o=n/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*a[0],r+o*a[1]);for(var h=1;h<a.length/2;h++)t.lineTo(e+s*a[h*2],r+o*a[h*2+1]);t.closePath()};Ih.drawRoundPolygonPath=function(t,e,r,i,n,a,s){s.forEach(function(o){return YL(t,o)}),t.closePath()};Ih.drawRoundRectanglePath=function(t,e,r,i,n,a){var s=i/2,o=n/2,h=a==="auto"?Ch(i,n):Math.min(a,o,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+s,r-o,e+s,r,h),t.arcTo(e+s,r+o,e,r+o,h),t.arcTo(e-s,r+o,e-s,r,h),t.arcTo(e-s,r-o,e,r-o,h),t.lineTo(e,r-o),t.closePath()};Ih.drawBottomRoundRectanglePath=function(t,e,r,i,n,a){var s=i/2,o=n/2,h=a==="auto"?Ch(i,n):a;t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+s,r-o),t.lineTo(e+s,r),t.arcTo(e+s,r+o,e,r+o,h),t.arcTo(e-s,r+o,e-s,r,h),t.lineTo(e-s,r-o),t.lineTo(e,r-o),t.closePath()};Ih.drawCutRectanglePath=function(t,e,r,i,n,a,s){var o=i/2,h=n/2,u=s==="auto"?SL():s;t.beginPath&&t.beginPath(),t.moveTo(e-o+u,r-h),t.lineTo(e+o-u,r-h),t.lineTo(e+o,r-h+u),t.lineTo(e+o,r+h-u),t.lineTo(e+o-u,r+h),t.lineTo(e-o+u,r+h),t.lineTo(e-o,r+h-u),t.lineTo(e-o,r-h+u),t.closePath()};Ih.drawBarrelPath=function(t,e,r,i,n){var a=i/2,s=n/2,o=e-a,h=e+a,u=r-s,d=r+s,p=F9(i,n),g=p.widthOffset,f=p.heightOffset,m=p.ctrlPtOffsetPct*g;t.beginPath&&t.beginPath(),t.moveTo(o,u+f),t.lineTo(o,d-f),t.quadraticCurveTo(o+m,d,o+g,d),t.lineTo(h-g,d),t.quadraticCurveTo(h-m,d,h,d-f),t.lineTo(h,u+f),t.quadraticCurveTo(h-m,u,h-g,u),t.lineTo(o+g,u),t.quadraticCurveTo(o+m,u,o,u+f),t.closePath()};Pie=Math.sin(0),Fie=Math.cos(0),uL={},dL={},qse=Math.PI/40;for(Zu=0*Math.PI;Zu<2*Math.PI;Zu+=qse)uL[Zu]=Math.sin(Zu),dL[Zu]=Math.cos(Zu);Ih.drawEllipsePath=function(t,e,r,i,n){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,i/2,n/2,0,0,2*Math.PI);else for(var a,s,o=i/2,h=n/2,u=0*Math.PI;u<2*Math.PI;u+=qse)a=e-o*uL[u]*Pie+o*dL[u]*Fie,s=r+h*dL[u]*Pie+h*uL[u]*Fie,u===0?t.moveTo(a,s):t.lineTo(a,s);t.closePath()};Cb={};Cb.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Cb.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),i=r.boundingBox(),n=this.findContainerClientCoords(),a=t.full?Math.ceil(i.w):n[2],s=t.full?Math.ceil(i.h):n[3],o=ft(t.maxWidth)||ft(t.maxHeight),h=this.getPixelRatio(),u=1;if(t.scale!==void 0)a*=t.scale,s*=t.scale,u=t.scale;else if(o){var d=1/0,p=1/0;ft(t.maxWidth)&&(d=u*t.maxWidth/a),ft(t.maxHeight)&&(p=u*t.maxHeight/s),u=Math.min(d,p),a*=u,s*=u}o||(a*=h,s*=h,u*=h);var g=document.createElement("canvas");g.width=a,g.height=s,g.style.width=a+"px",g.style.height=s+"px";var f=g.getContext("2d");if(a>0&&s>0){f.clearRect(0,0,a,s),f.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(t.full)f.translate(-i.x1*u,-i.y1*u),f.scale(u,u),this.drawElements(f,m),f.scale(1/u,1/u),f.translate(i.x1*u,i.y1*u);else{var y=e.pan(),b={x:y.x*u,y:y.y*u};u*=e.zoom(),f.translate(b.x,b.y),f.scale(u,u),this.drawElements(f,m),f.scale(1/u,1/u),f.translate(-b.x,-b.y)}t.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=t.bg,f.rect(0,0,a,s),f.fill())}return g};l(Use,"b64ToBlob");l(pL,"b64UriToB64");l(rN,"output");Cb.png=function(t){return rN(t,this.bufferCanvasImage(t),"image/png")};Cb.jpg=function(t){return rN(t,this.bufferCanvasImage(t),"image/jpeg")};jse={};jse.nodeShapeImpl=function(t,e,r,i,n,a,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,i,n,a);case"polygon":return this.drawPolygonPath(e,r,i,n,a,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,i,n,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,i,n,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,i,n,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,i,n,a,o);case"barrel":return this.drawBarrelPath(e,r,i,n,a)}};Y9e=iN,dr=iN.prototype;dr.CANVAS_LAYERS=3;dr.SELECT_BOX=0;dr.DRAG=1;dr.NODE=2;dr.WEBGL=3;dr.CANVAS_TYPES=["2d","2d","2d","webgl2"];dr.BUFFER_COUNT=3;dr.TEXTURE_BUFFER=0;dr.MOTIONBLUR_BUFFER_NODE=1;dr.MOTIONBLUR_BUFFER_DRAG=2;l(iN,"CanvasRenderer");dr.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[dr.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[dr.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[dr.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};H9e=typeof Path2D<"u";dr.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};dr.usePaths=function(){return H9e&&this.pathsEnabled};dr.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};dr.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};dr.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Qi(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var i=this.cy.window(),n=i.document;r=n.createElement("canvas"),r.width=t,r.height=e}return r};[lse,rl,Zl,KL,pd,Nh,ya,Ise,Ih,Cb,jse].forEach(function(t){Xt(dr,t)});X9e=[{name:"null",impl:WL},{name:"base",impl:nse},{name:"canvas",impl:Y9e}],K9e=[{type:"layout",extensions:JAe},{type:"renderer",extensions:X9e}],Wse={},Vse={};l(nN,"setExtension");l(aN,"getExtension");l(Yse,"setModule");l(Hse,"getModule");gL=l(function(){if(arguments.length===2)return aN.apply(null,arguments);if(arguments.length===3)return nN.apply(null,arguments);if(arguments.length===4)return Hse.apply(null,arguments);if(arguments.length===5)return Yse.apply(null,arguments);vi("Invalid extension access syntax")},"extension");ab.prototype.extension=gL;K9e.forEach(function(t){t.extensions.forEach(function(e){nN(t.type,e.name,e.impl)})});Y6=l(function(){if(!(this instanceof Y6))return new Y6;this.length=0},"Stylesheet"),hd=Y6.prototype;hd.instanceString=function(){return"stylesheet"};hd.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};hd.css=function(t,e){var r=this.length-1;if(zt(t))this[r].properties.push({name:t,value:e});else if($r(t))for(var i=t,n=Object.keys(i),a=0;a<n.length;a++){var s=n[a],o=i[s];if(o!=null){var h=bn.properties[s]||bn.properties[X6(s)];if(h!=null){var u=h.name,d=o;this[r].properties.push({name:u,value:d})}}}return this};hd.style=hd.css;hd.generateStyle=function(t){var e=new bn(t);return this.appendToStyle(e)};hd.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],i=r.selector,n=r.properties;t.selector(i);for(var a=0;a<n.length;a++){var s=n[a];t.css(s.name,s.value)}}return t};Z9e="3.33.1",Rs=l(function(t){if(t===void 0&&(t={}),$r(t))return new ab(t);if(zt(t))return gL.apply(gL,arguments)},"cytoscape");Rs.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Rs),t.apply(null,e),this};Rs.warnings=function(t){return vne(t)};Rs.version=Z9e;Rs.stylesheet=Rs.Stylesheet=Y6;});var noe={};Tr(noe,{render:()=>tLe});function Zse(t,e){t.forEach(r=>{let i={id:r.id,labelText:r.label,height:r.height,width:r.width,padding:r.padding??0};Object.keys(r).forEach(n=>{["id","label","height","width","padding","x","y"].includes(n)||(i[n]=r[n])}),e.add({group:"nodes",data:i,position:{x:r.x??0,y:r.y??0}})})}function Qse(t,e){t.forEach(r=>{let i={id:r.id,source:r.start,target:r.end};Object.keys(r).forEach(n=>{["id","start","end"].includes(n)||(i[n]=r[n])}),e.add({group:"edges",data:i})})}function Jse(t){return new Promise(e=>{let r=Ue("body").append("div").attr("id","cy").attr("style","display:none"),i=Rs({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});r.remove(),Zse(t.nodes,i),Qse(t.edges,i),i.nodes().forEach(function(a){a.layoutDimensions=()=>{let s=a.data();return{w:s.width,h:s.height}}});let n={name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1};i.layout(n).run(),i.ready(a=>{ee.info("Cytoscape ready",a),e(i)})})}function eoe(t){return t.nodes().map(e=>{let r=e.data(),i=e.position(),n={id:r.id,x:i.x,y:i.y};return Object.keys(r).forEach(a=>{a!=="id"&&(n[a]=r[a])}),n})}function toe(t){return t.edges().map(e=>{let r=e.data(),i=e._private.rscratch,n={id:r.id,source:r.source,target:r.target,startX:i.startX,startY:i.startY,midX:i.midX,midY:i.midY,endX:i.endX,endY:i.endY};return Object.keys(r).forEach(a=>{["id","source","target"].includes(a)||(n[a]=r[a])}),n})}async function roe(t,e){ee.debug("Starting cose-bilkent layout algorithm");try{ioe(t);let r=await Jse(t),i=eoe(r),n=toe(r);return ee.debug(`Layout completed: ${i.length} nodes, ${n.length} edges`),{nodes:i,edges:n}}catch(r){throw ee.error("Error in cose-bilkent layout algorithm:",r),r}}function ioe(t){if(!t)throw new Error("Layout data is required");if(!t.config)throw new Error("Configuration is required in layout data");if(!t.rootNode)throw new Error("Root node is required");if(!t.nodes||!Array.isArray(t.nodes))throw new Error("No nodes found in layout data");if(!Array.isArray(t.edges))throw new Error("Edges array is required in layout data");return!0}var Xse,Kse,Q9e,J9e,eLe,tLe,aoe=wt(()=>{sN();lr();kt();Xse=Li((t,e)=>{"use strict";l((function(r,i){typeof t=="object"&&typeof e=="object"?e.exports=i():typeof define=="function"&&define.amd?define([],i):typeof t=="object"?t.layoutBase=i():r.layoutBase=i()}),"webpackUniversalModuleDefinition")(t,function(){return(function(r){var i={};function n(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return l(n,"__webpack_require__"),n.m=r,n.c=i,n.i=function(a){return a},n.d=function(a,s,o){n.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},n.n=function(a){var s=a&&a.__esModule?l(function(){return a.default},"getDefault"):l(function(){return a},"getModuleExports");return n.d(s,"a",s),s},n.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},n.p="",n(n.s=26)})([(function(r,i,n){"use strict";function a(){}l(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(8),o=n(9);function h(d,p,g){a.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=d,this.target=p}l(h,"LEdge"),h.prototype=Object.create(a.prototype);for(var u in a)h[u]=a[u];h.prototype.getSource=function(){return this.source},h.prototype.getTarget=function(){return this.target},h.prototype.isInterGraph=function(){return this.isInterGraph},h.prototype.getLength=function(){return this.length},h.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},h.prototype.getBendpoints=function(){return this.bendpoints},h.prototype.getLca=function(){return this.lca},h.prototype.getSourceInLca=function(){return this.sourceInLca},h.prototype.getTargetInLca=function(){return this.targetInLca},h.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},h.prototype.getOtherEndInGraph=function(d,p){for(var g=this.getOtherEnd(d),f=p.getGraphManager().getRoot();;){if(g.getOwner()==p)return g;if(g.getOwner()==f)break;g=g.getOwner().getParent()}return null},h.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},h.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=h}),(function(r,i,n){"use strict";function a(s){this.vGraphObject=s}l(a,"LGraphObject"),r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(13),h=n(0),u=n(16),d=n(4);function p(f,m,y,b){y==null&&b==null&&(b=m),a.call(this,b),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=f,y!=null&&m!=null?this.rect=new o(m.x,m.y,y.width,y.height):this.rect=new o}l(p,"LNode"),p.prototype=Object.create(a.prototype);for(var g in a)p[g]=a[g];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(f){this.rect.width=f},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(f){this.rect.height=f},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(f,m){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(f,m){this.rect.x=f-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(f,m){this.rect.x=f,this.rect.y=m},p.prototype.moveBy=function(f,m){this.rect.x+=f,this.rect.y+=m},p.prototype.getEdgeListToNode=function(f){var m=[],y,b=this;return b.edges.forEach(function(v){if(v.target==f){if(v.source!=b)throw"Incorrect edge source!";m.push(v)}}),m},p.prototype.getEdgesBetween=function(f){var m=[],y,b=this;return b.edges.forEach(function(v){if(!(v.source==b||v.target==b))throw"Incorrect edge source and/or target";(v.target==f||v.source==f)&&m.push(v)}),m},p.prototype.getNeighborsList=function(){var f=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)f.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";f.add(y.source)}}),f},p.prototype.withChildren=function(){var f=new Set,m,y;if(f.add(this),this.child!=null)for(var b=this.child.getNodes(),v=0;v<b.length;v++)m=b[v],y=m.withChildren(),y.forEach(function(x){f.add(x)});return f},p.prototype.getNoOfChildren=function(){var f=0,m;if(this.child==null)f=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],f+=m.getNoOfChildren();return f==0&&(f=1),f},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var f,m,y=-h.INITIAL_WORLD_BOUNDARY,b=h.INITIAL_WORLD_BOUNDARY;f=h.WORLD_CENTER_X+u.nextDouble()*(b-y)+y;var v=-h.INITIAL_WORLD_BOUNDARY,x=h.INITIAL_WORLD_BOUNDARY;m=h.WORLD_CENTER_Y+u.nextDouble()*(x-v)+v,this.rect.x=f,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),h.NODE_DIMENSIONS_INCLUDE_LABELS){var m=f.getRight()-f.getLeft(),y=f.getBottom()-f.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(f){var m=this.rect.x;m>h.WORLD_BOUNDARY?m=h.WORLD_BOUNDARY:m<-h.WORLD_BOUNDARY&&(m=-h.WORLD_BOUNDARY);var y=this.rect.y;y>h.WORLD_BOUNDARY?y=h.WORLD_BOUNDARY:y<-h.WORLD_BOUNDARY&&(y=-h.WORLD_BOUNDARY);var b=new d(m,y),v=f.inverseTransformPoint(b);this.setLocation(v.x,v.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p}),(function(r,i,n){"use strict";function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}l(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(0),h=n(6),u=n(3),d=n(1),p=n(13),g=n(12),f=n(11);function m(b,v,x){a.call(this,x),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,v!=null&&v instanceof h?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}l(m,"LGraph"),m.prototype=Object.create(a.prototype);for(var y in a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,v,x){if(v==null&&x==null){var w=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var k=b;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(x)>-1))throw"Source or target not in graph!";if(!(v.owner==x.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=x.owner?null:(k.source=v,k.target=x,k.isInterGraph=!1,this.getEdges().push(k),v.edges.push(k),x!=v&&x.edges.push(k),k)}},m.prototype.remove=function(b){var v=b;if(b instanceof u){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var x=v.edges.slice(),w,k=x.length,T=0;T<k;T++)w=x[T],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var S=this.nodes.indexOf(v);if(S==-1)throw"Node not in owner node list!";this.nodes.splice(S,1)}else if(b instanceof d){var w=b;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var C=w.source.edges.indexOf(w),E=w.target.edges.indexOf(w);if(!(C>-1&&E>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(C,1),w.target!=w.source&&w.target.edges.splice(E,1);var S=w.source.owner.getEdges().indexOf(w);if(S==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(S,1)}},m.prototype.updateLeftTop=function(){for(var b=s.MAX_VALUE,v=s.MAX_VALUE,x,w,k,T=this.getNodes(),S=T.length,C=0;C<S;C++){var E=T[C];x=E.getTop(),w=E.getLeft(),b>x&&(b=x),v>w&&(v=w)}return b==s.MAX_VALUE?null:(T[0].getParent().paddingLeft!=null?k=T[0].getParent().paddingLeft:k=this.margin,this.left=v-k,this.top=b-k,new g(this.left,this.top))},m.prototype.updateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,T,S,C,E,L,I=this.nodes,M=I.length,N=0;N<M;N++){var $=I[N];b&&$.child!=null&&$.updateBounds(),T=$.getLeft(),S=$.getRight(),C=$.getTop(),E=$.getBottom(),v>T&&(v=T),x<S&&(x=S),w>C&&(w=C),k<E&&(k=E)}var _=new p(v,w,x-v,k-w);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),I[0].getParent().paddingLeft!=null?L=I[0].getParent().paddingLeft:L=this.margin,this.left=_.x-L,this.right=_.x+_.width+L,this.top=_.y-L,this.bottom=_.y+_.height+L},m.calculateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,T,S,C,E,L=b.length,I=0;I<L;I++){var M=b[I];T=M.getLeft(),S=M.getRight(),C=M.getTop(),E=M.getBottom(),v>T&&(v=T),x<S&&(x=S),w>C&&(w=C),k<E&&(k=E)}var N=new p(v,w,x-v,k-w);return N},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,v=this.nodes,x=v.length,w=0;w<x;w++){var k=v[w];b+=k.calcEstimatedSize()}return b==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new f,x=new Set,w=this.nodes[0],k,T,S=w.withChildren();for(S.forEach(function(N){v.push(N),x.add(N)});v.length!==0;){w=v.shift(),k=w.getEdges();for(var C=k.length,E=0;E<C;E++){var L=k[E];if(T=L.getOtherEndInGraph(w,this),T!=null&&!x.has(T)){var I=T.withChildren();I.forEach(function(N){v.push(N),x.add(N)})}}}if(this.isConnected=!1,x.size>=this.nodes.length){var M=0;x.forEach(function(N){N.owner==b&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},r.exports=m}),(function(r,i,n){"use strict";var a,s=n(1);function o(h){a=n(5),this.layout=h,this.graphs=[],this.edges=[]}l(o,"LGraphManager"),o.prototype.addRoot=function(){var h=this.layout.newGraph(),u=this.layout.newNode(null),d=this.add(h,u);return this.setRootGraph(d),this.rootGraph},o.prototype.add=function(h,u,d,p,g){if(d==null&&p==null&&g==null){if(h==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(h)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(h),h.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return h.parent=u,u.child=h,h}else{g=d,p=u,d=h;var f=p.getOwner(),m=g.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==m)return d.isInterGraph=!1,f.add(d,p,g);if(d.isInterGraph=!0,d.source=p,d.target=g,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},o.prototype.remove=function(h){if(h instanceof a){var u=h;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(u.getEdges());for(var p,g=d.length,f=0;f<g;f++)p=d[f],u.remove(p);var m=[];m=m.concat(u.getNodes());var y;g=m.length;for(var f=0;f<g;f++)y=m[f],u.remove(y);u==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(u);this.graphs.splice(b,1),u.parent=null}else if(h instanceof s){if(p=h,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var b=p.source.edges.indexOf(p);if(p.source.edges.splice(b,1),b=p.target.edges.indexOf(p),p.target.edges.splice(b,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var b=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(b,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var h=[],u=this.getGraphs(),d=u.length,p=0;p<d;p++)h=h.concat(u[p].getNodes());this.allNodes=h}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var h=[],u=this.getGraphs(),d=u.length,p=0;p<u.length;p++)h=h.concat(u[p].getEdges());h=h.concat(this.edges),this.allEdges=h}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(h){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=h},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(h){if(h.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=h,h.parent==null&&(h.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(h,u){if(!(h!=null&&u!=null))throw"assert failed";if(h==u)return!0;var d=h.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==u)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=u.getOwner();do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var h,u,d,p,g,f=this.getAllEdges(),m=f.length,y=0;y<m;y++){if(h=f[y],u=h.source,d=h.target,h.lca=null,h.sourceInLca=u,h.targetInLca=d,u==d){h.lca=u.getOwner();continue}for(p=u.getOwner();h.lca==null;){for(h.targetInLca=d,g=d.getOwner();h.lca==null;){if(g==p){h.lca=g;break}if(g==this.rootGraph)break;if(h.lca!=null)throw"assert failed";h.targetInLca=g.getParent(),g=h.targetInLca.getOwner()}if(p==this.rootGraph)break;h.lca==null&&(h.sourceInLca=p.getParent(),p=h.sourceInLca.getOwner())}if(h.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(h,u){if(h==u)return h.getOwner();var d=h.getOwner();do{if(d==null)break;var p=u.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},o.prototype.calcInclusionTreeDepths=function(h,u){h==null&&u==null&&(h=this.rootGraph,u=1);for(var d,p=h.getNodes(),g=p.length,f=0;f<g;f++)d=p[f],d.inclusionTreeDepth=u,d.child!=null&&this.calcInclusionTreeDepths(d.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var h,u=this.edges.length,d=0;d<u;d++)if(h=this.edges[d],this.isOneAncestorOfOther(h.source,h.target))return!0;return!1},r.exports=o}),(function(r,i,n){"use strict";var a=n(0);function s(){}l(s,"FDLayoutConstants");for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s}),(function(r,i,n){"use strict";var a=n(12);function s(){}l(s,"IGeometry"),s.calcSeparationAmount=function(o,h,u,d){if(!o.intersects(h))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(o,h,p),u[0]=Math.min(o.getRight(),h.getRight())-Math.max(o.x,h.x),u[1]=Math.min(o.getBottom(),h.getBottom())-Math.max(o.y,h.y),o.getX()<=h.getX()&&o.getRight()>=h.getRight()?u[0]+=Math.min(h.getX()-o.getX(),o.getRight()-h.getRight()):h.getX()<=o.getX()&&h.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-h.getX(),h.getRight()-o.getRight())),o.getY()<=h.getY()&&o.getBottom()>=h.getBottom()?u[1]+=Math.min(h.getY()-o.getY(),o.getBottom()-h.getBottom()):h.getY()<=o.getY()&&h.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-h.getY(),h.getBottom()-o.getBottom()));var g=Math.abs((h.getCenterY()-o.getCenterY())/(h.getCenterX()-o.getCenterX()));h.getCenterY()===o.getCenterY()&&h.getCenterX()===o.getCenterX()&&(g=1);var f=g*u[0],m=u[1]/g;u[0]<m?m=u[0]:f=u[1],u[0]=-1*p[0]*(m/2+d),u[1]=-1*p[1]*(f/2+d)},s.decideDirectionsForOverlappingNodes=function(o,h,u){o.getCenterX()<h.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<h.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,h,u){var d=o.getCenterX(),p=o.getCenterY(),g=h.getCenterX(),f=h.getCenterY();if(o.intersects(h))return u[0]=d,u[1]=p,u[2]=g,u[3]=f,!0;var m=o.getX(),y=o.getY(),b=o.getRight(),v=o.getX(),x=o.getBottom(),w=o.getRight(),k=o.getWidthHalf(),T=o.getHeightHalf(),S=h.getX(),C=h.getY(),E=h.getRight(),L=h.getX(),I=h.getBottom(),M=h.getRight(),N=h.getWidthHalf(),$=h.getHeightHalf(),_=!1,D=!1;if(d===g){if(p>f)return u[0]=d,u[1]=y,u[2]=g,u[3]=I,!1;if(p<f)return u[0]=d,u[1]=x,u[2]=g,u[3]=C,!1}else if(p===f){if(d>g)return u[0]=m,u[1]=p,u[2]=E,u[3]=f,!1;if(d<g)return u[0]=b,u[1]=p,u[2]=S,u[3]=f,!1}else{var R=o.height/o.width,O=h.height/h.width,A=(f-p)/(g-d),B=void 0,P=void 0,z=void 0,q=void 0,K=void 0,W=void 0;if(-R===A?d>g?(u[0]=v,u[1]=x,_=!0):(u[0]=b,u[1]=y,_=!0):R===A&&(d>g?(u[0]=m,u[1]=y,_=!0):(u[0]=w,u[1]=x,_=!0)),-O===A?g>d?(u[2]=L,u[3]=I,D=!0):(u[2]=E,u[3]=C,D=!0):O===A&&(g>d?(u[2]=S,u[3]=C,D=!0):(u[2]=M,u[3]=I,D=!0)),_&&D)return!1;if(d>g?p>f?(B=this.getCardinalDirection(R,A,4),P=this.getCardinalDirection(O,A,2)):(B=this.getCardinalDirection(-R,A,3),P=this.getCardinalDirection(-O,A,1)):p>f?(B=this.getCardinalDirection(-R,A,1),P=this.getCardinalDirection(-O,A,3)):(B=this.getCardinalDirection(R,A,2),P=this.getCardinalDirection(O,A,4)),!_)switch(B){case 1:q=y,z=d+-T/A,u[0]=z,u[1]=q;break;case 2:z=w,q=p+k*A,u[0]=z,u[1]=q;break;case 3:q=x,z=d+T/A,u[0]=z,u[1]=q;break;case 4:z=v,q=p+-k*A,u[0]=z,u[1]=q;break}if(!D)switch(P){case 1:W=C,K=g+-$/A,u[2]=K,u[3]=W;break;case 2:K=M,W=f+N*A,u[2]=K,u[3]=W;break;case 3:W=I,K=g+$/A,u[2]=K,u[3]=W;break;case 4:K=L,W=f+-N*A,u[2]=K,u[3]=W;break}}return!1},s.getCardinalDirection=function(o,h,u){return o>h?u:1+u%4},s.getIntersection=function(o,h,u,d){if(d==null)return this.getIntersection2(o,h,u);var p=o.x,g=o.y,f=h.x,m=h.y,y=u.x,b=u.y,v=d.x,x=d.y,w=void 0,k=void 0,T=void 0,S=void 0,C=void 0,E=void 0,L=void 0,I=void 0,M=void 0;return T=m-g,C=p-f,L=f*g-p*m,S=x-b,E=y-v,I=v*b-y*x,M=T*E-S*C,M===0?null:(w=(C*I-E*L)/M,k=(S*L-T*I)/M,new a(w,k))},s.angleOfVector=function(o,h,u,d){var p=void 0;return o!==u?(p=Math.atan((d-h)/(u-o)),u<o?p+=Math.PI:d<h&&(p+=this.TWO_PI)):d<h?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},s.doIntersect=function(o,h,u,d){var p=o.x,g=o.y,f=h.x,m=h.y,y=u.x,b=u.y,v=d.x,x=d.y,w=(f-p)*(x-b)-(v-y)*(m-g);if(w===0)return!1;var k=((x-b)*(v-p)+(y-v)*(x-g))/w,T=((g-m)*(v-p)+(f-p)*(x-g))/w;return 0<k&&k<1&&0<T&&T<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s}),(function(r,i,n){"use strict";function a(){}l(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a}),(function(r,i,n){"use strict";function a(){}l(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a}),(function(r,i,n){"use strict";var a=(function(){function p(g,f){for(var m=0;m<f.length;m++){var y=f[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return l(p,"defineProperties"),function(g,f,m){return f&&p(g.prototype,f),m&&p(g,m),g}})();function s(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=l(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),h=l(function(p,g,f,m){return p!==null?p.next=g:m.head=g,f!==null?f.prev=g:m.tail=g,g.prev=p,g.next=f,m.length++,g},"add"),u=l(function(p,g){var f=p.prev,m=p.next;return f!==null?f.next=m:g.head=m,m!==null?m.prev=f:g.tail=f,p.prev=p.next=null,g.length--,p},"_remove"),d=(function(){function p(g){var f=this;s(this,p),this.length=0,this.head=null,this.tail=null,g==null||g.forEach(function(m){return f.push(m)})}return l(p,"LinkedList"),a(p,[{key:"size",value:l(function(){return this.length},"size")},{key:"insertBefore",value:l(function(g,f){return h(f.prev,o(g),f,this)},"insertBefore")},{key:"insertAfter",value:l(function(g,f){return h(f,o(g),f.next,this)},"insertAfter")},{key:"insertNodeBefore",value:l(function(g,f){return h(f.prev,g,f,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:l(function(g,f){return h(f,g,f.next,this)},"insertNodeAfter")},{key:"push",value:l(function(g){return h(this.tail,o(g),null,this)},"push")},{key:"unshift",value:l(function(g){return h(null,o(g),this.head,this)},"unshift")},{key:"remove",value:l(function(g){return u(g,this)},"remove")},{key:"pop",value:l(function(){return u(this.tail,this).value},"pop")},{key:"popNode",value:l(function(){return u(this.tail,this)},"popNode")},{key:"shift",value:l(function(){return u(this.head,this).value},"shift")},{key:"shiftNode",value:l(function(){return u(this.head,this)},"shiftNode")},{key:"get_object_at",value:l(function(g){if(g<=this.length()){for(var f=1,m=this.head;f<g;)m=m.next,f++;return m.value}},"get_object_at")},{key:"set_object_at",value:l(function(g,f){if(g<=this.length()){for(var m=1,y=this.head;m<g;)y=y.next,m++;y.value=f}},"set_object_at")}]),p})();r.exports=d}),(function(r,i,n){"use strict";function a(s,o,h){this.x=null,this.y=null,s==null&&o==null&&h==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&h==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&h==null&&(h=s,this.x=h.x,this.y=h.y)}l(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,h){s.constructor.name=="Point"&&o==null&&h==null?(h=s,this.setLocation(h.x,h.y)):typeof s=="number"&&typeof o=="number"&&h==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a}),(function(r,i,n){"use strict";function a(s,o,h,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&h!=null&&u!=null&&(this.x=s,this.y=o,this.width=h,this.height=u)}l(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a}),(function(r,i,n){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}l(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var h=typeof o>"u"?"undefined":a(o);return o==null||h!="object"&&h!="function"},r.exports=s}),(function(r,i,n){"use strict";function a(y){if(Array.isArray(y)){for(var b=0,v=Array(y.length);b<y.length;b++)v[b]=y[b];return v}else return Array.from(y)}l(a,"_toConsumableArray");var s=n(0),o=n(6),h=n(3),u=n(1),d=n(5),p=n(4),g=n(17),f=n(27);function m(y){f.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}l(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(f.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new o(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new d(null,this.graphManager,y)},m.prototype.newNode=function(y){return new h(this.graphManager,y)},m.prototype.newEdge=function(y){return new u(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y,b=this.graphManager.getAllEdges(),v=0;v<b.length;v++)y=b[v];for(var x,w=this.graphManager.getRoot().getNodes(),v=0;v<w.length;v++)x=w[v];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof h){var b=y;if(b.getChild()!=null)for(var v=b.getChild().getNodes(),x=0;x<v.length;x++)update(v[x]);if(b.vGraphObject!=null){var w=b.vGraphObject;w.update(b)}}else if(y instanceof u){var k=y;if(k.vGraphObject!=null){var T=k.vGraphObject;T.update(k)}}else if(y instanceof d){var S=y;if(S.vGraphObject!=null){var C=S.vGraphObject;C.update(S)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new p(0,0));else{var b=new g,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(v.x),b.setDeviceOrgY(v.y);for(var x=this.getAllNodes(),w,k=0;k<x.length;k++)w=x[k],w.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,v,x=y.getNodes(),w=0;w<x.length;w++)b=x[w],v=b.getChild(),v==null||v.getNodes().length==0?b.scatter():(this.positionNodesRandomly(v),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,v=this.graphManager.getRoot().getNodes(),x=!0,w=0;w<v.length;w++)v[w].getChild()!=null&&(x=!1);if(!x)return y;var k=new Set,T=[],S=new Map,C=[];for(C=C.concat(v);C.length>0&&b;){for(T.push(C[0]);T.length>0&&b;){var E=T[0];T.splice(0,1),k.add(E);for(var L=E.getEdges(),w=0;w<L.length;w++){var I=L[w].getOtherEnd(E);if(S.get(E)!=I)if(!k.has(I))T.push(I),S.set(I,E);else{b=!1;break}}}if(!b)y=[];else{var M=[].concat(a(k));y.push(M);for(var w=0;w<M.length;w++){var N=M[w],$=C.indexOf(N);$>-1&&C.splice($,1)}k=new Set,S=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],v=y.source,x=this.graphManager.calcLowestCommonAncestor(y.source,y.target),w=0;w<y.bendpoints.length;w++){var k=this.newNode(null);k.setRect(new Point(0,0),new Dimension(1,1)),x.add(k);var T=this.newEdge(null);this.graphManager.add(T,v,k),b.add(k),v=k}var T=this.newEdge(null);return this.graphManager.add(T,v,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):x.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var v=y[b];if(v.bendpoints.length>0){for(var x=this.edgeToDummyNodes.get(v),w=0;w<x.length;w++){var k=x[w],T=new p(k.getCenterX(),k.getCenterY()),S=v.bendpoints.get(w);S.x=T.x,S.y=T.y,k.getOwner().remove(k)}this.graphManager.add(v,v.source,v.target)}}},m.transform=function(y,b,v,x){if(v!=null&&x!=null){var w=b;if(y<=50){var k=b/v;w-=(b-k)/50*(50-y)}else{var T=b*x;w+=(T-b)/50*(y-50)}return w}else{var S,C;return y<=50?(S=9*b/500,C=b/10):(S=9*b/50,C=-8*b),S*y+C}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var v=[],x=new Map,w=!1,k=null;(b.length==1||b.length==2)&&(w=!0,k=b[0]);for(var T=0;T<b.length;T++){var S=b[T],C=S.getNeighborsList().size;x.set(S,S.getNeighborsList().size),C==1&&v.push(S)}var E=[];for(E=E.concat(v);!w;){var L=[];L=L.concat(E),E=[];for(var T=0;T<b.length;T++){var S=b[T],I=b.indexOf(S);I>=0&&b.splice(I,1);var M=S.getNeighborsList();M.forEach(function(_){if(v.indexOf(_)<0){var D=x.get(_),R=D-1;R==1&&E.push(_),x.set(_,R)}})}v=v.concat(E),(b.length==1||b.length==2)&&(w=!0,k=b[0])}return k},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m}),(function(r,i,n){"use strict";function a(){}l(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a}),(function(r,i,n){"use strict";var a=n(4);function s(o,h){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var h=0,u=this.lworldExtX;return u!=0&&(h=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),h},s.prototype.transformY=function(o){var h=0,u=this.lworldExtY;return u!=0&&(h=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),h},s.prototype.inverseTransformX=function(o){var h=0,u=this.ldeviceExtX;return u!=0&&(h=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),h},s.prototype.inverseTransformY=function(o){var h=0,u=this.ldeviceExtY;return u!=0&&(h=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),h},s.prototype.inverseTransformPoint=function(o){var h=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return h},r.exports=s}),(function(r,i,n){"use strict";function a(f){if(Array.isArray(f)){for(var m=0,y=Array(f.length);m<f.length;m++)y[m]=f[m];return y}else return Array.from(f)}l(a,"_toConsumableArray");var s=n(15),o=n(7),h=n(0),u=n(8),d=n(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}l(p,"FDLayout"),p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var f,m,y,b,v,x,w=this.getGraphManager().getAllEdges(),k=0;k<w.length;k++)f=w[k],f.idealLength=this.idealEdgeLength,f.isInterGraph&&(y=f.getSource(),b=f.getTarget(),v=f.getSourceInLca().getEstimatedSize(),x=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=v+x-2*h.SIMPLE_NODE_SIZE),m=f.getLca().getInclusionTreeDepth(),f.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+b.getInclusionTreeDepth()-2*m))},p.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),m,y=0;y<f.length;y++)m=f[y],this.calcSpringForce(m,m.idealLength)},p.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,v,x,w=this.getAllNodes(),k;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),k=new Set,y=0;y<w.length;y++)v=w[y],this.calculateRepulsionForceOfANode(v,k,f,m),k.add(v);else for(y=0;y<w.length;y++)for(v=w[y],b=y+1;b<w.length;b++)x=w[b],v.getOwner()==x.getOwner()&&this.calcRepulsionForce(v,x)},p.prototype.calcGravitationalForces=function(){for(var f,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)f=m[y],this.calcGravitationalForce(f)},p.prototype.moveNodes=function(){for(var f=this.getAllNodes(),m,y=0;y<f.length;y++)m=f[y],m.move()},p.prototype.calcSpringForce=function(f,m){var y=f.getSource(),b=f.getTarget(),v,x,w,k;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;v=f.getLength(),v!=0&&(x=this.springConstant*(v-m),w=x*(f.lengthX/v),k=x*(f.lengthY/v),y.springForceX+=w,y.springForceY+=k,b.springForceX-=w,b.springForceY-=k)},p.prototype.calcRepulsionForce=function(f,m){var y=f.getRect(),b=m.getRect(),v=new Array(2),x=new Array(4),w,k,T,S,C,E,L;if(y.intersects(b)){u.calcSeparationAmount(y,b,v,o.DEFAULT_EDGE_LENGTH/2),E=2*v[0],L=2*v[1];var I=f.noOfChildren*m.noOfChildren/(f.noOfChildren+m.noOfChildren);f.repulsionForceX-=I*E,f.repulsionForceY-=I*L,m.repulsionForceX+=I*E,m.repulsionForceY+=I*L}else this.uniformLeafNodeSizes&&f.getChild()==null&&m.getChild()==null?(w=b.getCenterX()-y.getCenterX(),k=b.getCenterY()-y.getCenterY()):(u.getIntersection(y,b,x),w=x[2]-x[0],k=x[3]-x[1]),Math.abs(w)<o.MIN_REPULSION_DIST&&(w=d.sign(w)*o.MIN_REPULSION_DIST),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=d.sign(k)*o.MIN_REPULSION_DIST),T=w*w+k*k,S=Math.sqrt(T),C=this.repulsionConstant*f.noOfChildren*m.noOfChildren/T,E=C*w/S,L=C*k/S,f.repulsionForceX-=E,f.repulsionForceY-=L,m.repulsionForceX+=E,m.repulsionForceY+=L},p.prototype.calcGravitationalForce=function(f){var m,y,b,v,x,w,k,T;m=f.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,v=f.getCenterX()-y,x=f.getCenterY()-b,w=Math.abs(v)+f.getWidth()/2,k=Math.abs(x)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(T=m.getEstimatedSize()*this.gravityRangeFactor,(w>T||k>T)&&(f.gravitationForceX=-this.gravityConstant*v,f.gravitationForceY=-this.gravityConstant*x)):(T=m.getEstimatedSize()*this.compoundGravityRangeFactor,(w>T||k>T)&&(f.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*x*this.compoundGravityConstant))},p.prototype.isConverged=function(){var f,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)f=m[y],f.noOfChildren=f.getNoOfChildren()},p.prototype.calcGrid=function(f){var m=0,y=0;m=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var b=new Array(m),v=0;v<m;v++)b[v]=new Array(y);for(var v=0;v<m;v++)for(var x=0;x<y;x++)b[v][x]=new Array;return b},p.prototype.addNodeToGrid=function(f,m,y){var b=0,v=0,x=0,w=0;b=parseInt(Math.floor((f.getRect().x-m)/this.repulsionRange)),v=parseInt(Math.floor((f.getRect().width+f.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((f.getRect().y-y)/this.repulsionRange)),w=parseInt(Math.floor((f.getRect().height+f.getRect().y-y)/this.repulsionRange));for(var k=b;k<=v;k++)for(var T=x;T<=w;T++)this.grid[k][T].push(f),f.setGridCoordinates(b,v,x,w)},p.prototype.updateGrid=function(){var f,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<y.length;f++)m=y[f],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(f,m,y,b){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var v=new Set;f.surrounding=new Array;for(var x,w=this.grid,k=f.startX-1;k<f.finishX+2;k++)for(var T=f.startY-1;T<f.finishY+2;T++)if(!(k<0||T<0||k>=w.length||T>=w[0].length)){for(var S=0;S<w[k][T].length;S++)if(x=w[k][T][S],!(f.getOwner()!=x.getOwner()||f==x)&&!m.has(x)&&!v.has(x)){var C=Math.abs(f.getCenterX()-x.getCenterX())-(f.getWidth()/2+x.getWidth()/2),E=Math.abs(f.getCenterY()-x.getCenterY())-(f.getHeight()/2+x.getHeight()/2);C<=this.repulsionRange&&E<=this.repulsionRange&&v.add(x)}}f.surrounding=[].concat(a(v))}for(k=0;k<f.surrounding.length;k++)this.calcRepulsionForce(f,f.surrounding[k])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p}),(function(r,i,n){"use strict";var a=n(1),s=n(7);function o(u,d,p){a.call(this,u,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH}l(o,"FDLayoutEdge"),o.prototype=Object.create(a.prototype);for(var h in a)o[h]=a[h];r.exports=o}),(function(r,i,n){"use strict";var a=n(3);function s(h,u,d,p){a.call(this,h,u,d,p),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}l(s,"FDLayoutNode"),s.prototype=Object.create(a.prototype);for(var o in a)s[o]=a[o];s.prototype.setGridCoordinates=function(h,u,d,p){this.startX=h,this.finishX=u,this.startY=d,this.finishY=p},r.exports=s}),(function(r,i,n){"use strict";function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}l(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a}),(function(r,i,n){"use strict";var a=n(14);function s(){this.map={},this.keys=[]}l(s,"HashMap"),s.prototype.put=function(o,h){var u=a.createID(o);this.contains(u)||(this.map[u]=h,this.keys.push(o))},s.prototype.contains=function(o){var h=a.createID(o);return this.map[o]!=null},s.prototype.get=function(o){var h=a.createID(o);return this.map[h]},s.prototype.keySet=function(){return this.keys},r.exports=s}),(function(r,i,n){"use strict";var a=n(14);function s(){this.set={}}l(s,"HashSet"),s.prototype.add=function(o){var h=a.createID(o);this.contains(h)||(this.set[h]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var h=Object.keys(this.set),u=h.length,d=0;d<u;d++)o.push(this.set[h[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var h=o.length,u=0;u<h;u++){var d=o[u];this.add(d)}},r.exports=s}),(function(r,i,n){"use strict";var a=(function(){function u(d,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return l(u,"defineProperties"),function(d,p,g){return p&&u(d.prototype,p),g&&u(d,g),d}})();function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=n(11),h=(function(){function u(d,p){s(this,u),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;d instanceof o?g=d.size():g=d.length,this._quicksort(d,0,g-1)}return l(u,"Quicksort"),a(u,[{key:"_quicksort",value:l(function(d,p,g){if(p<g){var f=this._partition(d,p,g);this._quicksort(d,p,f),this._quicksort(d,f+1,g)}},"_quicksort")},{key:"_partition",value:l(function(d,p,g){for(var f=this._get(d,p),m=p,y=g;;){for(;this.compareFunction(f,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),f);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}},"_partition")},{key:"_get",value:l(function(d,p){return d instanceof o?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:l(function(d,p,g){d instanceof o?d.set_object_at(p,g):d[p]=g},"_set")},{key:"_swap",value:l(function(d,p,g){var f=this._get(d,p);this._set(d,p,this._get(d,g)),this._set(d,g,f)},"_swap")},{key:"_defaultCompareFunction",value:l(function(d,p){return p>d},"_defaultCompareFunction")}]),u})();r.exports=h}),(function(r,i,n){"use strict";var a=(function(){function h(u,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return l(h,"defineProperties"),function(u,d,p){return d&&h(u.prototype,d),p&&h(u,p),u}})();function s(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=(function(){function h(u,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,h),this.sequence1=u,this.sequence2=d,this.match_score=p,this.mismatch_penalty=g,this.gap_penalty=f,this.iMax=u.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[b][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return l(h,"NeedlemanWunsch"),a(h,[{key:"getScore",value:l(function(){return this.score},"getScore")},{key:"getAlignments",value:l(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:l(function(){for(var u=1;u<this.jMax;u++)this.grid[0][u]=this.grid[0][u-1]+this.gap_penalty,this.tracebackGrid[0][u]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var g=1;g<this.jMax;g++){var f=void 0;this.sequence1[p-1]===this.sequence2[g-1]?f=this.grid[p-1][g-1]+this.match_score:f=this.grid[p-1][g-1]+this.mismatch_penalty;var m=this.grid[p-1][g]+this.gap_penalty,y=this.grid[p][g-1]+this.gap_penalty,b=[f,m,y],v=this.arrayAllMaxIndexes(b);this.grid[p][g]=b[v[0]],this.tracebackGrid[p][g]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:l(function(){var u=[];for(u.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});u[0];){var d=u[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&u.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&u.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&u.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),u.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:l(function(u,d){for(var p=[],g=-1;(g=u.indexOf(d,g+1))!==-1;)p.push(g);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:l(function(u){return this.getAllIndexes(u,Math.max.apply(null,u))},"arrayAllMaxIndexes")}]),h})();r.exports=o}),(function(r,i,n){"use strict";var a=l(function(){},"layoutBase");a.FDLayout=n(18),a.FDLayoutConstants=n(7),a.FDLayoutEdge=n(19),a.FDLayoutNode=n(20),a.DimensionD=n(21),a.HashMap=n(22),a.HashSet=n(23),a.IGeometry=n(8),a.IMath=n(9),a.Integer=n(10),a.Point=n(12),a.PointD=n(4),a.RandomSeed=n(16),a.RectangleD=n(13),a.Transform=n(17),a.UniqueIDGeneretor=n(14),a.Quicksort=n(24),a.LinkedList=n(11),a.LGraphObject=n(2),a.LGraph=n(5),a.LEdge=n(1),a.LGraphManager=n(6),a.LNode=n(3),a.Layout=n(15),a.LayoutConstants=n(0),a.NeedlemanWunsch=n(25),r.exports=a}),(function(r,i,n){"use strict";function a(){this.listeners=[]}l(a,"Emitter");var s=a.prototype;s.addListener=function(o,h){this.listeners.push({event:o,callback:h})},s.removeListener=function(o,h){for(var u=this.listeners.length;u>=0;u--){var d=this.listeners[u];d.event===o&&d.callback===h&&this.listeners.splice(u,1)}},s.emit=function(o,h){for(var u=0;u<this.listeners.length;u++){var d=this.listeners[u];o===d.event&&d.callback(h)}},r.exports=a})])})}),Kse=Li((t,e)=>{"use strict";l((function(r,i){typeof t=="object"&&typeof e=="object"?e.exports=i(Xse()):typeof define=="function"&&define.amd?define(["layout-base"],i):typeof t=="object"?t.coseBase=i(Xse()):r.coseBase=i(r.layoutBase)}),"webpackUniversalModuleDefinition")(t,function(r){return(function(i){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return i[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return l(a,"__webpack_require__"),a.m=i,a.c=n,a.i=function(s){return s},a.d=function(s,o,h){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:h})},a.n=function(s){var o=s&&s.__esModule?l(function(){return s.default},"getDefault"):l(function(){return s},"getModuleExports");return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=7)})([(function(i,n){i.exports=r}),(function(i,n,a){"use strict";var s=a(0).FDLayoutConstants;function o(){}l(o,"CoSEConstants");for(var h in s)o[h]=s[h];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,i.exports=o}),(function(i,n,a){"use strict";var s=a(0).FDLayoutEdge;function o(u,d,p){s.call(this,u,d,p)}l(o,"CoSEEdge"),o.prototype=Object.create(s.prototype);for(var h in s)o[h]=s[h];i.exports=o}),(function(i,n,a){"use strict";var s=a(0).LGraph;function o(u,d,p){s.call(this,u,d,p)}l(o,"CoSEGraph"),o.prototype=Object.create(s.prototype);for(var h in s)o[h]=s[h];i.exports=o}),(function(i,n,a){"use strict";var s=a(0).LGraphManager;function o(u){s.call(this,u)}l(o,"CoSEGraphManager"),o.prototype=Object.create(s.prototype);for(var h in s)o[h]=s[h];i.exports=o}),(function(i,n,a){"use strict";var s=a(0).FDLayoutNode,o=a(0).IMath;function h(d,p,g,f){s.call(this,d,p,g,f)}l(h,"CoSENode"),h.prototype=Object.create(s.prototype);for(var u in s)h[u]=s[u];h.prototype.move=function(){var d=this.graphManager.getLayout();this.displacementX=d.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=d.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementX=d.coolingFactor*d.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementY=d.coolingFactor*d.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),d.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},h.prototype.propogateDisplacementToChildren=function(d,p){for(var g=this.getChild().getNodes(),f,m=0;m<g.length;m++)f=g[m],f.getChild()==null?(f.moveBy(d,p),f.displacementX+=d,f.displacementY+=p):f.propogateDisplacementToChildren(d,p)},h.prototype.setPred1=function(d){this.pred1=d},h.prototype.getPred1=function(){return pred1},h.prototype.getPred2=function(){return pred2},h.prototype.setNext=function(d){this.next=d},h.prototype.getNext=function(){return next},h.prototype.setProcessed=function(d){this.processed=d},h.prototype.isProcessed=function(){return processed},i.exports=h}),(function(i,n,a){"use strict";var s=a(0).FDLayout,o=a(4),h=a(3),u=a(5),d=a(2),p=a(1),g=a(0).FDLayoutConstants,f=a(0).LayoutConstants,m=a(0).Point,y=a(0).PointD,b=a(0).Layout,v=a(0).Integer,x=a(0).IGeometry,w=a(0).LGraph,k=a(0).Transform;function T(){s.call(this),this.toBeTiled={}}l(T,"CoSELayout"),T.prototype=Object.create(s.prototype);for(var S in s)T[S]=s[S];T.prototype.newGraphManager=function(){var C=new o(this);return this.graphManager=C,C},T.prototype.newGraph=function(C){return new h(null,this.graphManager,C)},T.prototype.newNode=function(C){return new u(this.graphManager,C)},T.prototype.newEdge=function(C){return new d(null,null,C)},T.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(p.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=g.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=g.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/g.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=g.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},T.prototype.layout=function(){var C=f.DEFAULT_CREATE_BENDS_AS_NEEDED;return C&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},T.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(p.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(I){return C.has(I)});this.graphManager.setAllNodesToApplyGravitation(E)}}else{var L=this.getFlatForest();if(L.length>0)this.positionNodesRadially(L);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(N){return C.has(N)});this.graphManager.setAllNodesToApplyGravitation(E),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},T.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%g.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(M){return C.has(M)});this.graphManager.setAllNodesToApplyGravitation(E),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var L=!this.isTreeGrowing&&!this.isGrowthFinished,I=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(L,I),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},T.prototype.getPositionsData=function(){for(var C=this.graphManager.getAllNodes(),E={},L=0;L<C.length;L++){var I=C[L].rect,M=C[L].id;E[M]={id:M,x:I.getCenterX(),y:I.getCenterY(),w:I.width,h:I.height}}return E},T.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var C=!1;if(g.ANIMATE==="during")this.emit("layoutstarted");else{for(;!C;)C=this.tick();this.graphManager.updateBounds()}},T.prototype.calculateNodesToApplyGravitationTo=function(){var C=[],E,L=this.graphManager.getGraphs(),I=L.length,M;for(M=0;M<I;M++)E=L[M],E.updateConnected(),E.isConnected||(C=C.concat(E.getNodes()));return C},T.prototype.createBendpoints=function(){var C=[];C=C.concat(this.graphManager.getAllEdges());var E=new Set,L;for(L=0;L<C.length;L++){var I=C[L];if(!E.has(I)){var M=I.getSource(),N=I.getTarget();if(M==N)I.getBendpoints().push(new y),I.getBendpoints().push(new y),this.createDummyNodesForBendpoints(I),E.add(I);else{var $=[];if($=$.concat(M.getEdgeListToNode(N)),$=$.concat(N.getEdgeListToNode(M)),!E.has($[0])){if($.length>1){var _;for(_=0;_<$.length;_++){var D=$[_];D.getBendpoints().push(new y),this.createDummyNodesForBendpoints(D)}}$.forEach(function(R){E.add(R)})}}}if(E.size==C.length)break}},T.prototype.positionNodesRadially=function(C){for(var E=new m(0,0),L=Math.ceil(Math.sqrt(C.length)),I=0,M=0,N=0,$=new y(0,0),_=0;_<C.length;_++){_%L==0&&(N=0,M=I,_!=0&&(M+=p.DEFAULT_COMPONENT_SEPERATION),I=0);var D=C[_],R=b.findCenterOfTree(D);E.x=N,E.y=M,$=T.radialLayout(D,R,E),$.y>I&&(I=Math.floor($.y)),N=Math.floor($.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new y(f.WORLD_CENTER_X-$.x/2,f.WORLD_CENTER_Y-$.y/2))},T.radialLayout=function(C,E,L){var I=Math.max(this.maxDiagonalInTree(C),p.DEFAULT_RADIAL_SEPARATION);T.branchRadialLayout(E,null,0,359,0,I);var M=w.calculateBounds(C),N=new k;N.setDeviceOrgX(M.getMinX()),N.setDeviceOrgY(M.getMinY()),N.setWorldOrgX(L.x),N.setWorldOrgY(L.y);for(var $=0;$<C.length;$++){var _=C[$];_.transform(N)}var D=new y(M.getMaxX(),M.getMaxY());return N.inverseTransformPoint(D)},T.branchRadialLayout=function(C,E,L,I,M,N){var $=(I-L+1)/2;$<0&&($+=180);var _=($+L)%360,D=_*x.TWO_PI/360,R=Math.cos(D),O=M*Math.cos(D),A=M*Math.sin(D);C.setCenter(O,A);var B=[];B=B.concat(C.getEdges());var P=B.length;E!=null&&P--;for(var z=0,q=B.length,K,W=C.getEdgesBetween(E);W.length>1;){var ae=W[0];W.splice(0,1);var ie=B.indexOf(ae);ie>=0&&B.splice(ie,1),q--,P--}E!=null?K=(B.indexOf(W[0])+1)%q:K=0;for(var se=Math.abs(I-L)/P,oe=K;z!=P;oe=++oe%q){var Y=B[oe].getOtherEnd(C);if(Y!=E){var Q=(L+z*se)%360,j=(Q+se)%360;T.branchRadialLayout(Y,C,Q,j,M+N,N),z++}}},T.maxDiagonalInTree=function(C){for(var E=v.MIN_VALUE,L=0;L<C.length;L++){var I=C[L],M=I.getDiagonal();M>E&&(E=M)}return E},T.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},T.prototype.groupZeroDegreeMembers=function(){var C=this,E={};this.memberGroups={},this.idToDummyNode={};for(var L=[],I=this.graphManager.getAllNodes(),M=0;M<I.length;M++){var N=I[M],$=N.getParent();this.getNodeDegreeWithChildren(N)===0&&($.id==null||!this.getToBeTiled($))&&L.push(N)}for(var M=0;M<L.length;M++){var N=L[M],_=N.getParent().id;typeof E[_]>"u"&&(E[_]=[]),E[_]=E[_].concat(N)}Object.keys(E).forEach(function(D){if(E[D].length>1){var R="DummyCompound_"+D;C.memberGroups[R]=E[D];var O=E[D][0].getParent(),A=new u(C.graphManager);A.id=R,A.paddingLeft=O.paddingLeft||0,A.paddingRight=O.paddingRight||0,A.paddingBottom=O.paddingBottom||0,A.paddingTop=O.paddingTop||0,C.idToDummyNode[R]=A;var B=C.getGraphManager().add(C.newGraph(),A),P=O.getChild();P.add(A);for(var z=0;z<E[D].length;z++){var q=E[D][z];P.remove(q),B.add(q)}}})},T.prototype.clearCompounds=function(){var C={},E={};this.performDFSOnCompounds();for(var L=0;L<this.compoundOrder.length;L++)E[this.compoundOrder[L].id]=this.compoundOrder[L],C[this.compoundOrder[L].id]=[].concat(this.compoundOrder[L].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[L].getChild()),this.compoundOrder[L].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(C,E)},T.prototype.clearZeroDegreeMembers=function(){var C=this,E=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(L){var I=C.idToDummyNode[L];E[L]=C.tileNodes(C.memberGroups[L],I.paddingLeft+I.paddingRight),I.rect.width=E[L].width,I.rect.height=E[L].height})},T.prototype.repopulateCompounds=function(){for(var C=this.compoundOrder.length-1;C>=0;C--){var E=this.compoundOrder[C],L=E.id,I=E.paddingLeft,M=E.paddingTop;this.adjustLocations(this.tiledMemberPack[L],E.rect.x,E.rect.y,I,M)}},T.prototype.repopulateZeroDegreeMembers=function(){var C=this,E=this.tiledZeroDegreePack;Object.keys(E).forEach(function(L){var I=C.idToDummyNode[L],M=I.paddingLeft,N=I.paddingTop;C.adjustLocations(E[L],I.rect.x,I.rect.y,M,N)})},T.prototype.getToBeTiled=function(C){var E=C.id;if(this.toBeTiled[E]!=null)return this.toBeTiled[E];var L=C.getChild();if(L==null)return this.toBeTiled[E]=!1,!1;for(var I=L.getNodes(),M=0;M<I.length;M++){var N=I[M];if(this.getNodeDegree(N)>0)return this.toBeTiled[E]=!1,!1;if(N.getChild()==null){this.toBeTiled[N.id]=!1;continue}if(!this.getToBeTiled(N))return this.toBeTiled[E]=!1,!1}return this.toBeTiled[E]=!0,!0},T.prototype.getNodeDegree=function(C){for(var E=C.id,L=C.getEdges(),I=0,M=0;M<L.length;M++){var N=L[M];N.getSource().id!==N.getTarget().id&&(I=I+1)}return I},T.prototype.getNodeDegreeWithChildren=function(C){var E=this.getNodeDegree(C);if(C.getChild()==null)return E;for(var L=C.getChild().getNodes(),I=0;I<L.length;I++){var M=L[I];E+=this.getNodeDegreeWithChildren(M)}return E},T.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},T.prototype.fillCompexOrderByDFS=function(C){for(var E=0;E<C.length;E++){var L=C[E];L.getChild()!=null&&this.fillCompexOrderByDFS(L.getChild().getNodes()),this.getToBeTiled(L)&&this.compoundOrder.push(L)}},T.prototype.adjustLocations=function(C,E,L,I,M){E+=I,L+=M;for(var N=E,$=0;$<C.rows.length;$++){var _=C.rows[$];E=N;for(var D=0,R=0;R<_.length;R++){var O=_[R];O.rect.x=E,O.rect.y=L,E+=O.rect.width+C.horizontalPadding,O.rect.height>D&&(D=O.rect.height)}L+=D+C.verticalPadding}},T.prototype.tileCompoundMembers=function(C,E){var L=this;this.tiledMemberPack=[],Object.keys(C).forEach(function(I){var M=E[I];L.tiledMemberPack[I]=L.tileNodes(C[I],M.paddingLeft+M.paddingRight),M.rect.width=L.tiledMemberPack[I].width,M.rect.height=L.tiledMemberPack[I].height})},T.prototype.tileNodes=function(C,E){var L=p.TILING_PADDING_VERTICAL,I=p.TILING_PADDING_HORIZONTAL,M={rows:[],rowWidth:[],rowHeight:[],width:0,height:E,verticalPadding:L,horizontalPadding:I};C.sort(function(_,D){return _.rect.width*_.rect.height>D.rect.width*D.rect.height?-1:_.rect.width*_.rect.height<D.rect.width*D.rect.height?1:0});for(var N=0;N<C.length;N++){var $=C[N];M.rows.length==0?this.insertNodeToRow(M,$,0,E):this.canAddHorizontal(M,$.rect.width,$.rect.height)?this.insertNodeToRow(M,$,this.getShortestRowIndex(M),E):this.insertNodeToRow(M,$,M.rows.length,E),this.shiftToLastRow(M)}return M},T.prototype.insertNodeToRow=function(C,E,L,I){var M=I;if(L==C.rows.length){var N=[];C.rows.push(N),C.rowWidth.push(M),C.rowHeight.push(0)}var $=C.rowWidth[L]+E.rect.width;C.rows[L].length>0&&($+=C.horizontalPadding),C.rowWidth[L]=$,C.width<$&&(C.width=$);var _=E.rect.height;L>0&&(_+=C.verticalPadding);var D=0;_>C.rowHeight[L]&&(D=C.rowHeight[L],C.rowHeight[L]=_,D=C.rowHeight[L]-D),C.height+=D,C.rows[L].push(E)},T.prototype.getShortestRowIndex=function(C){for(var E=-1,L=Number.MAX_VALUE,I=0;I<C.rows.length;I++)C.rowWidth[I]<L&&(E=I,L=C.rowWidth[I]);return E},T.prototype.getLongestRowIndex=function(C){for(var E=-1,L=Number.MIN_VALUE,I=0;I<C.rows.length;I++)C.rowWidth[I]>L&&(E=I,L=C.rowWidth[I]);return E},T.prototype.canAddHorizontal=function(C,E,L){var I=this.getShortestRowIndex(C);if(I<0)return!0;var M=C.rowWidth[I];if(M+C.horizontalPadding+E<=C.width)return!0;var N=0;C.rowHeight[I]<L&&I>0&&(N=L+C.verticalPadding-C.rowHeight[I]);var $;C.width-M>=E+C.horizontalPadding?$=(C.height+N)/(M+E+C.horizontalPadding):$=(C.height+N)/C.width,N=L+C.verticalPadding;var _;return C.width<E?_=(C.height+N)/E:_=(C.height+N)/C.width,_<1&&(_=1/_),$<1&&($=1/$),$<_},T.prototype.shiftToLastRow=function(C){var E=this.getLongestRowIndex(C),L=C.rowWidth.length-1,I=C.rows[E],M=I[I.length-1],N=M.width+C.horizontalPadding;if(C.width-C.rowWidth[L]>N&&E!=L){I.splice(-1,1),C.rows[L].push(M),C.rowWidth[E]=C.rowWidth[E]-N,C.rowWidth[L]=C.rowWidth[L]+N,C.width=C.rowWidth[instance.getLongestRowIndex(C)];for(var $=Number.MIN_VALUE,_=0;_<I.length;_++)I[_].height>$&&($=I[_].height);E>0&&($+=C.verticalPadding);var D=C.rowHeight[E]+C.rowHeight[L];C.rowHeight[E]=$,C.rowHeight[L]<M.height+C.verticalPadding&&(C.rowHeight[L]=M.height+C.verticalPadding);var R=C.rowHeight[E]+C.rowHeight[L];C.height+=R-D,this.shiftToLastRow(C)}},T.prototype.tilingPreLayout=function(){p.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},T.prototype.tilingPostLayout=function(){p.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},T.prototype.reduceTrees=function(){for(var C=[],E=!0,L;E;){var I=this.graphManager.getAllNodes(),M=[];E=!1;for(var N=0;N<I.length;N++)L=I[N],L.getEdges().length==1&&!L.getEdges()[0].isInterGraph&&L.getChild()==null&&(M.push([L,L.getEdges()[0],L.getOwner()]),E=!0);if(E==!0){for(var $=[],_=0;_<M.length;_++)M[_][0].getEdges().length==1&&($.push(M[_]),M[_][0].getOwner().remove(M[_][0]));C.push($),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=C},T.prototype.growTree=function(C){for(var E=C.length,L=C[E-1],I,M=0;M<L.length;M++)I=L[M],this.findPlaceforPrunedNode(I),I[2].add(I[0]),I[2].add(I[1],I[1].source,I[1].target);C.splice(C.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},T.prototype.findPlaceforPrunedNode=function(C){var E,L,I=C[0];I==C[1].source?L=C[1].target:L=C[1].source;var M=L.startX,N=L.finishX,$=L.startY,_=L.finishY,D=0,R=0,O=0,A=0,B=[D,O,R,A];if($>0)for(var P=M;P<=N;P++)B[0]+=this.grid[P][$-1].length+this.grid[P][$].length-1;if(N<this.grid.length-1)for(var P=$;P<=_;P++)B[1]+=this.grid[N+1][P].length+this.grid[N][P].length-1;if(_<this.grid[0].length-1)for(var P=M;P<=N;P++)B[2]+=this.grid[P][_+1].length+this.grid[P][_].length-1;if(M>0)for(var P=$;P<=_;P++)B[3]+=this.grid[M-1][P].length+this.grid[M][P].length-1;for(var z=v.MAX_VALUE,q,K,W=0;W<B.length;W++)B[W]<z?(z=B[W],q=1,K=W):B[W]==z&&q++;if(q==3&&z==0)B[0]==0&&B[1]==0&&B[2]==0?E=1:B[0]==0&&B[1]==0&&B[3]==0?E=0:B[0]==0&&B[2]==0&&B[3]==0?E=3:B[1]==0&&B[2]==0&&B[3]==0&&(E=2);else if(q==2&&z==0){var ae=Math.floor(Math.random()*2);B[0]==0&&B[1]==0?ae==0?E=0:E=1:B[0]==0&&B[2]==0?ae==0?E=0:E=2:B[0]==0&&B[3]==0?ae==0?E=0:E=3:B[1]==0&&B[2]==0?ae==0?E=1:E=2:B[1]==0&&B[3]==0?ae==0?E=1:E=3:ae==0?E=2:E=3}else if(q==4&&z==0){var ae=Math.floor(Math.random()*4);E=ae}else E=K;E==0?I.setCenter(L.getCenterX(),L.getCenterY()-L.getHeight()/2-g.DEFAULT_EDGE_LENGTH-I.getHeight()/2):E==1?I.setCenter(L.getCenterX()+L.getWidth()/2+g.DEFAULT_EDGE_LENGTH+I.getWidth()/2,L.getCenterY()):E==2?I.setCenter(L.getCenterX(),L.getCenterY()+L.getHeight()/2+g.DEFAULT_EDGE_LENGTH+I.getHeight()/2):I.setCenter(L.getCenterX()-L.getWidth()/2-g.DEFAULT_EDGE_LENGTH-I.getWidth()/2,L.getCenterY())},i.exports=T}),(function(i,n,a){"use strict";var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),i.exports=s})])})}),Q9e=Li((t,e)=>{"use strict";l((function(r,i){typeof t=="object"&&typeof e=="object"?e.exports=i(Kse()):typeof define=="function"&&define.amd?define(["cose-base"],i):typeof t=="object"?t.cytoscapeCoseBilkent=i(Kse()):r.cytoscapeCoseBilkent=i(r.coseBase)}),"webpackUniversalModuleDefinition")(t,function(r){return(function(i){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return i[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return l(a,"__webpack_require__"),a.m=i,a.c=n,a.i=function(s){return s},a.d=function(s,o,h){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:h})},a.n=function(s){var o=s&&s.__esModule?l(function(){return s.default},"getDefault"):l(function(){return s},"getModuleExports");return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=1)})([(function(i,n){i.exports=r}),(function(i,n,a){"use strict";var s=a(0).layoutBase.LayoutConstants,o=a(0).layoutBase.FDLayoutConstants,h=a(0).CoSEConstants,u=a(0).CoSELayout,d=a(0).CoSENode,p=a(0).layoutBase.PointD,g=a(0).layoutBase.DimensionD,f={ready:l(function(){},"ready"),stop:l(function(){},"stop"),quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(x,w){var k={};for(var T in x)k[T]=x[T];for(var T in w)k[T]=w[T];return k}l(m,"extend");function y(x){this.options=m(f,x),b(this.options)}l(y,"_CoSELayout");var b=l(function(x){x.nodeRepulsion!=null&&(h.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=x.nodeRepulsion),x.idealEdgeLength!=null&&(h.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=x.idealEdgeLength),x.edgeElasticity!=null&&(h.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=x.edgeElasticity),x.nestingFactor!=null&&(h.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.nestingFactor),x.gravity!=null&&(h.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=x.gravity),x.numIter!=null&&(h.MAX_ITERATIONS=o.MAX_ITERATIONS=x.numIter),x.gravityRange!=null&&(h.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=x.gravityRange),x.gravityCompound!=null&&(h.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.gravityCompound),x.gravityRangeCompound!=null&&(h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.gravityRangeCompound),x.initialEnergyOnIncremental!=null&&(h.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.initialEnergyOnIncremental),x.quality=="draft"?s.QUALITY=0:x.quality=="proof"?s.QUALITY=2:s.QUALITY=1,h.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=x.nodeDimensionsIncludeLabels,h.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!x.randomize,h.ANIMATE=o.ANIMATE=s.ANIMATE=x.animate,h.TILE=x.tile,h.TILING_PADDING_VERTICAL=typeof x.tilingPaddingVertical=="function"?x.tilingPaddingVertical.call():x.tilingPaddingVertical,h.TILING_PADDING_HORIZONTAL=typeof x.tilingPaddingHorizontal=="function"?x.tilingPaddingHorizontal.call():x.tilingPaddingHorizontal},"getUserOptions");y.prototype.run=function(){var x,w,k=this.options,T=this.idToLNode={},S=this.layout=new u,C=this;C.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var E=S.newGraphManager();this.gm=E;var L=this.options.eles.nodes(),I=this.options.eles.edges();this.root=E.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(L),S);for(var M=0;M<I.length;M++){var N=I[M],$=this.idToLNode[N.data("source")],_=this.idToLNode[N.data("target")];if($!==_&&$.getEdgesBetween(_).length==0){var D=E.add(S.newEdge(),$,_);D.id=N.id()}}var R=l(function(A,B){typeof A=="number"&&(A=B);var P=A.data("id"),z=C.idToLNode[P];return{x:z.getRect().getCenterX(),y:z.getRect().getCenterY()}},"getPositions"),O=l(function A(){for(var B=l(function(){k.fit&&k.cy.fit(k.eles,k.padding),x||(x=!0,C.cy.one("layoutready",k.ready),C.cy.trigger({type:"layoutready",layout:C}))},"afterReposition"),P=C.options.refresh,z,q=0;q<P&&!z;q++)z=C.stopped||C.layout.tick();if(z){S.checkLayoutSuccess()&&!S.isSubLayout&&S.doPostLayout(),S.tilingPostLayout&&S.tilingPostLayout(),S.isLayoutFinished=!0,C.options.eles.nodes().positions(R),B(),C.cy.one("layoutstop",C.options.stop),C.cy.trigger({type:"layoutstop",layout:C}),w&&cancelAnimationFrame(w),x=!1;return}var K=C.layout.getPositionsData();k.eles.nodes().positions(function(W,ae){if(typeof W=="number"&&(W=ae),!W.isParent()){for(var ie=W.id(),se=K[ie],oe=W;se==null&&(se=K[oe.data("parent")]||K["DummyCompound_"+oe.data("parent")],K[ie]=se,oe=oe.parent()[0],oe!=null););return se!=null?{x:se.x,y:se.y}:{x:W.position("x"),y:W.position("y")}}}),B(),w=requestAnimationFrame(A)},"iterateAnimated");return S.addListener("layoutstarted",function(){C.options.animate==="during"&&(w=requestAnimationFrame(O))}),S.runLayout(),this.options.animate!=="during"&&(C.options.eles.nodes().not(":parent").layoutPositions(C,C.options,R),x=!1),this},y.prototype.getTopMostNodes=function(x){for(var w={},k=0;k<x.length;k++)w[x[k].id()]=!0;var T=x.filter(function(S,C){typeof S=="number"&&(S=C);for(var E=S.parent()[0];E!=null;){if(w[E.id()])return!1;E=E.parent()[0]}return!0});return T},y.prototype.processChildrenList=function(x,w,k){for(var T=w.length,S=0;S<T;S++){var C=w[S],E=C.children(),L,I=C.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(C.outerWidth()!=null&&C.outerHeight()!=null?L=x.add(new d(k.graphManager,new p(C.position("x")-I.w/2,C.position("y")-I.h/2),new g(parseFloat(I.w),parseFloat(I.h)))):L=x.add(new d(this.graphManager)),L.id=C.data("id"),L.paddingLeft=parseInt(C.css("padding")),L.paddingTop=parseInt(C.css("padding")),L.paddingRight=parseInt(C.css("padding")),L.paddingBottom=parseInt(C.css("padding")),this.options.nodeDimensionsIncludeLabels&&C.isParent()){var M=C.boundingBox({includeLabels:!0,includeNodes:!1}).w,N=C.boundingBox({includeLabels:!0,includeNodes:!1}).h,$=C.css("text-halign");L.labelWidth=M,L.labelHeight=N,L.labelPos=$}if(this.idToLNode[C.data("id")]=L,isNaN(L.rect.x)&&(L.rect.x=0),isNaN(L.rect.y)&&(L.rect.y=0),E!=null&&E.length>0){var _;_=k.getGraphManager().add(k.newGraph(),L),this.processChildrenList(_,E,k)}}},y.prototype.stop=function(){return this.stopped=!0,this};var v=l(function(x){x("layout","cose-bilkent",y)},"register");typeof cytoscape<"u"&&v(cytoscape),i.exports=v})])})}),J9e=fi(Q9e(),1);Rs.use(J9e.default);l(Zse,"addNodes");l(Qse,"addEdges");l(Jse,"createCytoscapeInstance");l(eoe,"extractPositionedNodes");l(toe,"extractPositionedEdges");l(roe,"executeCoseBilkentLayout");l(ioe,"validateLayoutData");eLe=l(async(t,e,{insertCluster:r,insertEdge:i,insertEdgeLabel:n,insertMarkers:a,insertNode:s,log:o,positionEdgeLabel:h},{algorithm:u})=>{let d={},p={},g=e.select("g");a(g,t.markers,t.type,t.diagramId);let f=g.insert("g").attr("class","subgraphs"),m=g.insert("g").attr("class","edgePaths"),y=g.insert("g").attr("class","edgeLabels"),b=g.insert("g").attr("class","nodes");o.debug("Inserting nodes into DOM for dimension calculation"),await Promise.all(t.nodes.map(async w=>{if(w.isGroup){let k={...w};p[w.id]=k,d[w.id]=k,await r(f,w)}else{let k={...w};d[w.id]=k;let T=await s(b,w,{config:t.config,dir:t.direction||"TB"}),S=T.node().getBBox();k.width=S.width,k.height=S.height,k.domId=T,o.debug(`Node ${w.id} dimensions: ${S.width}x${S.height}`)}})),o.debug("Running cose-bilkent layout algorithm");let v={...t,nodes:t.nodes.map(w=>{let k=d[w.id];return{...w,width:k.width,height:k.height}})},x=await roe(v,t.config);o.debug("Positioning nodes based on layout results"),x.nodes.forEach(w=>{let k=d[w.id];k!=null&&k.domId&&(k.domId.attr("transform",`translate(${w.x}, ${w.y})`),k.x=w.x,k.y=w.y,o.debug(`Positioned node ${k.id} at center (${w.x}, ${w.y})`))}),x.edges.forEach(w=>{let k=t.edges.find(T=>T.id===w.id);k&&(k.points=[{x:w.startX,y:w.startY},{x:w.midX,y:w.midY},{x:w.endX,y:w.endY}])}),o.debug("Inserting and positioning edges"),await Promise.all(t.edges.map(async w=>{let k=await n(y,w),T=d[w.start??""],S=d[w.end??""];if(T&&S){let C=x.edges.find(E=>E.id===w.id);if(C){o.debug("APA01 positionedEdge",C);let E={...w},L=i(m,E,p,t.type,T,S,t.diagramId);h(E,L)}else{let E={...w,points:[{x:T.x||0,y:T.y||0},{x:S.x||0,y:S.y||0}]},L=i(m,E,p,t.type,T,S,t.diagramId);h(E,L)}}})),o.debug("Cose-bilkent rendering completed")},"render"),tLe=eLe});var rLe,Sb,oN,iLe,Ds,il,Ms=wt(()=>{Es();$a();Hr();hr();lr();kt();rLe={common:Ke,getConfig:ir,insertCluster:jp,insertEdge:z5,insertEdgeLabel:P5,insertMarkers:G5,insertNode:Gu,interpolateToCurve:s5,labelHelper:Ht,log:ee,positionEdgeLabel:F5},Sb={},oN=l(t=>{for(let e of t)Sb[e.name]=e},"registerLayoutLoaders"),iLe=l(()=>{oN([{name:"dagre",loader:l(async()=>await Promise.resolve().then(()=>(Tte(),kte)),"loader")},{name:"cose-bilkent",loader:l(async()=>await Promise.resolve().then(()=>(aoe(),noe)),"loader")}])},"registerDefaultLayoutLoaders");iLe();Ds=l(async(t,e)=>{if(!(t.layoutAlgorithm in Sb))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);let r=Sb[t.layoutAlgorithm];return(await r.loader()).render(t,e,rLe,{algorithm:r.algorithm})},"render"),il=l((t="",{fallback:e="dagre"}={})=>{if(t in Sb)return t;if(e in Sb)return ee.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm")});var soe,gd,uw,ooe,dw,pw,Jn,gw,fw=wt(()=>{ri();hr();kt();soe=fi(jo(),1),gd=l((t,e)=>{let r=t.append("rect");if(r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),e.name&&r.attr("name",e.name),e.rx&&r.attr("rx",e.rx),e.ry&&r.attr("ry",e.ry),e.attrs!==void 0)for(let i in e.attrs)r.attr(i,e.attrs[i]);return e.class&&r.attr("class",e.class),r},"drawRect"),uw=l((t,e)=>{let r={x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,stroke:e.stroke,class:"rect"};gd(t,r).lower()},"drawBackgroundRect"),ooe=l((t,e)=>{let r=e.text.replace(ku," "),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.attr("class","legend"),i.style("text-anchor",e.anchor),e.class&&i.attr("class",e.class);let n=i.append("tspan");return n.attr("x",e.x+e.textMargin*2),n.text(r),i},"drawText"),dw=l((t,e,r,i)=>{let n=t.append("image");n.attr("x",e),n.attr("y",r);let a=(0,soe.sanitizeUrl)(i);n.attr("xlink:href",a)},"drawImage"),pw=l((t,e,r,i)=>{let n=t.append("use");n.attr("x",e),n.attr("y",r);let a=(0,soe.sanitizeUrl)(i);n.attr("xlink:href",`#${a}`)},"drawEmbeddedImage"),Jn=l(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),gw=l(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj")});var voe={};Tr(voe,{diagram:()=>QLe});function $s(t,e,r,i,n){if(!e[t].width)if(r)e[t].text=TS(e[t].text,n,i),e[t].textLines=e[t].text.split(Ke.lineBreakRegex).length,e[t].width=n,e[t].height=sv(e[t].text,i);else{let a=e[t].text.split(Ke.lineBreakRegex);e[t].textLines=a.length;let s=0;e[t].height=0,e[t].width=0;for(let o of a)e[t].width=Math.max(En(o,i),e[t].width),s=sv(o,i),e[t].height=e[t].height+s}}function gN(t,e,r,i,n){let a=new foe(n);a.data.widthLimit=r.data.widthLimit/Math.min(cN,i.length);for(let[s,o]of i.entries()){let h=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=h,h=o.image.Y+o.image.height);let u=o.wrap&&Ot.wrap,d=mw(Ot);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",$s("label",o,u,d,a.data.widthLimit),o.label.Y=h+8,h=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let m=mw(Ot);$s("type",o,u,m,a.data.widthLimit),o.type.Y=h+5,h=o.type.Y+o.type.height}if(o.descr&&o.descr.text!==""){let m=mw(Ot);m.fontSize=m.fontSize-2,$s("descr",o,u,m,a.data.widthLimit),o.descr.Y=h+20,h=o.descr.Y+o.descr.height}if(s==0||s%cN===0){let m=r.data.startx+Ot.diagramMarginX,y=r.data.stopy+Ot.diagramMarginY+h;a.setData(m,m,y,y)}else{let m=a.data.stopx!==a.data.startx?a.data.stopx+Ot.diagramMarginX:a.data.startx,y=a.data.starty;a.setData(m,m,y,y)}a.name=o.alias;let p=n.db.getC4ShapeArray(o.alias),g=n.db.getC4ShapeKeys(o.alias);g.length>0&&yoe(a,t,p,g),e=o.alias;let f=n.db.getBoundaries(e);f.length>0&&gN(t,e,a,f,n),o.alias!=="global"&&moe(t,o,a),r.data.stopy=Math.max(a.data.stopy+Ot.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+Ot.c4ShapeMargin,r.data.stopx),xw=Math.max(xw,r.data.stopx),ww=Math.max(ww,r.data.stopy)}}var yw,nLe,fo,Rh,va,go,al,Ab,uN,dN,vw,bw,hoe,aLe,sLe,oLe,lLe,cLe,hLe,uLe,dLe,pLe,gLe,fLe,mLe,yLe,vLe,bLe,xLe,wLe,uoe,kLe,TLe,doe,ELe,CLe,SLe,_Le,Dh,ALe,LLe,NLe,ILe,RLe,lN,DLe,pN,poe,MLe,OLe,$Le,BLe,PLe,FLe,zLe,GLe,qLe,ULe,jLe,WLe,Ql,nl,xw,ww,goe,cN,Ot,Eg,foe,hN,_b,mw,VLe,moe,yoe,Cg,Os,loe,YLe,HLe,XLe,coe,KLe,ZLe,QLe,boe=wt(()=>{fw();Hr();ri();hr();lr();br();kt();yw=(function(){var t=l(function(qe,Ce,De,ye){for(De=De||{},ye=qe.length;ye--;De[qe[ye]]=Ce);return De},"o"),e=[1,24],r=[1,25],i=[1,26],n=[1,27],a=[1,28],s=[1,63],o=[1,64],h=[1,65],u=[1,66],d=[1,67],p=[1,68],g=[1,69],f=[1,29],m=[1,30],y=[1,31],b=[1,32],v=[1,33],x=[1,34],w=[1,35],k=[1,36],T=[1,37],S=[1,38],C=[1,39],E=[1,40],L=[1,41],I=[1,42],M=[1,43],N=[1,44],$=[1,45],_=[1,46],D=[1,47],R=[1,48],O=[1,50],A=[1,51],B=[1,52],P=[1,53],z=[1,54],q=[1,55],K=[1,56],W=[1,57],ae=[1,58],ie=[1,59],se=[1,60],oe=[14,42],Y=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Q=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],j=[1,82],H=[1,83],J=[1,84],he=[1,85],X=[12,14,42],fe=[12,14,33,42],V=[12,14,33,42,76,77,79,80],Se=[12,33],ce=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Le={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:l(function(qe,Ce,De,ye,Pe,ue,Ve){var Z=ue.length-1;switch(Pe){case 3:ye.setDirection("TB");break;case 4:ye.setDirection("BT");break;case 5:ye.setDirection("RL");break;case 6:ye.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:ye.setC4Type(ue[Z-3]);break;case 19:ye.setTitle(ue[Z].substring(6)),this.$=ue[Z].substring(6);break;case 20:ye.setAccDescription(ue[Z].substring(15)),this.$=ue[Z].substring(15);break;case 21:this.$=ue[Z].trim(),ye.setTitle(this.$);break;case 22:case 23:this.$=ue[Z].trim(),ye.setAccDescription(this.$);break;case 28:ue[Z].splice(2,0,"ENTERPRISE"),ye.addPersonOrSystemBoundary(...ue[Z]),this.$=ue[Z];break;case 29:ue[Z].splice(2,0,"SYSTEM"),ye.addPersonOrSystemBoundary(...ue[Z]),this.$=ue[Z];break;case 30:ye.addPersonOrSystemBoundary(...ue[Z]),this.$=ue[Z];break;case 31:ue[Z].splice(2,0,"CONTAINER"),ye.addContainerBoundary(...ue[Z]),this.$=ue[Z];break;case 32:ye.addDeploymentNode("node",...ue[Z]),this.$=ue[Z];break;case 33:ye.addDeploymentNode("nodeL",...ue[Z]),this.$=ue[Z];break;case 34:ye.addDeploymentNode("nodeR",...ue[Z]),this.$=ue[Z];break;case 35:ye.popBoundaryParseStack();break;case 39:ye.addPersonOrSystem("person",...ue[Z]),this.$=ue[Z];break;case 40:ye.addPersonOrSystem("external_person",...ue[Z]),this.$=ue[Z];break;case 41:ye.addPersonOrSystem("system",...ue[Z]),this.$=ue[Z];break;case 42:ye.addPersonOrSystem("system_db",...ue[Z]),this.$=ue[Z];break;case 43:ye.addPersonOrSystem("system_queue",...ue[Z]),this.$=ue[Z];break;case 44:ye.addPersonOrSystem("external_system",...ue[Z]),this.$=ue[Z];break;case 45:ye.addPersonOrSystem("external_system_db",...ue[Z]),this.$=ue[Z];break;case 46:ye.addPersonOrSystem("external_system_queue",...ue[Z]),this.$=ue[Z];break;case 47:ye.addContainer("container",...ue[Z]),this.$=ue[Z];break;case 48:ye.addContainer("container_db",...ue[Z]),this.$=ue[Z];break;case 49:ye.addContainer("container_queue",...ue[Z]),this.$=ue[Z];break;case 50:ye.addContainer("external_container",...ue[Z]),this.$=ue[Z];break;case 51:ye.addContainer("external_container_db",...ue[Z]),this.$=ue[Z];break;case 52:ye.addContainer("external_container_queue",...ue[Z]),this.$=ue[Z];break;case 53:ye.addComponent("component",...ue[Z]),this.$=ue[Z];break;case 54:ye.addComponent("component_db",...ue[Z]),this.$=ue[Z];break;case 55:ye.addComponent("component_queue",...ue[Z]),this.$=ue[Z];break;case 56:ye.addComponent("external_component",...ue[Z]),this.$=ue[Z];break;case 57:ye.addComponent("external_component_db",...ue[Z]),this.$=ue[Z];break;case 58:ye.addComponent("external_component_queue",...ue[Z]),this.$=ue[Z];break;case 60:ye.addRel("rel",...ue[Z]),this.$=ue[Z];break;case 61:ye.addRel("birel",...ue[Z]),this.$=ue[Z];break;case 62:ye.addRel("rel_u",...ue[Z]),this.$=ue[Z];break;case 63:ye.addRel("rel_d",...ue[Z]),this.$=ue[Z];break;case 64:ye.addRel("rel_l",...ue[Z]),this.$=ue[Z];break;case 65:ye.addRel("rel_r",...ue[Z]),this.$=ue[Z];break;case 66:ye.addRel("rel_b",...ue[Z]),this.$=ue[Z];break;case 67:ue[Z].splice(0,1),ye.addRel("rel",...ue[Z]),this.$=ue[Z];break;case 68:ye.updateElStyle("update_el_style",...ue[Z]),this.$=ue[Z];break;case 69:ye.updateRelStyle("update_rel_style",...ue[Z]),this.$=ue[Z];break;case 70:ye.updateLayoutConfig("update_layout_config",...ue[Z]),this.$=ue[Z];break;case 71:this.$=[ue[Z]];break;case 72:ue[Z].unshift(ue[Z-1]),this.$=ue[Z];break;case 73:case 75:this.$=ue[Z].trim();break;case 74:let Ne={};Ne[ue[Z-1].trim()]=ue[Z].trim(),this.$=Ne;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:e,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:h,38:u,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:S,54:C,55:E,56:L,57:I,58:M,59:N,60:$,61:_,62:D,63:R,64:O,65:A,66:B,67:P,68:z,69:q,70:K,71:W,72:ae,73:ie,74:se},{13:70,19:20,20:21,21:22,22:e,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:h,38:u,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:S,54:C,55:E,56:L,57:I,58:M,59:N,60:$,61:_,62:D,63:R,64:O,65:A,66:B,67:P,68:z,69:q,70:K,71:W,72:ae,73:ie,74:se},{13:71,19:20,20:21,21:22,22:e,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:h,38:u,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:S,54:C,55:E,56:L,57:I,58:M,59:N,60:$,61:_,62:D,63:R,64:O,65:A,66:B,67:P,68:z,69:q,70:K,71:W,72:ae,73:ie,74:se},{13:72,19:20,20:21,21:22,22:e,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:h,38:u,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:S,54:C,55:E,56:L,57:I,58:M,59:N,60:$,61:_,62:D,63:R,64:O,65:A,66:B,67:P,68:z,69:q,70:K,71:W,72:ae,73:ie,74:se},{13:73,19:20,20:21,21:22,22:e,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:h,38:u,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:S,54:C,55:E,56:L,57:I,58:M,59:N,60:$,61:_,62:D,63:R,64:O,65:A,66:B,67:P,68:z,69:q,70:K,71:W,72:ae,73:ie,74:se},{14:[1,74]},t(oe,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:o,37:h,38:u,39:d,40:p,41:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:S,54:C,55:E,56:L,57:I,58:M,59:N,60:$,61:_,62:D,63:R,64:O,65:A,66:B,67:P,68:z,69:q,70:K,71:W,72:ae,73:ie,74:se}),t(oe,[2,14]),t(Y,[2,16],{12:[1,76]}),t(oe,[2,36],{12:[1,77]}),t(Q,[2,19]),t(Q,[2,20]),{25:[1,78]},{27:[1,79]},t(Q,[2,23]),{35:80,75:81,76:j,77:H,79:J,80:he},{35:86,75:81,76:j,77:H,79:J,80:he},{35:87,75:81,76:j,77:H,79:J,80:he},{35:88,75:81,76:j,77:H,79:J,80:he},{35:89,75:81,76:j,77:H,79:J,80:he},{35:90,75:81,76:j,77:H,79:J,80:he},{35:91,75:81,76:j,77:H,79:J,80:he},{35:92,75:81,76:j,77:H,79:J,80:he},{35:93,75:81,76:j,77:H,79:J,80:he},{35:94,75:81,76:j,77:H,79:J,80:he},{35:95,75:81,76:j,77:H,79:J,80:he},{35:96,75:81,76:j,77:H,79:J,80:he},{35:97,75:81,76:j,77:H,79:J,80:he},{35:98,75:81,76:j,77:H,79:J,80:he},{35:99,75:81,76:j,77:H,79:J,80:he},{35:100,75:81,76:j,77:H,79:J,80:he},{35:101,75:81,76:j,77:H,79:J,80:he},{35:102,75:81,76:j,77:H,79:J,80:he},{35:103,75:81,76:j,77:H,79:J,80:he},{35:104,75:81,76:j,77:H,79:J,80:he},t(X,[2,59]),{35:105,75:81,76:j,77:H,79:J,80:he},{35:106,75:81,76:j,77:H,79:J,80:he},{35:107,75:81,76:j,77:H,79:J,80:he},{35:108,75:81,76:j,77:H,79:J,80:he},{35:109,75:81,76:j,77:H,79:J,80:he},{35:110,75:81,76:j,77:H,79:J,80:he},{35:111,75:81,76:j,77:H,79:J,80:he},{35:112,75:81,76:j,77:H,79:J,80:he},{35:113,75:81,76:j,77:H,79:J,80:he},{35:114,75:81,76:j,77:H,79:J,80:he},{35:115,75:81,76:j,77:H,79:J,80:he},{20:116,29:49,30:61,32:62,34:s,36:o,37:h,38:u,39:d,40:p,41:g,43:23,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:S,54:C,55:E,56:L,57:I,58:M,59:N,60:$,61:_,62:D,63:R,64:O,65:A,66:B,67:P,68:z,69:q,70:K,71:W,72:ae,73:ie,74:se},{12:[1,118],33:[1,117]},{35:119,75:81,76:j,77:H,79:J,80:he},{35:120,75:81,76:j,77:H,79:J,80:he},{35:121,75:81,76:j,77:H,79:J,80:he},{35:122,75:81,76:j,77:H,79:J,80:he},{35:123,75:81,76:j,77:H,79:J,80:he},{35:124,75:81,76:j,77:H,79:J,80:he},{35:125,75:81,76:j,77:H,79:J,80:he},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},t(oe,[2,15]),t(Y,[2,17],{21:22,19:130,22:e,23:r,24:i,26:n,28:a}),t(oe,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:e,23:r,24:i,26:n,28:a,34:s,36:o,37:h,38:u,39:d,40:p,41:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w,51:k,52:T,53:S,54:C,55:E,56:L,57:I,58:M,59:N,60:$,61:_,62:D,63:R,64:O,65:A,66:B,67:P,68:z,69:q,70:K,71:W,72:ae,73:ie,74:se}),t(Q,[2,21]),t(Q,[2,22]),t(X,[2,39]),t(fe,[2,71],{75:81,35:132,76:j,77:H,79:J,80:he}),t(V,[2,73]),{78:[1,133]},t(V,[2,75]),t(V,[2,76]),t(X,[2,40]),t(X,[2,41]),t(X,[2,42]),t(X,[2,43]),t(X,[2,44]),t(X,[2,45]),t(X,[2,46]),t(X,[2,47]),t(X,[2,48]),t(X,[2,49]),t(X,[2,50]),t(X,[2,51]),t(X,[2,52]),t(X,[2,53]),t(X,[2,54]),t(X,[2,55]),t(X,[2,56]),t(X,[2,57]),t(X,[2,58]),t(X,[2,60]),t(X,[2,61]),t(X,[2,62]),t(X,[2,63]),t(X,[2,64]),t(X,[2,65]),t(X,[2,66]),t(X,[2,67]),t(X,[2,68]),t(X,[2,69]),t(X,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},t(Se,[2,28]),t(Se,[2,29]),t(Se,[2,30]),t(Se,[2,31]),t(Se,[2,32]),t(Se,[2,33]),t(Se,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},t(Y,[2,18]),t(oe,[2,38]),t(fe,[2,72]),t(V,[2,74]),t(X,[2,24]),t(X,[2,35]),t(ce,[2,25]),t(ce,[2,26],{12:[1,138]}),t(ce,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:l(function(qe,Ce){if(Ce.recoverable)this.trace(qe);else{var De=new Error(qe);throw De.hash=Ce,De}},"parseError"),parse:l(function(qe){var Ce=this,De=[0],ye=[],Pe=[null],ue=[],Ve=this.table,Z="",Ne=0,F=0,te=0,ne=2,de=1,ge=ue.slice.call(arguments,1),xe=Object.create(this.lexer),Ee={yy:{}};for(var Te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Te)&&(Ee.yy[Te]=this.yy[Te]);xe.setInput(qe,Ee.yy),Ee.yy.lexer=xe,Ee.yy.parser=this,typeof xe.yylloc>"u"&&(xe.yylloc={});var Fe=xe.yylloc;ue.push(Fe);var We=xe.options&&xe.options.ranges;typeof Ee.yy.parseError=="function"?this.parseError=Ee.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function it(Ze){De.length=De.length-2*Ze,Pe.length=Pe.length-Ze,ue.length=ue.length-Ze}l(it,"popStack");function Be(){var Ze;return Ze=ye.pop()||xe.lex()||de,typeof Ze!="number"&&(Ze instanceof Array&&(ye=Ze,Ze=ye.pop()),Ze=Ce.symbols_[Ze]||Ze),Ze}l(Be,"lex");for(var Ye,Ge,ze,Xe,xt,st,at={},Tt,et,ct,pt;;){if(ze=De[De.length-1],this.defaultActions[ze]?Xe=this.defaultActions[ze]:((Ye===null||typeof Ye>"u")&&(Ye=Be()),Xe=Ve[ze]&&Ve[ze][Ye]),typeof Xe>"u"||!Xe.length||!Xe[0]){var Qe="";pt=[];for(Tt in Ve[ze])this.terminals_[Tt]&&Tt>ne&&pt.push("'"+this.terminals_[Tt]+"'");xe.showPosition?Qe="Parse error on line "+(Ne+1)+`:
`+xe.showPosition()+`
Expecting `+pt.join(", ")+", got '"+(this.terminals_[Ye]||Ye)+"'":Qe="Parse error on line "+(Ne+1)+": Unexpected "+(Ye==de?"end of input":"'"+(this.terminals_[Ye]||Ye)+"'"),this.parseError(Qe,{text:xe.match,token:this.terminals_[Ye]||Ye,line:xe.yylineno,loc:Fe,expected:pt})}if(Xe[0]instanceof Array&&Xe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ze+", token: "+Ye);switch(Xe[0]){case 1:De.push(Ye),Pe.push(xe.yytext),ue.push(xe.yylloc),De.push(Xe[1]),Ye=null,Ge?(Ye=Ge,Ge=null):(F=xe.yyleng,Z=xe.yytext,Ne=xe.yylineno,Fe=xe.yylloc,te>0&&te--);break;case 2:if(et=this.productions_[Xe[1]][1],at.$=Pe[Pe.length-et],at._$={first_line:ue[ue.length-(et||1)].first_line,last_line:ue[ue.length-1].last_line,first_column:ue[ue.length-(et||1)].first_column,last_column:ue[ue.length-1].last_column},We&&(at._$.range=[ue[ue.length-(et||1)].range[0],ue[ue.length-1].range[1]]),st=this.performAction.apply(at,[Z,F,Ne,Ee.yy,Xe[1],Pe,ue].concat(ge)),typeof st<"u")return st;et&&(De=De.slice(0,-1*et*2),Pe=Pe.slice(0,-1*et),ue=ue.slice(0,-1*et)),De.push(this.productions_[Xe[1]][0]),Pe.push(at.$),ue.push(at._$),ct=Ve[De[De.length-2]][De[De.length-1]],De.push(ct);break;case 3:return!0}}return!0},"parse")},$e=(function(){var qe={EOF:1,parseError:l(function(Ce,De){if(this.yy.parser)this.yy.parser.parseError(Ce,De);else throw new Error(Ce)},"parseError"),setInput:l(function(Ce,De){return this.yy=De||this.yy||{},this._input=Ce,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var Ce=this._input[0];this.yytext+=Ce,this.yyleng++,this.offset++,this.match+=Ce,this.matched+=Ce;var De=Ce.match(/(?:\r\n?|\n).*/g);return De?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ce},"input"),unput:l(function(Ce){var De=Ce.length,ye=Ce.split(/(?:\r\n?|\n)/g);this._input=Ce+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-De),this.offset-=De;var Pe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ye.length-1&&(this.yylineno-=ye.length-1);var ue=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ye?(ye.length===Pe.length?this.yylloc.first_column:0)+Pe[Pe.length-ye.length].length-ye[0].length:this.yylloc.first_column-De},this.options.ranges&&(this.yylloc.range=[ue[0],ue[0]+this.yyleng-De]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(Ce){this.unput(this.match.slice(Ce))},"less"),pastInput:l(function(){var Ce=this.matched.substr(0,this.matched.length-this.match.length);return(Ce.length>20?"...":"")+Ce.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var Ce=this.match;return Ce.length<20&&(Ce+=this._input.substr(0,20-Ce.length)),(Ce.substr(0,20)+(Ce.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var Ce=this.pastInput(),De=new Array(Ce.length+1).join("-");return Ce+this.upcomingInput()+`
`+De+"^"},"showPosition"),test_match:l(function(Ce,De){var ye,Pe,ue;if(this.options.backtrack_lexer&&(ue={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ue.yylloc.range=this.yylloc.range.slice(0))),Pe=Ce[0].match(/(?:\r\n?|\n).*/g),Pe&&(this.yylineno+=Pe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Pe?Pe[Pe.length-1].length-Pe[Pe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ce[0].length},this.yytext+=Ce[0],this.match+=Ce[0],this.matches=Ce,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ce[0].length),this.matched+=Ce[0],ye=this.performAction.call(this,this.yy,this,De,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ye)return ye;if(this._backtrack){for(var Ve in ue)this[Ve]=ue[Ve];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ce,De,ye,Pe;this._more||(this.yytext="",this.match="");for(var ue=this._currentRules(),Ve=0;Ve<ue.length;Ve++)if(ye=this._input.match(this.rules[ue[Ve]]),ye&&(!De||ye[0].length>De[0].length)){if(De=ye,Pe=Ve,this.options.backtrack_lexer){if(Ce=this.test_match(ye,ue[Ve]),Ce!==!1)return Ce;if(this._backtrack){De=!1;continue}else return!1}else if(!this.options.flex)break}return De?(Ce=this.test_match(De,ue[Pe]),Ce!==!1?Ce:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var Ce=this.next();return Ce||this.lex()},"lex"),begin:l(function(Ce){this.conditionStack.push(Ce)},"begin"),popState:l(function(){var Ce=this.conditionStack.length-1;return Ce>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(Ce){return Ce=this.conditionStack.length-1-Math.abs(Ce||0),Ce>=0?this.conditionStack[Ce]:"INITIAL"},"topState"),pushState:l(function(Ce){this.begin(Ce)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(Ce,De,ye,Pe){var ue=Pe;switch(ye){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return qe})();Le.lexer=$e;function je(){this.yy={}}return l(je,"Parser"),je.prototype=Le,Le.Parser=je,new je})();yw.parser=yw;nLe=yw,fo=[],Rh=[""],va="global",go="",al=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Ab=[],uN="",dN=!1,vw=4,bw=2,aLe=l(function(){return hoe},"getC4Type"),sLe=l(function(t){hoe=tr(t,ve())},"setC4Type"),oLe=l(function(t,e,r,i,n,a,s,o,h){if(t==null||e===void 0||e===null||r===void 0||r===null||i===void 0||i===null)return;let u={},d=Ab.find(p=>p.from===e&&p.to===r);if(d?u=d:Ab.push(u),u.type=t,u.from=e,u.to=r,u.label={text:i},n==null)u.techn={text:""};else if(typeof n=="object"){let[p,g]=Object.entries(n)[0];u[p]={text:g}}else u.techn={text:n};if(a==null)u.descr={text:""};else if(typeof a=="object"){let[p,g]=Object.entries(a)[0];u[p]={text:g}}else u.descr={text:a};if(typeof s=="object"){let[p,g]=Object.entries(s)[0];u[p]=g}else u.sprite=s;if(typeof o=="object"){let[p,g]=Object.entries(o)[0];u[p]=g}else u.tags=o;if(typeof h=="object"){let[p,g]=Object.entries(h)[0];u[p]=g}else u.link=h;u.wrap=Dh()},"addRel"),lLe=l(function(t,e,r,i,n,a,s){if(e===null||r===null)return;let o={},h=fo.find(u=>u.alias===e);if(h&&e===h.alias?o=h:(o.alias=e,fo.push(o)),r==null?o.label={text:""}:o.label={text:r},i==null)o.descr={text:""};else if(typeof i=="object"){let[u,d]=Object.entries(i)[0];o[u]={text:d}}else o.descr={text:i};if(typeof n=="object"){let[u,d]=Object.entries(n)[0];o[u]=d}else o.sprite=n;if(typeof a=="object"){let[u,d]=Object.entries(a)[0];o[u]=d}else o.tags=a;if(typeof s=="object"){let[u,d]=Object.entries(s)[0];o[u]=d}else o.link=s;o.typeC4Shape={text:t},o.parentBoundary=va,o.wrap=Dh()},"addPersonOrSystem"),cLe=l(function(t,e,r,i,n,a,s,o){if(e===null||r===null)return;let h={},u=fo.find(d=>d.alias===e);if(u&&e===u.alias?h=u:(h.alias=e,fo.push(h)),r==null?h.label={text:""}:h.label={text:r},i==null)h.techn={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];h[d]={text:p}}else h.techn={text:i};if(n==null)h.descr={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];h[d]={text:p}}else h.descr={text:n};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];h[d]=p}else h.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];h[d]=p}else h.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];h[d]=p}else h.link=o;h.wrap=Dh(),h.typeC4Shape={text:t},h.parentBoundary=va},"addContainer"),hLe=l(function(t,e,r,i,n,a,s,o){if(e===null||r===null)return;let h={},u=fo.find(d=>d.alias===e);if(u&&e===u.alias?h=u:(h.alias=e,fo.push(h)),r==null?h.label={text:""}:h.label={text:r},i==null)h.techn={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];h[d]={text:p}}else h.techn={text:i};if(n==null)h.descr={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];h[d]={text:p}}else h.descr={text:n};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];h[d]=p}else h.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];h[d]=p}else h.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];h[d]=p}else h.link=o;h.wrap=Dh(),h.typeC4Shape={text:t},h.parentBoundary=va},"addComponent"),uLe=l(function(t,e,r,i,n){if(t===null||e===null)return;let a={},s=al.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,al.push(a)),e==null?a.label={text:""}:a.label={text:e},r==null)a.type={text:"system"};else if(typeof r=="object"){let[o,h]=Object.entries(r)[0];a[o]={text:h}}else a.type={text:r};if(typeof i=="object"){let[o,h]=Object.entries(i)[0];a[o]=h}else a.tags=i;if(typeof n=="object"){let[o,h]=Object.entries(n)[0];a[o]=h}else a.link=n;a.parentBoundary=va,a.wrap=Dh(),go=va,va=t,Rh.push(go)},"addPersonOrSystemBoundary"),dLe=l(function(t,e,r,i,n){if(t===null||e===null)return;let a={},s=al.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,al.push(a)),e==null?a.label={text:""}:a.label={text:e},r==null)a.type={text:"container"};else if(typeof r=="object"){let[o,h]=Object.entries(r)[0];a[o]={text:h}}else a.type={text:r};if(typeof i=="object"){let[o,h]=Object.entries(i)[0];a[o]=h}else a.tags=i;if(typeof n=="object"){let[o,h]=Object.entries(n)[0];a[o]=h}else a.link=n;a.parentBoundary=va,a.wrap=Dh(),go=va,va=t,Rh.push(go)},"addContainerBoundary"),pLe=l(function(t,e,r,i,n,a,s,o){if(e===null||r===null)return;let h={},u=al.find(d=>d.alias===e);if(u&&e===u.alias?h=u:(h.alias=e,al.push(h)),r==null?h.label={text:""}:h.label={text:r},i==null)h.type={text:"node"};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];h[d]={text:p}}else h.type={text:i};if(n==null)h.descr={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];h[d]={text:p}}else h.descr={text:n};if(typeof s=="object"){let[d,p]=Object.entries(s)[0];h[d]=p}else h.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];h[d]=p}else h.link=o;h.nodeType=t,h.parentBoundary=va,h.wrap=Dh(),go=va,va=e,Rh.push(go)},"addDeploymentNode"),gLe=l(function(){va=go,Rh.pop(),go=Rh.pop(),Rh.push(go)},"popBoundaryParseStack"),fLe=l(function(t,e,r,i,n,a,s,o,h,u,d){let p=fo.find(g=>g.alias===e);if(!(p===void 0&&(p=al.find(g=>g.alias===e),p===void 0))){if(r!=null)if(typeof r=="object"){let[g,f]=Object.entries(r)[0];p[g]=f}else p.bgColor=r;if(i!=null)if(typeof i=="object"){let[g,f]=Object.entries(i)[0];p[g]=f}else p.fontColor=i;if(n!=null)if(typeof n=="object"){let[g,f]=Object.entries(n)[0];p[g]=f}else p.borderColor=n;if(a!=null)if(typeof a=="object"){let[g,f]=Object.entries(a)[0];p[g]=f}else p.shadowing=a;if(s!=null)if(typeof s=="object"){let[g,f]=Object.entries(s)[0];p[g]=f}else p.shape=s;if(o!=null)if(typeof o=="object"){let[g,f]=Object.entries(o)[0];p[g]=f}else p.sprite=o;if(h!=null)if(typeof h=="object"){let[g,f]=Object.entries(h)[0];p[g]=f}else p.techn=h;if(u!=null)if(typeof u=="object"){let[g,f]=Object.entries(u)[0];p[g]=f}else p.legendText=u;if(d!=null)if(typeof d=="object"){let[g,f]=Object.entries(d)[0];p[g]=f}else p.legendSprite=d}},"updateElStyle"),mLe=l(function(t,e,r,i,n,a,s){let o=Ab.find(h=>h.from===e&&h.to===r);if(o!==void 0){if(i!=null)if(typeof i=="object"){let[h,u]=Object.entries(i)[0];o[h]=u}else o.textColor=i;if(n!=null)if(typeof n=="object"){let[h,u]=Object.entries(n)[0];o[h]=u}else o.lineColor=n;if(a!=null)if(typeof a=="object"){let[h,u]=Object.entries(a)[0];o[h]=parseInt(u)}else o.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[h,u]=Object.entries(s)[0];o[h]=parseInt(u)}else o.offsetY=parseInt(s)}},"updateRelStyle"),yLe=l(function(t,e,r){let i=vw,n=bw;if(typeof e=="object"){let a=Object.values(e)[0];i=parseInt(a)}else i=parseInt(e);if(typeof r=="object"){let a=Object.values(r)[0];n=parseInt(a)}else n=parseInt(r);i>=1&&(vw=i),n>=1&&(bw=n)},"updateLayoutConfig"),vLe=l(function(){return vw},"getC4ShapeInRow"),bLe=l(function(){return bw},"getC4BoundaryInRow"),xLe=l(function(){return va},"getCurrentBoundaryParse"),wLe=l(function(){return go},"getParentBoundaryParse"),uoe=l(function(t){return t==null?fo:fo.filter(e=>e.parentBoundary===t)},"getC4ShapeArray"),kLe=l(function(t){return fo.find(e=>e.alias===t)},"getC4Shape"),TLe=l(function(t){return Object.keys(uoe(t))},"getC4ShapeKeys"),doe=l(function(t){return t==null?al:al.filter(e=>e.parentBoundary===t)},"getBoundaries"),ELe=doe,CLe=l(function(){return Ab},"getRels"),SLe=l(function(){return uN},"getTitle"),_Le=l(function(t){dN=t},"setWrap"),Dh=l(function(){return dN},"autoWrap"),ALe=l(function(){fo=[],al=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],go="",va="global",Rh=[""],Ab=[],Rh=[""],uN="",dN=!1,vw=4,bw=2},"clear"),LLe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},NLe={FILLED:0,OPEN:1},ILe={LEFTOF:0,RIGHTOF:1,OVER:2},RLe=l(function(t){uN=tr(t,ve())},"setTitle"),lN={addPersonOrSystem:lLe,addPersonOrSystemBoundary:uLe,addContainer:cLe,addContainerBoundary:dLe,addComponent:hLe,addDeploymentNode:pLe,popBoundaryParseStack:gLe,addRel:oLe,updateElStyle:fLe,updateRelStyle:mLe,updateLayoutConfig:yLe,autoWrap:Dh,setWrap:_Le,getC4ShapeArray:uoe,getC4Shape:kLe,getC4ShapeKeys:TLe,getBoundaries:doe,getBoundarys:ELe,getCurrentBoundaryParse:xLe,getParentBoundaryParse:wLe,getRels:CLe,getTitle:SLe,getC4Type:aLe,getC4ShapeInRow:vLe,getC4BoundaryInRow:bLe,setAccTitle:gr,getAccTitle:fr,getAccDescription:yr,setAccDescription:mr,getConfig:l(()=>ve().c4,"getConfig"),clear:ALe,LINETYPE:LLe,ARROWTYPE:NLe,PLACEMENT:ILe,setTitle:RLe,setC4Type:sLe},DLe=fi(jo(),1),pN=l(function(t,e){return gd(t,e)},"drawRect"),poe=l(function(t,e,r,i,n,a){let s=t.append("image");s.attr("width",e),s.attr("height",r),s.attr("x",i),s.attr("y",n);let o=a.startsWith("data:image/png;base64")?a:(0,DLe.sanitizeUrl)(a);s.attr("xlink:href",o)},"drawImage"),MLe=l((t,e,r)=>{let i=t.append("g"),n=0;for(let a of e){let s=a.textColor?a.textColor:"#444444",o=a.lineColor?a.lineColor:"#444444",h=a.offsetX?parseInt(a.offsetX):0,u=a.offsetY?parseInt(a.offsetY):0,d="";if(n===0){let g=i.append("line");g.attr("x1",a.startPoint.x),g.attr("y1",a.startPoint.y),g.attr("x2",a.endPoint.x),g.attr("y2",a.endPoint.y),g.attr("stroke-width","1"),g.attr("stroke",o),g.style("fill","none"),a.type!=="rel_b"&&g.attr("marker-end","url("+d+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&g.attr("marker-start","url("+d+"#arrowend)"),n=-1}else{let g=i.append("path");g.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&g.attr("marker-end","url("+d+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&g.attr("marker-start","url("+d+"#arrowend)")}let p=r.messageFont();Ql(r)(a.label.text,i,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+h,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+u,a.label.width,a.label.height,{fill:s},p),a.techn&&a.techn.text!==""&&(p=r.messageFont(),Ql(r)("["+a.techn.text+"]",i,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+h,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+r.messageFontSize+5+u,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},p))}},"drawRels"),OLe=l(function(t,e,r){let i=t.append("g"),n=e.bgColor?e.bgColor:"none",a=e.borderColor?e.borderColor:"#444444",s=e.fontColor?e.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(o={"stroke-width":1});let h={x:e.x,y:e.y,fill:n,stroke:a,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:o};pN(i,h);let u=r.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=s,Ql(r)(e.label.text,i,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},u),e.type&&e.type.text!==""&&(u=r.boundaryFont(),u.fontColor=s,Ql(r)(e.type.text,i,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},u)),e.descr&&e.descr.text!==""&&(u=r.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=s,Ql(r)(e.descr.text,i,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},u))},"drawBoundary"),$Le=l(function(t,e,r){var p;let i=e.bgColor?e.bgColor:r[e.typeC4Shape.text+"_bg_color"],n=e.borderColor?e.borderColor:r[e.typeC4Shape.text+"_border_color"],a=e.fontColor?e.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let o=t.append("g");o.attr("class","person-man");let h=Jn();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":h.x=e.x,h.y=e.y,h.fill=i,h.width=e.width,h.height=e.height,h.stroke=n,h.rx=2.5,h.ry=2.5,h.attrs={"stroke-width":.5},pN(o,h);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let u=WLe(r,e.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":poe(o,48,48,e.x+e.width/2-24,e.y+e.image.Y,s);break}let d=r[e.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=a,Ql(r)(e.label.text,o,e.x,e.y+e.label.Y,e.width,e.height,{fill:a},d),d=r[e.typeC4Shape.text+"Font"](),d.fontColor=a,e.techn&&((p=e.techn)==null?void 0:p.text)!==""?Ql(r)(e.techn.text,o,e.x,e.y+e.techn.Y,e.width,e.height,{fill:a,"font-style":"italic"},d):e.type&&e.type.text!==""&&Ql(r)(e.type.text,o,e.x,e.y+e.type.Y,e.width,e.height,{fill:a,"font-style":"italic"},d),e.descr&&e.descr.text!==""&&(d=r.personFont(),d.fontColor=a,Ql(r)(e.descr.text,o,e.x,e.y+e.descr.Y,e.width,e.height,{fill:a},d)),e.height},"drawC4Shape"),BLe=l(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),PLe=l(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),FLe=l(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),zLe=l(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),GLe=l(function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),qLe=l(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),ULe=l(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),jLe=l(function(t){let e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),WLe=l((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"getC4ShapeFont"),Ql=(function(){function t(n,a,s,o,h,u,d){let p=a.append("text").attr("x",s+h/2).attr("y",o+u/2+5).style("text-anchor","middle").text(n);i(p,d)}l(t,"byText");function e(n,a,s,o,h,u,d,p){let{fontSize:g,fontFamily:f,fontWeight:m}=p,y=n.split(Ke.lineBreakRegex);for(let b=0;b<y.length;b++){let v=b*g-g*(y.length-1)/2,x=a.append("text").attr("x",s+h/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",g).style("font-weight",m).style("font-family",f);x.append("tspan").attr("dy",v).text(y[b]).attr("alignment-baseline","mathematical"),i(x,d)}}l(e,"byTspan");function r(n,a,s,o,h,u,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",h).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),e(n,g,s,o,h,u,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)a.hasOwnProperty(s)&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?t:e}})(),nl={drawRect:pN,drawBoundary:OLe,drawC4Shape:$Le,drawRels:MLe,drawImage:poe,insertArrowHead:zLe,insertArrowEnd:GLe,insertArrowFilledHead:qLe,insertDynamicNumber:ULe,insertArrowCrossHead:jLe,insertDatabaseIcon:BLe,insertComputerIcon:PLe,insertClockIcon:FLe},xw=0,ww=0,goe=4,cN=2;yw.yy=lN;Ot={},foe=(Eg=class{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,hN(e.db.getConfig())}setData(e,r,i,n){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=r,this.nextData.starty=this.data.starty=i,this.nextData.stopy=this.data.stopy=n}updateVal(e,r,i,n){e[r]===void 0?e[r]=i:e[r]=n(i,e[r])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let r=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,i=r+e.width,n=this.nextData.starty+e.margin*2,a=n+e.height;(r>=this.data.widthLimit||i>=this.data.widthLimit||this.nextData.cnt>goe)&&(r=this.nextData.startx+e.margin+Ot.nextLinePaddingX,n=this.nextData.stopy+e.margin*2,this.nextData.stopx=i=r+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=a=n+e.height,this.nextData.cnt=1),e.x=r,e.y=n,this.updateVal(this.data,"startx",r,Math.min),this.updateVal(this.data,"starty",n,Math.min),this.updateVal(this.data,"stopx",i,Math.max),this.updateVal(this.data,"stopy",a,Math.max),this.updateVal(this.nextData,"startx",r,Math.min),this.updateVal(this.nextData,"starty",n,Math.min),this.updateVal(this.nextData,"stopx",i,Math.max),this.updateVal(this.nextData,"stopy",a,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},hN(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},l(Eg,"Bounds"),Eg),hN=l(function(t){oi(Ot,t),t.fontFamily&&(Ot.personFontFamily=Ot.systemFontFamily=Ot.messageFontFamily=t.fontFamily),t.fontSize&&(Ot.personFontSize=Ot.systemFontSize=Ot.messageFontSize=t.fontSize),t.fontWeight&&(Ot.personFontWeight=Ot.systemFontWeight=Ot.messageFontWeight=t.fontWeight)},"setConf"),_b=l((t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),"c4ShapeFont"),mw=l(t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),"boundaryFont"),VLe=l(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont");l($s,"calcC4ShapeTextWH");moe=l(function(t,e,r){e.x=r.data.startx,e.y=r.data.starty,e.width=r.data.stopx-r.data.startx,e.height=r.data.stopy-r.data.starty,e.label.y=Ot.c4ShapeMargin-35;let i=e.wrap&&Ot.wrap,n=mw(Ot);n.fontSize=n.fontSize+2,n.fontWeight="bold";let a=En(e.label.text,n);$s("label",e,i,n,a),nl.drawBoundary(t,e,Ot)},"drawBoundary"),yoe=l(function(t,e,r,i){let n=0;for(let a of i){n=0;let s=r[a],o=_b(Ot,s.typeC4Shape.text);switch(o.fontSize=o.fontSize-2,s.typeC4Shape.width=En("\xAB"+s.typeC4Shape.text+"\xBB",o),s.typeC4Shape.height=o.fontSize+2,s.typeC4Shape.Y=Ot.c4ShapePadding,n=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=n,n=s.image.Y+s.image.height;break}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=n,n=s.image.Y+s.image.height);let h=s.wrap&&Ot.wrap,u=Ot.width-Ot.c4ShapePadding*2,d=_b(Ot,s.typeC4Shape.text);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",$s("label",s,h,d,u),s.label.Y=n+8,n=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let f=_b(Ot,s.typeC4Shape.text);$s("type",s,h,f,u),s.type.Y=n+5,n=s.type.Y+s.type.height}else if(s.techn&&s.techn.text!==""){s.techn.text="["+s.techn.text+"]";let f=_b(Ot,s.techn.text);$s("techn",s,h,f,u),s.techn.Y=n+5,n=s.techn.Y+s.techn.height}let p=n,g=s.label.width;if(s.descr&&s.descr.text!==""){let f=_b(Ot,s.typeC4Shape.text);$s("descr",s,h,f,u),s.descr.Y=n+20,n=s.descr.Y+s.descr.height,g=Math.max(s.label.width,s.descr.width),p=n-s.descr.textLines*5}g=g+Ot.c4ShapePadding,s.width=Math.max(s.width||Ot.width,g,Ot.width),s.height=Math.max(s.height||Ot.height,p,Ot.height),s.margin=s.margin||Ot.c4ShapeMargin,t.insert(s),nl.drawC4Shape(e,s,Ot)}t.bumpLastMargin(Ot.c4ShapeMargin)},"drawC4ShapeArray"),Os=(Cg=class{constructor(e,r){this.x=e,this.y=r}},l(Cg,"Point"),Cg),loe=l(function(t,e){let r=t.x,i=t.y,n=e.x,a=e.y,s=r+t.width/2,o=i+t.height/2,h=Math.abs(r-n),u=Math.abs(i-a),d=u/h,p=t.height/t.width,g=null;return i==a&&r<n?g=new Os(r+t.width,o):i==a&&r>n?g=new Os(r,o):r==n&&i<a?g=new Os(s,i+t.height):r==n&&i>a&&(g=new Os(s,i)),r>n&&i<a?p>=d?g=new Os(r,o+d*t.width/2):g=new Os(s-h/u*t.height/2,i+t.height):r<n&&i<a?p>=d?g=new Os(r+t.width,o+d*t.width/2):g=new Os(s+h/u*t.height/2,i+t.height):r<n&&i>a?p>=d?g=new Os(r+t.width,o-d*t.width/2):g=new Os(s+t.height/2*h/u,i):r>n&&i>a&&(p>=d?g=new Os(r,o-t.width/2*d):g=new Os(s-t.height/2*h/u,i)),g},"getIntersectPoint"),YLe=l(function(t,e){let r={x:0,y:0};r.x=e.x+e.width/2,r.y=e.y+e.height/2;let i=loe(t,r);r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=loe(e,r);return{startPoint:i,endPoint:n}},"getIntersectPoints"),HLe=l(function(t,e,r,i){let n=0;for(let a of e){n=n+1;let s=a.wrap&&Ot.wrap,o=VLe(Ot);i.db.getC4Type()==="C4Dynamic"&&(a.label.text=n+": "+a.label.text);let h=En(a.label.text,o);$s("label",a,s,o,h),a.techn&&a.techn.text!==""&&(h=En(a.techn.text,o),$s("techn",a,s,o,h)),a.descr&&a.descr.text!==""&&(h=En(a.descr.text,o),$s("descr",a,s,o,h));let u=r(a.from),d=r(a.to),p=YLe(u,d);a.startPoint=p.startPoint,a.endPoint=p.endPoint}nl.drawRels(t,e,Ot)},"drawRels");l(gN,"drawInsideBoundary");XLe=l(function(t,e,r,i){Ot=ve().c4;let n=ve().securityLevel,a;n==="sandbox"&&(a=Ue("#i"+e));let s=n==="sandbox"?Ue(a.nodes()[0].contentDocument.body):Ue("body"),o=i.db;i.db.setWrap(Ot.wrap),goe=o.getC4ShapeInRow(),cN=o.getC4BoundaryInRow(),ee.debug(`C:${JSON.stringify(Ot,null,2)}`);let h=n==="sandbox"?s.select(`[id="${e}"]`):Ue(`[id="${e}"]`);nl.insertComputerIcon(h),nl.insertDatabaseIcon(h),nl.insertClockIcon(h);let u=new foe(i);u.setData(Ot.diagramMarginX,Ot.diagramMarginX,Ot.diagramMarginY,Ot.diagramMarginY),u.data.widthLimit=screen.availWidth,xw=Ot.diagramMarginX,ww=Ot.diagramMarginY;let d=i.db.getTitle(),p=i.db.getBoundaries("");gN(h,"",u,p,i),nl.insertArrowHead(h),nl.insertArrowEnd(h),nl.insertArrowCrossHead(h),nl.insertArrowFilledHead(h),HLe(h,i.db.getRels(),i.db.getC4Shape,i),u.data.stopx=xw,u.data.stopy=ww;let g=u.data,f=g.stopy-g.starty+2*Ot.diagramMarginY,m=g.stopx-g.startx+2*Ot.diagramMarginX;d&&h.append("text").text(d).attr("x",(g.stopx-g.startx)/2-4*Ot.diagramMarginX).attr("y",g.starty+Ot.diagramMarginY),Yr(h,f,m,Ot.useMaxWidth);let y=d?60:0;h.attr("viewBox",g.startx-Ot.diagramMarginX+" -"+(Ot.diagramMarginY+y)+" "+m+" "+(f+y)),ee.debug("models:",g)},"draw"),coe={drawPersonOrSystemArray:yoe,drawBoundary:moe,setConf:hN,draw:XLe},KLe=l(t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,"getStyles"),ZLe=KLe,QLe={parser:nLe,db:lN,renderer:coe,styles:ZLe,init:l(({c4:t,wrap:e})=>{coe.setConf(t),lN.setWrap(e)},"init")}});var sl,Mh=wt(()=>{kt();sl=l(()=>`
  /* Font Awesome icon styling - consolidated */
  .label-icon {
    display: inline-block;
    height: 1em;
    overflow: visible;
    vertical-align: -0.125em;
  }
  
  .node .label-icon path {
    fill: currentColor;
    stroke: revert;
    stroke-width: revert;
  }
`,"getIconStyles")});var Bs,mo=wt(()=>{lr();kt();Bs=l((t,e)=>{let r;return e==="sandbox"&&(r=Ue("#i"+t)),(e==="sandbox"?Ue(r.nodes()[0].contentDocument.body):Ue("body")).select(`[id="${t}"]`)},"getDiagramElement")});var qa,JLe,eNe,Ps=wt(()=>{hr();lr();kt();qa=l((t,e,r,i)=>{t.attr("class",r);let{width:n,height:a,x:s,y:o}=JLe(t,e);Yr(t,a,n,i);let h=eNe(s,o,n,a,e);t.attr("viewBox",h),ee.debug(`viewBox configured: ${h} with padding: ${e}`)},"setupViewPortForSVG"),JLe=l((t,e)=>{var i;let r=((i=t.node())==null?void 0:i.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+e*2,height:r.height+e*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),eNe=l((t,e,r,i,n)=>`${t-n} ${e-n} ${r} ${i}`,"createViewBox")});var kw={};Tr(kw,{diagram:()=>hNe});var tNe,Sg,rNe,iNe,nNe,aNe,fN,xoe,woe,sNe,oNe,lNe,cNe,hNe,Tw=wt(()=>{Mh();K2();mo();Ps();Ms();Es();ts();$a();ua();da();_n();Hr();ri();hr();lr();br();kt();tNe="flowchart-",rNe=(Sg=class{constructor(){this.vertexCounter=0,this.config=ve(),this.vertices=new Map,this.edges=[],this.classes=new Map,this.subGraphs=[],this.subGraphLookup=new Map,this.tooltips=new Map,this.subCount=0,this.firstGraphFlag=!0,this.secCount=-1,this.posCrossRef=[],this.funs=[],this.setAccTitle=gr,this.setAccDescription=mr,this.setDiagramTitle=Er,this.getAccTitle=fr,this.getAccDescription=yr,this.getDiagramTitle=vr,this.funs.push(this.setupToolTips.bind(this)),this.addVertex=this.addVertex.bind(this),this.firstGraph=this.firstGraph.bind(this),this.setDirection=this.setDirection.bind(this),this.addSubGraph=this.addSubGraph.bind(this),this.addLink=this.addLink.bind(this),this.setLink=this.setLink.bind(this),this.updateLink=this.updateLink.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.destructLink=this.destructLink.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setTooltip=this.setTooltip.bind(this),this.updateLinkInterpolate=this.updateLinkInterpolate.bind(this),this.setClickFun=this.setClickFun.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.lex={firstGraph:this.firstGraph.bind(this)},this.clear(),this.setGen("gen-2")}sanitizeText(e){return Ke.sanitizeText(e,this.config)}lookUpDomId(e){for(let r of this.vertices.values())if(r.id===e)return r.domId;return e}addVertex(e,r,i,n,a,s,o={},h){var f,m;if(!e||e.trim().length===0)return;let u;if(h!==void 0){let y;h.includes(`
`)?y=h+`
`:y=`{
`+h+`
}`,u=Hc(y,{schema:Yc})}let d=this.edges.find(y=>y.id===e);if(d){let y=u;(y==null?void 0:y.animate)!==void 0&&(d.animate=y.animate),(y==null?void 0:y.animation)!==void 0&&(d.animation=y.animation),(y==null?void 0:y.curve)!==void 0&&(d.interpolate=y.curve);return}let p,g=this.vertices.get(e);if(g===void 0&&(g={id:e,labelType:"text",domId:tNe+e+"-"+this.vertexCounter,styles:[],classes:[]},this.vertices.set(e,g)),this.vertexCounter++,r!==void 0?(this.config=ve(),p=this.sanitizeText(r.text.trim()),g.labelType=r.type,p.startsWith('"')&&p.endsWith('"')&&(p=p.substring(1,p.length-1)),g.text=p):g.text===void 0&&(g.text=e),i!==void 0&&(g.type=i),n==null||n.forEach(y=>{g.styles.push(y)}),a==null||a.forEach(y=>{g.classes.push(y)}),s!==void 0&&(g.dir=s),g.props===void 0?g.props=o:o!==void 0&&Object.assign(g.props,o),u!==void 0){if(u.shape){if(u.shape!==u.shape.toLowerCase()||u.shape.includes("_"))throw new Error(`No such shape: ${u.shape}. Shape names should be lowercase.`);if(!p_(u.shape))throw new Error(`No such shape: ${u.shape}.`);g.type=u==null?void 0:u.shape}u!=null&&u.label&&(g.text=u==null?void 0:u.label),u!=null&&u.icon&&(g.icon=u==null?void 0:u.icon,!((f=u.label)!=null&&f.trim())&&g.text===e&&(g.text="")),u!=null&&u.form&&(g.form=u==null?void 0:u.form),u!=null&&u.pos&&(g.pos=u==null?void 0:u.pos),u!=null&&u.img&&(g.img=u==null?void 0:u.img,!((m=u.label)!=null&&m.trim())&&g.text===e&&(g.text="")),u!=null&&u.constraint&&(g.constraint=u.constraint),u.w&&(g.assetWidth=Number(u.w)),u.h&&(g.assetHeight=Number(u.h))}}addSingleLink(e,r,i,n){let a={start:e,end:r,type:void 0,text:"",labelType:"text",classes:[],isUserDefinedId:!1,interpolate:this.edges.defaultInterpolate};ee.info("abc78 Got edge...",a);let s=i.text;if(s!==void 0&&(a.text=this.sanitizeText(s.text.trim()),a.text.startsWith('"')&&a.text.endsWith('"')&&(a.text=a.text.substring(1,a.text.length-1)),a.labelType=s.type),i!==void 0&&(a.type=i.type,a.stroke=i.stroke,a.length=i.length>10?10:i.length),n&&!this.edges.some(o=>o.id===n))a.id=n,a.isUserDefinedId=!0;else{let o=this.edges.filter(h=>h.start===a.start&&h.end===a.end);o.length===0?a.id=Yo(a.start,a.end,{counter:0,prefix:"L"}):a.id=Yo(a.start,a.end,{counter:o.length+1,prefix:"L"})}if(this.edges.length<(this.config.maxEdges??500))ee.info("Pushing edge..."),this.edges.push(a);else throw new Error(`Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)}isLinkData(e){return e!==null&&typeof e=="object"&&"id"in e&&typeof e.id=="string"}addLink(e,r,i){let n=this.isLinkData(i)?i.id.replace("@",""):void 0;ee.info("addLink",e,r,n);for(let a of e)for(let s of r){let o=a===e[e.length-1],h=s===r[0];o&&h?this.addSingleLink(a,s,i,n):this.addSingleLink(a,s,i,void 0)}}updateLinkInterpolate(e,r){e.forEach(i=>{i==="default"?this.edges.defaultInterpolate=r:this.edges[i].interpolate=r})}updateLink(e,r){e.forEach(i=>{var n,a,s,o,h,u;if(typeof i=="number"&&i>=this.edges.length)throw new Error(`The index ${i} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);i==="default"?this.edges.defaultStyle=r:(this.edges[i].style=r,(((a=(n=this.edges[i])==null?void 0:n.style)==null?void 0:a.length)??0)>0&&!((o=(s=this.edges[i])==null?void 0:s.style)!=null&&o.some(d=>d==null?void 0:d.startsWith("fill")))&&((u=(h=this.edges[i])==null?void 0:h.style)==null||u.push("fill:none")))})}addClass(e,r){let i=r.join().replace(/\\,/g,"\xA7\xA7\xA7").replace(/,/g,";").replace(/§§§/g,",").split(";");e.split(",").forEach(n=>{let a=this.classes.get(n);a===void 0&&(a={id:n,styles:[],textStyles:[]},this.classes.set(n,a)),i==null||i.forEach(s=>{if(/color/.exec(s)){let o=s.replace("fill","bgFill");a.textStyles.push(o)}a.styles.push(s)})})}setDirection(e){this.direction=e.trim(),/.*</.exec(this.direction)&&(this.direction="RL"),/.*\^/.exec(this.direction)&&(this.direction="BT"),/.*>/.exec(this.direction)&&(this.direction="LR"),/.*v/.exec(this.direction)&&(this.direction="TB"),this.direction==="TD"&&(this.direction="TB")}setClass(e,r){for(let i of e.split(",")){let n=this.vertices.get(i);n&&n.classes.push(r);let a=this.edges.find(o=>o.id===i);a&&a.classes.push(r);let s=this.subGraphLookup.get(i);s&&s.classes.push(r)}}setTooltip(e,r){if(r!==void 0){r=this.sanitizeText(r);for(let i of e.split(","))this.tooltips.set(this.version==="gen-1"?this.lookUpDomId(i):i,r)}}setClickFun(e,r,i){let n=this.lookUpDomId(e);if(ve().securityLevel!=="loose"||r===void 0)return;let a=[];if(typeof i=="string"){a=i.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<a.length;o++){let h=a[o].trim();h.startsWith('"')&&h.endsWith('"')&&(h=h.substr(1,h.length-2)),a[o]=h}}a.length===0&&a.push(e);let s=this.vertices.get(e);s&&(s.haveCallback=!0,this.funs.push(()=>{let o=document.querySelector(`[id="${n}"]`);o!==null&&o.addEventListener("click",()=>{$t.runFunc(r,...a)},!1)}))}setLink(e,r,i){e.split(",").forEach(n=>{let a=this.vertices.get(n);a!==void 0&&(a.link=$t.formatUrl(r,this.config),a.linkTarget=i)}),this.setClass(e,"clickable")}getTooltip(e){return this.tooltips.get(e)}setClickEvent(e,r,i){e.split(",").forEach(n=>{this.setClickFun(n,r,i)}),this.setClass(e,"clickable")}bindFunctions(e){this.funs.forEach(r=>{r(e)})}getDirection(){var e;return(e=this.direction)==null?void 0:e.trim()}getVertices(){return this.vertices}getEdges(){return this.edges}getClasses(){return this.classes}setupToolTips(e){let r=Ue(".mermaidTooltip");(r._groups||r)[0][0]===null&&(r=Ue("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Ue(e).select("svg").selectAll("g.node").on("mouseover",i=>{var s;let n=Ue(i.currentTarget);if(n.attr("title")===null)return;let a=(s=i.currentTarget)==null?void 0:s.getBoundingClientRect();r.transition().duration(200).style("opacity",".9"),r.text(n.attr("title")).style("left",window.scrollX+a.left+(a.right-a.left)/2+"px").style("top",window.scrollY+a.bottom+"px"),r.html(r.html().replace(/&lt;br\/&gt;/g,"<br/>")),n.classed("hover",!0)}).on("mouseout",i=>{r.transition().duration(500).style("opacity",0),Ue(i.currentTarget).classed("hover",!1)})}clear(e="gen-2"){this.vertices=new Map,this.classes=new Map,this.edges=[],this.funs=[this.setupToolTips.bind(this)],this.subGraphs=[],this.subGraphLookup=new Map,this.subCount=0,this.tooltips=new Map,this.firstGraphFlag=!0,this.version=e,this.config=ve(),cr()}setGen(e){this.version=e||"gen-2"}defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}addSubGraph(e,r,i){let n=e.text.trim(),a=i.text;e===i&&/\s/.exec(i.text)&&(n=void 0);let s=l(p=>{let g={boolean:{},number:{},string:{}},f=[],m;return{nodeList:p.filter(function(y){let b=typeof y;return y.stmt&&y.stmt==="dir"?(m=y.value,!1):y.trim()===""?!1:b in g?g[b].hasOwnProperty(y)?!1:g[b][y]=!0:f.includes(y)?!1:f.push(y)}),dir:m}},"uniq")(r.flat()),o=s.nodeList,h=s.dir,u=ve().flowchart??{};if(h=h??(u.inheritDir?this.getDirection()??ve().direction??void 0:void 0),this.version==="gen-1")for(let p=0;p<o.length;p++)o[p]=this.lookUpDomId(o[p]);n=n??"subGraph"+this.subCount,a=a||"",a=this.sanitizeText(a),this.subCount=this.subCount+1;let d={id:n,nodes:o,title:a.trim(),classes:[],dir:h,labelType:i.type};return ee.info("Adding",d.id,d.nodes,d.dir),d.nodes=this.makeUniq(d,this.subGraphs).nodes,this.subGraphs.push(d),this.subGraphLookup.set(n,d),n}getPosForId(e){for(let[r,i]of this.subGraphs.entries())if(i.id===e)return r;return-1}indexNodes2(e,r){let i=this.subGraphs[r].nodes;if(this.secCount=this.secCount+1,this.secCount>2e3)return{result:!1,count:0};if(this.posCrossRef[this.secCount]=r,this.subGraphs[r].id===e)return{result:!0,count:0};let n=0,a=1;for(;n<i.length;){let s=this.getPosForId(i[n]);if(s>=0){let o=this.indexNodes2(e,s);if(o.result)return{result:!0,count:a+o.count};a=a+o.count}n=n+1}return{result:!1,count:a}}getDepthFirstPos(e){return this.posCrossRef[e]}indexNodes(){this.secCount=-1,this.subGraphs.length>0&&this.indexNodes2("none",this.subGraphs.length-1)}getSubGraphs(){return this.subGraphs}firstGraph(){return this.firstGraphFlag?(this.firstGraphFlag=!1,!0):!1}destructStartLink(e){let r=e.trim(),i="arrow_open";switch(r[0]){case"<":i="arrow_point",r=r.slice(1);break;case"x":i="arrow_cross",r=r.slice(1);break;case"o":i="arrow_circle",r=r.slice(1);break}let n="normal";return r.includes("=")&&(n="thick"),r.includes(".")&&(n="dotted"),{type:i,stroke:n}}countChar(e,r){let i=r.length,n=0;for(let a=0;a<i;++a)r[a]===e&&++n;return n}destructEndLink(e){let r=e.trim(),i=r.slice(0,-1),n="arrow_open";switch(r.slice(-1)){case"x":n="arrow_cross",r.startsWith("x")&&(n="double_"+n,i=i.slice(1));break;case">":n="arrow_point",r.startsWith("<")&&(n="double_"+n,i=i.slice(1));break;case"o":n="arrow_circle",r.startsWith("o")&&(n="double_"+n,i=i.slice(1));break}let a="normal",s=i.length-1;i.startsWith("=")&&(a="thick"),i.startsWith("~")&&(a="invisible");let o=this.countChar(".",i);return o&&(a="dotted",s=o),{type:n,stroke:a,length:s}}destructLink(e,r){let i=this.destructEndLink(e),n;if(r){if(n=this.destructStartLink(r),n.stroke!==i.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=i.type;else{if(n.type!==i.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=i.length,n}return i}exists(e,r){for(let i of e)if(i.nodes.includes(r))return!0;return!1}makeUniq(e,r){let i=[];return e.nodes.forEach((n,a)=>{this.exists(r,n)||i.push(e.nodes[a])}),{nodes:i}}getTypeFromVertex(e){if(e.img)return"imageSquare";if(e.icon)return e.form==="circle"?"iconCircle":e.form==="square"?"iconSquare":e.form==="rounded"?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}}findNode(e,r){return e.find(i=>i.id===r)}destructEdgeType(e){let r="none",i="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":i=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":r=e.replace("double_",""),i=r;break}return{arrowTypeStart:r,arrowTypeEnd:i}}addNodeFromVertex(e,r,i,n,a,s){var d;let o=i.get(e.id),h=n.get(e.id)??!1,u=this.findNode(r,e.id);if(u)u.cssStyles=e.styles,u.cssCompiledStyles=this.getCompiledStyles(e.classes),u.cssClasses=e.classes.join(" ");else{let p={id:e.id,label:e.text,labelStyle:"",parentId:o,padding:((d=a.flowchart)==null?void 0:d.padding)||8,cssStyles:e.styles,cssCompiledStyles:this.getCompiledStyles(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:s,link:e.link,linkTarget:e.linkTarget,tooltip:this.getTooltip(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};h?r.push({...p,isGroup:!0,shape:"rect"}):r.push({...p,isGroup:!1,shape:this.getTypeFromVertex(e)})}}getCompiledStyles(e){let r=[];for(let i of e){let n=this.classes.get(i);n!=null&&n.styles&&(r=[...r,...n.styles??[]].map(a=>a.trim())),n!=null&&n.textStyles&&(r=[...r,...n.textStyles??[]].map(a=>a.trim()))}return r}getData(){let e=ve(),r=[],i=[],n=this.getSubGraphs(),a=new Map,s=new Map;for(let h=n.length-1;h>=0;h--){let u=n[h];u.nodes.length>0&&s.set(u.id,!0);for(let d of u.nodes)a.set(d,u.id)}for(let h=n.length-1;h>=0;h--){let u=n[h];r.push({id:u.id,label:u.title,labelStyle:"",parentId:a.get(u.id),padding:8,cssCompiledStyles:this.getCompiledStyles(u.classes),cssClasses:u.classes.join(" "),shape:"rect",dir:u.dir,isGroup:!0,look:e.look})}this.getVertices().forEach(h=>{this.addNodeFromVertex(h,r,a,s,e,e.look||"classic")});let o=this.getEdges();return o.forEach((h,u)=>{var m;let{arrowTypeStart:d,arrowTypeEnd:p}=this.destructEdgeType(h.type),g=[...o.defaultStyle??[]];h.style&&g.push(...h.style);let f={id:Yo(h.start,h.end,{counter:u,prefix:"L"},h.id),isUserDefinedId:h.isUserDefinedId,start:h.start,end:h.end,type:h.type??"normal",label:h.text,labelpos:"c",thickness:h.stroke,minlen:h.length,classes:(h==null?void 0:h.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(h==null?void 0:h.stroke)==="invisible"||(h==null?void 0:h.type)==="arrow_open"?"none":d,arrowTypeEnd:(h==null?void 0:h.stroke)==="invisible"||(h==null?void 0:h.type)==="arrow_open"?"none":p,arrowheadStyle:"fill: #333",cssCompiledStyles:this.getCompiledStyles(h.classes),labelStyle:g,style:g,pattern:h.stroke,look:e.look,animate:h.animate,animation:h.animation,curve:h.interpolate||this.edges.defaultInterpolate||((m=e.flowchart)==null?void 0:m.curve)};i.push(f)}),{nodes:r,edges:i,other:{},config:e}}defaultConfig(){return O3.flowchart}},l(Sg,"FlowDB"),Sg),iNe=l(function(t,e){return e.db.getClasses()},"getClasses"),nNe=l(async function(t,e,r,i){var f;ee.info("REF0:"),ee.info("Drawing state diagram (v2)",e);let{securityLevel:n,flowchart:a,layout:s}=ve(),o;n==="sandbox"&&(o=Ue("#i"+e));let h=n==="sandbox"?o.nodes()[0].contentDocument:document;ee.debug("Before getData: ");let u=i.db.getData();ee.debug("Data: ",u);let d=Bs(e,n),p=i.db.getDirection();u.type=i.type,u.layoutAlgorithm=il(s),u.layoutAlgorithm==="dagre"&&s==="elk"&&ee.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),u.direction=p,u.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,u.rankSpacing=(a==null?void 0:a.rankSpacing)||50,u.markers=["point","circle","cross"],u.diagramId=e,ee.debug("REF1:",u),await Ds(u,d);let g=((f=u.config.flowchart)==null?void 0:f.diagramPadding)??8;$t.insertTitle(d,"flowchartTitleText",(a==null?void 0:a.titleTopMargin)||0,i.db.getDiagramTitle()),qa(d,g,"flowchart",(a==null?void 0:a.useMaxWidth)||!1);for(let m of u.nodes){let y=Ue(`#${e} [id="${m.id}"]`);if(!y||!m.link)continue;let b=h.createElementNS("http://www.w3.org/2000/svg","a");b.setAttributeNS("http://www.w3.org/2000/svg","class",m.cssClasses),b.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),n==="sandbox"?b.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):m.linkTarget&&b.setAttributeNS("http://www.w3.org/2000/svg","target",m.linkTarget);let v=y.insert(function(){return b},":first-child"),x=y.select(".label-container");x&&v.append(function(){return x.node()});let w=y.select(".label");w&&v.append(function(){return w.node()})}},"draw"),aNe={getClasses:iNe,draw:nNe},fN=(function(){var t=l(function(Ai,vt,rt,He){for(rt=rt||{},He=Ai.length;He--;rt[Ai[He]]=vt);return rt},"o"),e=[1,4],r=[1,3],i=[1,5],n=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],a=[2,2],s=[1,13],o=[1,14],h=[1,15],u=[1,16],d=[1,23],p=[1,25],g=[1,26],f=[1,27],m=[1,49],y=[1,48],b=[1,29],v=[1,30],x=[1,31],w=[1,32],k=[1,33],T=[1,44],S=[1,46],C=[1,42],E=[1,47],L=[1,43],I=[1,50],M=[1,45],N=[1,51],$=[1,52],_=[1,34],D=[1,35],R=[1,36],O=[1,37],A=[1,57],B=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],P=[1,61],z=[1,60],q=[1,62],K=[8,9,11,75,77,78],W=[1,78],ae=[1,91],ie=[1,96],se=[1,95],oe=[1,92],Y=[1,88],Q=[1,94],j=[1,90],H=[1,97],J=[1,93],he=[1,98],X=[1,89],fe=[8,9,10,11,40,75,77,78],V=[8,9,10,11,40,46,75,77,78],Se=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],ce=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],Le=[44,60,89,102,105,106,109,111,114,115,116],$e=[1,121],je=[1,122],qe=[1,124],Ce=[1,123],De=[44,60,62,74,89,102,105,106,109,111,114,115,116],ye=[1,133],Pe=[1,147],ue=[1,148],Ve=[1,149],Z=[1,150],Ne=[1,135],F=[1,137],te=[1,141],ne=[1,142],de=[1,143],ge=[1,144],xe=[1,145],Ee=[1,146],Te=[1,151],Fe=[1,152],We=[1,131],it=[1,132],Be=[1,139],Ye=[1,134],Ge=[1,138],ze=[1,136],Xe=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],xt=[1,154],st=[1,156],at=[8,9,11],Tt=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],et=[1,176],ct=[1,172],pt=[1,173],Qe=[1,177],Ze=[1,174],_t=[1,175],Bt=[77,116,119],Dt=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],Vr=[10,106],Jt=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],Ut=[1,247],or=[1,245],Nr=[1,249],be=[1,243],ht=[1,244],ot=[1,246],nr=[1,248],Ir=[1,250],Sr=[1,268],dn=[8,9,11,106],ei=[8,9,10,11,60,84,105,106,109,110,111,112],Vi={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:l(function(Ai,vt,rt,He,Ft,pe,rn){var me=pe.length-1;switch(Ft){case 2:this.$=[];break;case 3:(!Array.isArray(pe[me])||pe[me].length>0)&&pe[me-1].push(pe[me]),this.$=pe[me-1];break;case 4:case 183:this.$=pe[me];break;case 11:He.setDirection("TB"),this.$="TB";break;case 12:He.setDirection(pe[me-1]),this.$=pe[me-1];break;case 27:this.$=pe[me-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=He.addSubGraph(pe[me-6],pe[me-1],pe[me-4]);break;case 34:this.$=He.addSubGraph(pe[me-3],pe[me-1],pe[me-3]);break;case 35:this.$=He.addSubGraph(void 0,pe[me-1],void 0);break;case 37:this.$=pe[me].trim(),He.setAccTitle(this.$);break;case 38:case 39:this.$=pe[me].trim(),He.setAccDescription(this.$);break;case 43:this.$=pe[me-1]+pe[me];break;case 44:this.$=pe[me];break;case 45:He.addVertex(pe[me-1][pe[me-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,pe[me]),He.addLink(pe[me-3].stmt,pe[me-1],pe[me-2]),this.$={stmt:pe[me-1],nodes:pe[me-1].concat(pe[me-3].nodes)};break;case 46:He.addLink(pe[me-2].stmt,pe[me],pe[me-1]),this.$={stmt:pe[me],nodes:pe[me].concat(pe[me-2].nodes)};break;case 47:He.addLink(pe[me-3].stmt,pe[me-1],pe[me-2]),this.$={stmt:pe[me-1],nodes:pe[me-1].concat(pe[me-3].nodes)};break;case 48:this.$={stmt:pe[me-1],nodes:pe[me-1]};break;case 49:He.addVertex(pe[me-1][pe[me-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,pe[me]),this.$={stmt:pe[me-1],nodes:pe[me-1],shapeData:pe[me]};break;case 50:this.$={stmt:pe[me],nodes:pe[me]};break;case 51:this.$=[pe[me]];break;case 52:He.addVertex(pe[me-5][pe[me-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,pe[me-4]),this.$=pe[me-5].concat(pe[me]);break;case 53:this.$=pe[me-4].concat(pe[me]);break;case 54:this.$=pe[me];break;case 55:this.$=pe[me-2],He.setClass(pe[me-2],pe[me]);break;case 56:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"square");break;case 57:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"doublecircle");break;case 58:this.$=pe[me-5],He.addVertex(pe[me-5],pe[me-2],"circle");break;case 59:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"ellipse");break;case 60:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"stadium");break;case 61:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"subroutine");break;case 62:this.$=pe[me-7],He.addVertex(pe[me-7],pe[me-1],"rect",void 0,void 0,void 0,Object.fromEntries([[pe[me-5],pe[me-3]]]));break;case 63:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"cylinder");break;case 64:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"round");break;case 65:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"diamond");break;case 66:this.$=pe[me-5],He.addVertex(pe[me-5],pe[me-2],"hexagon");break;case 67:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"odd");break;case 68:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"trapezoid");break;case 69:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"inv_trapezoid");break;case 70:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"lean_right");break;case 71:this.$=pe[me-3],He.addVertex(pe[me-3],pe[me-1],"lean_left");break;case 72:this.$=pe[me],He.addVertex(pe[me]);break;case 73:pe[me-1].text=pe[me],this.$=pe[me-1];break;case 74:case 75:pe[me-2].text=pe[me-1],this.$=pe[me-2];break;case 76:this.$=pe[me];break;case 77:var Br=He.destructLink(pe[me],pe[me-2]);this.$={type:Br.type,stroke:Br.stroke,length:Br.length,text:pe[me-1]};break;case 78:var Br=He.destructLink(pe[me],pe[me-2]);this.$={type:Br.type,stroke:Br.stroke,length:Br.length,text:pe[me-1],id:pe[me-3]};break;case 79:this.$={text:pe[me],type:"text"};break;case 80:this.$={text:pe[me-1].text+""+pe[me],type:pe[me-1].type};break;case 81:this.$={text:pe[me],type:"string"};break;case 82:this.$={text:pe[me],type:"markdown"};break;case 83:var Br=He.destructLink(pe[me]);this.$={type:Br.type,stroke:Br.stroke,length:Br.length};break;case 84:var Br=He.destructLink(pe[me]);this.$={type:Br.type,stroke:Br.stroke,length:Br.length,id:pe[me-1]};break;case 85:this.$=pe[me-1];break;case 86:this.$={text:pe[me],type:"text"};break;case 87:this.$={text:pe[me-1].text+""+pe[me],type:pe[me-1].type};break;case 88:this.$={text:pe[me],type:"string"};break;case 89:case 104:this.$={text:pe[me],type:"markdown"};break;case 101:this.$={text:pe[me],type:"text"};break;case 102:this.$={text:pe[me-1].text+""+pe[me],type:pe[me-1].type};break;case 103:this.$={text:pe[me],type:"text"};break;case 105:this.$=pe[me-4],He.addClass(pe[me-2],pe[me]);break;case 106:this.$=pe[me-4],He.setClass(pe[me-2],pe[me]);break;case 107:case 115:this.$=pe[me-1],He.setClickEvent(pe[me-1],pe[me]);break;case 108:case 116:this.$=pe[me-3],He.setClickEvent(pe[me-3],pe[me-2]),He.setTooltip(pe[me-3],pe[me]);break;case 109:this.$=pe[me-2],He.setClickEvent(pe[me-2],pe[me-1],pe[me]);break;case 110:this.$=pe[me-4],He.setClickEvent(pe[me-4],pe[me-3],pe[me-2]),He.setTooltip(pe[me-4],pe[me]);break;case 111:this.$=pe[me-2],He.setLink(pe[me-2],pe[me]);break;case 112:this.$=pe[me-4],He.setLink(pe[me-4],pe[me-2]),He.setTooltip(pe[me-4],pe[me]);break;case 113:this.$=pe[me-4],He.setLink(pe[me-4],pe[me-2],pe[me]);break;case 114:this.$=pe[me-6],He.setLink(pe[me-6],pe[me-4],pe[me]),He.setTooltip(pe[me-6],pe[me-2]);break;case 117:this.$=pe[me-1],He.setLink(pe[me-1],pe[me]);break;case 118:this.$=pe[me-3],He.setLink(pe[me-3],pe[me-2]),He.setTooltip(pe[me-3],pe[me]);break;case 119:this.$=pe[me-3],He.setLink(pe[me-3],pe[me-2],pe[me]);break;case 120:this.$=pe[me-5],He.setLink(pe[me-5],pe[me-4],pe[me]),He.setTooltip(pe[me-5],pe[me-2]);break;case 121:this.$=pe[me-4],He.addVertex(pe[me-2],void 0,void 0,pe[me]);break;case 122:this.$=pe[me-4],He.updateLink([pe[me-2]],pe[me]);break;case 123:this.$=pe[me-4],He.updateLink(pe[me-2],pe[me]);break;case 124:this.$=pe[me-8],He.updateLinkInterpolate([pe[me-6]],pe[me-2]),He.updateLink([pe[me-6]],pe[me]);break;case 125:this.$=pe[me-8],He.updateLinkInterpolate(pe[me-6],pe[me-2]),He.updateLink(pe[me-6],pe[me]);break;case 126:this.$=pe[me-6],He.updateLinkInterpolate([pe[me-4]],pe[me]);break;case 127:this.$=pe[me-6],He.updateLinkInterpolate(pe[me-4],pe[me]);break;case 128:case 130:this.$=[pe[me]];break;case 129:case 131:pe[me-2].push(pe[me]),this.$=pe[me-2];break;case 133:this.$=pe[me-1]+pe[me];break;case 181:this.$=pe[me];break;case 182:this.$=pe[me-1]+""+pe[me];break;case 184:this.$=pe[me-1]+""+pe[me];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:e,10:r,12:i},{1:[3]},t(n,a,{5:6}),{4:7,9:e,10:r,12:i},{4:8,9:e,10:r,12:i},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:o,10:h,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:d,33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:v,86:x,87:w,88:k,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$,121:_,122:D,123:R,124:O},t(n,[2,9]),t(n,[2,10]),t(n,[2,11]),{8:[1,54],9:[1,55],10:A,15:53,18:56},t(B,[2,3]),t(B,[2,4]),t(B,[2,5]),t(B,[2,6]),t(B,[2,7]),t(B,[2,8]),{8:P,9:z,11:q,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:P,9:z,11:q,21:67},{8:P,9:z,11:q,21:68},{8:P,9:z,11:q,21:69},{8:P,9:z,11:q,21:70},{8:P,9:z,11:q,21:71},{8:P,9:z,10:[1,72],11:q,21:73},t(B,[2,36]),{35:[1,74]},{37:[1,75]},t(B,[2,39]),t(K,[2,50],{18:76,39:77,10:A,40:W}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:ae,44:ie,60:se,80:[1,86],89:oe,95:[1,83],97:[1,84],101:85,105:Y,106:Q,109:j,111:H,114:J,115:he,116:X,120:87},t(B,[2,185]),t(B,[2,186]),t(B,[2,187]),t(B,[2,188]),t(fe,[2,51]),t(fe,[2,54],{46:[1,99]}),t(V,[2,72],{113:112,29:[1,100],44:m,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:y,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:T,102:S,105:C,106:E,109:L,111:I,114:M,115:N,116:$}),t(Se,[2,181]),t(Se,[2,142]),t(Se,[2,143]),t(Se,[2,144]),t(Se,[2,145]),t(Se,[2,146]),t(Se,[2,147]),t(Se,[2,148]),t(Se,[2,149]),t(Se,[2,150]),t(Se,[2,151]),t(Se,[2,152]),t(n,[2,12]),t(n,[2,18]),t(n,[2,19]),{9:[1,113]},t(ce,[2,26],{18:114,10:A}),t(B,[2,27]),{42:115,43:38,44:m,45:39,47:40,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$},t(B,[2,40]),t(B,[2,41]),t(B,[2,42]),t(Le,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:$e,81:je,116:qe,119:Ce},{75:[1,125],77:[1,126]},t(De,[2,83]),t(B,[2,28]),t(B,[2,29]),t(B,[2,30]),t(B,[2,31]),t(B,[2,32]),{10:ye,12:Pe,14:ue,27:Ve,28:127,32:Z,44:Ne,60:F,75:te,80:[1,129],81:[1,130],83:140,84:ne,85:de,86:ge,87:xe,88:Ee,89:Te,90:Fe,91:128,105:We,109:it,111:Be,114:Ye,115:Ge,116:ze},t(Xe,a,{5:153}),t(B,[2,37]),t(B,[2,38]),t(K,[2,48],{44:xt}),t(K,[2,49],{18:155,10:A,40:st}),t(fe,[2,44]),{44:m,47:157,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$},{102:[1,158],103:159,105:[1,160]},{44:m,47:161,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$},{44:m,47:162,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$},t(at,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},t(at,[2,115],{120:167,10:[1,166],14:ae,44:ie,60:se,89:oe,105:Y,106:Q,109:j,111:H,114:J,115:he,116:X}),t(at,[2,117],{10:[1,168]}),t(Tt,[2,183]),t(Tt,[2,170]),t(Tt,[2,171]),t(Tt,[2,172]),t(Tt,[2,173]),t(Tt,[2,174]),t(Tt,[2,175]),t(Tt,[2,176]),t(Tt,[2,177]),t(Tt,[2,178]),t(Tt,[2,179]),t(Tt,[2,180]),{44:m,47:169,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$},{30:170,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{30:178,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{30:180,50:[1,179],67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{30:181,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{30:182,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{30:183,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{109:[1,184]},{30:185,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{30:186,65:[1,187],67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{30:188,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{30:189,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{30:190,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},t(Se,[2,182]),t(n,[2,20]),t(ce,[2,25]),t(K,[2,46],{39:191,18:192,10:A,40:W}),t(Le,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{77:[1,196],79:197,116:qe,119:Ce},t(Bt,[2,79]),t(Bt,[2,81]),t(Bt,[2,82]),t(Bt,[2,168]),t(Bt,[2,169]),{76:198,79:120,80:$e,81:je,116:qe,119:Ce},t(De,[2,84]),{8:P,9:z,10:ye,11:q,12:Pe,14:ue,21:200,27:Ve,29:[1,199],32:Z,44:Ne,60:F,75:te,83:140,84:ne,85:de,86:ge,87:xe,88:Ee,89:Te,90:Fe,91:201,105:We,109:it,111:Be,114:Ye,115:Ge,116:ze},t(Dt,[2,101]),t(Dt,[2,103]),t(Dt,[2,104]),t(Dt,[2,157]),t(Dt,[2,158]),t(Dt,[2,159]),t(Dt,[2,160]),t(Dt,[2,161]),t(Dt,[2,162]),t(Dt,[2,163]),t(Dt,[2,164]),t(Dt,[2,165]),t(Dt,[2,166]),t(Dt,[2,167]),t(Dt,[2,90]),t(Dt,[2,91]),t(Dt,[2,92]),t(Dt,[2,93]),t(Dt,[2,94]),t(Dt,[2,95]),t(Dt,[2,96]),t(Dt,[2,97]),t(Dt,[2,98]),t(Dt,[2,99]),t(Dt,[2,100]),{6:11,7:12,8:s,9:o,10:h,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,202],33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:v,86:x,87:w,88:k,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$,121:_,122:D,123:R,124:O},{10:A,18:203},{44:[1,204]},t(fe,[2,43]),{10:[1,205],44:m,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:112,114:M,115:N,116:$},{10:[1,206]},{10:[1,207],106:[1,208]},t(Vr,[2,128]),{10:[1,209],44:m,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:112,114:M,115:N,116:$},{10:[1,210],44:m,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:112,114:M,115:N,116:$},{80:[1,211]},t(at,[2,109],{10:[1,212]}),t(at,[2,111],{10:[1,213]}),{80:[1,214]},t(Tt,[2,184]),{80:[1,215],98:[1,216]},t(fe,[2,55],{113:112,44:m,60:y,89:T,102:S,105:C,106:E,109:L,111:I,114:M,115:N,116:$}),{31:[1,217],67:et,82:218,116:Qe,117:Ze,118:_t},t(Jt,[2,86]),t(Jt,[2,88]),t(Jt,[2,89]),t(Jt,[2,153]),t(Jt,[2,154]),t(Jt,[2,155]),t(Jt,[2,156]),{49:[1,219],67:et,82:218,116:Qe,117:Ze,118:_t},{30:220,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{51:[1,221],67:et,82:218,116:Qe,117:Ze,118:_t},{53:[1,222],67:et,82:218,116:Qe,117:Ze,118:_t},{55:[1,223],67:et,82:218,116:Qe,117:Ze,118:_t},{57:[1,224],67:et,82:218,116:Qe,117:Ze,118:_t},{60:[1,225]},{64:[1,226],67:et,82:218,116:Qe,117:Ze,118:_t},{66:[1,227],67:et,82:218,116:Qe,117:Ze,118:_t},{30:228,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},{31:[1,229],67:et,82:218,116:Qe,117:Ze,118:_t},{67:et,69:[1,230],71:[1,231],82:218,116:Qe,117:Ze,118:_t},{67:et,69:[1,233],71:[1,232],82:218,116:Qe,117:Ze,118:_t},t(K,[2,45],{18:155,10:A,40:st}),t(K,[2,47],{44:xt}),t(Le,[2,75]),t(Le,[2,74]),{62:[1,234],67:et,82:218,116:Qe,117:Ze,118:_t},t(Le,[2,77]),t(Bt,[2,80]),{77:[1,235],79:197,116:qe,119:Ce},{30:236,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},t(Xe,a,{5:237}),t(Dt,[2,102]),t(B,[2,35]),{43:238,44:m,45:39,47:40,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$},{10:A,18:239},{10:Ut,60:or,84:Nr,92:240,105:be,107:241,108:242,109:ht,110:ot,111:nr,112:Ir},{10:Ut,60:or,84:Nr,92:251,104:[1,252],105:be,107:241,108:242,109:ht,110:ot,111:nr,112:Ir},{10:Ut,60:or,84:Nr,92:253,104:[1,254],105:be,107:241,108:242,109:ht,110:ot,111:nr,112:Ir},{105:[1,255]},{10:Ut,60:or,84:Nr,92:256,105:be,107:241,108:242,109:ht,110:ot,111:nr,112:Ir},{44:m,47:257,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$},t(at,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},t(at,[2,116]),t(at,[2,118],{10:[1,261]}),t(at,[2,119]),t(V,[2,56]),t(Jt,[2,87]),t(V,[2,57]),{51:[1,262],67:et,82:218,116:Qe,117:Ze,118:_t},t(V,[2,64]),t(V,[2,59]),t(V,[2,60]),t(V,[2,61]),{109:[1,263]},t(V,[2,63]),t(V,[2,65]),{66:[1,264],67:et,82:218,116:Qe,117:Ze,118:_t},t(V,[2,67]),t(V,[2,68]),t(V,[2,70]),t(V,[2,69]),t(V,[2,71]),t([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),t(Le,[2,78]),{31:[1,265],67:et,82:218,116:Qe,117:Ze,118:_t},{6:11,7:12,8:s,9:o,10:h,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,266],33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:v,86:x,87:w,88:k,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$,121:_,122:D,123:R,124:O},t(fe,[2,53]),{43:267,44:m,45:39,47:40,60:y,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$},t(at,[2,121],{106:Sr}),t(dn,[2,130],{108:269,10:Ut,60:or,84:Nr,105:be,109:ht,110:ot,111:nr,112:Ir}),t(ei,[2,132]),t(ei,[2,134]),t(ei,[2,135]),t(ei,[2,136]),t(ei,[2,137]),t(ei,[2,138]),t(ei,[2,139]),t(ei,[2,140]),t(ei,[2,141]),t(at,[2,122],{106:Sr}),{10:[1,270]},t(at,[2,123],{106:Sr}),{10:[1,271]},t(Vr,[2,129]),t(at,[2,105],{106:Sr}),t(at,[2,106],{113:112,44:m,60:y,89:T,102:S,105:C,106:E,109:L,111:I,114:M,115:N,116:$}),t(at,[2,110]),t(at,[2,112],{10:[1,272]}),t(at,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:P,9:z,11:q,21:277},t(B,[2,34]),t(fe,[2,52]),{10:Ut,60:or,84:Nr,105:be,107:278,108:242,109:ht,110:ot,111:nr,112:Ir},t(ei,[2,133]),{14:ae,44:ie,60:se,89:oe,101:279,105:Y,106:Q,109:j,111:H,114:J,115:he,116:X,120:87},{14:ae,44:ie,60:se,89:oe,101:280,105:Y,106:Q,109:j,111:H,114:J,115:he,116:X,120:87},{98:[1,281]},t(at,[2,120]),t(V,[2,58]),{30:282,67:et,80:ct,81:pt,82:171,116:Qe,117:Ze,118:_t},t(V,[2,66]),t(Xe,a,{5:283}),t(dn,[2,131],{108:269,10:Ut,60:or,84:Nr,105:be,109:ht,110:ot,111:nr,112:Ir}),t(at,[2,126],{120:167,10:[1,284],14:ae,44:ie,60:se,89:oe,105:Y,106:Q,109:j,111:H,114:J,115:he,116:X}),t(at,[2,127],{120:167,10:[1,285],14:ae,44:ie,60:se,89:oe,105:Y,106:Q,109:j,111:H,114:J,115:he,116:X}),t(at,[2,114]),{31:[1,286],67:et,82:218,116:Qe,117:Ze,118:_t},{6:11,7:12,8:s,9:o,10:h,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,287],33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:y,84:b,85:v,86:x,87:w,88:k,89:T,102:S,105:C,106:E,109:L,111:I,113:41,114:M,115:N,116:$,121:_,122:D,123:R,124:O},{10:Ut,60:or,84:Nr,92:288,105:be,107:241,108:242,109:ht,110:ot,111:nr,112:Ir},{10:Ut,60:or,84:Nr,92:289,105:be,107:241,108:242,109:ht,110:ot,111:nr,112:Ir},t(V,[2,62]),t(B,[2,33]),t(at,[2,124],{106:Sr}),t(at,[2,125],{106:Sr})],defaultActions:{},parseError:l(function(Ai,vt){if(vt.recoverable)this.trace(Ai);else{var rt=new Error(Ai);throw rt.hash=vt,rt}},"parseError"),parse:l(function(Ai){var vt=this,rt=[0],He=[],Ft=[null],pe=[],rn=this.table,me="",Br=0,Hx=0,Xx=0,kye=2,fO=1,Tye=pe.slice.call(arguments,1),pn=Object.create(this.lexer),tu={yy:{}};for(var f7 in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f7)&&(tu.yy[f7]=this.yy[f7]);pn.setInput(Ai,tu.yy),tu.yy.lexer=pn,tu.yy.parser=this,typeof pn.yylloc>"u"&&(pn.yylloc={});var m7=pn.yylloc;pe.push(m7);var Eye=pn.options&&pn.options.ranges;typeof tu.yy.parseError=="function"?this.parseError=tu.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Cye(Qa){rt.length=rt.length-2*Qa,Ft.length=Ft.length-Qa,pe.length=pe.length-Qa}l(Cye,"popStack");function mO(){var Qa;return Qa=He.pop()||pn.lex()||fO,typeof Qa!="number"&&(Qa instanceof Array&&(He=Qa,Qa=He.pop()),Qa=vt.symbols_[Qa]||Qa),Qa}l(mO,"lex");for(var na,y7,ru,gs,wUe,v7,u0={},Kx,bl,yO,Zx;;){if(ru=rt[rt.length-1],this.defaultActions[ru]?gs=this.defaultActions[ru]:((na===null||typeof na>"u")&&(na=mO()),gs=rn[ru]&&rn[ru][na]),typeof gs>"u"||!gs.length||!gs[0]){var b7="";Zx=[];for(Kx in rn[ru])this.terminals_[Kx]&&Kx>kye&&Zx.push("'"+this.terminals_[Kx]+"'");pn.showPosition?b7="Parse error on line "+(Br+1)+`:
`+pn.showPosition()+`
Expecting `+Zx.join(", ")+", got '"+(this.terminals_[na]||na)+"'":b7="Parse error on line "+(Br+1)+": Unexpected "+(na==fO?"end of input":"'"+(this.terminals_[na]||na)+"'"),this.parseError(b7,{text:pn.match,token:this.terminals_[na]||na,line:pn.yylineno,loc:m7,expected:Zx})}if(gs[0]instanceof Array&&gs.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ru+", token: "+na);switch(gs[0]){case 1:rt.push(na),Ft.push(pn.yytext),pe.push(pn.yylloc),rt.push(gs[1]),na=null,y7?(na=y7,y7=null):(Hx=pn.yyleng,me=pn.yytext,Br=pn.yylineno,m7=pn.yylloc,Xx>0&&Xx--);break;case 2:if(bl=this.productions_[gs[1]][1],u0.$=Ft[Ft.length-bl],u0._$={first_line:pe[pe.length-(bl||1)].first_line,last_line:pe[pe.length-1].last_line,first_column:pe[pe.length-(bl||1)].first_column,last_column:pe[pe.length-1].last_column},Eye&&(u0._$.range=[pe[pe.length-(bl||1)].range[0],pe[pe.length-1].range[1]]),v7=this.performAction.apply(u0,[me,Hx,Br,tu.yy,gs[1],Ft,pe].concat(Tye)),typeof v7<"u")return v7;bl&&(rt=rt.slice(0,-1*bl*2),Ft=Ft.slice(0,-1*bl),pe=pe.slice(0,-1*bl)),rt.push(this.productions_[gs[1]][0]),Ft.push(u0.$),pe.push(u0._$),yO=rn[rt[rt.length-2]][rt[rt.length-1]],rt.push(yO);break;case 3:return!0}}return!0},"parse")},_a=(function(){var Ai={EOF:1,parseError:l(function(vt,rt){if(this.yy.parser)this.yy.parser.parseError(vt,rt);else throw new Error(vt)},"parseError"),setInput:l(function(vt,rt){return this.yy=rt||this.yy||{},this._input=vt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var vt=this._input[0];this.yytext+=vt,this.yyleng++,this.offset++,this.match+=vt,this.matched+=vt;var rt=vt.match(/(?:\r\n?|\n).*/g);return rt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),vt},"input"),unput:l(function(vt){var rt=vt.length,He=vt.split(/(?:\r\n?|\n)/g);this._input=vt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-rt),this.offset-=rt;var Ft=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),He.length-1&&(this.yylineno-=He.length-1);var pe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:He?(He.length===Ft.length?this.yylloc.first_column:0)+Ft[Ft.length-He.length].length-He[0].length:this.yylloc.first_column-rt},this.options.ranges&&(this.yylloc.range=[pe[0],pe[0]+this.yyleng-rt]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(vt){this.unput(this.match.slice(vt))},"less"),pastInput:l(function(){var vt=this.matched.substr(0,this.matched.length-this.match.length);return(vt.length>20?"...":"")+vt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var vt=this.match;return vt.length<20&&(vt+=this._input.substr(0,20-vt.length)),(vt.substr(0,20)+(vt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var vt=this.pastInput(),rt=new Array(vt.length+1).join("-");return vt+this.upcomingInput()+`
`+rt+"^"},"showPosition"),test_match:l(function(vt,rt){var He,Ft,pe;if(this.options.backtrack_lexer&&(pe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(pe.yylloc.range=this.yylloc.range.slice(0))),Ft=vt[0].match(/(?:\r\n?|\n).*/g),Ft&&(this.yylineno+=Ft.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ft?Ft[Ft.length-1].length-Ft[Ft.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+vt[0].length},this.yytext+=vt[0],this.match+=vt[0],this.matches=vt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(vt[0].length),this.matched+=vt[0],He=this.performAction.call(this,this.yy,this,rt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),He)return He;if(this._backtrack){for(var rn in pe)this[rn]=pe[rn];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var vt,rt,He,Ft;this._more||(this.yytext="",this.match="");for(var pe=this._currentRules(),rn=0;rn<pe.length;rn++)if(He=this._input.match(this.rules[pe[rn]]),He&&(!rt||He[0].length>rt[0].length)){if(rt=He,Ft=rn,this.options.backtrack_lexer){if(vt=this.test_match(He,pe[rn]),vt!==!1)return vt;if(this._backtrack){rt=!1;continue}else return!1}else if(!this.options.flex)break}return rt?(vt=this.test_match(rt,pe[Ft]),vt!==!1?vt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var vt=this.next();return vt||this.lex()},"lex"),begin:l(function(vt){this.conditionStack.push(vt)},"begin"),popState:l(function(){var vt=this.conditionStack.length-1;return vt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(vt){return vt=this.conditionStack.length-1-Math.abs(vt||0),vt>=0?this.conditionStack[vt]:"INITIAL"},"topState"),pushState:l(function(vt){this.begin(vt)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(vt,rt,He,Ft){var pe=Ft;switch(He){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),rt.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:let rn=/\n\s*/g;return rt.yytext=rt.yytext.replace(rn,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 17:this.popState();break;case 18:return 96;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 88;case 35:return vt.lex.firstGraph()&&this.begin("dir"),12;case 36:return vt.lex.firstGraph()&&this.begin("dir"),12;case 37:return vt.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 98;case 41:return 98;case 42:return 98;case 43:return 98;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:return 111;case 62:return 46;case 63:return 60;case 64:return 44;case 65:return 8;case 66:return 106;case 67:return 115;case 68:return this.popState(),77;case 69:return this.pushState("edgeText"),75;case 70:return 119;case 71:return this.popState(),77;case 72:return this.pushState("thickEdgeText"),75;case 73:return 119;case 74:return this.popState(),77;case 75:return this.pushState("dottedEdgeText"),75;case 76:return 119;case 77:return 77;case 78:return this.popState(),53;case 79:return"TEXT";case 80:return this.pushState("ellipseText"),52;case 81:return this.popState(),55;case 82:return this.pushState("text"),54;case 83:return this.popState(),57;case 84:return this.pushState("text"),56;case 85:return 58;case 86:return this.pushState("text"),67;case 87:return this.popState(),64;case 88:return this.pushState("text"),63;case 89:return this.popState(),49;case 90:return this.pushState("text"),48;case 91:return this.popState(),69;case 92:return this.popState(),71;case 93:return 117;case 94:return this.pushState("trapText"),68;case 95:return this.pushState("trapText"),70;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 101:return 115;case 102:return 111;case 103:return 44;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;case 108:return this.pushState("text"),62;case 109:return this.popState(),51;case 110:return this.pushState("text"),50;case 111:return this.popState(),31;case 112:return this.pushState("text"),29;case 113:return this.popState(),66;case 114:return this.pushState("text"),65;case 115:return"TEXT";case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s\"]+@(?=[^\{\"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}};return Ai})();Vi.lexer=_a;function Kr(){this.yy={}}return l(Kr,"Parser"),Kr.prototype=Vi,Vi.Parser=Kr,new Kr})();fN.parser=fN;xoe=fN,woe=Object.assign({},xoe);woe.parse=t=>{let e=t.replace(/}\s*\n/g,`}
`);return xoe.parse(e)};sNe=woe,oNe=l((t,e)=>{let r=hp,i=r(t,"r"),n=r(t,"g"),a=r(t,"b");return eo(i,n,a,e)},"fade"),lNe=l(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${t.lineColor} !important;
    stroke-width: 0;
    stroke: ${t.lineColor};
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${oNe(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${t.edgeLabelBackground};
    p {
      background-color: ${t.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }
  ${sl()}
`,"getStyles"),cNe=lNe,hNe={parser:sNe,get db(){return new rNe},renderer:aNe,styles:cNe,init:l(t=>{t.flowchart||(t.flowchart={}),t.layout&&U2({layout:t.layout}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,U2({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}})},"init")}});var Toe={};Tr(Toe,{diagram:()=>yNe});var mN,uNe,_g,dNe,koe,pNe,gNe,fNe,mNe,yNe,Eoe=wt(()=>{mo();Ps();Ms();Es();ts();$a();ua();da();_n();Hr();ri();hr();lr();br();kt();mN=(function(){var t=l(function(H,J,he,X){for(he=he||{},X=H.length;X--;he[H[X]]=J);return he},"o"),e=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],r=[1,10],i=[1,11],n=[1,12],a=[1,13],s=[1,20],o=[1,21],h=[1,22],u=[1,23],d=[1,24],p=[1,19],g=[1,25],f=[1,26],m=[1,18],y=[1,33],b=[1,34],v=[1,35],x=[1,36],w=[1,37],k=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],T=[1,42],S=[1,43],C=[1,52],E=[40,50,68,69],L=[1,63],I=[1,61],M=[1,58],N=[1,62],$=[1,64],_=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],D=[63,64,65,66,67],R=[1,81],O=[1,80],A=[1,78],B=[1,79],P=[6,10,42,47],z=[6,10,13,41,42,47,48,49],q=[1,89],K=[1,88],W=[1,87],ae=[19,56],ie=[1,98],se=[1,97],oe=[19,56,58,60],Y={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:l(function(H,J,he,X,fe,V,Se){var ce=V.length-1;switch(fe){case 1:break;case 2:this.$=[];break;case 3:V[ce-1].push(V[ce]),this.$=V[ce-1];break;case 4:case 5:this.$=V[ce];break;case 6:case 7:this.$=[];break;case 8:X.addEntity(V[ce-4]),X.addEntity(V[ce-2]),X.addRelationship(V[ce-4],V[ce],V[ce-2],V[ce-3]);break;case 9:X.addEntity(V[ce-8]),X.addEntity(V[ce-4]),X.addRelationship(V[ce-8],V[ce],V[ce-4],V[ce-5]),X.setClass([V[ce-8]],V[ce-6]),X.setClass([V[ce-4]],V[ce-2]);break;case 10:X.addEntity(V[ce-6]),X.addEntity(V[ce-2]),X.addRelationship(V[ce-6],V[ce],V[ce-2],V[ce-3]),X.setClass([V[ce-6]],V[ce-4]);break;case 11:X.addEntity(V[ce-6]),X.addEntity(V[ce-4]),X.addRelationship(V[ce-6],V[ce],V[ce-4],V[ce-5]),X.setClass([V[ce-4]],V[ce-2]);break;case 12:X.addEntity(V[ce-3]),X.addAttributes(V[ce-3],V[ce-1]);break;case 13:X.addEntity(V[ce-5]),X.addAttributes(V[ce-5],V[ce-1]),X.setClass([V[ce-5]],V[ce-3]);break;case 14:X.addEntity(V[ce-2]);break;case 15:X.addEntity(V[ce-4]),X.setClass([V[ce-4]],V[ce-2]);break;case 16:X.addEntity(V[ce]);break;case 17:X.addEntity(V[ce-2]),X.setClass([V[ce-2]],V[ce]);break;case 18:X.addEntity(V[ce-6],V[ce-4]),X.addAttributes(V[ce-6],V[ce-1]);break;case 19:X.addEntity(V[ce-8],V[ce-6]),X.addAttributes(V[ce-8],V[ce-1]),X.setClass([V[ce-8]],V[ce-3]);break;case 20:X.addEntity(V[ce-5],V[ce-3]);break;case 21:X.addEntity(V[ce-7],V[ce-5]),X.setClass([V[ce-7]],V[ce-2]);break;case 22:X.addEntity(V[ce-3],V[ce-1]);break;case 23:X.addEntity(V[ce-5],V[ce-3]),X.setClass([V[ce-5]],V[ce]);break;case 24:case 25:this.$=V[ce].trim(),X.setAccTitle(this.$);break;case 26:case 27:this.$=V[ce].trim(),X.setAccDescription(this.$);break;case 32:X.setDirection("TB");break;case 33:X.setDirection("BT");break;case 34:X.setDirection("RL");break;case 35:X.setDirection("LR");break;case 36:this.$=V[ce-3],X.addClass(V[ce-2],V[ce-1]);break;case 37:case 38:case 56:case 64:this.$=[V[ce]];break;case 39:case 40:this.$=V[ce-2].concat([V[ce]]);break;case 41:this.$=V[ce-2],X.setClass(V[ce-1],V[ce]);break;case 42:this.$=V[ce-3],X.addCssStyles(V[ce-2],V[ce-1]);break;case 43:this.$=[V[ce]];break;case 44:V[ce-2].push(V[ce]),this.$=V[ce-2];break;case 46:this.$=V[ce-1]+V[ce];break;case 54:case 76:case 77:this.$=V[ce].replace(/"/g,"");break;case 55:case 78:this.$=V[ce];break;case 57:V[ce].push(V[ce-1]),this.$=V[ce];break;case 58:this.$={type:V[ce-1],name:V[ce]};break;case 59:this.$={type:V[ce-2],name:V[ce-1],keys:V[ce]};break;case 60:this.$={type:V[ce-2],name:V[ce-1],comment:V[ce]};break;case 61:this.$={type:V[ce-3],name:V[ce-2],keys:V[ce-1],comment:V[ce]};break;case 62:case 63:case 66:this.$=V[ce];break;case 65:V[ce-2].push(V[ce]),this.$=V[ce-2];break;case 67:this.$=V[ce].replace(/"/g,"");break;case 68:this.$={cardA:V[ce],relType:V[ce-1],cardB:V[ce-2]};break;case 69:this.$=X.Cardinality.ZERO_OR_ONE;break;case 70:this.$=X.Cardinality.ZERO_OR_MORE;break;case 71:this.$=X.Cardinality.ONE_OR_MORE;break;case 72:this.$=X.Cardinality.ONLY_ONE;break;case 73:this.$=X.Cardinality.MD_PARENT;break;case 74:this.$=X.Identification.NON_IDENTIFYING;break;case 75:this.$=X.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:r,24:i,26:n,28:a,29:14,30:15,31:16,32:17,33:s,34:o,35:h,36:u,37:d,40:p,43:g,44:f,50:m},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:27,11:9,22:r,24:i,26:n,28:a,29:14,30:15,31:16,32:17,33:s,34:o,35:h,36:u,37:d,40:p,43:g,44:f,50:m},t(e,[2,5]),t(e,[2,6]),t(e,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:y,64:b,65:v,66:x,67:w}),{23:[1,38]},{25:[1,39]},{27:[1,40]},t(e,[2,27]),t(e,[2,28]),t(e,[2,29]),t(e,[2,30]),t(e,[2,31]),t(k,[2,54]),t(k,[2,55]),t(e,[2,32]),t(e,[2,33]),t(e,[2,34]),t(e,[2,35]),{16:41,40:T,41:S},{16:44,40:T,41:S},{16:45,40:T,41:S},t(e,[2,4]),{11:46,40:p,50:m},{16:47,40:T,41:S},{18:48,19:[1,49],51:50,52:51,56:C},{11:53,40:p,50:m},{62:54,68:[1,55],69:[1,56]},t(E,[2,69]),t(E,[2,70]),t(E,[2,71]),t(E,[2,72]),t(E,[2,73]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),{13:L,38:57,41:I,42:M,45:59,46:60,48:N,49:$},t(_,[2,37]),t(_,[2,38]),{16:65,40:T,41:S,42:M},{13:L,38:66,41:I,42:M,45:59,46:60,48:N,49:$},{13:[1,67],15:[1,68]},t(e,[2,17],{61:32,12:69,17:[1,70],42:M,63:y,64:b,65:v,66:x,67:w}),{19:[1,71]},t(e,[2,14]),{18:72,19:[2,56],51:50,52:51,56:C},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:y,64:b,65:v,66:x,67:w},t(D,[2,74]),t(D,[2,75]),{6:R,10:O,39:77,42:A,47:B},{40:[1,82],41:[1,83]},t(P,[2,43],{46:84,13:L,41:I,48:N,49:$}),t(z,[2,45]),t(z,[2,50]),t(z,[2,51]),t(z,[2,52]),t(z,[2,53]),t(e,[2,41],{42:M}),{6:R,10:O,39:85,42:A,47:B},{14:86,40:q,50:K,70:W},{16:90,40:T,41:S},{11:91,40:p,50:m},{18:92,19:[1,93],51:50,52:51,56:C},t(e,[2,12]),{19:[2,57]},t(ae,[2,58],{54:94,55:95,57:96,59:ie,60:se}),t([19,56,59,60],[2,63]),t(e,[2,22],{15:[1,100],17:[1,99]}),t([40,50],[2,68]),t(e,[2,36]),{13:L,41:I,45:101,46:60,48:N,49:$},t(e,[2,47]),t(e,[2,48]),t(e,[2,49]),t(_,[2,39]),t(_,[2,40]),t(z,[2,46]),t(e,[2,42]),t(e,[2,8]),t(e,[2,76]),t(e,[2,77]),t(e,[2,78]),{13:[1,102],42:M},{13:[1,104],15:[1,103]},{19:[1,105]},t(e,[2,15]),t(ae,[2,59],{55:106,58:[1,107],60:se}),t(ae,[2,60]),t(oe,[2,64]),t(ae,[2,67]),t(oe,[2,66]),{18:108,19:[1,109],51:50,52:51,56:C},{16:110,40:T,41:S},t(P,[2,44],{46:84,13:L,41:I,48:N,49:$}),{14:111,40:q,50:K,70:W},{16:112,40:T,41:S},{14:113,40:q,50:K,70:W},t(e,[2,13]),t(ae,[2,61]),{57:114,59:ie},{19:[1,115]},t(e,[2,20]),t(e,[2,23],{17:[1,116],42:M}),t(e,[2,11]),{13:[1,117],42:M},t(e,[2,10]),t(oe,[2,65]),t(e,[2,18]),{18:118,19:[1,119],51:50,52:51,56:C},{14:120,40:q,50:K,70:W},{19:[1,121]},t(e,[2,21]),t(e,[2,9]),t(e,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:l(function(H,J){if(J.recoverable)this.trace(H);else{var he=new Error(H);throw he.hash=J,he}},"parseError"),parse:l(function(H){var J=this,he=[0],X=[],fe=[null],V=[],Se=this.table,ce="",Le=0,$e=0,je=0,qe=2,Ce=1,De=V.slice.call(arguments,1),ye=Object.create(this.lexer),Pe={yy:{}};for(var ue in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ue)&&(Pe.yy[ue]=this.yy[ue]);ye.setInput(H,Pe.yy),Pe.yy.lexer=ye,Pe.yy.parser=this,typeof ye.yylloc>"u"&&(ye.yylloc={});var Ve=ye.yylloc;V.push(Ve);var Z=ye.options&&ye.options.ranges;typeof Pe.yy.parseError=="function"?this.parseError=Pe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ne(Ge){he.length=he.length-2*Ge,fe.length=fe.length-Ge,V.length=V.length-Ge}l(Ne,"popStack");function F(){var Ge;return Ge=X.pop()||ye.lex()||Ce,typeof Ge!="number"&&(Ge instanceof Array&&(X=Ge,Ge=X.pop()),Ge=J.symbols_[Ge]||Ge),Ge}l(F,"lex");for(var te,ne,de,ge,xe,Ee,Te={},Fe,We,it,Be;;){if(de=he[he.length-1],this.defaultActions[de]?ge=this.defaultActions[de]:((te===null||typeof te>"u")&&(te=F()),ge=Se[de]&&Se[de][te]),typeof ge>"u"||!ge.length||!ge[0]){var Ye="";Be=[];for(Fe in Se[de])this.terminals_[Fe]&&Fe>qe&&Be.push("'"+this.terminals_[Fe]+"'");ye.showPosition?Ye="Parse error on line "+(Le+1)+`:
`+ye.showPosition()+`
Expecting `+Be.join(", ")+", got '"+(this.terminals_[te]||te)+"'":Ye="Parse error on line "+(Le+1)+": Unexpected "+(te==Ce?"end of input":"'"+(this.terminals_[te]||te)+"'"),this.parseError(Ye,{text:ye.match,token:this.terminals_[te]||te,line:ye.yylineno,loc:Ve,expected:Be})}if(ge[0]instanceof Array&&ge.length>1)throw new Error("Parse Error: multiple actions possible at state: "+de+", token: "+te);switch(ge[0]){case 1:he.push(te),fe.push(ye.yytext),V.push(ye.yylloc),he.push(ge[1]),te=null,ne?(te=ne,ne=null):($e=ye.yyleng,ce=ye.yytext,Le=ye.yylineno,Ve=ye.yylloc,je>0&&je--);break;case 2:if(We=this.productions_[ge[1]][1],Te.$=fe[fe.length-We],Te._$={first_line:V[V.length-(We||1)].first_line,last_line:V[V.length-1].last_line,first_column:V[V.length-(We||1)].first_column,last_column:V[V.length-1].last_column},Z&&(Te._$.range=[V[V.length-(We||1)].range[0],V[V.length-1].range[1]]),Ee=this.performAction.apply(Te,[ce,$e,Le,Pe.yy,ge[1],fe,V].concat(De)),typeof Ee<"u")return Ee;We&&(he=he.slice(0,-1*We*2),fe=fe.slice(0,-1*We),V=V.slice(0,-1*We)),he.push(this.productions_[ge[1]][0]),fe.push(Te.$),V.push(Te._$),it=Se[he[he.length-2]][he[he.length-1]],he.push(it);break;case 3:return!0}}return!0},"parse")},Q=(function(){var H={EOF:1,parseError:l(function(J,he){if(this.yy.parser)this.yy.parser.parseError(J,he);else throw new Error(J)},"parseError"),setInput:l(function(J,he){return this.yy=he||this.yy||{},this._input=J,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var J=this._input[0];this.yytext+=J,this.yyleng++,this.offset++,this.match+=J,this.matched+=J;var he=J.match(/(?:\r\n?|\n).*/g);return he?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),J},"input"),unput:l(function(J){var he=J.length,X=J.split(/(?:\r\n?|\n)/g);this._input=J+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-he),this.offset-=he;var fe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),X.length-1&&(this.yylineno-=X.length-1);var V=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:X?(X.length===fe.length?this.yylloc.first_column:0)+fe[fe.length-X.length].length-X[0].length:this.yylloc.first_column-he},this.options.ranges&&(this.yylloc.range=[V[0],V[0]+this.yyleng-he]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(J){this.unput(this.match.slice(J))},"less"),pastInput:l(function(){var J=this.matched.substr(0,this.matched.length-this.match.length);return(J.length>20?"...":"")+J.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var J=this.match;return J.length<20&&(J+=this._input.substr(0,20-J.length)),(J.substr(0,20)+(J.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var J=this.pastInput(),he=new Array(J.length+1).join("-");return J+this.upcomingInput()+`
`+he+"^"},"showPosition"),test_match:l(function(J,he){var X,fe,V;if(this.options.backtrack_lexer&&(V={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(V.yylloc.range=this.yylloc.range.slice(0))),fe=J[0].match(/(?:\r\n?|\n).*/g),fe&&(this.yylineno+=fe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:fe?fe[fe.length-1].length-fe[fe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+J[0].length},this.yytext+=J[0],this.match+=J[0],this.matches=J,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(J[0].length),this.matched+=J[0],X=this.performAction.call(this,this.yy,this,he,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),X)return X;if(this._backtrack){for(var Se in V)this[Se]=V[Se];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var J,he,X,fe;this._more||(this.yytext="",this.match="");for(var V=this._currentRules(),Se=0;Se<V.length;Se++)if(X=this._input.match(this.rules[V[Se]]),X&&(!he||X[0].length>he[0].length)){if(he=X,fe=Se,this.options.backtrack_lexer){if(J=this.test_match(X,V[Se]),J!==!1)return J;if(this._backtrack){he=!1;continue}else return!1}else if(!this.options.flex)break}return he?(J=this.test_match(he,V[fe]),J!==!1?J:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var J=this.next();return J||this.lex()},"lex"),begin:l(function(J){this.conditionStack.push(J)},"begin"),popState:l(function(){var J=this.conditionStack.length-1;return J>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(J){return J=this.conditionStack.length-1-Math.abs(J||0),J>=0?this.conditionStack[J]:"INITIAL"},"topState"),pushState:l(function(J){this.begin(J)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(J,he,X,fe){var V=fe;switch(X){case 0:return this.begin("acc_title"),24;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),26;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;case 18:return 49;case 19:return 49;case 20:return 42;case 21:return 15;case 22:return 13;case 23:break;case 24:return 59;case 25:return 56;case 26:return 56;case 27:return 60;case 28:break;case 29:return this.popState(),19;case 30:return he.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;case 34:return this.popState(),10;case 35:break;case 36:return 13;case 37:return 42;case 38:return 49;case 39:return this.begin("style"),37;case 40:return 43;case 41:return 63;case 42:return 65;case 43:return 65;case 44:return 65;case 45:return 63;case 46:return 63;case 47:return 64;case 48:return 64;case 49:return 64;case 50:return 64;case 51:return 64;case 52:return 65;case 53:return 64;case 54:return 65;case 55:return 66;case 56:return 66;case 57:return 66;case 58:return 66;case 59:return 63;case 60:return 64;case 61:return 65;case 62:return 67;case 63:return 68;case 64:return 69;case 65:return 69;case 66:return 68;case 67:return 68;case 68:return 68;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 73:return he.yytext[0];case 74:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([\*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9\-\_\[\]\(\)\u00C0-\uFFFF\*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}};return H})();Y.lexer=Q;function j(){this.yy={}}return l(j,"Parser"),j.prototype=Y,Y.Parser=j,new j})();mN.parser=mN;uNe=mN,dNe=(_g=class{constructor(){this.entities=new Map,this.relationships=[],this.classes=new Map,this.direction="TB",this.Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},this.Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},this.setAccTitle=gr,this.getAccTitle=fr,this.setAccDescription=mr,this.getAccDescription=yr,this.setDiagramTitle=Er,this.getDiagramTitle=vr,this.getConfig=l(()=>ve().er,"getConfig"),this.clear(),this.addEntity=this.addEntity.bind(this),this.addAttributes=this.addAttributes.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setDirection=this.setDirection.bind(this),this.addCssStyles=this.addCssStyles.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}addEntity(e,r=""){var i;return this.entities.has(e)?!((i=this.entities.get(e))!=null&&i.alias)&&r&&(this.entities.get(e).alias=r,ee.info(`Add alias '${r}' to entity '${e}'`)):(this.entities.set(e,{id:`entity-${e}-${this.entities.size}`,label:e,attributes:[],alias:r,shape:"erBox",look:ve().look??"default",cssClasses:"default",cssStyles:[]}),ee.info("Added new entity :",e)),this.entities.get(e)}getEntity(e){return this.entities.get(e)}getEntities(){return this.entities}getClasses(){return this.classes}addAttributes(e,r){let i=this.addEntity(e),n;for(n=r.length-1;n>=0;n--)r[n].keys||(r[n].keys=[]),r[n].comment||(r[n].comment=""),i.attributes.push(r[n]),ee.debug("Added attribute ",r[n].name)}addRelationship(e,r,i,n){let a=this.entities.get(e),s=this.entities.get(i);if(!a||!s)return;let o={entityA:a.id,roleA:r,entityB:s.id,relSpec:n};this.relationships.push(o),ee.debug("Added new relationship :",o)}getRelationships(){return this.relationships}getDirection(){return this.direction}setDirection(e){this.direction=e}getCompiledStyles(e){let r=[];for(let i of e){let n=this.classes.get(i);n!=null&&n.styles&&(r=[...r,...n.styles??[]].map(a=>a.trim())),n!=null&&n.textStyles&&(r=[...r,...n.textStyles??[]].map(a=>a.trim()))}return r}addCssStyles(e,r){for(let i of e){let n=this.entities.get(i);if(!r||!n)return;for(let a of r)n.cssStyles.push(a)}}addClass(e,r){e.forEach(i=>{let n=this.classes.get(i);n===void 0&&(n={id:i,styles:[],textStyles:[]},this.classes.set(i,n)),r&&r.forEach(function(a){if(/color/.exec(a)){let s=a.replace("fill","bgFill");n.textStyles.push(s)}n.styles.push(a)})})}setClass(e,r){for(let i of e){let n=this.entities.get(i);if(n)for(let a of r)n.cssClasses+=" "+a}}clear(){this.entities=new Map,this.classes=new Map,this.relationships=[],cr()}getData(){let e=[],r=[],i=ve();for(let a of this.entities.keys()){let s=this.entities.get(a);s&&(s.cssCompiledStyles=this.getCompiledStyles(s.cssClasses.split(" ")),e.push(s))}let n=0;for(let a of this.relationships){let s={id:Yo(a.entityA,a.entityB,{prefix:"id",counter:n++}),type:"normal",curve:"basis",start:a.entityA,end:a.entityB,label:a.roleA,labelpos:"c",thickness:"normal",classes:"relationshipLine",arrowTypeStart:a.relSpec.cardB.toLowerCase(),arrowTypeEnd:a.relSpec.cardA.toLowerCase(),pattern:a.relSpec.relType=="IDENTIFYING"?"solid":"dashed",look:i.look};r.push(s)}return{nodes:e,edges:r,other:{},config:i,direction:"TB"}}},l(_g,"ErDB"),_g),koe={};Fn(koe,{draw:()=>pNe});pNe=l(async function(t,e,r,i){ee.info("REF0:"),ee.info("Drawing er diagram (unified)",e);let{securityLevel:n,er:a,layout:s}=ve(),o=i.db.getData(),h=Bs(e,n);o.type=i.type,o.layoutAlgorithm=il(s),o.config.flowchart.nodeSpacing=(a==null?void 0:a.nodeSpacing)||140,o.config.flowchart.rankSpacing=(a==null?void 0:a.rankSpacing)||80,o.direction=i.db.getDirection(),o.markers=["only_one","zero_or_one","one_or_more","zero_or_more"],o.diagramId=e,await Ds(o,h),o.layoutAlgorithm==="elk"&&h.select(".edges").lower();let u=h.selectAll('[id*="-background"]');Array.from(u).length>0&&u.each(function(){let p=Ue(this),g=p.attr("id").replace("-background",""),f=h.select(`#${CSS.escape(g)}`);if(!f.empty()){let m=f.attr("transform");p.attr("transform",m)}}),$t.insertTitle(h,"erDiagramTitleText",(a==null?void 0:a.titleTopMargin)??25,i.db.getDiagramTitle()),qa(h,8,"erDiagram",(a==null?void 0:a.useMaxWidth)??!0)},"draw"),gNe=l((t,e)=>{let r=hp,i=r(t,"r"),n=r(t,"g"),a=r(t,"b");return eo(i,n,a,e)},"fade"),fNe=l(t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

  .labelBkg {
    background-color: ${gNe(t.tertiaryColor,.5)};
  }

  .edgeLabel .label {
    fill: ${t.nodeBorder};
    font-size: 14px;
  }

  .label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }

  .edge-pattern-dashed {
    stroke-dasharray: 8,8;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon
  {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .relationshipLine {
    stroke: ${t.lineColor};
    stroke-width: 1;
    fill: none;
  }

  .marker {
    fill: none !important;
    stroke: ${t.lineColor} !important;
    stroke-width: 1;
  }
`,"getStyles"),mNe=fNe,yNe={parser:uNe,get db(){return new dNe},renderer:koe,styles:mNe}});function ls(t,e){var r,i,n;t.accDescr&&((r=e.setAccDescription)==null||r.call(e,t.accDescr)),t.accTitle&&((i=e.setAccTitle)==null||i.call(e,t.accTitle)),t.title&&((n=e.setDiagramTitle)==null||n.call(e,t.title))}var fd=wt(()=>{kt();l(ls,"populateCommonDb")});function Ji(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}function ja(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"}function mI(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}function f1(t){return typeof t=="object"&&t!==null&&Ji(t.container)&&ja(t.reference)&&typeof t.message=="string"}function ec(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}function Dd(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}function _k(t){return ec(t)&&typeof t.fullText=="string"}function ice(t){return typeof t=="string"?t:typeof t>"u"?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}function Hb(t){return!!t&&typeof t[Symbol.iterator]=="function"}function Ui(...t){if(t.length===1){let e=t[0];if(e instanceof hl)return e;if(Hb(e))return new hl(()=>e[Symbol.iterator](),r=>r.next());if(typeof e.length=="number")return new hl(()=>({index:0}),r=>r.index<e.length?{done:!1,value:e[r.index++]}:ba)}return t.length>1?new hl(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){let r=e.iterator.next();if(!r.done)return r;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){let r=t[e.collIndex++];Hb(r)?e.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(e.array=r)}}while(e.iterator||e.array||e.collIndex<t.length);return ba}):Ak}function Im(t){return new Nm(t,e=>ec(e)?e.content:[],{includeRoot:!0})}function nce(t){return Im(t).filter(Dd)}function vI(t,e){for(;t.container;)if(t=t.container,t===e)return!0;return!1}function Kb(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}function Rm(t){if(!t)return;let{offset:e,end:r,range:i}=t;return{range:i,offset:e,end:r,length:r-e}}function bI(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<=e.start.character)return ll.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>=e.end.character)return ll.After;let r=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,i=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return r&&i?ll.Inside:r?ll.OverlapBack:i?ll.OverlapFront:ll.Outside}function xI(t,e){return bI(t,e)>ll.After}function ace(t,e,r=wI){if(t){if(e>0){let i=e-t.offset,n=t.text.charAt(i);r.test(n)||e--}return Lk(t,e)}}function kI(t,e){if(t){let r=CI(t,!0);if(r&&Qw(r,e))return r;if(_k(t)){let i=t.content.findIndex(n=>!n.hidden);for(let n=i-1;n>=0;n--){let a=t.content[n];if(Qw(a,e))return a}}}}function Qw(t,e){return Dd(t)&&e.includes(t.tokenType.name)}function Lk(t,e){if(Dd(t))return t;if(ec(t)){let r=EI(t,e,!1);if(r)return Lk(r,e)}}function TI(t,e){if(Dd(t))return t;if(ec(t)){let r=EI(t,e,!0);if(r)return TI(r,e)}}function EI(t,e,r){let i=0,n=t.content.length-1,a;for(;i<=n;){let s=Math.floor((i+n)/2),o=t.content[s];if(o.offset<=e&&o.end>e)return o;o.end<=e?(a=r?o:void 0,i=s+1):n=s-1}return a}function CI(t,e=!0){for(;t.container;){let r=t.container,i=r.content.indexOf(t);for(;i>0;){i--;let n=r.content[i];if(e||!n.hidden)return n}t=r}}function sce(t,e=!0){for(;t.container;){let r=t.container,i=r.content.indexOf(t),n=r.content.length-1;for(;i<n;){i++;let a=r.content[i];if(e||!a.hidden)return a}t=r}}function oce(t){if(t.range.start.character===0)return t;let e=t.range.start.line,r=t,i;for(;t.container;){let n=t.container,a=i??n.content.indexOf(t);if(a===0?(t=n,i=void 0):(i=a-1,t=n.content[i]),t.range.start.line!==e)break;r=t}return r}function lce(t,e){let r=cce(t,e);return r?r.parent.content.slice(r.a+1,r.b):[]}function cce(t,e){let r=NN(t),i=NN(e),n;for(let a=0;a<r.length&&a<i.length;a++){let s=r[a],o=i[a];if(s.parent===o.parent)n={parent:s.parent,a:s.index,b:o.index};else break}return n}function NN(t){let e=[];for(;t.container;){let r=t.container,i=r.content.indexOf(t);e.push({parent:r,index:i}),t=r}return e.reverse()}function Gh(t){throw new Error("Error! The input value was not handled.")}function uce(t){return er.isInstance(t,Ng)}function dce(t){return er.isInstance(t,Ig)}function pce(t){return er.isInstance(t,Fb)}function gce(t){return _I(t)||t==="current"||t==="entry"||t==="extends"||t==="false"||t==="fragment"||t==="grammar"||t==="hidden"||t==="import"||t==="interface"||t==="returns"||t==="terminal"||t==="true"||t==="type"||t==="infer"||t==="infers"||t==="with"||typeof t=="string"&&/\^?[_a-zA-Z][\w_]*/.test(t)}function _I(t){return t==="string"||t==="number"||t==="boolean"||t==="Date"||t==="bigint"}function fce(t){return er.isInstance(t,Jw)}function mce(t){return er.isInstance(t,zb)}function Ik(t){return er.isInstance(t,Rg)}function yce(t){return er.isInstance(t,Dg)}function AI(t){return er.isInstance(t,Mg)}function LI(t){return er.isInstance(t,Og)}function NI(t){return er.isInstance(t,$g)}function II(t){return er.isInstance(t,Bg)}function vce(t){return er.isInstance(t,Pg)}function bce(t){return er.isInstance(t,Gb)}function Rk(t){return er.isInstance(t,Fg)}function Dk(t){return er.isInstance(t,zg)}function xce(t){return er.isInstance(t,qb)}function RI(t){return er.isInstance(t,Gg)}function wce(t){return er.isInstance(t,qg)}function kce(t){return er.isInstance(t,Ug)}function DI(t){return er.isInstance(t,jg)}function Wa(t){return er.isInstance(t,Wg)}function MI(t){return er.isInstance(t,Vg)}function OI(t){return er.isInstance(t,Ub)}function Mk(t){return er.isInstance(t,Yg)}function Tce(t){return er.isInstance(t,Hg)}function pl(t){return er.isInstance(t,yd)}function lx(t){return er.isInstance(t,Xg)}function Ece(t){return er.isInstance(t,jb)}function $I(t){return er.isInstance(t,Kg)}function $h(t){return er.isInstance(t,Zg)}function Ok(t){return er.isInstance(t,Qg)}function tc(t){return er.isInstance(t,Jg)}function BI(t){return er.isInstance(t,e1)}function cx(t){return er.isInstance(t,t1)}function PI(t){return er.isInstance(t,r1)}function Md(t){return er.isInstance(t,i1)}function rc(t){return er.isInstance(t,n1)}function FI(t){return er.isInstance(t,a1)}function zI(t){return er.isInstance(t,s1)}function ic(t){return er.isInstance(t,o1)}function GI(t){return er.isInstance(t,l1)}function qI(t){return er.isInstance(t,c1)}function $k(t){return er.isInstance(t,h1)}function Bk(t){return er.isInstance(t,u1)}function UI(t){return er.isInstance(t,d1)}function jI(t){return er.isInstance(t,p1)}function Pk(t){for(let[e,r]of Object.entries(t))e.startsWith("$")||(Array.isArray(r)?r.forEach((i,n)=>{Ji(i)&&(i.$container=t,i.$containerProperty=e,i.$containerIndex=n)}):Ji(r)&&(r.$container=t,r.$containerProperty=e))}function Bm(t,e){let r=t;for(;r;){if(e(r))return r;r=r.$container}}function Cce(t,e){let r=t;for(;r;){if(e(r))return!0;r=r.$container}return!1}function vo(t){let e=Zb(t).$document;if(!e)throw new Error("AST node has no document.");return e}function Zb(t){for(;t.$container;)t=t.$container;return t}function hx(t,e){if(!t)throw new Error("Node must be an AstNode.");let r=e==null?void 0:e.range;return new hl(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),i=>{for(;i.keyIndex<i.keys.length;){let n=i.keys[i.keyIndex];if(!n.startsWith("$")){let a=t[n];if(Ji(a)){if(i.keyIndex++,ek(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;i.arrayIndex<a.length;){let s=i.arrayIndex++,o=a[s];if(Ji(o)&&ek(o,r))return{done:!1,value:o}}i.arrayIndex=0}}i.keyIndex++}return ba})}function qh(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new Nm(t,r=>hx(r,e))}function Jl(t,e){if(t){if(e!=null&&e.range&&!ek(t,e.range))return new Nm(t,()=>[])}else throw new Error("Root node must be an AstNode.");return new Nm(t,r=>hx(r,e),{includeRoot:!0})}function ek(t,e){var r;if(!e)return!0;let i=(r=t.$cstNode)===null||r===void 0?void 0:r.range;return i?xI(i,e):!1}function ux(t){return new hl(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){let r=e.keys[e.keyIndex];if(!r.startsWith("$")){let i=t[r];if(ja(i))return e.keyIndex++,{done:!1,value:{reference:i,container:t,property:r}};if(Array.isArray(i)){for(;e.arrayIndex<i.length;){let n=e.arrayIndex++,a=i[n];if(ja(a))return{done:!1,value:{reference:a,container:t,property:r,index:n}}}e.arrayIndex=0}}e.keyIndex++}return ba})}function Sce(t,e=vo(t).parseResult.value){let r=[];return Jl(e).forEach(i=>{ux(i).forEach(n=>{n.reference.ref===t&&r.push(n.reference)})}),Ui(r)}function YI(t,e){let r=t.getTypeMetaData(e.$type),i=e;for(let n of r.properties)n.defaultValue!==void 0&&i[n.name]===void 0&&(i[n.name]=HI(n.defaultValue))}function HI(t){return Array.isArray(t)?[...t.map(HI)]:t}function tk(t,e){let r={$type:t.$type};for(let[i,n]of Object.entries(t))if(!i.startsWith("$"))if(Ji(n))r[i]=tk(n,e);else if(ja(n))r[i]=e(r,i,n.$refNode,n.$refText);else if(Array.isArray(n)){let a=[];for(let s of n)Ji(s)?a.push(tk(s,e)):ja(s)?a.push(e(r,i,s.$refNode,s.$refText)):a.push(s);r[i]=a}else r[i]=n;return Pk(r),r}function Kt(t){return t.charCodeAt(0)}function Mw(t,e){Array.isArray(t)?t.forEach(function(r){e.push(r)}):e.push(t)}function Ag(t,e){if(t[e]===!0)throw"duplicate flag "+e;let r=t[e];t[e]=!0}function md(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function Nb(){throw Error("Internal Error - Should never get here!")}function IN(t){return t.type==="Character"}function Nce(t){try{typeof t!="string"&&(t=t.source),t=`/${t}/`;let e=Lce.pattern(t),r=[];for(let i of e.value.value)vd.reset(t),vd.visit(i),r.push({start:vd.startRegexp,end:vd.endRegex});return r}catch{return[]}}function KI(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),vd.reset(t),vd.visit(Lce.pattern(t)),vd.multiline}catch{return!1}}function Qb(t){let e=typeof t=="string"?new RegExp(t):t;return Ice.some(r=>e.test(r))}function Pm(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ZI(t){return Array.prototype.map.call(t,e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:Pm(e)).join("")}function QI(t,e){let r=JI(t),i=e.match(r);return!!i&&i[0].length>0}function JI(t){typeof t=="string"&&(t=new RegExp(t));let e=t,r=t.source,i=0;function n(){let a="",s;function o(u){a+=r.substr(i,u),i+=u}l(o,"appendRaw");function h(u){a+="(?:"+r.substr(i,u)+"|$)",i+=u}for(l(h,"appendOptional");i<r.length;)switch(r[i]){case"\\":switch(r[i+1]){case"c":h(3);break;case"x":h(4);break;case"u":e.unicode?r[i+2]==="{"?h(r.indexOf("}",i)-i+1):h(6):h(2);break;case"p":case"P":e.unicode?h(r.indexOf("}",i)-i+1):h(2);break;case"k":h(r.indexOf(">",i)-i+1);break;default:h(2);break}break;case"[":s=/\[(?:\\.|.)*?\]/g,s.lastIndex=i,s=s.exec(r)||[],h(s[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":s=/\{\d+,?\d*\}/g,s.lastIndex=i,s=s.exec(r),s?o(s[0].length):h(1);break;case"(":if(r[i+1]==="?")switch(r[i+2]){case":":a+="(?:",i+=3,a+=n()+"|$)";break;case"=":a+="(?=",i+=3,a+=n()+")";break;case"!":s=i,i+=3,n(),a+=r.substr(s,i-s);break;case"<":switch(r[i+3]){case"=":case"!":s=i,i+=4,n(),a+=r.substr(s,i-s);break;default:o(r.indexOf(">",i)-i+1),a+=n()+"|$)";break}break}else o(1),a+=n()+"|$)";break;case")":return++i,a;default:h(1);break}return a}return l(n,"process"),new RegExp(n(),t.flags)}function eR(t){return t.rules.find(e=>Wa(e)&&e.entry)}function tR(t){return t.rules.filter(e=>pl(e)&&e.hidden)}function zk(t,e){let r=new Set,i=eR(t);if(!i)return new Set(t.rules);let n=[i].concat(tR(t));for(let s of n)rR(s,r,e);let a=new Set;for(let s of t.rules)(r.has(s.name)||pl(s)&&s.hidden)&&a.add(s);return a}function rR(t,e,r){e.add(t.name),qh(t).forEach(i=>{if(ic(i)||r&&$k(i)){let n=i.rule.ref;n&&!e.has(n.name)&&rR(n,e,r)}})}function iR(t){if(t.terminal)return t.terminal;if(t.type.ref){let e=jk(t.type.ref);return e==null?void 0:e.terminal}}function nR(t){return t.hidden&&!Qb(gx(t))}function aR(t,e){return!t||!e?[]:qk(t,e,t.astNode,!0)}function Gk(t,e,r){if(!t||!e)return;let i=qk(t,e,t.astNode,!0);if(i.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,i.length-1)):r=0,i[r]}function qk(t,e,r,i){if(!i){let n=Bm(t.grammarSource,tc);if(n&&n.feature===e)return[t]}return ec(t)&&t.astNode===r?t.content.flatMap(n=>qk(n,e,r,!1)):[]}function Rce(t,e){return t?Uk(t,e,t==null?void 0:t.astNode):[]}function sR(t,e,r){if(!t)return;let i=Uk(t,e,t==null?void 0:t.astNode);if(i.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,i.length-1)):r=0,i[r]}function Uk(t,e,r){if(t.astNode!==r)return[];if(rc(t.grammarSource)&&t.grammarSource.value===e)return[t];let i=Im(t).iterator(),n,a=[];do if(n=i.next(),!n.done){let s=n.value;s.astNode===r?rc(s.grammarSource)&&s.grammarSource.value===e&&a.push(s):i.prune()}while(!n.done);return a}function oR(t){var e;let r=t.astNode;for(;r===((e=t.container)===null||e===void 0?void 0:e.astNode);){let i=Bm(t.grammarSource,tc);if(i)return i;t=t.container}}function jk(t){let e=t;return Rk(e)&&($h(e.$container)?e=e.$container.$container:Wa(e.$container)?e=e.$container:Gh(e.$container)),lR(t,e,new Map)}function lR(t,e,r){var i;function n(a,s){let o;return Bm(a,tc)||(o=lR(s,s,r)),r.set(t,o),o}if(l(n,"go"),r.has(t))return r.get(t);r.set(t,void 0);for(let a of qh(e)){if(tc(a)&&a.feature.toLowerCase()==="name")return r.set(t,a),a;if(ic(a)&&Wa(a.rule.ref))return n(a,a.rule.ref);if(Mk(a)&&!((i=a.typeRef)===null||i===void 0)&&i.ref)return n(a,a.typeRef.ref)}}function cR(t){let e=t.$container;if(Md(e)){let r=e.elements,i=r.indexOf(t);for(let n=i-1;n>=0;n--){let a=r[n];if($h(a))return a;{let s=qh(r[n]).find($h);if(s)return s}}}if(Ik(e))return cR(e)}function Dce(t,e){return t==="?"||t==="*"||Md(e)&&!!e.guardCondition}function Mce(t){return t==="*"||t==="+"}function Oce(t){return t==="+="}function dx(t){return hR(t,new Set)}function hR(t,e){if(e.has(t))return!0;e.add(t);for(let r of qh(t))if(ic(r)){if(!r.rule.ref||Wa(r.rule.ref)&&!hR(r.rule.ref,e))return!1}else if(tc(r)||$h(r))return!1;return!!t.definition}function $ce(t){return nk(t.type,new Set)}function nk(t,e){if(e.has(t))return!0;if(e.add(t),AI(t)||MI(t))return!1;if($I(t))return t.types.every(r=>nk(r,e));if(Mk(t)){if(t.primitiveType!==void 0||t.stringType!==void 0)return!0;if(t.typeRef!==void 0){let r=t.typeRef.ref;return lx(r)?nk(r.type,e):!1}else return!1}else return!1}function Fm(t){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){let e=t.returnType.ref;if(e&&(Wa(e)||Dk(e)||lx(e)))return e.name}}function px(t){var e;if(Wa(t))return dx(t)?t.name:(e=Fm(t))!==null&&e!==void 0?e:t.name;if(Dk(t)||lx(t)||OI(t))return t.name;if($h(t)){let r=uR(t);if(r)return r}else if(Rk(t))return t.name;throw new Error("Cannot get name of Unknown Type")}function uR(t){var e;if(t.inferredType)return t.inferredType.name;if(!((e=t.type)===null||e===void 0)&&e.ref)return px(t.type.ref)}function Bce(t){var e,r,i;return pl(t)?(r=(e=t.type)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:"string":dx(t)?t.name:(i=Fm(t))!==null&&i!==void 0?i:t.name}function dR(t){var e,r,i;return pl(t)?(r=(e=t.type)===null||e===void 0?void 0:e.name)!==null&&r!==void 0?r:"string":(i=Fm(t))!==null&&i!==void 0?i:t.name}function gx(t){let e={s:!1,i:!1,u:!1},r=Od(t.definition,e),i=Object.entries(e).filter(([,n])=>n).map(([n])=>n).join("");return new RegExp(r,i)}function Od(t,e){if(GI(t))return Pce(t);if(qI(t))return Fce(t);if(BI(t))return qce(t);if($k(t)){let r=t.rule.ref;if(!r)throw new Error("Missing rule reference.");return ul(Od(r.definition),{cardinality:t.cardinality,lookahead:t.lookahead})}else{if(FI(t))return Gce(t);if(UI(t))return zce(t);if(zI(t)){let r=t.regex.lastIndexOf("/"),i=t.regex.substring(1,r),n=t.regex.substring(r+1);return e&&(e.i=n.includes("i"),e.s=n.includes("s"),e.u=n.includes("u")),ul(i,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}else{if(jI(t))return ul(pR,{cardinality:t.cardinality,lookahead:t.lookahead});throw new Error(`Invalid terminal element: ${t==null?void 0:t.$type}`)}}}function Pce(t){return ul(t.elements.map(e=>Od(e)).join("|"),{cardinality:t.cardinality,lookahead:t.lookahead})}function Fce(t){return ul(t.elements.map(e=>Od(e)).join(""),{cardinality:t.cardinality,lookahead:t.lookahead})}function zce(t){return ul(`${pR}*?${Od(t.terminal)}`,{cardinality:t.cardinality,lookahead:t.lookahead})}function Gce(t){return ul(`(?!${Od(t.terminal)})${pR}*?`,{cardinality:t.cardinality,lookahead:t.lookahead})}function qce(t){return t.right?ul(`[${Ow(t.left)}-${Ow(t.right)}]`,{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1}):ul(Ow(t.left),{cardinality:t.cardinality,lookahead:t.lookahead,wrap:!1})}function Ow(t){return Pm(t.value)}function ul(t,e){var r;return(e.wrap!==!1||e.lookahead)&&(t=`(${(r=e.lookahead)!==null&&r!==void 0?r:""}${t})`),e.cardinality?`${t}${e.cardinality}`:t}function gR(t){let e=[],r=t.Grammar;for(let i of r.rules)pl(i)&&nR(i)&&KI(gx(i))&&e.push(i.name);return{multilineCommentRules:e,nameRegexp:wI}}function ak(t){console&&console.error&&console.error(`Error: ${t}`)}function fR(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function mR(t){let e=new Date().getTime(),r=t();return{time:new Date().getTime()-e,value:r}}function yR(t){function e(){}l(e,"FakeConstructor"),e.prototype=t;let r=new e;function i(){return typeof r.bar}return l(i,"fakeAccess"),i(),i(),t}function Uce(t){return jce(t)?t.LABEL:t.name}function jce(t){return Hn(t.LABEL)&&t.LABEL!==""}function Wce(t){return dt(t,Wb)}function Wb(t){function e(r){return dt(r,Wb)}if(l(e,"convertDefinition"),t instanceof wa){let r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Hn(t.label)&&(r.label=t.label),r}else{if(t instanceof Va)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Mn)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof cs)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof hs)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Wb(new pi({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Ya)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Wb(new pi({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Mi)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof Ha)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof pi){let r={type:"Terminal",name:t.terminalType.name,label:Uce(t.terminalType),idx:t.idx};Hn(t.label)&&(r.terminalLabel=t.label);let i=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(r.pattern=Ko(i)?i.source:i),r}else{if(t instanceof zm)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}function Vce(t){return t instanceof Va||t instanceof Mn||t instanceof Mi||t instanceof cs||t instanceof hs||t instanceof Ya||t instanceof pi||t instanceof zm}function Jb(t,e=[]){return t instanceof Mn||t instanceof Mi||t instanceof Ya?!0:t instanceof Ha?F_(t.definition,r=>Jb(r,e)):t instanceof wa&&Xn(e,t)?!1:t instanceof gl?(t instanceof wa&&e.push(t),Ss(t.definition,r=>Jb(r,e))):!1}function Yce(t){return t instanceof Ha}function yo(t){if(t instanceof wa)return"SUBRULE";if(t instanceof Mn)return"OPTION";if(t instanceof Ha)return"OR";if(t instanceof cs)return"AT_LEAST_ONE";if(t instanceof hs)return"AT_LEAST_ONE_SEP";if(t instanceof Ya)return"MANY_SEP";if(t instanceof Mi)return"MANY";if(t instanceof pi)return"CONSUME";throw Error("non exhaustive match")}function RN(t,e,r){return[new Mn({definition:[new pi({terminalType:t.separator})].concat(t.definition)})].concat(e,r)}function qm(t){if(t instanceof wa)return qm(t.referencedRule);if(t instanceof pi)return Kce(t);if(Vce(t))return Hce(t);if(Yce(t))return Xce(t);throw Error("non exhaustive match")}function Hce(t){let e=[],r=t.definition,i=0,n=r.length>i,a,s=!0;for(;n&&s;)a=r[i],s=Jb(a),e=e.concat(qm(a)),i=i+1,n=r.length>i;return H5(e)}function Xce(t){let e=dt(t.definition,r=>qm(r));return H5(Xi(e))}function Kce(t){return[t.terminalType]}function Qce(t){let e={};return Ie(t,r=>{let i=new ENe(r).startWalking();Pa(e,i)}),e}function Jce(t,e){return t.name+e+Zce}function fx(t){let e=t.toString();if($w.hasOwnProperty(e))return $w[e];{let r=CNe.pattern(e);return $w[e]=r,r}}function ehe(){$w={}}function rhe(t,e=!1){try{let r=fx(t);return ok(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===the)e&&fR(`${sk}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let i="";e&&(i=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),ak(`${sk}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+i)}}return[]}function ok(t,e,r){switch(t.type){case"Disjunction":for(let n=0;n<t.value.length;n++)ok(t.value[n],e,r);break;case"Alternative":let i=t.value;for(let n=0;n<i.length;n++){let a=i[n];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let s=a;switch(s.type){case"Character":Ib(s.value,e,r);break;case"Set":if(s.complement===!0)throw Error(the);Ie(s.value,h=>{if(typeof h=="number")Ib(h,e,r);else{let u=h;if(r===!0)for(let d=u.from;d<=u.to;d++)Ib(d,e,r);else{for(let d=u.from;d<=u.to&&d<Db;d++)Ib(d,e,r);if(u.to>=Db){let d=u.from>=Db?u.from:Db,p=u.to,g=nc(d),f=nc(p);for(let m=g;m<=f;m++)e[m]=m}}}});break;case"Group":ok(s.value,e,r);break;default:throw Error("Non Exhaustive Match")}let o=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&lk(s)===!1||s.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return Gr(e)}function Ib(t,e,r){let i=nc(t);e[i]=i,r===!0&&ihe(t,e)}function ihe(t,e){let r=String.fromCharCode(t),i=r.toUpperCase();if(i!==r){let n=nc(i.charCodeAt(0));e[n]=n}else{let n=r.toLowerCase();if(n!==r){let a=nc(n.charCodeAt(0));e[a]=a}}}function DN(t,e){return oo(t.value,r=>{if(typeof r=="number")return Xn(e,r);{let i=r;return oo(e,n=>i.from<=n&&n<=i.to)!==void 0}})}function lk(t){let e=t.quantifier;return e&&e.atLeast===0?!0:t.value?sr(t.value)?Ss(t.value,lk):lk(t.value):!1}function Vk(t,e){if(e instanceof RegExp){let r=fx(e),i=new SNe(t);return i.visit(r),i.found}else return oo(e,r=>Xn(t,r.charCodeAt(0)))!==void 0}function ahe(t,e){e=Wp(e,{useSticky:nhe,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:l((x,w)=>w(),"tracer")});let r=e.tracer;r("initCharCodeToOptimizedIndexMap",()=>{Che()});let i;r("Reject Lexer.NA",()=>{i=Iv(t,x=>x[Id]===xa.NA)});let n=!1,a;r("Transform Patterns",()=>{n=!1,a=dt(i,x=>{let w=x[Id];if(Ko(w)){let k=w.source;return k.length===1&&k!=="^"&&k!=="$"&&k!=="."&&!w.ignoreCase?k:k.length===2&&k[0]==="\\"&&!Xn(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],k[1])?k[1]:e.useSticky?ON(w):MN(w)}else{if(Da(w))return n=!0,{exec:w};if(typeof w=="object")return n=!0,w;if(typeof w=="string"){if(w.length===1)return w;{let k=w.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),T=new RegExp(k);return e.useSticky?ON(T):MN(T)}}else throw Error("non exhaustive match")}})});let s,o,h,u,d;r("misc mapping",()=>{s=dt(i,x=>x.tokenTypeIdx),o=dt(i,x=>{let w=x.GROUP;if(w!==xa.SKIPPED){if(Hn(w))return w;if(Ar(w))return!1;throw Error("non exhaustive match")}}),h=dt(i,x=>{let w=x.LONGER_ALT;if(w)return sr(w)?dt(w,k=>P_(i,k)):[P_(i,w)]}),u=dt(i,x=>x.PUSH_MODE),d=dt(i,x=>Gt(x,"POP_MODE"))});let p;r("Line Terminator Handling",()=>{let x=xR(e.lineTerminatorCharacters);p=dt(i,w=>!1),e.positionTracking!=="onlyOffset"&&(p=dt(i,w=>Gt(w,"LINE_BREAKS")?!!w.LINE_BREAKS:bR(w,x)===!1&&Vk(x,w.PATTERN)))});let g,f,m,y;r("Misc Mapping #2",()=>{g=dt(i,vR),f=dt(a,The),m=Ei(i,(x,w)=>{let k=w.GROUP;return Hn(k)&&k!==xa.SKIPPED&&(x[k]=[]),x},{}),y=dt(a,(x,w)=>({pattern:a[w],longerAlt:h[w],canLineTerminator:p[w],isCustom:g[w],short:f[w],group:o[w],push:u[w],pop:d[w],tokenTypeIdx:s[w],tokenType:i[w]}))});let b=!0,v=[];return e.safeMode||r("First Char Optimization",()=>{v=Ei(i,(x,w,k)=>{if(typeof w.PATTERN=="string"){let T=w.PATTERN.charCodeAt(0),S=nc(T);Bw(x,S,y[k])}else if(sr(w.START_CHARS_HINT)){let T;Ie(w.START_CHARS_HINT,S=>{let C=typeof S=="string"?S.charCodeAt(0):S,E=nc(C);T!==E&&(T=E,Bw(x,E,y[k]))})}else if(Ko(w.PATTERN))if(w.PATTERN.unicode)b=!1,e.ensureOptimizations&&ak(`${sk}	Unable to analyze < ${w.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let T=rhe(w.PATTERN,e.ensureOptimizations);_r(T)&&(b=!1),Ie(T,S=>{Bw(x,S,y[k])})}else e.ensureOptimizations&&ak(`${sk}	TokenType: <${w.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),b=!1;return x},[])}),{emptyGroups:m,patternIdxToConfig:y,charCodeToPatternIdxToConfig:v,hasCustom:n,canBeOptimized:b}}function she(t,e){let r=[],i=lhe(t);r=r.concat(i.errors);let n=che(i.valid),a=n.valid;return r=r.concat(n.errors),r=r.concat(ohe(a)),r=r.concat(fhe(a)),r=r.concat(mhe(a,e)),r=r.concat(yhe(a)),r}function ohe(t){let e=[],r=hi(t,i=>Ko(i[Id]));return e=e.concat(hhe(r)),e=e.concat(dhe(r)),e=e.concat(phe(r)),e=e.concat(ghe(r)),e=e.concat(uhe(r)),e}function lhe(t){let e=hi(t,n=>!Gt(n,Id)),r=dt(e,n=>({message:"Token Type: ->"+n.name+"<- missing static 'PATTERN' property",type:Oi.MISSING_PATTERN,tokenTypes:[n]})),i=Nv(t,e);return{errors:r,valid:i}}function che(t){let e=hi(t,n=>{let a=n[Id];return!Ko(a)&&!Da(a)&&!Gt(a,"exec")&&!Hn(a)}),r=dt(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Oi.INVALID_PATTERN,tokenTypes:[n]})),i=Nv(t,e);return{errors:r,valid:i}}function hhe(t){let i=class i extends Fk{constructor(){super(...arguments),this.found=!1}visitEndAnchor(a){this.found=!0}};l(i,"EndAnchorFinder");let e=i,r=hi(t,n=>{let a=n.PATTERN;try{let s=fx(a),o=new e;return o.visit(s),o.found}catch{return _Ne.test(a.source)}});return dt(r,n=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Oi.EOI_ANCHOR_FOUND,tokenTypes:[n]}))}function uhe(t){let e=hi(t,r=>r.PATTERN.test(""));return dt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:Oi.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}function dhe(t){let i=class i extends Fk{constructor(){super(...arguments),this.found=!1}visitStartAnchor(a){this.found=!0}};l(i,"StartAnchorFinder");let e=i,r=hi(t,n=>{let a=n.PATTERN;try{let s=fx(a),o=new e;return o.visit(s),o.found}catch{return ANe.test(a.source)}});return dt(r,n=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Oi.SOI_ANCHOR_FOUND,tokenTypes:[n]}))}function phe(t){let e=hi(t,r=>{let i=r[Id];return i instanceof RegExp&&(i.multiline||i.global)});return dt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Oi.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function ghe(t){let e=[],r=dt(t,n=>Ei(t,(a,s)=>(n.PATTERN.source===s.PATTERN.source&&!Xn(e,s)&&s.PATTERN!==xa.NA&&(e.push(s),a.push(s)),a),[]));r=Vp(r);let i=hi(r,n=>n.length>1);return dt(i,n=>{let a=dt(n,s=>s.name);return{message:`The same RegExp pattern ->${_s(n).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:Oi.DUPLICATE_PATTERNS_FOUND,tokenTypes:n}})}function fhe(t){let e=hi(t,r=>{if(!Gt(r,"GROUP"))return!1;let i=r.GROUP;return i!==xa.SKIPPED&&i!==xa.NA&&!Hn(i)});return dt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Oi.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function mhe(t,e){let r=hi(t,i=>i.PUSH_MODE!==void 0&&!Xn(e,i.PUSH_MODE));return dt(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Oi.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function yhe(t){let e=[],r=Ei(t,(i,n,a)=>{let s=n.PATTERN;return s===xa.NA||(Hn(s)?i.push({str:s,idx:a,tokenType:n}):Ko(s)&&bhe(s)&&i.push({str:s.source,idx:a,tokenType:n})),i},[]);return Ie(t,(i,n)=>{Ie(r,({str:a,idx:s,tokenType:o})=>{if(n<s&&vhe(a,i.PATTERN)){let h=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${i.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:h,type:Oi.UNREACHABLE_PATTERN,tokenTypes:[i,o]})}})}),e}function vhe(t,e){if(Ko(e)){let r=e.exec(t);return r!==null&&r.index===0}else{if(Da(e))return e(t,0,[],{});if(Gt(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function bhe(t){return oo([".","\\","[","]","|","^","$","(",")","?","*","+","{"],e=>t.source.indexOf(e)!==-1)===void 0}function MN(t){let e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function ON(t){let e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function xhe(t,e,r){let i=[];return Gt(t,Rb)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+Rb+`> property in its definition
`,type:Oi.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Gt(t,Cw)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+Cw+`> property in its definition
`,type:Oi.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Gt(t,Cw)&&Gt(t,Rb)&&!Gt(t.modes,t.defaultMode)&&i.push({message:`A MultiMode Lexer cannot be initialized with a ${Rb}: <${t.defaultMode}>which does not exist
`,type:Oi.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Gt(t,Cw)&&Ie(t.modes,(n,a)=>{Ie(n,(s,o)=>{if(Ar(s))i.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${o}>
`,type:Oi.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Gt(s,"LONGER_ALT")){let h=sr(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];Ie(h,u=>{!Ar(u)&&!Xn(n,u)&&i.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${s.name}> outside of mode <${a}>
`,type:Oi.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),i}function whe(t,e,r){let i=[],n=!1,a=Vp(Xi(Gr(t.modes))),s=Iv(a,h=>h[Id]===xa.NA),o=xR(r);return e&&Ie(s,h=>{let u=bR(h,o);if(u!==!1){let d={message:Ehe(h,u),type:u.issue,tokenType:h};i.push(d)}else Gt(h,"LINE_BREAKS")?h.LINE_BREAKS===!0&&(n=!0):Vk(o,h.PATTERN)&&(n=!0)}),e&&!n&&i.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Oi.NO_LINE_BREAKS_FLAGS}),i}function khe(t){let e={},r=Fi(t);return Ie(r,i=>{let n=t[i];if(sr(n))e[i]=[];else throw Error("non exhaustive match")}),e}function vR(t){let e=t.PATTERN;if(Ko(e))return!1;if(Da(e)||Gt(e,"exec"))return!0;if(Hn(e))return!1;throw Error("non exhaustive match")}function The(t){return Hn(t)&&t.length===1?t.charCodeAt(0):!1}function bR(t,e){if(Gt(t,"LINE_BREAKS"))return!1;if(Ko(t.PATTERN)){try{Vk(e,t.PATTERN)}catch(r){return{issue:Oi.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Hn(t.PATTERN))return!1;if(vR(t))return{issue:Oi.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Ehe(t,e){if(e.issue===Oi.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Oi.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function xR(t){return dt(t,e=>Hn(e)?e.charCodeAt(0):e)}function Bw(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function nc(t){return t<Db?t:Pw[t]}function Che(){if(_r(Pw)){Pw=new Array(65536);for(let t=0;t<65536;t++)Pw[t]=t>255?255+~~(t/255):t}}function Um(t,e){let r=t.tokenTypeIdx;return r===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[r]===!0}function ex(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}function jm(t){let e=_he(t);Ahe(e),Nhe(e),Lhe(e),Ie(e,r=>{r.isParent=r.categoryMatches.length>0})}function _he(t){let e=Ri(t),r=t,i=!0;for(;i;){r=Vp(Xi(dt(r,a=>a.CATEGORIES)));let n=Nv(r,e);e=e.concat(n),_r(n)?i=!1:r=n}return e}function Ahe(t){Ie(t,e=>{kR(e)||(She[Soe]=e,e.tokenTypeIdx=Soe++),$N(e)&&!sr(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),$N(e)||(e.CATEGORIES=[]),Ihe(e)||(e.categoryMatches=[]),Rhe(e)||(e.categoryMatchesMap={})})}function Lhe(t){Ie(t,e=>{e.categoryMatches=[],Ie(e.categoryMatchesMap,(r,i)=>{e.categoryMatches.push(She[i].tokenTypeIdx)})})}function Nhe(t){Ie(t,e=>{wR([],e)})}function wR(t,e){Ie(t,r=>{e.categoryMatchesMap[r.tokenTypeIdx]=!0}),Ie(e.CATEGORIES,r=>{let i=t.concat(e);Xn(i,r)||wR(i,r)})}function kR(t){return Gt(t,"tokenTypeIdx")}function $N(t){return Gt(t,"CATEGORIES")}function Ihe(t){return Gt(t,"categoryMatches")}function Rhe(t){return Gt(t,"categoryMatchesMap")}function Dhe(t){return Gt(t,"tokenTypeIdx")}function kd(t){return TR(t)?t.LABEL:t.name}function TR(t){return Hn(t.LABEL)&&t.LABEL!==""}function m1(t){return Mhe(t)}function Mhe(t){let e=t.pattern,r={};if(r.name=t.name,Ar(e)||(r.PATTERN=e),Gt(t,NNe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Gt(t,_oe)&&(r.CATEGORIES=t[_oe]),jm([r]),Gt(t,Aoe)&&(r.LABEL=t[Aoe]),Gt(t,Loe)&&(r.GROUP=t[Loe]),Gt(t,Ioe)&&(r.POP_MODE=t[Ioe]),Gt(t,Noe)&&(r.PUSH_MODE=t[Noe]),Gt(t,Roe)&&(r.LONGER_ALT=t[Roe]),Gt(t,Doe)&&(r.LINE_BREAKS=t[Doe]),Gt(t,Moe)&&(r.START_CHARS_HINT=t[Moe]),r}function mx(t,e,r,i,n,a,s,o){return{image:e,startOffset:r,endOffset:i,startLine:n,endLine:a,startColumn:s,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function ER(t,e){return Um(t,e)}function Ohe(t,e){let r=new RNe(t,e);return r.resolveRefs(),r.errors}function ck(t,e,r=[]){r=Ri(r);let i=[],n=0;function a(o){return o.concat(mn(t,n+1))}l(a,"remainingPathWith");function s(o){let h=ck(a(o),e,r);return i.concat(h)}for(l(s,"getAlternativesForProd");r.length<e&&n<t.length;){let o=t[n];if(o instanceof Va||o instanceof wa)return s(o.definition);if(o instanceof Mn)i=s(o.definition);else if(o instanceof cs){let h=o.definition.concat([new Mi({definition:o.definition})]);return s(h)}else if(o instanceof hs){let h=[new Va({definition:o.definition}),new Mi({definition:[new pi({terminalType:o.separator})].concat(o.definition)})];return s(h)}else if(o instanceof Ya){let h=o.definition.concat([new Mi({definition:[new pi({terminalType:o.separator})].concat(o.definition)})]);i=s(h)}else if(o instanceof Mi){let h=o.definition.concat([new Mi({definition:o.definition})]);i=s(h)}else{if(o instanceof Ha)return Ie(o.definition,h=>{_r(h.definition)===!1&&(i=s(h.definition))}),i;if(o instanceof pi)r.push(o.terminalType);else throw Error("non exhaustive match")}n++}return i.push({partialPath:r,suffixDef:mn(t,n)}),i}function CR(t,e,r,i){let n="EXIT_NONE_TERMINAL",a=[n],s="EXIT_ALTERNATIVE",o=!1,h=e.length,u=h-i-1,d=[],p=[];for(p.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!_r(p);){let g=p.pop();if(g===s){o&&Cs(p).idx<=u&&p.pop();continue}let f=g.def,m=g.idx,y=g.ruleStack,b=g.occurrenceStack;if(_r(f))continue;let v=f[0];if(v===n){let x={idx:m,def:mn(f),ruleStack:Yp(y),occurrenceStack:Yp(b)};p.push(x)}else if(v instanceof pi)if(m<h-1){let x=m+1,w=e[x];if(r(w,v.terminalType)){let k={idx:x,def:mn(f),ruleStack:y,occurrenceStack:b};p.push(k)}}else if(m===h-1)d.push({nextTokenType:v.terminalType,nextTokenOccurrence:v.idx,ruleStack:y,occurrenceStack:b}),o=!0;else throw Error("non exhaustive match");else if(v instanceof wa){let x=Ri(y);x.push(v.nonTerminalName);let w=Ri(b);w.push(v.idx);let k={idx:m,def:v.definition.concat(a,mn(f)),ruleStack:x,occurrenceStack:w};p.push(k)}else if(v instanceof Mn){let x={idx:m,def:mn(f),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let w={idx:m,def:v.definition.concat(mn(f)),ruleStack:y,occurrenceStack:b};p.push(w)}else if(v instanceof cs){let x=new Mi({definition:v.definition,idx:v.idx}),w=v.definition.concat([x],mn(f)),k={idx:m,def:w,ruleStack:y,occurrenceStack:b};p.push(k)}else if(v instanceof hs){let x=new pi({terminalType:v.separator}),w=new Mi({definition:[x].concat(v.definition),idx:v.idx}),k=v.definition.concat([w],mn(f)),T={idx:m,def:k,ruleStack:y,occurrenceStack:b};p.push(T)}else if(v instanceof Ya){let x={idx:m,def:mn(f),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let w=new pi({terminalType:v.separator}),k=new Mi({definition:[w].concat(v.definition),idx:v.idx}),T=v.definition.concat([k],mn(f)),S={idx:m,def:T,ruleStack:y,occurrenceStack:b};p.push(S)}else if(v instanceof Mi){let x={idx:m,def:mn(f),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let w=new Mi({definition:v.definition,idx:v.idx}),k=v.definition.concat([w],mn(f)),T={idx:m,def:k,ruleStack:y,occurrenceStack:b};p.push(T)}else if(v instanceof Ha)for(let x=v.definition.length-1;x>=0;x--){let w=v.definition[x],k={idx:m,def:w.definition.concat(mn(f)),ruleStack:y,occurrenceStack:b};p.push(k),p.push(s)}else if(v instanceof Va)p.push({idx:m,def:v.definition.concat(mn(f)),ruleStack:y,occurrenceStack:b});else if(v instanceof zm)p.push($he(v,m,y,b));else throw Error("non exhaustive match")}return d}function $he(t,e,r,i){let n=Ri(r);n.push(t.name);let a=Ri(i);return a.push(1),{idx:e,def:t.definition,ruleStack:n,occurrenceStack:a}}function Hk(t){if(t instanceof Mn||t==="Option")return Si.OPTION;if(t instanceof Mi||t==="Repetition")return Si.REPETITION;if(t instanceof cs||t==="RepetitionMandatory")return Si.REPETITION_MANDATORY;if(t instanceof hs||t==="RepetitionMandatoryWithSeparator")return Si.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Ya||t==="RepetitionWithSeparator")return Si.REPETITION_WITH_SEPARATOR;if(t instanceof Ha||t==="Alternation")return Si.ALTERNATION;throw Error("non exhaustive match")}function PN(t){let{occurrence:e,rule:r,prodType:i,maxLookahead:n}=t,a=Hk(i);return a===Si.ALTERNATION?yx(e,r,n):vx(e,r,a,n)}function Bhe(t,e,r,i,n,a){let s=yx(t,e,r),o=_R(s)?ex:Um;return a(s,i,o,n)}function Phe(t,e,r,i,n,a){let s=vx(t,e,n,r),o=_R(s)?ex:Um;return a(s[0],o,i)}function Fhe(t,e,r,i){let n=t.length,a=Ss(t,s=>Ss(s,o=>o.length===1));if(e)return function(s){let o=dt(s,h=>h.GATE);for(let h=0;h<n;h++){let u=t[h],d=u.length,p=o[h];if(!(p!==void 0&&p.call(this)===!1))e:for(let g=0;g<d;g++){let f=u[g],m=f.length;for(let y=0;y<m;y++){let b=this.LA(y+1);if(r(b,f[y])===!1)continue e}return h}}};if(a&&!i){let s=dt(t,h=>Xi(h)),o=Ei(s,(h,u,d)=>(Ie(u,p=>{Gt(h,p.tokenTypeIdx)||(h[p.tokenTypeIdx]=d),Ie(p.categoryMatches,g=>{Gt(h,g)||(h[g]=d)})}),h),{});return function(){let h=this.LA(1);return o[h.tokenTypeIdx]}}else return function(){for(let s=0;s<n;s++){let o=t[s],h=o.length;e:for(let u=0;u<h;u++){let d=o[u],p=d.length;for(let g=0;g<p;g++){let f=this.LA(g+1);if(r(f,d[g])===!1)continue e}return s}}}}function zhe(t,e,r){let i=Ss(t,a=>a.length===1),n=t.length;if(i&&!r){let a=Xi(t);if(a.length===1&&_r(a[0].categoryMatches)){let s=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}else{let s=Ei(a,(o,h,u)=>(o[h.tokenTypeIdx]=!0,Ie(h.categoryMatches,d=>{o[d]=!0}),o),[]);return function(){let o=this.LA(1);return s[o.tokenTypeIdx]===!0}}}else return function(){e:for(let a=0;a<n;a++){let s=t[a],o=s.length;for(let h=0;h<o;h++){let u=this.LA(h+1);if(e(u,s[h])===!1)continue e}return!0}return!1}}function FN(t){let e=new Array(t);for(let r=0;r<t;r++)e[r]=[];return e}function Fw(t){let e=[""];for(let r=0;r<t.length;r++){let i=t[r],n=[];for(let a=0;a<e.length;a++){let s=e[a];n.push(s+"_"+i.tokenTypeIdx);for(let o=0;o<i.categoryMatches.length;o++){let h="_"+i.categoryMatches[o];n.push(s+h)}}e=n}return e}function qhe(t,e,r){for(let i=0;i<t.length;i++){if(i===r)continue;let n=t[i];for(let a=0;a<e.length;a++){let s=e[a];if(n[s]===!0)return!1}}return!0}function SR(t,e){let r=dt(t,s=>ck([s],1)),i=FN(r.length),n=dt(r,s=>{let o={};return Ie(s,h=>{let u=Fw(h.partialPath);Ie(u,d=>{o[d]=!0})}),o}),a=r;for(let s=1;s<=e;s++){let o=a;a=FN(o.length);for(let h=0;h<o.length;h++){let u=o[h];for(let d=0;d<u.length;d++){let p=u[d].partialPath,g=u[d].suffixDef,f=Fw(p);if(qhe(n,f,h)||_r(g)||p.length===e){let m=i[h];if(hk(m,p)===!1){m.push(p);for(let y=0;y<f.length;y++){let b=f[y];n[h][b]=!0}}}else{let m=ck(g,s+1,p);a[h]=a[h].concat(m),Ie(m,y=>{let b=Fw(y.partialPath);Ie(b,v=>{n[h][v]=!0})})}}}}return i}function yx(t,e,r,i){let n=new Ghe(t,Si.ALTERNATION,i);return e.accept(n),SR(n.result,r)}function vx(t,e,r,i){let n=new Ghe(t,r);e.accept(n);let a=n.result,s=new BNe(e,t,r).startWalking(),o=new Va({definition:a}),h=new Va({definition:s});return SR([o,h],i)}function hk(t,e){e:for(let r=0;r<t.length;r++){let i=t[r];if(i.length===e.length){for(let n=0;n<i.length;n++){let a=e[n],s=i[n];if(!(a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0))continue e}return!0}}return!1}function Uhe(t,e){return t.length<e.length&&Ss(t,(r,i)=>{let n=e[i];return r===n||n.categoryMatchesMap[r.tokenTypeIdx]})}function _R(t){return Ss(t,e=>Ss(e,r=>Ss(r,i=>_r(i.categoryMatches))))}function jhe(t){let e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return dt(e,r=>Object.assign({type:ka.CUSTOM_LOOKAHEAD_VALIDATION},r))}function Whe(t,e,r,i){let n=Fa(t,h=>Vhe(h,r)),a=rue(t,e,r),s=Fa(t,h=>Qhe(h,r)),o=Fa(t,h=>Hhe(h,t,i,r));return n.concat(a,s,o)}function Vhe(t,e){let r=new PNe;t.accept(r);let i=r.allProductions,n=XQ(i,Yhe),a=As(n,s=>s.length>1);return dt(Gr(a),s=>{let o=_s(s),h=e.buildDuplicateFoundError(t,s),u=yo(o),d={message:h,type:ka.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:u,occurrence:o.idx},p=AR(o);return p&&(d.parameter=p),d})}function Yhe(t){return`${yo(t)}_#_${t.idx}_#_${AR(t)}`}function AR(t){return t instanceof pi?t.terminalType.name:t instanceof wa?t.nonTerminalName:""}function Hhe(t,e,r,i){let n=[];if(Ei(e,(a,s)=>s.name===t.name?a+1:a,0)>1){let a=i.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});n.push({message:a,type:ka.DUPLICATE_RULE_NAME,ruleName:t.name})}return n}function Xhe(t,e,r){let i=[],n;return Xn(e,t)||(n=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,i.push({message:n,type:ka.INVALID_RULE_OVERRIDE,ruleName:t})),i}function LR(t,e,r,i=[]){let n=[],a=Vb(e.definition);if(_r(a))return[];{let s=t.name;Xn(a,t)&&n.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:i}),type:ka.LEFT_RECURSION,ruleName:s});let o=Nv(a,i.concat([t])),h=Fa(o,u=>{let d=Ri(i);return d.push(u),LR(t,u,r,d)});return n.concat(h)}}function Vb(t){let e=[];if(_r(t))return e;let r=_s(t);if(r instanceof wa)e.push(r.referencedRule);else if(r instanceof Va||r instanceof Mn||r instanceof cs||r instanceof hs||r instanceof Ya||r instanceof Mi)e=e.concat(Vb(r.definition));else if(r instanceof Ha)e=Xi(dt(r.definition,a=>Vb(a.definition)));else if(!(r instanceof pi))throw Error("non exhaustive match");let i=Jb(r),n=t.length>1;if(i&&n){let a=mn(t);return e.concat(Vb(a))}else return e}function Khe(t,e){let r=new NR;t.accept(r);let i=r.alternations;return Fa(i,n=>{let a=Yp(n.definition);return Fa(a,(s,o)=>{let h=CR([s],[],Um,1);return _r(h)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:n,emptyChoiceIdx:o}),type:ka.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:n.idx,alternative:o+1}]:[]})})}function Zhe(t,e,r){let i=new NR;t.accept(i);let n=i.alternations;return n=Iv(n,a=>a.ignoreAmbiguities===!0),Fa(n,a=>{let s=a.idx,o=a.maxLookahead||e,h=yx(s,t,o,a),u=eue(h,a,t,r),d=tue(h,a,t,r);return u.concat(d)})}function Qhe(t,e){let r=new NR;t.accept(r);let i=r.alternations;return Fa(i,n=>n.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:n}),type:ka.TOO_MANY_ALTS,ruleName:t.name,occurrence:n.idx}]:[])}function Jhe(t,e,r){let i=[];return Ie(t,n=>{let a=new FNe;n.accept(a);let s=a.allProductions;Ie(s,o=>{let h=Hk(o),u=o.maxLookahead||e,d=o.idx,p=vx(d,n,h,u)[0];if(_r(Xi(p))){let g=r.buildEmptyRepetitionError({topLevelRule:n,repetition:o});i.push({message:g,type:ka.NO_NON_EMPTY_LOOKAHEAD,ruleName:n.name})}})}),i}function eue(t,e,r,i){let n=[],a=Ei(t,(s,o,h)=>(e.definition[h].ignoreAmbiguities===!0||Ie(o,u=>{let d=[h];Ie(t,(p,g)=>{h!==g&&hk(p,u)&&e.definition[g].ignoreAmbiguities!==!0&&d.push(g)}),d.length>1&&!hk(n,u)&&(n.push(u),s.push({alts:d,path:u}))}),s),[]);return dt(a,s=>{let o=dt(s.alts,h=>h+1);return{message:i.buildAlternationAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:o,prefixPath:s.path}),type:ka.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:e.idx,alternatives:s.alts}})}function tue(t,e,r,i){let n=Ei(t,(a,s,o)=>{let h=dt(s,u=>({idx:o,path:u}));return a.concat(h)},[]);return Vp(Fa(n,a=>{if(e.definition[a.idx].ignoreAmbiguities===!0)return[];let s=a.idx,o=a.path,h=hi(n,u=>e.definition[u.idx].ignoreAmbiguities!==!0&&u.idx<s&&Uhe(u.path,o));return dt(h,u=>{let d=[u.idx+1,s+1],p=e.idx===0?"":e.idx;return{message:i.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:d,prefixPath:u.path}),type:ka.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:p,alternatives:d}})}))}function rue(t,e,r){let i=[],n=dt(e,a=>a.name);return Ie(t,a=>{let s=a.name;if(Xn(n,s)){let o=r.buildNamespaceConflictError(a);i.push({message:o,type:ka.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),i}function iue(t){let e=Wp(t,{errMsgProvider:INe}),r={};return Ie(t.rules,i=>{r[i.name]=i}),Ohe(r,e.errMsgProvider)}function nue(t){return t=Wp(t,{errMsgProvider:bd}),Whe(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}function tx(t){return Xn(cue,t.name)}function due(t,e,r,i,n,a,s){let o=this.getKeyForAutomaticLookahead(i,n),h=this.firstAfterRepMap[o];if(h===void 0){let g=this.getCurrRuleFullName(),f=this.getGAstProductions()[g];h=new a(f,n).startWalking(),this.firstAfterRepMap[o]=h}let u=h.token,d=h.occurrence,p=h.isEndOfRule;this.RULE_STACK.length===1&&p&&u===void 0&&(u=Bh,d=1),!(u===void 0||d===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,d,s)&&this.tryInRepetitionRecovery(t,e,r,u)}function zw(t,e,r){return r|e|t}function pue(t){Sw.reset(),t.accept(Sw);let e=Sw.dslMethods;return Sw.reset(),e}function zN(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function GN(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function gue(t,e,r){t.children[r]===void 0?t.children[r]=[e]:t.children[r].push(e)}function fue(t,e,r){t.children[e]===void 0?t.children[e]=[r]:t.children[e].push(r)}function RR(t,e){Object.defineProperty(t,YNe,{enumerable:!1,configurable:!0,writable:!1,value:e})}function mue(t,e){let r=Fi(t),i=r.length;for(let n=0;n<i;n++){let a=r[n],s=t[a],o=s.length;for(let h=0;h<o;h++){let u=s[h];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}}function yue(t,e){let r=l(function(){},"derivedConstructor");RR(r,t+"BaseSemantics");let i={visit:l(function(n,a){if(sr(n)&&(n=n[0]),!Ar(n))return this[n.name](n.children,a)},"visit"),validateVisitor:l(function(){let n=bue(this,e);if(!_r(n)){let a=dt(n,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}},"validateVisitor")};return r.prototype=i,r.prototype.constructor=r,r._RULE_NAMES=e,r}function vue(t,e,r){let i=l(function(){},"derivedConstructor");RR(i,t+"BaseSemanticsWithDefaults");let n=Object.create(r.prototype);return Ie(e,a=>{n[a]=mue}),i.prototype=n,i.prototype.constructor=i,i}function bue(t,e){return xue(t,e)}function xue(t,e){let r=hi(e,n=>Da(t[n])===!1),i=dt(r,n=>({msg:`Missing visitor method: <${n}> on ${t.constructor.name} CST Visitor.`,type:qN.MISSING_METHOD,methodName:n}));return Vp(i)}function Lg(t,e,r,i=!1){rx(r);let n=Cs(this.recordingProdStack),a=Da(e)?e:e.DEF,s=new t({definition:[],idx:r});return i&&(s.separator=e.SEP),Gt(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),n.definition.push(s),this.recordingProdStack.pop(),Kk}function Tue(t,e){rx(e);let r=Cs(this.recordingProdStack),i=sr(t)===!1,n=i===!1?t:t.DEF,a=new Ha({definition:[],idx:e,ignoreAmbiguities:i&&t.IGNORE_AMBIGUITIES===!0});Gt(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD);let s=F_(n,o=>Da(o.GATE));return a.hasPredicates=s,r.definition.push(a),Ie(n,o=>{let h=new Va({definition:[]});a.definition.push(h),Gt(o,"IGNORE_AMBIGUITIES")?h.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:Gt(o,"GATE")&&(h.ignoreAmbiguities=!0),this.recordingProdStack.push(h),o.ALT.call(this),this.recordingProdStack.pop()}),Kk}function UN(t){return t===0?"":`${t}`}function rx(t){if(t<0||t>Poe){let e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${Poe+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}function Eue(t,e){e.forEach(r=>{let i=r.prototype;Object.getOwnPropertyNames(i).forEach(n=>{if(n==="constructor")return;let a=Object.getOwnPropertyDescriptor(i,n);a&&(a.get||a.set)?Object.defineProperty(t.prototype,n,a):t.prototype[n]=r.prototype[n]})})}function jN(t=void 0){return function(){return t}}function Rd(t,e,r){return`${t.name}_${e}_${r}`}function Lue(t){let e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};Nue(e,t);let r=t.length;for(let i=0;i<r;i++){let n=t[i],a=Uh(e,n,n);a!==void 0&&Gue(e,n,a)}return e}function Nue(t,e){let r=e.length;for(let i=0;i<r;i++){let n=e[i],a=cn(t,n,void 0,{type:nIe}),s=cn(t,n,void 0,{type:bx});a.stop=s,t.ruleToStartState.set(n,a),t.ruleToStopState.set(n,s)}}function BR(t,e,r){return r instanceof pi?Zk(t,e,r.terminalType,r):r instanceof wa?zue(t,e,r):r instanceof Ha?Oue(t,e,r):r instanceof Mn?$ue(t,e,r):r instanceof Mi?Iue(t,e,r):r instanceof Ya?Rue(t,e,r):r instanceof cs?Due(t,e,r):r instanceof hs?Mue(t,e,r):Uh(t,e,r)}function Iue(t,e,r){let i=cn(t,e,r,{type:Sue});lc(t,i);let n=$d(t,e,i,r,Uh(t,e,r));return FR(t,e,r,n)}function Rue(t,e,r){let i=cn(t,e,r,{type:Sue});lc(t,i);let n=$d(t,e,i,r,Uh(t,e,r)),a=Zk(t,e,r.separator,r);return FR(t,e,r,n,a)}function Due(t,e,r){let i=cn(t,e,r,{type:Cue});lc(t,i);let n=$d(t,e,i,r,Uh(t,e,r));return PR(t,e,r,n)}function Mue(t,e,r){let i=cn(t,e,r,{type:Cue});lc(t,i);let n=$d(t,e,i,r,Uh(t,e,r)),a=Zk(t,e,r.separator,r);return PR(t,e,r,n,a)}function Oue(t,e,r){let i=cn(t,e,r,{type:Ph});lc(t,i);let n=dt(r.definition,a=>BR(t,e,a));return $d(t,e,i,r,...n)}function $ue(t,e,r){let i=cn(t,e,r,{type:Ph});lc(t,i);let n=$d(t,e,i,r,Uh(t,e,r));return Bue(t,e,r,n)}function Uh(t,e,r){let i=hi(dt(r.definition,n=>BR(t,e,n)),n=>n!==void 0);return i.length===1?i[0]:i.length===0?void 0:Fue(t,i)}function PR(t,e,r,i,n){let a=i.left,s=i.right,o=cn(t,e,r,{type:lIe});lc(t,o);let h=cn(t,e,r,{type:_ue});return a.loopback=o,h.loopback=o,t.decisionMap[Rd(e,n?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,qi(s,o),n===void 0?(qi(o,a),qi(o,h)):(qi(o,h),qi(o,n.left),qi(n.right,a)),{left:a,right:h}}function FR(t,e,r,i,n){let a=i.left,s=i.right,o=cn(t,e,r,{type:oIe});lc(t,o);let h=cn(t,e,r,{type:_ue}),u=cn(t,e,r,{type:sIe});return o.loopback=u,h.loopback=u,qi(o,a),qi(o,h),qi(s,u),n!==void 0?(qi(u,h),qi(u,n.left),qi(n.right,a)):qi(u,o),t.decisionMap[Rd(e,n?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:h}}function Bue(t,e,r,i){let n=i.left,a=i.right;return qi(n,a),t.decisionMap[Rd(e,"Option",r.idx)]=n,i}function lc(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}function $d(t,e,r,i,...n){let a=cn(t,e,i,{type:aIe,start:r});r.end=a;for(let o of n)o!==void 0?(qi(r,o.left),qi(o.right,a)):qi(r,a);let s={left:r,right:a};return t.decisionMap[Rd(e,Pue(i),i.idx)]=r,s}function Pue(t){if(t instanceof Ha)return"Alternation";if(t instanceof Mn)return"Option";if(t instanceof Mi)return"Repetition";if(t instanceof Ya)return"RepetitionWithSeparator";if(t instanceof cs)return"RepetitionMandatory";if(t instanceof hs)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function Fue(t,e){let r=e.length;for(let a=0;a<r-1;a++){let s=e[a],o;s.left.transitions.length===1&&(o=s.left.transitions[0]);let h=o instanceof $R,u=o,d=e[a+1].left;s.left.type===Ph&&s.right.type===Ph&&o!==void 0&&(h&&u.followState===s.right||o.target===s.right)?(h?u.followState=d:o.target=d,que(t,s.right)):qi(s.right,d)}let i=e[0],n=e[r-1];return{left:i.left,right:n.right}}function Zk(t,e,r,i){let n=cn(t,e,i,{type:Ph}),a=cn(t,e,i,{type:Ph});return Qk(n,new OR(a,r)),{left:n,right:a}}function zue(t,e,r){let i=r.referencedRule,n=t.ruleToStartState.get(i),a=cn(t,e,r,{type:Ph}),s=cn(t,e,r,{type:Ph}),o=new $R(n,i,s);return Qk(a,o),{left:a,right:s}}function Gue(t,e,r){let i=t.ruleToStartState.get(e);qi(i,r.left);let n=t.ruleToStopState.get(e);return qi(r.right,n),{left:i,right:n}}function qi(t,e){let r=new Aue(e);Qk(t,r)}function cn(t,e,r,i){let n=Object.assign({atn:t,production:r,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},i);return t.states.push(n),n}function Qk(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}function que(t,e){t.states.splice(t.states.indexOf(e),1)}function zR(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(r=>r.stateNumber.toString()).join("_")}`}function Uue(t,e){let r={};return i=>{let n=i.toString(),a=r[n];return a!==void 0||(a={atnStartState:t,decision:e,states:{}},r[n]=a),a}}function VN(t,e=!0){let r=new Set;for(let i of t){let n=new Set;for(let a of i){if(a===void 0){if(e)break;return!1}let s=[a.tokenTypeIdx].concat(a.categoryMatches);for(let o of s)if(r.has(o)){if(!n.has(o))return!1}else r.add(o),n.add(o)}}return!0}function Wue(t){let e=t.decisionStates.length,r=Array(e);for(let i=0;i<e;i++)r[i]=Uue(t.decisionStates[i],i);return r}function Gw(t,e,r,i){let n=t[e](r),a=n.start;if(a===void 0){let s=rde(n.atnStartState);a=qR(n,GR(s)),n.start=a}return Vue.apply(this,[n,a,r,i])}function Vue(t,e,r,i){let n=e,a=1,s=[],o=this.LA(a++);for(;;){let h=Que(n,o);if(h===void 0&&(h=Yue.apply(this,[t,n,o,a,r,i])),h===pk)return Zue(s,n,o);if(h.isAcceptState===!0)return h.prediction;n=h,s.push(o),o=this.LA(a++)}}function Yue(t,e,r,i,n,a){let s=Jue(e.configs,r,n);if(s.size===0)return YN(t,e,r,pk),pk;let o=GR(s),h=tde(s,n);if(h!==void 0)o.isAcceptState=!0,o.prediction=h,o.configs.uniqueAlt=h;else if(sde(s)){let u=dh(s.alts);o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u,Hue.apply(this,[t,i,s.alts,a])}return o=YN(t,e,r,o),o}function Hue(t,e,r,i){let n=[];for(let u=1;u<=e;u++)n.push(this.LA(u).tokenType);let a=t.atnStartState,s=a.rule,o=a.production,h=Xue({topLevelRule:s,ambiguityIndices:r,production:o,prefixPath:n});i(h)}function Xue(t){let e=dt(t.prefixPath,n=>kd(n)).join(", "),r=t.production.idx===0?"":t.production.idx,i=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(", ")}> in <${Kue(t.production)}${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i}function Kue(t){if(t instanceof wa)return"SUBRULE";if(t instanceof Mn)return"OPTION";if(t instanceof Ha)return"OR";if(t instanceof cs)return"AT_LEAST_ONE";if(t instanceof hs)return"AT_LEAST_ONE_SEP";if(t instanceof Ya)return"MANY_SEP";if(t instanceof Mi)return"MANY";if(t instanceof pi)return"CONSUME";throw Error("non exhaustive match")}function Zue(t,e,r){let i=Fa(e.configs.elements,a=>a.state.transitions),n=LJ(i.filter(a=>a instanceof OR).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:n,tokenPath:t}}function Que(t,e){return t.edges[e.tokenTypeIdx]}function Jue(t,e,r){let i=new WN,n=[];for(let s of t.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===bx){n.push(s);continue}let o=s.state.transitions.length;for(let h=0;h<o;h++){let u=s.state.transitions[h],d=ede(u,e);d!==void 0&&i.add({state:d,alt:s.alt,stack:s.stack})}}let a;if(n.length===0&&i.size===1&&(a=i),a===void 0){a=new WN;for(let s of i.elements)ix(s,a)}if(n.length>0&&!nde(a))for(let s of n)a.add(s);return a}function ede(t,e){if(t instanceof OR&&ER(e,t.tokenType))return t.target}function tde(t,e){let r;for(let i of t.elements)if(e.is(i.alt)===!0){if(r===void 0)r=i.alt;else if(r!==i.alt)return}return r}function GR(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}function YN(t,e,r,i){return i=qR(t,i),e.edges[r.tokenTypeIdx]=i,i}function qR(t,e){if(e===pk)return e;let r=e.configs.key,i=t.states[r];return i!==void 0?i:(e.configs.finalize(),t.states[r]=e,e)}function rde(t){let e=new WN,r=t.transitions.length;for(let i=0;i<r;i++){let n={state:t.transitions[i].target,alt:i,stack:[]};ix(n,e)}return e}function ix(t,e){let r=t.state;if(r.type===bx){if(t.stack.length>0){let n=[...t.stack],a={state:n.pop(),alt:t.alt,stack:n};ix(a,e)}else e.add(t);return}r.epsilonOnlyTransitions||e.add(t);let i=r.transitions.length;for(let n=0;n<i;n++){let a=r.transitions[n],s=ide(t,a);s!==void 0&&ix(s,e)}}function ide(t,e){if(e instanceof Aue)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof $R){let r=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:r}}}function nde(t){for(let e of t.elements)if(e.state.type===bx)return!0;return!1}function ade(t){for(let e of t.elements)if(e.state.type!==bx)return!1;return!0}function sde(t){if(ade(t))return!0;let e=ode(t.elements);return lde(e)&&!cde(e)}function ode(t){let e=new Map;for(let r of t){let i=zR(r,!1),n=e.get(i);n===void 0&&(n={},e.set(i,n)),n[r.alt]=!0}return e}function lde(t){for(let e of Array.from(t.values()))if(Object.keys(e).length>1)return!0;return!1}function cde(t){for(let e of Array.from(t.values()))if(Object.keys(e).length===1)return!0;return!1}function qw(t){return t.$type===xk}function eT(t,e,r){return fde({parser:e,tokens:r,ruleNames:new Map},t),e}function fde(t,e){let r=zk(e,!1),i=Ui(e.rules).filter(Wa).filter(n=>r.has(n));for(let n of i){let a=Object.assign(Object.assign({},t),{consume:1,optional:1,subrule:1,many:1,or:1});t.parser.rule(n,Fh(a,n.definition))}}function Fh(t,e,r=!1){let i;if(rc(e))i=kde(t,e);else if($h(e))i=mde(t,e);else if(tc(e))i=Fh(t,e.terminal);else if(cx(e))i=YR(t,e);else if(ic(e))i=yde(t,e);else if(Ok(e))i=bde(t,e);else if(Bk(e))i=xde(t,e);else if(Md(e))i=wde(t,e);else if(PI(e)){let n=t.consume++;i=l(()=>t.parser.consume(n,Bh,e),"method")}else throw new Nk(e.$cstNode,`Unexpected element type: ${e.$type}`);return HR(t,r?void 0:ax(e),i,e.cardinality)}function mde(t,e){let r=px(e);return()=>t.parser.action(r,e)}function yde(t,e){let r=e.rule.ref;if(Wa(r)){let i=t.subrule++,n=r.fragment,a=e.arguments.length>0?vde(r,e.arguments):()=>({});return s=>t.parser.subrule(i,XR(t,r),n,e,a(s))}else if(pl(r)){let i=t.consume++,n=wk(t,r.name);return()=>t.parser.consume(i,n,e)}else if(r)Gh(r);else throw new Nk(e.$cstNode,`Undefined rule: ${e.rule.$refText}`)}function vde(t,e){let r=e.map(i=>cl(i.value));return i=>{let n={};for(let a=0;a<r.length;a++){let s=t.parameters[a],o=r[a];n[s.name]=o(i)}return n}}function cl(t){if(II(t)){let e=cl(t.left),r=cl(t.right);return i=>e(i)||r(i)}else if(NI(t)){let e=cl(t.left),r=cl(t.right);return i=>e(i)&&r(i)}else if(RI(t)){let e=cl(t.value);return r=>!e(r)}else if(DI(t)){let e=t.parameter.ref.name;return r=>r!==void 0&&r[e]===!0}else if(LI(t)){let e=!!t.true;return()=>e}Gh(t)}function bde(t,e){if(e.elements.length===1)return Fh(t,e.elements[0]);{let r=[];for(let n of e.elements){let a={ALT:Fh(t,n,!0)},s=ax(n);s&&(a.GATE=cl(s)),r.push(a)}let i=t.or++;return n=>t.parser.alternatives(i,r.map(a=>{let s={ALT:l(()=>a.ALT(n),"ALT")},o=a.GATE;return o&&(s.GATE=()=>o(n)),s}))}}function xde(t,e){if(e.elements.length===1)return Fh(t,e.elements[0]);let r=[];for(let o of e.elements){let h={ALT:Fh(t,o,!0)},u=ax(o);u&&(h.GATE=cl(u)),r.push(h)}let i=t.or++,n=l((o,h)=>{let u=h.getRuleStack().join("-");return`uGroup_${o}_${u}`},"idFunc"),a=l(o=>t.parser.alternatives(i,r.map((h,u)=>{let d={ALT:l(()=>!0,"ALT")},p=t.parser;d.ALT=()=>{if(h.ALT(o),!p.isRecording()){let f=n(i,p);p.unorderedGroups.get(f)||p.unorderedGroups.set(f,[]);let m=p.unorderedGroups.get(f);typeof(m==null?void 0:m[u])>"u"&&(m[u]=!0)}};let g=h.GATE;return g?d.GATE=()=>g(o):d.GATE=()=>{let f=p.unorderedGroups.get(n(i,p));return!(f!=null&&f[u])},d})),"alternatives"),s=HR(t,ax(e),a,"*");return o=>{s(o),t.parser.isRecording()||t.parser.unorderedGroups.delete(n(i,t.parser))}}function wde(t,e){let r=e.elements.map(i=>Fh(t,i));return i=>r.forEach(n=>n(i))}function ax(t){if(Md(t))return t.guardCondition}function YR(t,e,r=e.terminal){if(r)if(ic(r)&&Wa(r.rule.ref)){let i=r.rule.ref,n=t.subrule++;return a=>t.parser.subrule(n,XR(t,i),!1,e,a)}else if(ic(r)&&pl(r.rule.ref)){let i=t.consume++,n=wk(t,r.rule.ref.name);return()=>t.parser.consume(i,n,e)}else if(rc(r)){let i=t.consume++,n=wk(t,r.value);return()=>t.parser.consume(i,n,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);let i=jk(e.type.ref),n=i==null?void 0:i.terminal;if(!n)throw new Error("Could not find name assignment for type: "+px(e.type.ref));return YR(t,e,n)}}function kde(t,e){let r=t.consume++,i=t.tokens[e.value];if(!i)throw new Error("Could not find token for keyword: "+e.value);return()=>t.parser.consume(r,i,e)}function HR(t,e,r,i){let n=e&&cl(e);if(!i)if(n){let a=t.or++;return s=>t.parser.alternatives(a,[{ALT:l(()=>r(s),"ALT"),GATE:l(()=>n(s),"GATE")},{ALT:jN(),GATE:l(()=>!n(s),"GATE")}])}else return r;if(i==="*"){let a=t.many++;return s=>t.parser.many(a,{DEF:l(()=>r(s),"DEF"),GATE:n?()=>n(s):void 0})}else if(i==="+"){let a=t.many++;if(n){let s=t.or++;return o=>t.parser.alternatives(s,[{ALT:l(()=>t.parser.atLeastOne(a,{DEF:l(()=>r(o),"DEF")}),"ALT"),GATE:l(()=>n(o),"GATE")},{ALT:jN(),GATE:l(()=>!n(o),"GATE")}])}else return s=>t.parser.atLeastOne(a,{DEF:l(()=>r(s),"DEF")})}else if(i==="?"){let a=t.optional++;return s=>t.parser.optional(a,{DEF:l(()=>r(s),"DEF"),GATE:n?()=>n(s):void 0})}else Gh(i)}function XR(t,e){let r=Tde(t,e),i=t.parser.getRule(r);if(!i)throw new Error(`Rule "${r}" not found."`);return i}function Tde(t,e){if(Wa(e))return e.name;if(t.ruleNames.has(e))return t.ruleNames.get(e);{let r=e,i=r.$container,n=e.$type;for(;!Wa(i);)(Md(i)||Ok(i)||Bk(i))&&(n=i.elements.indexOf(r).toString()+":"+n),r=i,i=i.$container;return n=i.name+":"+n,t.ruleNames.set(e,n),n}}function wk(t,e){let r=t.tokens[e];if(!r)throw new Error(`Token "${e}" not found."`);return r}function KR(t){let e=t.Grammar,r=t.parser.Lexer,i=new gde(t);return eT(e,i,r.definition),i.finalize(),i}function ZR(t){let e=QR(t);return e.finalize(),e}function QR(t){let e=t.Grammar,r=t.parser.Lexer,i=new dde(t);return eT(e,i,r.definition)}function rT(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}function iT(){return Uw=performance.now(),new si.CancellationTokenSource}function eD(t){Ede=t}function Bd(t){return t===zh}async function ea(t){if(t===si.CancellationToken.None)return;let e=performance.now();if(e-Uw>=Ede&&(Uw=e,await rT(),Uw=performance.now()),t.isCancellationRequested)throw zh}function Tk(t,e){if(t.length<=1)return t;let r=t.length/2|0,i=t.slice(0,r),n=t.slice(r);Tk(i,e),Tk(n,e);let a=0,s=0,o=0;for(;a<i.length&&s<n.length;)e(i[a],n[s])<=0?t[o++]=i[a++]:t[o++]=n[s++];for(;a<i.length;)t[o++]=i[a++];for(;s<n.length;)t[o++]=n[s++];return t}function oI(t,e,r=0){let i=e?[r]:[];for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);tD(a)&&(a===13&&n+1<t.length&&t.charCodeAt(n+1)===10&&n++,i.push(r+n+1))}return i}function tD(t){return t===13||t===10}function rD(t){let e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}function Cde(t){let e=rD(t.range);return e!==t.range?{newText:t.newText,range:e}:t}function iD(t){return typeof t.name=="string"}function sD(t){return typeof t.$comment=="string"}function cI(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}function xd(t){return{code:t}}function oD(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=Gk(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=sR(t.node.$cstNode,t.keyword,t.index)),e??(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Yb(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}function lD(t){switch(t){case"error":return xd(Fs.LexingError);case"warning":return xd(Fs.LexingWarning);case"info":return xd(Fs.LexingInfo);case"hint":return xd(Fs.LexingHint);default:throw new Error("Invalid diagnostic severity: "+t)}}function oT(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}function lT(t){return t&&"modes"in t&&"defaultMode"in t}function Ck(t){return!oT(t)&&!lT(t)}function uD(t,e,r){let i,n;typeof t=="string"?(n=e,i=r):(n=t.range.start,i=e),n||(n=jr.create(0,0));let a=pD(t),s=cT(i),o=Hde({lines:a,position:n,options:s});return Zde({index:0,tokens:o,position:n})}function dD(t,e){let r=cT(e),i=pD(t);if(i.length===0)return!1;let n=i[0],a=i[i.length-1],s=r.start,o=r.end;return!!(s!=null&&s.exec(n))&&!!(o!=null&&o.exec(a))}function pD(t){let e="";return typeof t=="string"?e=t:e=t.text,e.split(Ace)}function Hde(t){var e,r,i;let n=[],a=t.position.line,s=t.position.character;for(let o=0;o<t.lines.length;o++){let h=o===0,u=o===t.lines.length-1,d=t.lines[o],p=0;if(h&&t.options.start){let g=(e=t.options.start)===null||e===void 0?void 0:e.exec(d);g&&(p=g.index+g[0].length)}else{let g=(r=t.options.line)===null||r===void 0?void 0:r.exec(d);g&&(p=g.index+g[0].length)}if(u){let g=(i=t.options.end)===null||i===void 0?void 0:i.exec(d);g&&(d=d.substring(0,g.index))}if(d=d.substring(0,Kde(d)),Sk(d,p)>=d.length){if(n.length>0){let g=jr.create(a,s);n.push({type:"break",content:"",range:Lr.create(g,g)})}}else{Ule.lastIndex=p;let g=Ule.exec(d);if(g){let f=g[0],m=g[1],y=jr.create(a,s+p),b=jr.create(a,s+p+f.length);n.push({type:"tag",content:m,range:Lr.create(y,b)}),p+=f.length,p=Sk(d,p)}if(p<d.length){let f=d.substring(p),m=Array.from(f.matchAll(fIe));n.push(...Xde(m,f,a,s+p))}}a++,s=0}return n.length>0&&n[n.length-1].type==="break"?n.slice(0,-1):n}function Xde(t,e,r,i){let n=[];if(t.length===0){let a=jr.create(r,i),s=jr.create(r,i+e.length);n.push({type:"text",content:e,range:Lr.create(a,s)})}else{let a=0;for(let o of t){let h=o.index,u=e.substring(a,h);u.length>0&&n.push({type:"text",content:e.substring(a,h),range:Lr.create(jr.create(r,a+i),jr.create(r,h+i))});let d=u.length+1,p=o[1];if(n.push({type:"inline-tag",content:p,range:Lr.create(jr.create(r,a+d+i),jr.create(r,a+d+p.length+i))}),d+=p.length,o.length===4){d+=o[2].length;let g=o[3];n.push({type:"text",content:g,range:Lr.create(jr.create(r,a+d+i),jr.create(r,a+d+g.length+i))})}else n.push({type:"text",content:"",range:Lr.create(jr.create(r,a+d+i),jr.create(r,a+d+i))});a=h+o[0].length}let s=e.substring(a);s.length>0&&n.push({type:"text",content:s,range:Lr.create(jr.create(r,a+i),jr.create(r,a+i+s.length))})}return n}function Sk(t,e){let r=t.substring(e).match(mIe);return r?e+r.index:t.length}function Kde(t){let e=t.match(yIe);if(e&&typeof e.index=="number")return e.index}function Zde(t){var e,r,i,n;let a=jr.create(t.position.line,t.position.character);if(t.tokens.length===0)return new jle([],Lr.create(a,a));let s=[];for(;t.index<t.tokens.length;){let u=Qde(t,s[s.length-1]);u&&s.push(u)}let o=(r=(e=s[0])===null||e===void 0?void 0:e.range.start)!==null&&r!==void 0?r:a,h=(n=(i=s[s.length-1])===null||i===void 0?void 0:i.range.end)!==null&&n!==void 0?n:a;return new jle(s,Lr.create(o,h))}function Qde(t,e){let r=t.tokens[t.index];if(r.type==="tag")return fD(t,!1);if(r.type==="text"||r.type==="inline-tag")return gD(t);Jde(r,e),t.index++}function Jde(t,e){if(e){let r=new i0e("",t.range);"inlines"in e?e.inlines.push(r):e.content.inlines.push(r)}}function gD(t){let e=t.tokens[t.index],r=e,i=e,n=[];for(;e&&e.type!=="break"&&e.type!=="tag";)n.push(e0e(t)),i=e,e=t.tokens[t.index];return new hI(n,Lr.create(r.range.start,i.range.end))}function e0e(t){return t.tokens[t.index].type==="inline-tag"?fD(t,!0):mD(t)}function fD(t,e){let r=t.tokens[t.index++],i=r.content.substring(1),n=t.tokens[t.index];if((n==null?void 0:n.type)==="text")if(e){let a=mD(t);return new bN(i,new hI([a],a.range),e,Lr.create(r.range.start,a.range.end))}else{let a=gD(t);return new bN(i,a,e,Lr.create(r.range.start,a.range.end))}else{let a=r.range;return new bN(i,new hI([],a),e,a)}}function mD(t){let e=t.tokens[t.index++];return new i0e(e.content,e.range)}function cT(t){if(!t)return cT({start:"/**",end:"*/",line:"*"});let{start:e,end:r,line:i}=t;return{start:jw(e,!0),end:jw(r,!1),line:jw(i,!0)}}function jw(t,e){if(typeof t=="string"||typeof t=="object"){let r=typeof t=="string"?Pm(t):t.source;return e?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return t}function t0e(t,e,r){var i,n;if(t==="linkplain"||t==="linkcode"||t==="link"){let a=e.indexOf(" "),s=e;if(a>0){let o=Sk(e,a);s=e.substring(o),e=e.substring(0,a)}return(t==="linkcode"||t==="link"&&r.link==="code")&&(s=`\`${s}\``),(n=(i=r.renderLink)===null||i===void 0?void 0:i.call(r,e,s))!==null&&n!==void 0?n:r0e(e,s)}}function r0e(t,e){try{return oc.parse(t,!0),`[${e}](${t})`}catch{return t}}function uI(t){return t.endsWith(`
`)?`
`:`

`}function On(t){return{documentation:{CommentProvider:l(e=>new a0e(e),"CommentProvider"),DocumentationProvider:l(e=>new n0e(e),"DocumentationProvider")},parser:{AsyncParser:l(e=>new s0e(e),"AsyncParser"),GrammarConfig:l(e=>gR(e),"GrammarConfig"),LangiumParser:l(e=>ZR(e),"LangiumParser"),CompletionParser:l(e=>KR(e),"CompletionParser"),ValueConverter:l(()=>new JR,"ValueConverter"),TokenBuilder:l(()=>new tT,"TokenBuilder"),Lexer:l(e=>new hD(e),"Lexer"),ParserErrorMessageProvider:l(()=>new VR,"ParserErrorMessageProvider"),LexerErrorMessageProvider:l(()=>new Yde,"LexerErrorMessageProvider")},workspace:{AstNodeLocator:l(()=>new qde,"AstNodeLocator"),AstNodeDescriptionProvider:l(e=>new zde(e),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:l(e=>new Gde(e),"ReferenceDescriptionProvider")},references:{Linker:l(e=>new Lde(e),"Linker"),NameProvider:l(()=>new Nde,"NameProvider"),ScopeProvider:l(e=>new Ode(e),"ScopeProvider"),ScopeComputation:l(e=>new Rde(e),"ScopeComputation"),References:l(e=>new Ide(e),"References")},serializer:{Hydrator:l(e=>new l0e(e),"Hydrator"),JsonSerializer:l(e=>new $de(e),"JsonSerializer")},validation:{DocumentValidator:l(e=>new Fde(e),"DocumentValidator"),ValidationRegistry:l(e=>new Pde(e),"ValidationRegistry")},shared:l(()=>t.shared,"shared")}}function $n(t){return{ServiceRegistry:l(e=>new Bde(e),"ServiceRegistry"),workspace:{LangiumDocuments:l(e=>new Ade(e),"LangiumDocuments"),LangiumDocumentFactory:l(e=>new _de(e),"LangiumDocumentFactory"),DocumentBuilder:l(e=>new jde(e),"DocumentBuilder"),IndexManager:l(e=>new Wde(e),"IndexManager"),WorkspaceManager:l(e=>new Vde(e),"WorkspaceManager"),FileSystemProvider:l(e=>t.fileSystemProvider(e),"FileSystemProvider"),WorkspaceLock:l(()=>new o0e,"WorkspaceLock"),ConfigurationProvider:l(e=>new Ude(e),"ConfigurationProvider")}}}function gi(t,e,r,i,n,a,s,o,h){let u=[t,e,r,i,n,a,s,o,h].reduce(ox,{});return vD(u)}function yD(t){if(t&&t[c0e])for(let e of Object.values(t))yD(e);return t}function vD(t,e){let r=new Proxy({},{deleteProperty:l(()=>!1,"deleteProperty"),set:l(()=>{throw new Error("Cannot set property on injected service container")},"set"),get:l((i,n)=>n===c0e?!0:pI(i,n,t,e||r),"get"),getOwnPropertyDescriptor:l((i,n)=>(pI(i,n,t,e||r),Object.getOwnPropertyDescriptor(i,n)),"getOwnPropertyDescriptor"),has:l((i,n)=>n in t,"has"),ownKeys:l(()=>[...Object.getOwnPropertyNames(t)],"ownKeys")});return r}function pI(t,e,r,i){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:t[e]});if(t[e]===Wle)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return t[e]}else if(e in r){let n=r[e];t[e]=Wle;try{t[e]=typeof n=="function"?n(i):vD(n,i)}catch(a){throw t[e]=a instanceof Error?a:void 0,a}return t[e]}else return}function ox(t,e){if(e){for(let[r,i]of Object.entries(e))if(i!==void 0){let n=t[r];n!==null&&i!==null&&typeof n=="object"&&typeof i=="object"?t[r]=ox(n,i):t[r]=i}}return t}function d0e(){let t=gi($n(ta),kIe),e=gi(On({shared:t}),wIe);return t.ServiceRegistry.register(e),e}function fl(t){var e;let r=d0e(),i=r.serializer.JsonSerializer.deserialize(t);return r.shared.workspace.LangiumDocumentFactory.fromModel(i,oc.parse(`memory://${(e=i.name)!==null&&e!==void 0?e:"grammar"}.langium`)),i}function p0e(t){return bo.isInstance(t,Ww)}function g0e(t){return bo.isInstance(t,Ob)}function f0e(t){return bo.isInstance(t,$b)}function m0e(t){return bo.isInstance(t,Bb)}function y0e(t){return bo.isInstance(t,Vw)}function v0e(t){return bo.isInstance(t,Pb)}function b0e(t){return bo.isInstance(t,Yw)}function x0e(t){return bo.isInstance(t,Hw)}function w0e(t){return bo.isInstance(t,Xw)}function k0e(t){return bo.isInstance(t,Kw)}function T0e(t){return bo.isInstance(t,Zw)}var ece,vNe,tce,bNe,rce,fI,y1,yI,Ua,hl,Ak,ba,v1,Nm,Xb,ll,wI,SI,b1,Nk,hce,xNe,Ng,Ig,Fb,Jw,zb,Rg,Dg,Mg,Og,$g,Bg,Pg,Gb,Fg,zg,qb,Gg,qg,Ug,jg,Wg,Vg,Ub,Yg,Hg,yd,Xg,jb,Kg,Zg,Qg,Jg,e1,t1,r1,i1,n1,a1,s1,o1,l1,c1,h1,u1,d1,p1,x1,WI,er,VI,XI,rk,ik,Coe,wNe,Ew,kNe,w1,_ce,k1,Fk,Ace,Lce,T1,TNe,vd,Ice,pR,E1,gl,C1,wa,S1,zm,_1,Va,A1,Mn,L1,cs,N1,hs,I1,Mi,R1,Ya,D1,Ha,M1,pi,O1,Gm,$1,Wk,Zce,B1,ENe,$w,CNe,the,sk,P1,SNe,Id,Rb,Cw,nhe,_Ne,ANe,LNe,Db,Pw,Soe,She,BN,Oi,Mb,F1,xa,NNe,_oe,Aoe,Loe,Noe,Ioe,Roe,Doe,Moe,Bh,g1,INe,bd,z1,RNe,G1,DNe,q1,MNe,U1,Yk,j1,ONe,W1,Ooe,V1,$Ne,Y1,$oe,Si,H1,BNe,X1,Ghe,K1,PNe,Z1,NR,Q1,FNe,aue,sue,oue,lue,cue,J1,Xk,ef,hue,tf,zNe,rf,GNe,nf,qNe,yN,uue,af,UNe,sf,jNe,of,IR,lf,WNe,cf,VNe,Sw,YNe,qN,hf,HNe,uf,XNe,df,KNe,pf,ZNe,gf,QNe,ff,JNe,Kk,Boe,Poe,wue,kue,eIe,mf,tIe,yf,rIe,uk,ac,dk,ka,Ed,DR,vf,iIe,Ph,nIe,Cue,Sue,bx,aIe,sIe,oIe,lIe,_ue,bf,MR,xf,OR,wf,Aue,kf,$R,pk,Tf,WN,Ef,jue,Foe,Cf,cIe,zoe,HN,Goe,gk,jr,Lr,fk,qoe,XN,Uoe,joe,Woe,Voe,KN,Yoe,Hoe,Xoe,mk,Dm,Mm,ZN,Om,Koe,QN,JN,eI,tI,rI,Zoe,Qoe,iI,Joe,nI,nx,ele,tle,rle,ile,nle,ale,sle,ole,yk,lle,cle,hle,ule,dle,ple,gle,fle,mle,yle,vle,vk,ble,xle,wle,kle,Tle,Ele,Cle,Sle,_le,Ale,Lle,Nle,Ile,aI,sI,Rle,Dle,Mle,Ole,$le,Ble,Ple,Fle,zle,Sf,hIe,Oe,_f,hde,Af,UR,Lf,bk,Nf,Jk,Cd,uIe,If,jR,xk,Gle,ude,Rf,WR,Df,dde,Mf,pde,Of,VR,$f,gde,dIe,Bf,pIe,Pf,tT,Ff,JR,ol,si,Uw,Ede,zh,zf,sc,Oh,qle,kk,Sde,oc,Lb,dl,di,Gf,_de,qf,Ade,vN,Uf,Lde,jf,Nde,Wf,Ide,Vf,$m,Yf,Ek,Hf,Rde,Xf,lI,Kf,Dde,gIe,Zf,nT,Qf,nD,Jf,aT,em,Mde,tm,aD,rm,Ode,im,$de,nm,Bde,sx,am,Pde,sm,Fde,Fs,om,zde,lm,Gde,cm,qde,sT,hm,Ude,Td,um,jde,dm,Wde,pm,Vde,gm,Yde,cD,fm,hD,Ule,fIe,mIe,yIe,mm,jle,ym,bN,vm,hI,bm,i0e,xm,n0e,wm,a0e,km,s0e,Tm,vIe,Em,bIe,Cm,o0e,Sm,l0e,dI,c0e,Wle,gI,wd,_m,h0e,Am,xIe,bD,Lm,u0e,ta,wIe,kIe,TIe,ut,Vle,Ww,_w,Ob,Aw,Lw,xN,$b,wN,kN,TN,Bb,EN,Vw,Nw,CN,Pb,SN,Yw,Hw,Xw,Kw,_N,AN,Zw,LN,Iw,Rw,Dw,Sd,E0e,bo,Yle,EIe,Hle,CIe,Xle,SIe,Kle,_Ie,Zle,AIe,Qle,LIe,Jle,NIe,IIe,RIe,DIe,MIe,OIe,$Ie,BIe,Xa,C0e,S0e,_0e,A0e,L0e,N0e,I0e,PIe,FIe,zIe,GIe,_d,Pd,Ad,jh,Ld,Ta,Nd,xYe,_i=wt(()=>{zi();Ii();br();kt();ece=Li(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e;function r(){if(e===void 0)throw new Error("No runtime abstraction layer installed");return e}l(r,"RAL"),(function(i){function n(a){if(a===void 0)throw new Error("No runtime abstraction layer provided");e=a}l(n,"install"),i.install=n})(r||(r={})),t.default=r}),vNe=Li(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0;function e(h){return h===!0||h===!1}l(e,"boolean"),t.boolean=e;function r(h){return typeof h=="string"||h instanceof String}l(r,"string"),t.string=r;function i(h){return typeof h=="number"||h instanceof Number}l(i,"number"),t.number=i;function n(h){return h instanceof Error}l(n,"error"),t.error=n;function a(h){return typeof h=="function"}l(a,"func"),t.func=a;function s(h){return Array.isArray(h)}l(s,"array"),t.array=s;function o(h){return s(h)&&h.every(u=>r(u))}l(o,"stringArray"),t.stringArray=o}),tce=Li(t=>{"use strict";var a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;var e=ece(),r;(function(o){let h={dispose(){}};o.None=function(){return h}})(r||(t.Event=r={}));var i=(a=class{add(h,u=null,d){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(h),this._contexts.push(u),Array.isArray(d)&&d.push({dispose:l(()=>this.remove(h,u),"dispose")})}remove(h,u=null){if(!this._callbacks)return;let d=!1;for(let p=0,g=this._callbacks.length;p<g;p++)if(this._callbacks[p]===h)if(this._contexts[p]===u){this._callbacks.splice(p,1),this._contexts.splice(p,1);return}else d=!0;if(d)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...h){if(!this._callbacks)return[];let u=[],d=this._callbacks.slice(0),p=this._contexts.slice(0);for(let g=0,f=d.length;g<f;g++)try{u.push(d[g].apply(p[g],h))}catch(m){(0,e.default)().console.error(m)}return u}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},l(a,"CallbackList"),a),n=(s=class{constructor(h){this._options=h}get event(){return this._event||(this._event=(h,u,d)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(h,u);let p={dispose:l(()=>{this._callbacks&&(this._callbacks.remove(h,u),p.dispose=s._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(d)&&d.push(p),p}),this._event}fire(h){this._callbacks&&this._callbacks.invoke.call(this._callbacks,h)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}},l(s,"Emitter"),s);t.Emitter=n,n._noop=function(){}}),bNe=Li(t=>{"use strict";var h,u;Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;var e=ece(),r=vNe(),i=tce(),n;(function(d){d.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),d.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None});function p(g){let f=g;return f&&(f===d.None||f===d.Cancelled||r.boolean(f.isCancellationRequested)&&!!f.onCancellationRequested)}l(p,"is"),d.is=p})(n||(t.CancellationToken=n={}));var a=Object.freeze(function(d,p){let g=(0,e.default)().timer.setTimeout(d.bind(p),0);return{dispose(){g.dispose()}}}),s=(h=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},l(h,"MutableToken"),h),o=(u=class{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=n.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=n.None}},l(u,"CancellationTokenSource"),u);t.CancellationTokenSource=o}),rce={};Fn(rce,{AbstractAstReflection:()=>yI,AbstractCstNode:()=>UR,AbstractLangiumParser:()=>WR,AbstractParserErrorMessageProvider:()=>pde,AbstractThreadedAsyncParser:()=>vIe,AstUtils:()=>VI,BiMap:()=>Ek,Cancellation:()=>si,CompositeCstNodeImpl:()=>Jk,ContextCache:()=>aT,CstNodeBuilder:()=>hde,CstUtils:()=>fI,DEFAULT_TOKENIZE_OPTIONS:()=>cD,DONE_RESULT:()=>ba,DatatypeSymbol:()=>xk,DefaultAstNodeDescriptionProvider:()=>zde,DefaultAstNodeLocator:()=>qde,DefaultAsyncParser:()=>s0e,DefaultCommentProvider:()=>a0e,DefaultConfigurationProvider:()=>Ude,DefaultDocumentBuilder:()=>jde,DefaultDocumentValidator:()=>Fde,DefaultHydrator:()=>l0e,DefaultIndexManager:()=>Wde,DefaultJsonSerializer:()=>$de,DefaultLangiumDocumentFactory:()=>_de,DefaultLangiumDocuments:()=>Ade,DefaultLexer:()=>hD,DefaultLexerErrorMessageProvider:()=>Yde,DefaultLinker:()=>Lde,DefaultNameProvider:()=>Nde,DefaultReferenceDescriptionProvider:()=>Gde,DefaultReferences:()=>Ide,DefaultScopeComputation:()=>Rde,DefaultScopeProvider:()=>Ode,DefaultServiceRegistry:()=>Bde,DefaultTokenBuilder:()=>tT,DefaultValueConverter:()=>JR,DefaultWorkspaceLock:()=>o0e,DefaultWorkspaceManager:()=>Vde,Deferred:()=>sc,Disposable:()=>Td,DisposableCache:()=>nT,DocumentCache:()=>Mde,DocumentState:()=>di,DocumentValidator:()=>Fs,EMPTY_SCOPE:()=>gIe,EMPTY_STREAM:()=>Ak,EmptyFileSystem:()=>ta,EmptyFileSystemProvider:()=>u0e,ErrorWithLocation:()=>Nk,GrammarAST:()=>hce,GrammarUtils:()=>SI,IndentationAwareLexer:()=>xIe,IndentationAwareTokenBuilder:()=>h0e,JSDocDocumentationProvider:()=>n0e,LangiumCompletionParser:()=>gde,LangiumParser:()=>dde,LangiumParserErrorMessageProvider:()=>VR,LeafCstNodeImpl:()=>bk,LexingMode:()=>wd,MapScope:()=>Dde,Module:()=>dI,MultiMap:()=>$m,OperationCancelled:()=>zh,ParserWorker:()=>bIe,Reduction:()=>Xb,RegExpUtils:()=>XI,RootCstNodeImpl:()=>jR,SimpleCache:()=>nD,StreamImpl:()=>hl,StreamScope:()=>lI,TextDocument:()=>kk,TreeStreamImpl:()=>Nm,URI:()=>oc,UriUtils:()=>dl,ValidationCategory:()=>sx,ValidationRegistry:()=>Pde,ValueConverter:()=>ol,WorkspaceCache:()=>aD,assertUnreachable:()=>Gh,createCompletionParser:()=>KR,createDefaultCoreModule:()=>On,createDefaultSharedCoreModule:()=>$n,createGrammarConfig:()=>gR,createLangiumParser:()=>ZR,createParser:()=>eT,delayNextTick:()=>rT,diagnosticData:()=>xd,eagerLoad:()=>yD,getDiagnosticRange:()=>oD,indentationBuilderDefaultOptions:()=>gI,inject:()=>gi,interruptAndCheck:()=>ea,isAstNode:()=>Ji,isAstNodeDescription:()=>mI,isAstNodeWithComment:()=>sD,isCompositeCstNode:()=>ec,isIMultiModeLexerDefinition:()=>lT,isJSDoc:()=>dD,isLeafCstNode:()=>Dd,isLinkingError:()=>f1,isNamed:()=>iD,isOperationCancelled:()=>Bd,isReference:()=>ja,isRootCstNode:()=>_k,isTokenTypeArray:()=>oT,isTokenTypeDictionary:()=>Ck,loadGrammarFromJson:()=>fl,parseJSDoc:()=>uD,prepareLangiumParser:()=>QR,setInterruptionPeriod:()=>eD,startCancelableOperation:()=>iT,stream:()=>Ui,toDiagnosticData:()=>lD,toDiagnosticSeverity:()=>Yb});fI={};Fn(fI,{DefaultNameRegexp:()=>wI,RangeComparison:()=>ll,compareRange:()=>bI,findCommentNode:()=>kI,findDeclarationNodeAtOffset:()=>ace,findLeafNodeAtOffset:()=>Lk,findLeafNodeBeforeOffset:()=>TI,flattenCst:()=>nce,getInteriorNodes:()=>lce,getNextNode:()=>sce,getPreviousNode:()=>CI,getStartlineNode:()=>oce,inRange:()=>xI,isChildNode:()=>vI,isCommentNode:()=>Qw,streamCst:()=>Im,toDocumentSegment:()=>Rm,tokenToRange:()=>Kb});l(Ji,"isAstNode");l(ja,"isReference");l(mI,"isAstNodeDescription");l(f1,"isLinkingError");yI=(y1=class{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,r){return Ji(e)&&this.isSubtype(e.$type,r)}isSubtype(e,r){if(e===r)return!0;let i=this.subtypes[e];i||(i=this.subtypes[e]={});let n=i[r];if(n!==void 0)return n;{let a=this.computeIsSubtype(e,r);return i[r]=a,a}}getAllSubTypes(e){let r=this.allSubtypes[e];if(r)return r;{let i=this.getAllTypes(),n=[];for(let a of i)this.isSubtype(a,e)&&n.push(a);return this.allSubtypes[e]=n,n}}},l(y1,"AbstractAstReflection"),y1);l(ec,"isCompositeCstNode");l(Dd,"isLeafCstNode");l(_k,"isRootCstNode");hl=(Ua=class{constructor(e,r){this.startFn=e,this.nextFn=r}iterator(){let e={state:this.startFn(),next:l(()=>this.nextFn(e.state),"next"),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let e=this.iterator(),r=0,i=e.next();for(;!i.done;)r++,i=e.next();return r}toArray(){let e=[],r=this.iterator(),i;do i=r.next(),i.value!==void 0&&e.push(i.value);while(!i.done);return e}toSet(){return new Set(this)}toMap(e,r){let i=this.map(n=>[e?e(n):n,r?r(n):n]);return new Map(i)}toString(){return this.join()}concat(e){return new Ua(()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()}),r=>{let i;if(!r.firstDone){do if(i=this.nextFn(r.first),!i.done)return i;while(!i.done);r.firstDone=!0}do if(i=r.iterator.next(),!i.done)return i;while(!i.done);return ba})}join(e=","){let r=this.iterator(),i="",n,a=!1;do n=r.next(),n.done||(a&&(i+=e),i+=ice(n.value)),a=!0;while(!n.done);return i}indexOf(e,r=0){let i=this.iterator(),n=0,a=i.next();for(;!a.done;){if(n>=r&&a.value===e)return n;a=i.next(),n++}return-1}every(e){let r=this.iterator(),i=r.next();for(;!i.done;){if(!e(i.value))return!1;i=r.next()}return!0}some(e){let r=this.iterator(),i=r.next();for(;!i.done;){if(e(i.value))return!0;i=r.next()}return!1}forEach(e){let r=this.iterator(),i=0,n=r.next();for(;!n.done;)e(n.value,i),n=r.next(),i++}map(e){return new Ua(this.startFn,r=>{let{done:i,value:n}=this.nextFn(r);return i?ba:{done:!1,value:e(n)}})}filter(e){return new Ua(this.startFn,r=>{let i;do if(i=this.nextFn(r),!i.done&&e(i.value))return i;while(!i.done);return ba})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,r){let i=this.iterator(),n=r,a=i.next();for(;!a.done;)n===void 0?n=a.value:n=e(n,a.value),a=i.next();return n}reduceRight(e,r){return this.recursiveReduce(this.iterator(),e,r)}recursiveReduce(e,r,i){let n=e.next();if(n.done)return i;let a=this.recursiveReduce(e,r,i);return a===void 0?n.value:r(a,n.value)}find(e){let r=this.iterator(),i=r.next();for(;!i.done;){if(e(i.value))return i.value;i=r.next()}}findIndex(e){let r=this.iterator(),i=0,n=r.next();for(;!n.done;){if(e(n.value))return i;n=r.next(),i++}return-1}includes(e){let r=this.iterator(),i=r.next();for(;!i.done;){if(i.value===e)return!0;i=r.next()}return!1}flatMap(e){return new Ua(()=>({this:this.startFn()}),r=>{do{if(r.iterator){let a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}let{done:i,value:n}=this.nextFn(r.this);if(!i){let a=e(n);if(Hb(a))r.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}}while(r.iterator);return ba})}flat(e){if(e===void 0&&(e=1),e<=0)return this;let r=e>1?this.flat(e-1):this;return new Ua(()=>({this:r.startFn()}),i=>{do{if(i.iterator){let s=i.iterator.next();if(s.done)i.iterator=void 0;else return s}let{done:n,value:a}=r.nextFn(i.this);if(!n)if(Hb(a))i.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}while(i.iterator);return ba})}head(){let e=this.iterator().next();if(!e.done)return e.value}tail(e=1){return new Ua(()=>{let r=this.startFn();for(let i=0;i<e;i++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(e){return new Ua(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>e?ba:this.nextFn(r.state)))}distinct(e){return new Ua(()=>({set:new Set,internalState:this.startFn()}),r=>{let i;do if(i=this.nextFn(r.internalState),!i.done){let n=e?e(i.value):i.value;if(!r.set.has(n))return r.set.add(n),i}while(!i.done);return ba})}exclude(e,r){let i=new Set;for(let n of e){let a=r?r(n):n;i.add(a)}return this.filter(n=>{let a=r?r(n):n;return!i.has(a)})}},l(Ua,"StreamImpl"),Ua);l(ice,"toString");l(Hb,"isIterable");Ak=new hl(()=>{},()=>ba),ba=Object.freeze({done:!0,value:void 0});l(Ui,"stream");Nm=(v1=class extends hl{constructor(e,r,i){super(()=>({iterators:i!=null&&i.includeRoot?[[e][Symbol.iterator]()]:[r(e)[Symbol.iterator]()],pruned:!1}),n=>{for(n.pruned&&(n.iterators.pop(),n.pruned=!1);n.iterators.length>0;){let a=n.iterators[n.iterators.length-1].next();if(a.done)n.iterators.pop();else return n.iterators.push(r(a.value)[Symbol.iterator]()),a}return ba})}iterator(){let e={state:this.startFn(),next:l(()=>this.nextFn(e.state),"next"),prune:l(()=>{e.state.pruned=!0},"prune"),[Symbol.iterator]:()=>e};return e}},l(v1,"TreeStreamImpl"),v1);(function(t){function e(a){return a.reduce((s,o)=>s+o,0)}l(e,"sum"),t.sum=e;function r(a){return a.reduce((s,o)=>s*o,0)}l(r,"product"),t.product=r;function i(a){return a.reduce((s,o)=>Math.min(s,o))}l(i,"min"),t.min=i;function n(a){return a.reduce((s,o)=>Math.max(s,o))}l(n,"max"),t.max=n})(Xb||(Xb={}));l(Im,"streamCst");l(nce,"flattenCst");l(vI,"isChildNode");l(Kb,"tokenToRange");l(Rm,"toDocumentSegment");(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside",t[t.Outside=5]="Outside"})(ll||(ll={}));l(bI,"compareRange");l(xI,"inRange");wI=/^[\w\p{L}]$/u;l(ace,"findDeclarationNodeAtOffset");l(kI,"findCommentNode");l(Qw,"isCommentNode");l(Lk,"findLeafNodeAtOffset");l(TI,"findLeafNodeBeforeOffset");l(EI,"binarySearch");l(CI,"getPreviousNode");l(sce,"getNextNode");l(oce,"getStartlineNode");l(lce,"getInteriorNodes");l(cce,"getCommonParent");l(NN,"getParentChain");SI={};Fn(SI,{findAssignment:()=>oR,findNameAssignment:()=>jk,findNodeForKeyword:()=>sR,findNodeForProperty:()=>Gk,findNodesForKeyword:()=>Rce,findNodesForKeywordInternal:()=>Uk,findNodesForProperty:()=>aR,getActionAtElement:()=>cR,getActionType:()=>uR,getAllReachableRules:()=>zk,getCrossReferenceTerminal:()=>iR,getEntryRule:()=>eR,getExplicitRuleType:()=>Fm,getHiddenRules:()=>tR,getRuleType:()=>dR,getRuleTypeName:()=>Bce,getTypeName:()=>px,isArrayCardinality:()=>Mce,isArrayOperator:()=>Oce,isCommentTerminal:()=>nR,isDataType:()=>$ce,isDataTypeRule:()=>dx,isOptionalCardinality:()=>Dce,terminalRegex:()=>gx});Nk=(b1=class extends Error{constructor(e,r){super(e?`${r} at ${e.range.start.line}:${e.range.start.character}`:r)}},l(b1,"ErrorWithLocation"),b1);l(Gh,"assertUnreachable");hce={};Fn(hce,{AbstractElement:()=>Rg,AbstractRule:()=>Ng,AbstractType:()=>Ig,Action:()=>Zg,Alternatives:()=>Qg,ArrayLiteral:()=>Dg,ArrayType:()=>Mg,Assignment:()=>Jg,BooleanLiteral:()=>Og,CharacterRange:()=>e1,Condition:()=>Fb,Conjunction:()=>$g,CrossReference:()=>t1,Disjunction:()=>Bg,EndOfFile:()=>r1,Grammar:()=>Pg,GrammarImport:()=>Gb,Group:()=>i1,InferredType:()=>Fg,Interface:()=>zg,Keyword:()=>n1,LangiumGrammarAstReflection:()=>WI,LangiumGrammarTerminals:()=>xNe,NamedArgument:()=>qb,NegatedToken:()=>a1,Negation:()=>Gg,NumberLiteral:()=>qg,Parameter:()=>Ug,ParameterReference:()=>jg,ParserRule:()=>Wg,ReferenceType:()=>Vg,RegexToken:()=>s1,ReturnType:()=>Ub,RuleCall:()=>o1,SimpleType:()=>Yg,StringLiteral:()=>Hg,TerminalAlternatives:()=>l1,TerminalGroup:()=>c1,TerminalRule:()=>yd,TerminalRuleCall:()=>h1,Type:()=>Xg,TypeAttribute:()=>jb,TypeDefinition:()=>Jw,UnionType:()=>Kg,UnorderedGroup:()=>u1,UntilToken:()=>d1,ValueLiteral:()=>zb,Wildcard:()=>p1,isAbstractElement:()=>Ik,isAbstractRule:()=>uce,isAbstractType:()=>dce,isAction:()=>$h,isAlternatives:()=>Ok,isArrayLiteral:()=>yce,isArrayType:()=>AI,isAssignment:()=>tc,isBooleanLiteral:()=>LI,isCharacterRange:()=>BI,isCondition:()=>pce,isConjunction:()=>NI,isCrossReference:()=>cx,isDisjunction:()=>II,isEndOfFile:()=>PI,isFeatureName:()=>gce,isGrammar:()=>vce,isGrammarImport:()=>bce,isGroup:()=>Md,isInferredType:()=>Rk,isInterface:()=>Dk,isKeyword:()=>rc,isNamedArgument:()=>xce,isNegatedToken:()=>FI,isNegation:()=>RI,isNumberLiteral:()=>wce,isParameter:()=>kce,isParameterReference:()=>DI,isParserRule:()=>Wa,isPrimitiveType:()=>_I,isReferenceType:()=>MI,isRegexToken:()=>zI,isReturnType:()=>OI,isRuleCall:()=>ic,isSimpleType:()=>Mk,isStringLiteral:()=>Tce,isTerminalAlternatives:()=>GI,isTerminalGroup:()=>qI,isTerminalRule:()=>pl,isTerminalRuleCall:()=>$k,isType:()=>lx,isTypeAttribute:()=>Ece,isTypeDefinition:()=>fce,isUnionType:()=>$I,isUnorderedGroup:()=>Bk,isUntilToken:()=>UI,isValueLiteral:()=>mce,isWildcard:()=>jI,reflection:()=>er});xNe={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},Ng="AbstractRule";l(uce,"isAbstractRule");Ig="AbstractType";l(dce,"isAbstractType");Fb="Condition";l(pce,"isCondition");l(gce,"isFeatureName");l(_I,"isPrimitiveType");Jw="TypeDefinition";l(fce,"isTypeDefinition");zb="ValueLiteral";l(mce,"isValueLiteral");Rg="AbstractElement";l(Ik,"isAbstractElement");Dg="ArrayLiteral";l(yce,"isArrayLiteral");Mg="ArrayType";l(AI,"isArrayType");Og="BooleanLiteral";l(LI,"isBooleanLiteral");$g="Conjunction";l(NI,"isConjunction");Bg="Disjunction";l(II,"isDisjunction");Pg="Grammar";l(vce,"isGrammar");Gb="GrammarImport";l(bce,"isGrammarImport");Fg="InferredType";l(Rk,"isInferredType");zg="Interface";l(Dk,"isInterface");qb="NamedArgument";l(xce,"isNamedArgument");Gg="Negation";l(RI,"isNegation");qg="NumberLiteral";l(wce,"isNumberLiteral");Ug="Parameter";l(kce,"isParameter");jg="ParameterReference";l(DI,"isParameterReference");Wg="ParserRule";l(Wa,"isParserRule");Vg="ReferenceType";l(MI,"isReferenceType");Ub="ReturnType";l(OI,"isReturnType");Yg="SimpleType";l(Mk,"isSimpleType");Hg="StringLiteral";l(Tce,"isStringLiteral");yd="TerminalRule";l(pl,"isTerminalRule");Xg="Type";l(lx,"isType");jb="TypeAttribute";l(Ece,"isTypeAttribute");Kg="UnionType";l($I,"isUnionType");Zg="Action";l($h,"isAction");Qg="Alternatives";l(Ok,"isAlternatives");Jg="Assignment";l(tc,"isAssignment");e1="CharacterRange";l(BI,"isCharacterRange");t1="CrossReference";l(cx,"isCrossReference");r1="EndOfFile";l(PI,"isEndOfFile");i1="Group";l(Md,"isGroup");n1="Keyword";l(rc,"isKeyword");a1="NegatedToken";l(FI,"isNegatedToken");s1="RegexToken";l(zI,"isRegexToken");o1="RuleCall";l(ic,"isRuleCall");l1="TerminalAlternatives";l(GI,"isTerminalAlternatives");c1="TerminalGroup";l(qI,"isTerminalGroup");h1="TerminalRuleCall";l($k,"isTerminalRuleCall");u1="UnorderedGroup";l(Bk,"isUnorderedGroup");d1="UntilToken";l(UI,"isUntilToken");p1="Wildcard";l(jI,"isWildcard");WI=(x1=class extends yI{getAllTypes(){return[Rg,Ng,Ig,Zg,Qg,Dg,Mg,Jg,Og,e1,Fb,$g,t1,Bg,r1,Pg,Gb,i1,Fg,zg,n1,qb,a1,Gg,qg,Ug,jg,Wg,Vg,s1,Ub,o1,Yg,Hg,l1,c1,yd,h1,Xg,jb,Jw,Kg,u1,d1,zb,p1]}computeIsSubtype(e,r){switch(e){case Zg:case Qg:case Jg:case e1:case t1:case r1:case i1:case n1:case a1:case s1:case o1:case l1:case c1:case h1:case u1:case d1:case p1:return this.isSubtype(Rg,r);case Dg:case qg:case Hg:return this.isSubtype(zb,r);case Mg:case Vg:case Yg:case Kg:return this.isSubtype(Jw,r);case Og:return this.isSubtype(Fb,r)||this.isSubtype(zb,r);case $g:case Bg:case Gg:case jg:return this.isSubtype(Fb,r);case Fg:case zg:case Xg:return this.isSubtype(Ig,r);case Wg:return this.isSubtype(Ng,r)||this.isSubtype(Ig,r);case yd:return this.isSubtype(Ng,r);default:return!1}}getReferenceType(e){let r=`${e.container.$type}:${e.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return Ig;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return Ng;case"Grammar:usedGrammars":return Pg;case"NamedArgument:parameter":case"ParameterReference:parameter":return Ug;case"TerminalRuleCall:rule":return yd;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case Rg:return{name:Rg,properties:[{name:"cardinality"},{name:"lookahead"}]};case Dg:return{name:Dg,properties:[{name:"elements",defaultValue:[]}]};case Mg:return{name:Mg,properties:[{name:"elementType"}]};case Og:return{name:Og,properties:[{name:"true",defaultValue:!1}]};case $g:return{name:$g,properties:[{name:"left"},{name:"right"}]};case Bg:return{name:Bg,properties:[{name:"left"},{name:"right"}]};case Pg:return{name:Pg,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case Gb:return{name:Gb,properties:[{name:"path"}]};case Fg:return{name:Fg,properties:[{name:"name"}]};case zg:return{name:zg,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case qb:return{name:qb,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case Gg:return{name:Gg,properties:[{name:"value"}]};case qg:return{name:qg,properties:[{name:"value"}]};case Ug:return{name:Ug,properties:[{name:"name"}]};case jg:return{name:jg,properties:[{name:"parameter"}]};case Wg:return{name:Wg,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case Vg:return{name:Vg,properties:[{name:"referenceType"}]};case Ub:return{name:Ub,properties:[{name:"name"}]};case Yg:return{name:Yg,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Hg:return{name:Hg,properties:[{name:"value"}]};case yd:return{name:yd,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case Xg:return{name:Xg,properties:[{name:"name"},{name:"type"}]};case jb:return{name:jb,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Kg:return{name:Kg,properties:[{name:"types",defaultValue:[]}]};case Zg:return{name:Zg,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case Qg:return{name:Qg,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Jg:return{name:Jg,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case e1:return{name:e1,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case t1:return{name:t1,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case r1:return{name:r1,properties:[{name:"cardinality"},{name:"lookahead"}]};case i1:return{name:i1,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case n1:return{name:n1,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case a1:return{name:a1,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case s1:return{name:s1,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case o1:return{name:o1,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case l1:return{name:l1,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case c1:return{name:c1,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case h1:return{name:h1,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case u1:return{name:u1,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case d1:return{name:d1,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case p1:return{name:p1,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}},l(x1,"LangiumGrammarAstReflection"),x1),er=new WI,VI={};Fn(VI,{assignMandatoryProperties:()=>YI,copyAstNode:()=>tk,findLocalReferences:()=>Sce,findRootNode:()=>Zb,getContainerOfType:()=>Bm,getDocument:()=>vo,hasContainerOfType:()=>Cce,linkContentToContainer:()=>Pk,streamAllContents:()=>qh,streamAst:()=>Jl,streamContents:()=>hx,streamReferences:()=>ux});l(Pk,"linkContentToContainer");l(Bm,"getContainerOfType");l(Cce,"hasContainerOfType");l(vo,"getDocument");l(Zb,"findRootNode");l(hx,"streamContents");l(qh,"streamAllContents");l(Jl,"streamAst");l(ek,"isAstNodeInRange");l(ux,"streamReferences");l(Sce,"findLocalReferences");l(YI,"assignMandatoryProperties");l(HI,"copyDefaultValue");l(tk,"copyAstNode");XI={};Fn(XI,{NEWLINE_REGEXP:()=>Ace,escapeRegExp:()=>Pm,getCaseInsensitivePattern:()=>ZI,getTerminalParts:()=>Nce,isMultilineComment:()=>KI,isWhitespace:()=>Qb,partialMatches:()=>QI,partialRegExp:()=>JI,whitespaceCharacters:()=>Ice});l(Kt,"cc");l(Mw,"insertToSet");l(Ag,"addFlag");l(md,"ASSERT_EXISTS");l(Nb,"ASSERT_NEVER_REACH_HERE");l(IN,"isCharacter");rk=[];for(let t=Kt("0");t<=Kt("9");t++)rk.push(t);ik=[Kt("_")].concat(rk);for(let t=Kt("a");t<=Kt("z");t++)ik.push(t);for(let t=Kt("A");t<=Kt("Z");t++)ik.push(t);Coe=[Kt(" "),Kt("\f"),Kt(`
`),Kt("\r"),Kt("	"),Kt("\v"),Kt("	"),Kt("\xA0"),Kt("\u1680"),Kt("\u2000"),Kt("\u2001"),Kt("\u2002"),Kt("\u2003"),Kt("\u2004"),Kt("\u2005"),Kt("\u2006"),Kt("\u2007"),Kt("\u2008"),Kt("\u2009"),Kt("\u200A"),Kt("\u2028"),Kt("\u2029"),Kt("\u202F"),Kt("\u205F"),Kt("\u3000"),Kt("\uFEFF")],wNe=/[0-9a-fA-F]/,Ew=/[0-9]/,kNe=/[1-9]/,_ce=(w1=class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let r=this.disjunction();this.consumeChar("/");let i={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Ag(i,"global");break;case"i":Ag(i,"ignoreCase");break;case"m":Ag(i,"multiLine");break;case"u":Ag(i,"unicode");break;case"y":Ag(i,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:i,value:r,loc:this.loc(0)}}disjunction(){let e=[],r=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(r)}}alternative(){let e=[],r=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}md(r);let i=this.disjunction();return this.consumeChar(")"),{type:r,value:i,loc:this.loc(e)}}return Nb()}quantifier(e=!1){let r,i=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":let n=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:n,atMost:n};break;case",":let a;this.isDigit()?(a=this.integerIncludingZero(),r={atLeast:n,atMost:a}):r={atLeast:n,atMost:1/0},this.consumeChar("}");break}if(e===!0&&r===void 0)return;md(r);break}if(!(e===!0&&r===void 0)&&md(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(i),r}atom(){let e,r=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}return e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),md(e)?(e.loc=this.loc(r),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):Nb()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Kt(`
`),Kt("\r"),Kt("\u2028"),Kt("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,r=!1;switch(this.popChar()){case"d":e=rk;break;case"D":e=rk,r=!0;break;case"s":e=Coe;break;case"S":e=Coe,r=!0;break;case"w":e=ik;break;case"W":e=ik,r=!0;break}return md(e)?{type:"Set",value:e,complement:r}:Nb()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=Kt("\f");break;case"n":e=Kt(`
`);break;case"r":e=Kt("\r");break;case"t":e=Kt("	");break;case"v":e=Kt("\v");break}return md(e)?{type:"Character",value:e}:Nb()}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Kt("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let e=this.popChar();return{type:"Character",value:Kt(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let e=this.popChar();return{type:"Character",value:Kt(e)}}}characterClass(){let e=[],r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){let i=this.classAtom(),n=i.type==="Character";if(IN(i)&&this.isRangeDash()){this.consumeChar("-");let a=this.classAtom(),s=a.type==="Character";if(IN(a)){if(a.value<i.value)throw Error("Range out of order in character class");e.push({from:i.value,to:a.value})}else Mw(i.value,e),e.push(Kt("-")),Mw(a.value,e)}else Mw(i.value,e)}return this.consumeChar("]"),{type:"Set",complement:r,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Kt("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}let r=this.disjunction();this.consumeChar(")");let i={type:"Group",capturing:e,value:r};return e&&(i.idx=this.groupIdx),i}positiveInteger(){let e=this.popChar();if(kNe.test(e)===!1)throw Error("Expecting a positive integer");for(;Ew.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(Ew.test(e)===!1)throw Error("Expecting an integer");for(;Ew.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Kt(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Ew.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let r="";for(let i=0;i<e;i++){let n=this.popChar();if(wNe.test(n)===!1)throw Error("Expecting a HexDecimal digits");r+=n}return{type:"Character",value:parseInt(r,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}},l(w1,"RegExpParser"),w1),Fk=(k1=class{visitChildren(e){for(let r in e){let i=e[r];e.hasOwnProperty(r)&&(i.type!==void 0?this.visit(i):Array.isArray(i)&&i.forEach(n=>{this.visit(n)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}},l(k1,"BaseRegExpVisitor"),k1),Ace=/\r?\n/gm,Lce=new _ce,TNe=(T1=class extends Fk{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){let r=String.fromCharCode(e.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let i=Pm(r);this.endRegexpStack.push(i),this.isStarting&&(this.startRegexp+=i)}}visitSet(e){if(!this.multiline){let r=this.regex.substring(e.loc.begin,e.loc.end),i=new RegExp(r);this.multiline=!!`
`.match(i)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let r=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}},l(T1,"TerminalRegExpVisitor"),T1),vd=new TNe;l(Nce,"getTerminalParts");l(KI,"isMultilineComment");Ice=`\f
\r	\v \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`.split("");l(Qb,"isWhitespace");l(Pm,"escapeRegExp");l(ZI,"getCaseInsensitivePattern");l(QI,"partialMatches");l(JI,"partialRegExp");l(eR,"getEntryRule");l(tR,"getHiddenRules");l(zk,"getAllReachableRules");l(rR,"ruleDfs");l(iR,"getCrossReferenceTerminal");l(nR,"isCommentTerminal");l(aR,"findNodesForProperty");l(Gk,"findNodeForProperty");l(qk,"findNodesForPropertyInternal");l(Rce,"findNodesForKeyword");l(sR,"findNodeForKeyword");l(Uk,"findNodesForKeywordInternal");l(oR,"findAssignment");l(jk,"findNameAssignment");l(lR,"findNameAssignmentInternal");l(cR,"getActionAtElement");l(Dce,"isOptionalCardinality");l(Mce,"isArrayCardinality");l(Oce,"isArrayOperator");l(dx,"isDataTypeRule");l(hR,"isDataTypeRuleInternal");l($ce,"isDataType");l(nk,"isDataTypeInternal");l(Fm,"getExplicitRuleType");l(px,"getTypeName");l(uR,"getActionType");l(Bce,"getRuleTypeName");l(dR,"getRuleType");l(gx,"terminalRegex");pR=/[\s\S]/.source;l(Od,"abstractElementToRegex");l(Pce,"terminalAlternativesToRegex");l(Fce,"terminalGroupToRegex");l(zce,"untilTokenToRegex");l(Gce,"negateTokenToRegex");l(qce,"characterRangeToRegex");l(Ow,"keywordToRegex");l(ul,"withCardinality");l(gR,"createGrammarConfig");l(ak,"PRINT_ERROR");l(fR,"PRINT_WARNING");l(mR,"timer");l(yR,"toFastProperties");l(Uce,"tokenLabel");l(jce,"hasTokenLabel");gl=(E1=class{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Ie(this.definition,r=>{r.accept(e)})}},l(E1,"AbstractProduction"),E1),wa=(C1=class extends gl{constructor(e){super([]),this.idx=1,Pa(this,As(e,r=>r!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}},l(C1,"NonTerminal"),C1),zm=(S1=class extends gl{constructor(e){super(e.definition),this.orgText="",Pa(this,As(e,r=>r!==void 0))}},l(S1,"Rule"),S1),Va=(_1=class extends gl{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Pa(this,As(e,r=>r!==void 0))}},l(_1,"Alternative"),_1),Mn=(A1=class extends gl{constructor(e){super(e.definition),this.idx=1,Pa(this,As(e,r=>r!==void 0))}},l(A1,"Option"),A1),cs=(L1=class extends gl{constructor(e){super(e.definition),this.idx=1,Pa(this,As(e,r=>r!==void 0))}},l(L1,"RepetitionMandatory"),L1),hs=(N1=class extends gl{constructor(e){super(e.definition),this.idx=1,Pa(this,As(e,r=>r!==void 0))}},l(N1,"RepetitionMandatoryWithSeparator"),N1),Mi=(I1=class extends gl{constructor(e){super(e.definition),this.idx=1,Pa(this,As(e,r=>r!==void 0))}},l(I1,"Repetition"),I1),Ya=(R1=class extends gl{constructor(e){super(e.definition),this.idx=1,Pa(this,As(e,r=>r!==void 0))}},l(R1,"RepetitionWithSeparator"),R1),Ha=(D1=class extends gl{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Pa(this,As(e,r=>r!==void 0))}},l(D1,"Alternation"),D1),pi=(M1=class{constructor(e){this.idx=1,Pa(this,As(e,r=>r!==void 0))}accept(e){e.visit(this)}},l(M1,"Terminal"),M1);l(Wce,"serializeGrammar");l(Wb,"serializeProduction");Gm=(O1=class{visit(e){let r=e;switch(r.constructor){case wa:return this.visitNonTerminal(r);case Va:return this.visitAlternative(r);case Mn:return this.visitOption(r);case cs:return this.visitRepetitionMandatory(r);case hs:return this.visitRepetitionMandatoryWithSeparator(r);case Ya:return this.visitRepetitionWithSeparator(r);case Mi:return this.visitRepetition(r);case Ha:return this.visitAlternation(r);case pi:return this.visitTerminal(r);case zm:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}},l(O1,"GAstVisitor"),O1);l(Vce,"isSequenceProd");l(Jb,"isOptionalProd");l(Yce,"isBranchingProd");l(yo,"getProductionDslName");Wk=($1=class{walk(e,r=[]){Ie(e.definition,(i,n)=>{let a=mn(e.definition,n+1);if(i instanceof wa)this.walkProdRef(i,a,r);else if(i instanceof pi)this.walkTerminal(i,a,r);else if(i instanceof Va)this.walkFlat(i,a,r);else if(i instanceof Mn)this.walkOption(i,a,r);else if(i instanceof cs)this.walkAtLeastOne(i,a,r);else if(i instanceof hs)this.walkAtLeastOneSep(i,a,r);else if(i instanceof Ya)this.walkManySep(i,a,r);else if(i instanceof Mi)this.walkMany(i,a,r);else if(i instanceof Ha)this.walkOr(i,a,r);else throw Error("non exhaustive match")})}walkTerminal(e,r,i){}walkProdRef(e,r,i){}walkFlat(e,r,i){let n=r.concat(i);this.walk(e,n)}walkOption(e,r,i){let n=r.concat(i);this.walk(e,n)}walkAtLeastOne(e,r,i){let n=[new Mn({definition:e.definition})].concat(r,i);this.walk(e,n)}walkAtLeastOneSep(e,r,i){let n=RN(e,r,i);this.walk(e,n)}walkMany(e,r,i){let n=[new Mn({definition:e.definition})].concat(r,i);this.walk(e,n)}walkManySep(e,r,i){let n=RN(e,r,i);this.walk(e,n)}walkOr(e,r,i){let n=r.concat(i);Ie(e.definition,a=>{let s=new Va({definition:[a]});this.walk(s,n)})}},l($1,"RestWalker"),$1);l(RN,"restForRepetitionWithSeparator");l(qm,"first");l(Hce,"firstForSequence");l(Xce,"firstForBranching");l(Kce,"firstForTerminal");Zce="_~IN~_",ENe=(B1=class extends Wk{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,r,i){}walkProdRef(e,r,i){let n=Jce(e.referencedRule,e.idx)+this.topProd.name,a=r.concat(i),s=new Va({definition:a}),o=qm(s);this.follows[n]=o}},l(B1,"ResyncFollowsWalker"),B1);l(Qce,"computeAllProdsFollows");l(Jce,"buildBetweenProdsFollowPrefix");$w={},CNe=new _ce;l(fx,"getRegExpAst");l(ehe,"clearRegExpParserCache");the="Complement Sets are not supported for first char optimization",sk=`Unable to use "first char" lexer optimizations:
`;l(rhe,"getOptimizedStartCodesIndices");l(ok,"firstCharOptimizedIndices");l(Ib,"addOptimizedIdxToResult");l(ihe,"handleIgnoreCase");l(DN,"findCode");l(lk,"isWholeOptional");SNe=(P1=class extends Fk{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Xn(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?DN(e,this.targetCharCodes)===void 0&&(this.found=!0):DN(e,this.targetCharCodes)!==void 0&&(this.found=!0)}},l(P1,"CharCodeFinder"),P1);l(Vk,"canMatchCharCode");Id="PATTERN",Rb="defaultMode",Cw="modes",nhe=typeof new RegExp("(?:)").sticky=="boolean";l(ahe,"analyzeTokenTypes");l(she,"validatePatterns");l(ohe,"validateRegExpPattern");l(lhe,"findMissingPatterns");l(che,"findInvalidPatterns");_Ne=/[^\\][$]/;l(hhe,"findEndOfInputAnchor");l(uhe,"findEmptyMatchRegExps");ANe=/[^\\[][\^]|^\^/;l(dhe,"findStartOfInputAnchor");l(phe,"findUnsupportedFlags");l(ghe,"findDuplicatePatterns");l(fhe,"findInvalidGroupType");l(mhe,"findModesThatDoNotExist");l(yhe,"findUnreachablePatterns");l(vhe,"testTokenType");l(bhe,"noMetaChar");l(MN,"addStartOfInput");l(ON,"addStickyFlag");l(xhe,"performRuntimeChecks");l(whe,"performWarningRuntimeChecks");l(khe,"cloneEmptyGroups");l(vR,"isCustomPattern");l(The,"isShortPattern");LNe={test:l(function(t){let e=t.length;for(let r=this.lastIndex;r<e;r++){let i=t.charCodeAt(r);if(i===10)return this.lastIndex=r+1,!0;if(i===13)return t.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},"test"),lastIndex:0};l(bR,"checkLineBreaksIssues");l(Ehe,"buildLineBreakIssueMessage");l(xR,"getCharCodes");l(Bw,"addToMapOfArrays");Db=256,Pw=[];l(nc,"charCodeToOptimizedIndex");l(Che,"initCharCodeToOptimizedIndexMap");l(Um,"tokenStructuredMatcher");l(ex,"tokenStructuredMatcherNoCategories");Soe=1,She={};l(jm,"augmentTokenTypes");l(_he,"expandCategories");l(Ahe,"assignTokenDefaultProps");l(Lhe,"assignCategoriesTokensProp");l(Nhe,"assignCategoriesMapProp");l(wR,"singleAssignCategoriesToksMap");l(kR,"hasShortKeyProperty");l($N,"hasCategoriesProperty");l(Ihe,"hasExtendingTokensTypesProperty");l(Rhe,"hasExtendingTokensTypesMapProperty");l(Dhe,"isTokenType");BN={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,r,i,n){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${r} characters.`}};(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Oi||(Oi={}));Mb={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:BN,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Mb);xa=(F1=class{constructor(e,r=Mb){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(n,a)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let s=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${s}--> <${n}>`);let{time:o,value:h}=mR(a),u=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${s}<-- <${n}> time: ${o}ms`),this.traceInitIndent--,h}else return a()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Pa({},Mb,r);let i=this.config.traceInitPerf;i===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof i=="number"&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let n,a=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Mb.lineTerminatorsPattern)this.config.lineTerminatorsPattern=LNe;else if(this.config.lineTerminatorCharacters===Mb.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),sr(e)?n={modes:{defaultMode:Ri(e)},defaultMode:Rb}:(a=!1,n=Ri(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(xhe(n,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(whe(n,this.trackStartLines,this.config.lineTerminatorCharacters))})),n.modes=n.modes?n.modes:{},Ie(n.modes,(o,h)=>{n.modes[h]=Iv(o,u=>Ar(u))});let s=Fi(n.modes);if(Ie(n.modes,(o,h)=>{this.TRACE_INIT(`Mode: <${h}> processing`,()=>{if(this.modes.push(h),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(she(o,s))}),_r(this.lexerDefinitionErrors)){jm(o);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=ahe(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[h]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[h]=u.charCodeToPatternIdxToConfig,this.emptyGroups=Pa({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[h]=u.canBeOptimized}})}),this.defaultMode=n.defaultMode,!_r(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let o=dt(this.lexerDefinitionErrors,h=>h.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+o)}Ie(this.lexerDefinitionWarning,o=>{fR(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(nhe?(this.chopInput=ao,this.match=this.matchWithTest):(this.updateLastIndex=Ki,this.match=this.matchWithExec),a&&(this.handleModes=Ki),this.trackStartLines===!1&&(this.computeNewColumn=ao),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Ki),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let o=Ei(this.canModeBeOptimized,(h,u,d)=>(u===!1&&h.push(d),h),[]);if(r.ensureOptimizations&&!_r(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{ehe()}),this.TRACE_INIT("toFastProperties",()=>{yR(this)})})}tokenize(e,r=this.defaultMode){if(!_r(this.lexerDefinitionErrors)){let i=dt(this.lexerDefinitionErrors,n=>n.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,r)}tokenizeInternal(e,r){let i,n,a,s,o,h,u,d,p,g,f,m,y,b,v,x,w=e,k=w.length,T=0,S=0,C=this.hasCustom?0:Math.floor(e.length/10),E=new Array(C),L=[],I=this.trackStartLines?1:void 0,M=this.trackStartLines?1:void 0,N=khe(this.emptyGroups),$=this.trackStartLines,_=this.config.lineTerminatorsPattern,D=0,R=[],O=[],A=[],B=[];Object.freeze(B);let P;function z(){return R}l(z,"getPossiblePatternsSlow");function q(se){let oe=nc(se),Y=O[oe];return Y===void 0?B:Y}l(q,"getPossiblePatternsOptimized");let K=l(se=>{if(A.length===1&&se.tokenType.PUSH_MODE===void 0){let oe=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(se);L.push({offset:se.startOffset,line:se.startLine,column:se.startColumn,length:se.image.length,message:oe})}else{A.pop();let oe=Cs(A);R=this.patternIdxToConfig[oe],O=this.charCodeToPatternIdxToConfig[oe],D=R.length;let Y=this.canModeBeOptimized[oe]&&this.config.safeMode===!1;O&&Y?P=q:P=z}},"pop_mode");function W(se){A.push(se),O=this.charCodeToPatternIdxToConfig[se],R=this.patternIdxToConfig[se],D=R.length,D=R.length;let oe=this.canModeBeOptimized[se]&&this.config.safeMode===!1;O&&oe?P=q:P=z}l(W,"push_mode"),W.call(this,r);let ae,ie=this.config.recoveryEnabled;for(;T<k;){h=null;let se=w.charCodeAt(T),oe=P(se),Y=oe.length;for(i=0;i<Y;i++){ae=oe[i];let Q=ae.pattern;u=null;let j=ae.short;if(j!==!1?se===j&&(h=Q):ae.isCustom===!0?(x=Q.exec(w,T,E,N),x!==null?(h=x[0],x.payload!==void 0&&(u=x.payload)):h=null):(this.updateLastIndex(Q,T),h=this.match(Q,e,T)),h!==null){if(o=ae.longerAlt,o!==void 0){let H=o.length;for(a=0;a<H;a++){let J=R[o[a]],he=J.pattern;if(d=null,J.isCustom===!0?(x=he.exec(w,T,E,N),x!==null?(s=x[0],x.payload!==void 0&&(d=x.payload)):s=null):(this.updateLastIndex(he,T),s=this.match(he,e,T)),s&&s.length>h.length){h=s,u=d,ae=J;break}}}break}}if(h!==null){if(p=h.length,g=ae.group,g!==void 0&&(f=ae.tokenTypeIdx,m=this.createTokenInstance(h,T,f,ae.tokenType,I,M,p),this.handlePayload(m,u),g===!1?S=this.addToken(E,S,m):N[g].push(m)),e=this.chopInput(e,p),T=T+p,M=this.computeNewColumn(M,p),$===!0&&ae.canLineTerminator===!0){let Q=0,j,H;_.lastIndex=0;do j=_.test(h),j===!0&&(H=_.lastIndex-1,Q++);while(j===!0);Q!==0&&(I=I+Q,M=p-H,this.updateTokenEndLineColumnLocation(m,g,H,Q,I,M,p))}this.handleModes(ae,K,W,m)}else{let Q=T,j=I,H=M,J=ie===!1;for(;J===!1&&T<k;)for(e=this.chopInput(e,1),T++,n=0;n<D;n++){let he=R[n],X=he.pattern,fe=he.short;if(fe!==!1?w.charCodeAt(T)===fe&&(J=!0):he.isCustom===!0?J=X.exec(w,T,E,N)!==null:(this.updateLastIndex(X,T),J=X.exec(e)!==null),J===!0)break}if(y=T-Q,M=this.computeNewColumn(M,y),v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w,Q,y,j,H),L.push({offset:Q,line:j,column:H,length:y,message:v}),ie===!1)break}}return this.hasCustom||(E.length=S),{tokens:E,groups:N,errors:L}}handleModes(e,r,i,n){if(e.pop===!0){let a=e.push;r(n),a!==void 0&&i.call(this,a)}else e.push!==void 0&&i.call(this,e.push)}chopInput(e,r){return e.substring(r)}updateLastIndex(e,r){e.lastIndex=r}updateTokenEndLineColumnLocation(e,r,i,n,a,s,o){let h,u;r!==void 0&&(h=i===o-1,u=h?-1:0,n===1&&h===!0||(e.endLine=a+u,e.endColumn=s-1+-u))}computeNewColumn(e,r){return e+r}createOffsetOnlyToken(e,r,i,n){return{image:e,startOffset:r,tokenTypeIdx:i,tokenType:n}}createStartOnlyToken(e,r,i,n,a,s){return{image:e,startOffset:r,startLine:a,startColumn:s,tokenTypeIdx:i,tokenType:n}}createFullToken(e,r,i,n,a,s,o){return{image:e,startOffset:r,endOffset:r+o-1,startLine:a,endLine:a,startColumn:s,endColumn:s+o-1,tokenTypeIdx:i,tokenType:n}}addTokenUsingPush(e,r,i){return e.push(i),r}addTokenUsingMemberAccess(e,r,i){return e[r]=i,r++,r}handlePayloadNoCustom(e,r){}handlePayloadWithCustom(e,r){r!==null&&(e.payload=r)}matchWithTest(e,r,i){return e.test(r)===!0?r.substring(i,e.lastIndex):null}matchWithExec(e,r){let i=e.exec(r);return i!==null?i[0]:null}},l(F1,"Lexer"),F1);xa.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";xa.NA=/NOT_APPLICABLE/;l(kd,"tokenLabel");l(TR,"hasTokenLabel");NNe="parent",_oe="categories",Aoe="label",Loe="group",Noe="push_mode",Ioe="pop_mode",Roe="longer_alt",Doe="line_breaks",Moe="start_chars_hint";l(m1,"createToken");l(Mhe,"createTokenInternal");Bh=m1({name:"EOF",pattern:xa.NA});jm([Bh]);l(mx,"createTokenInstance");l(ER,"tokenMatcher");g1={buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:i}){return`Expecting ${TR(t)?`--> ${kd(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:r,customUserDescription:i,ruleName:n}){let a="Expecting: ",s=`
but found: '`+_s(e).image+"'";if(i)return a+i+s;{let o=Ei(t,(d,p)=>d.concat(p),[]),h=dt(o,d=>`[${dt(d,p=>kd(p)).join(", ")}]`),u=`one of these possible Token sequences:
${dt(h,(d,p)=>`  ${p+1}. ${d}`).join(`
`)}`;return a+u+s}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:r,ruleName:i}){let n="Expecting: ",a=`
but found: '`+_s(e).image+"'";if(r)return n+r+a;{let s=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${dt(t,o=>`[${dt(o,h=>kd(h)).join(",")}]`).join(" ,")}>`;return n+s+a}}};Object.freeze(g1);INe={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},bd={buildDuplicateFoundError(t,e){function r(d){return d instanceof pi?d.terminalType.name:d instanceof wa?d.nonTerminalName:""}l(r,"getExtraProductionArgument");let i=t.name,n=_s(e),a=n.idx,s=yo(n),o=r(n),h=a>0,u=`->${s}${h?a:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${i}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){let e=dt(t.prefixPath,i=>kd(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){let e=dt(t.prefixPath,n=>kd(n)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx,i=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i},buildEmptyRepetitionError(t){let e=yo(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){let e=t.topLevelRule.name,r=dt(t.leftRecursionPath,n=>n.name),i=`${e} --> ${r.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${i}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof zm?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};l(Ohe,"resolveGrammar");RNe=(z1=class extends Gm{constructor(e,r){super(),this.nameToTopRule=e,this.errMsgProvider=r,this.errors=[]}resolveRefs(){Ie(Gr(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){let r=this.nameToTopRule[e.nonTerminalName];if(r)e.referencedRule=r;else{let i=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:i,type:ka.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}},l(z1,"GastRefResolverVisitor"),z1),DNe=(G1=class extends Wk{constructor(e,r){super(),this.topProd=e,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Ri(this.path.ruleStack).reverse(),this.occurrenceStack=Ri(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,r=[]){this.found||super.walk(e,r)}walkProdRef(e,r,i){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let n=r.concat(i);this.updateExpectedNext(),this.walk(e.referencedRule,n)}}updateExpectedNext(){_r(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},l(G1,"AbstractNextPossibleTokensWalker"),G1),MNe=(q1=class extends DNe{constructor(e,r){super(e,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,r,i){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let n=r.concat(i),a=new Va({definition:n});this.possibleTokTypes=qm(a),this.found=!0}}},l(q1,"NextAfterTokenWalker"),q1),Yk=(U1=class extends Wk{constructor(e,r){super(),this.topRule=e,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},l(U1,"AbstractNextTerminalAfterProductionWalker"),U1),ONe=(j1=class extends Yk{walkMany(e,r,i){if(e.idx===this.occurrence){let n=_s(r.concat(i));this.result.isEndOfRule=n===void 0,n instanceof pi&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkMany(e,r,i)}},l(j1,"NextTerminalAfterManyWalker"),j1),Ooe=(W1=class extends Yk{walkManySep(e,r,i){if(e.idx===this.occurrence){let n=_s(r.concat(i));this.result.isEndOfRule=n===void 0,n instanceof pi&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkManySep(e,r,i)}},l(W1,"NextTerminalAfterManySepWalker"),W1),$Ne=(V1=class extends Yk{walkAtLeastOne(e,r,i){if(e.idx===this.occurrence){let n=_s(r.concat(i));this.result.isEndOfRule=n===void 0,n instanceof pi&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkAtLeastOne(e,r,i)}},l(V1,"NextTerminalAfterAtLeastOneWalker"),V1),$oe=(Y1=class extends Yk{walkAtLeastOneSep(e,r,i){if(e.idx===this.occurrence){let n=_s(r.concat(i));this.result.isEndOfRule=n===void 0,n instanceof pi&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkAtLeastOneSep(e,r,i)}},l(Y1,"NextTerminalAfterAtLeastOneSepWalker"),Y1);l(ck,"possiblePathsFrom");l(CR,"nextPossibleTokensAfter");l($he,"expandTopLevelRule");(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(Si||(Si={}));l(Hk,"getProdType");l(PN,"getLookaheadPaths");l(Bhe,"buildLookaheadFuncForOr");l(Phe,"buildLookaheadFuncForOptionalProd");l(Fhe,"buildAlternativesLookAheadFunc");l(zhe,"buildSingleAlternativeLookaheadFunction");BNe=(H1=class extends Wk{constructor(e,r,i){super(),this.topProd=e,this.targetOccurrence=r,this.targetProdType=i}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,r,i,n){return e.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=i.concat(n),!0):!1}walkOption(e,r,i){this.checkIsTarget(e,Si.OPTION,r,i)||super.walkOption(e,r,i)}walkAtLeastOne(e,r,i){this.checkIsTarget(e,Si.REPETITION_MANDATORY,r,i)||super.walkOption(e,r,i)}walkAtLeastOneSep(e,r,i){this.checkIsTarget(e,Si.REPETITION_MANDATORY_WITH_SEPARATOR,r,i)||super.walkOption(e,r,i)}walkMany(e,r,i){this.checkIsTarget(e,Si.REPETITION,r,i)||super.walkOption(e,r,i)}walkManySep(e,r,i){this.checkIsTarget(e,Si.REPETITION_WITH_SEPARATOR,r,i)||super.walkOption(e,r,i)}},l(H1,"RestDefinitionFinderWalker"),H1),Ghe=(X1=class extends Gm{constructor(e,r,i){super(),this.targetOccurrence=e,this.targetProdType=r,this.targetRef=i,this.result=[]}checkIsTarget(e,r){e.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Si.OPTION)}visitRepetition(e){this.checkIsTarget(e,Si.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Si.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Si.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Si.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Si.ALTERNATION)}},l(X1,"InsideDefinitionFinderVisitor"),X1);l(FN,"initializeArrayOfArrays");l(Fw,"pathToHashKeys");l(qhe,"isUniquePrefixHash");l(SR,"lookAheadSequenceFromAlternatives");l(yx,"getLookaheadPathsForOr");l(vx,"getLookaheadPathsForOptionalProd");l(hk,"containsPath");l(Uhe,"isStrictPrefixOfPath");l(_R,"areTokenCategoriesNotUsed");l(jhe,"validateLookahead");l(Whe,"validateGrammar");l(Vhe,"validateDuplicateProductions");l(Yhe,"identifyProductionForDuplicates");l(AR,"getExtraProductionArgument");PNe=(K1=class extends Gm{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}},l(K1,"OccurrenceValidationCollector"),K1);l(Hhe,"validateRuleDoesNotAlreadyExist");l(Xhe,"validateRuleIsOverridden");l(LR,"validateNoLeftRecursion");l(Vb,"getFirstNoneTerminal");NR=(Z1=class extends Gm{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}},l(Z1,"OrCollector"),Z1);l(Khe,"validateEmptyOrAlternative");l(Zhe,"validateAmbiguousAlternationAlternatives");FNe=(Q1=class extends Gm{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}},l(Q1,"RepetitionCollector"),Q1);l(Qhe,"validateTooManyAlts");l(Jhe,"validateSomeNonEmptyLookaheadPath");l(eue,"checkAlternativesAmbiguities");l(tue,"checkPrefixAlternativesAmbiguities");l(rue,"checkTerminalAndNoneTerminalsNameSpace");l(iue,"resolveGrammar");l(nue,"validateGrammar");aue="MismatchedTokenException",sue="NoViableAltException",oue="EarlyExitException",lue="NotAllInputParsedException",cue=[aue,sue,oue,lue];Object.freeze(cue);l(tx,"isRecognitionException");Xk=(J1=class extends Error{constructor(e,r){super(e),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},l(J1,"RecognitionException"),J1),hue=(ef=class extends Xk{constructor(e,r,i){super(e,r),this.previousToken=i,this.name=aue}},l(ef,"MismatchedTokenException"),ef),zNe=(tf=class extends Xk{constructor(e,r,i){super(e,r),this.previousToken=i,this.name=sue}},l(tf,"NoViableAltException"),tf),GNe=(rf=class extends Xk{constructor(e,r){super(e,r),this.name=lue}},l(rf,"NotAllInputParsedException"),rf),qNe=(nf=class extends Xk{constructor(e,r,i){super(e,r),this.previousToken=i,this.name=oue}},l(nf,"EarlyExitException"),nf),yN={},uue="InRuleRecoveryException",UNe=(af=class extends Error{constructor(e){super(e),this.name=uue}},l(af,"InRuleRecoveryException"),af),jNe=(sf=class{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Gt(e,"recoveryEnabled")?e.recoveryEnabled:ac.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=due)}getTokenToInsert(e){let r=mx(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,r,i,n){let a=this.findReSyncTokenType(),s=this.exportLexerState(),o=[],h=!1,u=this.LA(1),d=this.LA(1),p=l(()=>{let g=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:n,actual:u,previous:g,ruleName:this.getCurrRuleFullName()}),m=new hue(f,u,this.LA(0));m.resyncedTokens=Yp(o),this.SAVE_ERROR(m)},"generateErrorMessage");for(;!h;)if(this.tokenMatcher(d,n)){p();return}else if(i.call(this)){p(),e.apply(this,r);return}else this.tokenMatcher(d,a)?h=!0:(d=this.SKIP_TOKEN(),this.addToResyncTokens(d,o));this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(e,r,i){return!(i===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,r)))}getFollowsForInRuleRecovery(e,r){let i=this.getCurrentGrammarPath(e,r);return this.getNextPossibleTokenTypes(i)}tryInRuleRecovery(e,r){if(this.canRecoverWithSingleTokenInsertion(e,r))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let i=this.SKIP_TOKEN();return this.consumeToken(),i}throw new UNe("sad sad panda")}canPerformInRuleRecovery(e,r){return this.canRecoverWithSingleTokenInsertion(e,r)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,r){if(!this.canTokenTypeBeInsertedInRecovery(e)||_r(r))return!1;let i=this.LA(1);return oo(r,n=>this.tokenMatcher(i,n))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){let r=this.getCurrFollowKey(),i=this.getFollowSetFromFollowKey(r);return Xn(i,e)}findReSyncTokenType(){let e=this.flattenFollowSet(),r=this.LA(1),i=2;for(;;){let n=oo(e,a=>ER(r,a));if(n!==void 0)return n;r=this.LA(i),i++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return yN;let e=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),i=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(i)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return dt(e,(i,n)=>n===0?yN:{ruleName:this.shortRuleNameToFullName(i),idxInCallingRule:r[n],inRule:this.shortRuleNameToFullName(e[n-1])})}flattenFollowSet(){let e=dt(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Xi(e)}getFollowSetFromFollowKey(e){if(e===yN)return[Bh];let r=e.ruleName+e.idxInCallingRule+Zce+e.inRule;return this.resyncFollows[r]}addToResyncTokens(e,r){return this.tokenMatcher(e,Bh)||r.push(e),r}reSyncTo(e){let r=[],i=this.LA(1);for(;this.tokenMatcher(i,e)===!1;)i=this.SKIP_TOKEN(),this.addToResyncTokens(i,r);return Yp(r)}attemptInRepetitionRecovery(e,r,i,n,a,s,o){}getCurrentGrammarPath(e,r){let i=this.getHumanReadableRuleStack(),n=Ri(this.RULE_OCCURRENCE_STACK);return{ruleStack:i,occurrenceStack:n,lastTok:e,lastTokOccurrence:r}}getHumanReadableRuleStack(){return dt(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}},l(sf,"Recoverable"),sf);l(due,"attemptInRepetitionRecovery");l(zw,"getKeyForAutomaticLookahead");IR=(of=class{constructor(e){var r;this.maxLookahead=(r=e==null?void 0:e.maxLookahead)!==null&&r!==void 0?r:ac.maxLookahead}validate(e){let r=this.validateNoLeftRecursion(e.rules);if(_r(r)){let i=this.validateEmptyOrAlternatives(e.rules),n=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),a=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...r,...i,...n,...a]}return r}validateNoLeftRecursion(e){return Fa(e,r=>LR(r,r,bd))}validateEmptyOrAlternatives(e){return Fa(e,r=>Khe(r,bd))}validateAmbiguousAlternationAlternatives(e,r){return Fa(e,i=>Zhe(i,r,bd))}validateSomeNonEmptyLookaheadPath(e,r){return Jhe(e,r,bd)}buildLookaheadForAlternation(e){return Bhe(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Fhe)}buildLookaheadForOptional(e){return Phe(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,Hk(e.prodType),zhe)}},l(of,"LLkLookaheadStrategy"),of),WNe=(lf=class{initLooksAhead(e){this.dynamicTokensEnabled=Gt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:ac.dynamicTokensEnabled,this.maxLookahead=Gt(e,"maxLookahead")?e.maxLookahead:ac.maxLookahead,this.lookaheadStrategy=Gt(e,"lookaheadStrategy")?e.lookaheadStrategy:new IR({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Ie(e,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{let{alternation:i,repetition:n,option:a,repetitionMandatory:s,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:h}=pue(r);Ie(i,u=>{let d=u.idx===0?"":u.idx;this.TRACE_INIT(`${yo(u)}${d}`,()=>{let p=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:r,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),g=zw(this.fullRuleNameToShort[r.name],256,u.idx);this.setLaFuncCache(g,p)})}),Ie(n,u=>{this.computeLookaheadFunc(r,u.idx,768,"Repetition",u.maxLookahead,yo(u))}),Ie(a,u=>{this.computeLookaheadFunc(r,u.idx,512,"Option",u.maxLookahead,yo(u))}),Ie(s,u=>{this.computeLookaheadFunc(r,u.idx,1024,"RepetitionMandatory",u.maxLookahead,yo(u))}),Ie(o,u=>{this.computeLookaheadFunc(r,u.idx,1536,"RepetitionMandatoryWithSeparator",u.maxLookahead,yo(u))}),Ie(h,u=>{this.computeLookaheadFunc(r,u.idx,1280,"RepetitionWithSeparator",u.maxLookahead,yo(u))})})})}computeLookaheadFunc(e,r,i,n,a,s){this.TRACE_INIT(`${s}${r===0?"":r}`,()=>{let o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:e,maxLookahead:a||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:n}),h=zw(this.fullRuleNameToShort[e.name],i,r);this.setLaFuncCache(h,o)})}getKeyForAutomaticLookahead(e,r){let i=this.getLastExplicitRuleShortName();return zw(i,e,r)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,r){this.lookAheadFuncsCache.set(e,r)}},l(lf,"LooksAhead"),lf),VNe=(cf=class extends Gm{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}},l(cf,"DslMethodsCollectorVisitor"),cf),Sw=new VNe;l(pue,"collectMethods");l(zN,"setNodeLocationOnlyOffset");l(GN,"setNodeLocationFull");l(gue,"addTerminalToCst");l(fue,"addNoneTerminalToCst");YNe="name";l(RR,"defineNameProp");l(mue,"defaultVisit");l(yue,"createBaseSemanticVisitorConstructor");l(vue,"createBaseVisitorConstructorWithDefaults");(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(qN||(qN={}));l(bue,"validateVisitor");l(xue,"validateMissingCstMethods");HNe=(hf=class{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Gt(e,"nodeLocationTracking")?e.nodeLocationTracking:ac.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ki,this.cstFinallyStateUpdate=Ki,this.cstPostTerminal=Ki,this.cstPostNonTerminal=Ki,this.cstPostRule=Ki;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=GN,this.setNodeLocationFromNode=GN,this.cstPostRule=Ki,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ki,this.setNodeLocationFromNode=Ki,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=zN,this.setNodeLocationFromNode=zN,this.cstPostRule=Ki,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ki,this.setNodeLocationFromNode=Ki,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ki,this.setNodeLocationFromNode=Ki,this.cstPostRule=Ki,this.setInitialNodeLocation=Ki;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){let r=this.LA(1);e.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){let r={name:e,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){let r=this.LA(0),i=e.location;i.startOffset<=r.startOffset?(i.endOffset=r.endOffset,i.endLine=r.endLine,i.endColumn=r.endColumn):(i.startOffset=NaN,i.startLine=NaN,i.startColumn=NaN)}cstPostRuleOnlyOffset(e){let r=this.LA(0),i=e.location;i.startOffset<=r.startOffset?i.endOffset=r.endOffset:i.startOffset=NaN}cstPostTerminal(e,r){let i=this.CST_STACK[this.CST_STACK.length-1];gue(i,r,e),this.setNodeLocationFromToken(i.location,r)}cstPostNonTerminal(e,r){let i=this.CST_STACK[this.CST_STACK.length-1];fue(i,r,e),this.setNodeLocationFromNode(i.location,e.location)}getBaseCstVisitorConstructor(){if(Ar(this.baseCstVisitorConstructor)){let e=yue(this.className,Fi(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Ar(this.baseCstVisitorWithDefaultsConstructor)){let e=vue(this.className,Fi(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},l(hf,"TreeBuilder"),hf),XNe=(uf=class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):uk}LA(e){let r=this.currIdx+e;return r<0||this.tokVectorLength<=r?uk:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},l(uf,"LexerAdapter"),uf),KNe=(df=class{ACTION(e){return e.call(this)}consume(e,r,i){return this.consumeInternal(r,e,i)}subrule(e,r,i){return this.subruleInternal(r,e,i)}option(e,r){return this.optionInternal(r,e)}or(e,r){return this.orInternal(r,e)}many(e,r){return this.manyInternal(e,r)}atLeastOne(e,r){return this.atLeastOneInternal(e,r)}CONSUME(e,r){return this.consumeInternal(e,0,r)}CONSUME1(e,r){return this.consumeInternal(e,1,r)}CONSUME2(e,r){return this.consumeInternal(e,2,r)}CONSUME3(e,r){return this.consumeInternal(e,3,r)}CONSUME4(e,r){return this.consumeInternal(e,4,r)}CONSUME5(e,r){return this.consumeInternal(e,5,r)}CONSUME6(e,r){return this.consumeInternal(e,6,r)}CONSUME7(e,r){return this.consumeInternal(e,7,r)}CONSUME8(e,r){return this.consumeInternal(e,8,r)}CONSUME9(e,r){return this.consumeInternal(e,9,r)}SUBRULE(e,r){return this.subruleInternal(e,0,r)}SUBRULE1(e,r){return this.subruleInternal(e,1,r)}SUBRULE2(e,r){return this.subruleInternal(e,2,r)}SUBRULE3(e,r){return this.subruleInternal(e,3,r)}SUBRULE4(e,r){return this.subruleInternal(e,4,r)}SUBRULE5(e,r){return this.subruleInternal(e,5,r)}SUBRULE6(e,r){return this.subruleInternal(e,6,r)}SUBRULE7(e,r){return this.subruleInternal(e,7,r)}SUBRULE8(e,r){return this.subruleInternal(e,8,r)}SUBRULE9(e,r){return this.subruleInternal(e,9,r)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,r,i=dk){if(Xn(this.definedRulesNames,e)){let a={message:bd.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:ka.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(a)}this.definedRulesNames.push(e);let n=this.defineRule(e,r,i);return this[e]=n,n}OVERRIDE_RULE(e,r,i=dk){let n=Xhe(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(n);let a=this.defineRule(e,r,i);return this[e]=a,a}BACKTRACK(e,r){return function(){this.isBackTrackingStack.push(1);let i=this.saveRecogState();try{return e.apply(this,r),!0}catch(n){if(tx(n))return!1;throw n}finally{this.reloadRecogState(i),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Wce(Gr(this.gastProductionsCache))}},l(df,"RecognizerApi"),df),ZNe=(pf=class{initRecognizerEngine(e,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=ex,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Gt(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(sr(e)){if(_r(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(sr(e))this.tokensMap=Ei(e,(a,s)=>(a[s.name]=s,a),{});else if(Gt(e,"modes")&&Ss(Xi(Gr(e.modes)),Dhe)){let a=Xi(Gr(e.modes)),s=H5(a);this.tokensMap=Ei(s,(o,h)=>(o[h.name]=h,o),{})}else if(Yn(e))this.tokensMap=Ri(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Bh;let i=Gt(e,"modes")?Xi(Gr(e.modes)):Gr(e),n=Ss(i,a=>_r(a.categoryMatches));this.tokenMatcher=n?ex:Um,jm(Gr(this.tokensMap))}defineRule(e,r,i){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let n=Gt(i,"resyncEnabled")?i.resyncEnabled:dk.resyncEnabled,a=Gt(i,"recoveryValueFunc")?i.recoveryValueFunc:dk.recoveryValueFunc,s=this.ruleShortNameIdx<<12;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s;let o;return this.outputCst===!0?o=l(function(...h){try{this.ruleInvocationStateUpdate(s,e,this.subruleIdx),r.apply(this,h);let u=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(u),u}catch(u){return this.invokeRuleCatch(u,n,a)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry"):o=l(function(...h){try{return this.ruleInvocationStateUpdate(s,e,this.subruleIdx),r.apply(this,h)}catch(u){return this.invokeRuleCatch(u,n,a)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),Object.assign(o,{ruleName:e,originalGrammarAction:r})}invokeRuleCatch(e,r,i){let n=this.RULE_STACK.length===1,a=r&&!this.isBackTracking()&&this.recoveryEnabled;if(tx(e)){let s=e;if(a){let o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(s.resyncedTokens=this.reSyncTo(o),this.outputCst){let h=this.CST_STACK[this.CST_STACK.length-1];return h.recoveredNode=!0,h}else return i(e);else{if(this.outputCst){let h=this.CST_STACK[this.CST_STACK.length-1];h.recoveredNode=!0,s.partialCstResult=h}throw s}}else{if(n)return this.moveToTerminatedState(),i(e);throw s}}else throw e}optionInternal(e,r){let i=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(e,r,i)}optionInternalLogic(e,r,i){let n=this.getLaFuncFromCache(i),a;if(typeof e!="function"){a=e.DEF;let s=e.GATE;if(s!==void 0){let o=n;n=l(()=>s.call(this)&&o.call(this),"lookAheadFunc")}}else a=e;if(n.call(this)===!0)return a.call(this)}atLeastOneInternal(e,r){let i=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,r,i)}atLeastOneInternalLogic(e,r,i){let n=this.getLaFuncFromCache(i),a;if(typeof r!="function"){a=r.DEF;let s=r.GATE;if(s!==void 0){let o=n;n=l(()=>s.call(this)&&o.call(this),"lookAheadFunc")}}else a=r;if(n.call(this)===!0){let s=this.doSingleRepetition(a);for(;n.call(this)===!0&&s===!0;)s=this.doSingleRepetition(a)}else throw this.raiseEarlyExitException(e,Si.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,r],n,1024,e,$Ne)}atLeastOneSepFirstInternal(e,r){let i=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,r,i)}atLeastOneSepFirstInternalLogic(e,r,i){let n=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(i).call(this)===!0){n.call(this);let s=l(()=>this.tokenMatcher(this.LA(1),a),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,s,n,$oe],s,1536,e,$oe)}else throw this.raiseEarlyExitException(e,Si.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(e,r){let i=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,r,i)}manyInternalLogic(e,r,i){let n=this.getLaFuncFromCache(i),a;if(typeof r!="function"){a=r.DEF;let o=r.GATE;if(o!==void 0){let h=n;n=l(()=>o.call(this)&&h.call(this),"lookaheadFunction")}}else a=r;let s=!0;for(;n.call(this)===!0&&s===!0;)s=this.doSingleRepetition(a);this.attemptInRepetitionRecovery(this.manyInternal,[e,r],n,768,e,ONe,s)}manySepFirstInternal(e,r){let i=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,r,i)}manySepFirstInternalLogic(e,r,i){let n=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(i).call(this)===!0){n.call(this);let s=l(()=>this.tokenMatcher(this.LA(1),a),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,s,n,Ooe],s,1280,e,Ooe)}}repetitionSepSecondInternal(e,r,i,n,a){for(;i();)this.CONSUME(r),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,r,i,n,a],i,1536,e,a)}doSingleRepetition(e){let r=this.getLexerPosition();return e.call(this),this.getLexerPosition()>r}orInternal(e,r){let i=this.getKeyForAutomaticLookahead(256,r),n=sr(e)?e:e.DEF,a=this.getLaFuncFromCache(i).call(this,n);if(a!==void 0)return n[a].ALT.call(this);this.raiseNoAltException(r,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let e=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new GNe(r,e))}}subruleInternal(e,r,i){let n;try{let a=i!==void 0?i.ARGS:void 0;return this.subruleIdx=r,n=e.apply(this,a),this.cstPostNonTerminal(n,i!==void 0&&i.LABEL!==void 0?i.LABEL:e.ruleName),n}catch(a){throw this.subruleInternalError(a,i,e.ruleName)}}subruleInternalError(e,r,i){throw tx(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:i),delete e.partialCstResult),e}consumeInternal(e,r,i){let n;try{let a=this.LA(1);this.tokenMatcher(a,e)===!0?(this.consumeToken(),n=a):this.consumeInternalError(e,a,i)}catch(a){n=this.consumeInternalRecovery(e,r,a)}return this.cstPostTerminal(i!==void 0&&i.LABEL!==void 0?i.LABEL:e.name,n),n}consumeInternalError(e,r,i){let n,a=this.LA(0);throw i!==void 0&&i.ERR_MSG?n=i.ERR_MSG:n=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:r,previous:a,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new hue(n,r,a))}consumeInternalRecovery(e,r,i){if(this.recoveryEnabled&&i.name==="MismatchedTokenException"&&!this.isBackTracking()){let n=this.getFollowsForInRuleRecovery(e,r);try{return this.tryInRuleRecovery(e,n)}catch(a){throw a.name===uue?i:a}}else throw i}saveRecogState(){let e=this.errors,r=Ri(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,r,i){this.RULE_OCCURRENCE_STACK.push(i),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Bh)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},l(pf,"RecognizerEngine"),pf),QNe=(gf=class{initErrorHandler(e){this._errors=[],this.errorMessageProvider=Gt(e,"errorMessageProvider")?e.errorMessageProvider:ac.errorMessageProvider}SAVE_ERROR(e){if(tx(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Ri(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Ri(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,r,i){let n=this.getCurrRuleFullName(),a=this.getGAstProductions()[n],s=vx(e,a,r,this.maxLookahead)[0],o=[];for(let u=1;u<=this.maxLookahead;u++)o.push(this.LA(u));let h=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:s,actual:o,previous:this.LA(0),customUserDescription:i,ruleName:n});throw this.SAVE_ERROR(new qNe(h,this.LA(1),this.LA(0)))}raiseNoAltException(e,r){let i=this.getCurrRuleFullName(),n=this.getGAstProductions()[i],a=yx(e,n,this.maxLookahead),s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));let o=this.LA(0),h=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:a,actual:s,previous:o,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new zNe(h,this.LA(1),o))}},l(gf,"ErrorHandler"),gf),JNe=(ff=class{initContentAssist(){}computeContentAssist(e,r){let i=this.gastProductionsCache[e];if(Ar(i))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return CR([i],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let r=_s(e.ruleStack),i=this.getGAstProductions()[r];return new MNe(i,e).startWalking()}},l(ff,"ContentAssist"),ff),Kk={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Kk);Boe=!0,Poe=Math.pow(2,8)-1,wue=m1({name:"RECORDING_PHASE_TOKEN",pattern:xa.NA});jm([wue]);kue=mx(wue,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(kue);eIe={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},tIe=(mf=class{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){let r=e>0?e:"";this[`CONSUME${r}`]=function(i,n){return this.consumeInternalRecord(i,e,n)},this[`SUBRULE${r}`]=function(i,n){return this.subruleInternalRecord(i,e,n)},this[`OPTION${r}`]=function(i){return this.optionInternalRecord(i,e)},this[`OR${r}`]=function(i){return this.orInternalRecord(i,e)},this[`MANY${r}`]=function(i){this.manyInternalRecord(e,i)},this[`MANY_SEP${r}`]=function(i){this.manySepFirstInternalRecord(e,i)},this[`AT_LEAST_ONE${r}`]=function(i){this.atLeastOneInternalRecord(e,i)},this[`AT_LEAST_ONE_SEP${r}`]=function(i){this.atLeastOneSepFirstInternalRecord(e,i)}}this.consume=function(e,r,i){return this.consumeInternalRecord(r,e,i)},this.subrule=function(e,r,i){return this.subruleInternalRecord(r,e,i)},this.option=function(e,r){return this.optionInternalRecord(r,e)},this.or=function(e,r){return this.orInternalRecord(r,e)},this.many=function(e,r){this.manyInternalRecord(e,r)},this.atLeastOne=function(e,r){this.atLeastOneInternalRecord(e,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let e=this;for(let r=0;r<10;r++){let i=r>0?r:"";delete e[`CONSUME${i}`],delete e[`SUBRULE${i}`],delete e[`OPTION${i}`],delete e[`OR${i}`],delete e[`MANY${i}`],delete e[`MANY_SEP${i}`],delete e[`AT_LEAST_ONE${i}`],delete e[`AT_LEAST_ONE_SEP${i}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,r){return()=>!0}LA_RECORD(e){return uk}topLevelRuleRecord(e,r){try{let i=new zm({definition:[],name:e});return i.name=e,this.recordingProdStack.push(i),r.call(this),this.recordingProdStack.pop(),i}catch(i){if(i.KNOWN_RECORDER_ERROR!==!0)try{i.message=i.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw i}throw i}}optionInternalRecord(e,r){return Lg.call(this,Mn,e,r)}atLeastOneInternalRecord(e,r){Lg.call(this,cs,r,e)}atLeastOneSepFirstInternalRecord(e,r){Lg.call(this,hs,r,e,Boe)}manyInternalRecord(e,r){Lg.call(this,Mi,r,e)}manySepFirstInternalRecord(e,r){Lg.call(this,Ya,r,e,Boe)}orInternalRecord(e,r){return Tue.call(this,e,r)}subruleInternalRecord(e,r,i){if(rx(r),!e||Gt(e,"ruleName")===!1){let o=new Error(`<SUBRULE${UN(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}let n=Cs(this.recordingProdStack),a=e.ruleName,s=new wa({idx:r,nonTerminalName:a,label:i==null?void 0:i.LABEL,referencedRule:void 0});return n.definition.push(s),this.outputCst?eIe:Kk}consumeInternalRecord(e,r,i){if(rx(r),!kR(e)){let s=new Error(`<CONSUME${UN(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}let n=Cs(this.recordingProdStack),a=new pi({idx:r,terminalType:e,label:i==null?void 0:i.LABEL});return n.definition.push(a),kue}},l(mf,"GastRecorder"),mf);l(Lg,"recordProd");l(Tue,"recordOrProd");l(UN,"getIdxSuffix");l(rx,"assertMethodIdxIsValid");rIe=(yf=class{initPerformanceTracer(e){if(Gt(e,"traceInitPerf")){let r=e.traceInitPerf,i=typeof r=="number";this.traceInitMaxIdent=i?r:1/0,this.traceInitPerf=i?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=ac.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;let i=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${i}--> <${e}>`);let{time:n,value:a}=mR(r),s=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${i}<-- <${e}> time: ${n}ms`),this.traceInitIndent--,a}else return r()}},l(yf,"PerformanceTracer"),yf);l(Eue,"applyMixins");uk=mx(Bh,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(uk);ac=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:g1,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),dk=Object.freeze({recoveryValueFunc:l(()=>{},"recoveryValueFunc"),resyncEnabled:!0});(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(ka||(ka={}));l(jN,"EMPTY_ALT");DR=(Ed=class{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{yR(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Ie(this.definedRulesNames,n=>{let a=this[n].originalGrammarAction,s;this.TRACE_INIT(`${n} Rule`,()=>{s=this.topLevelRuleRecord(n,a)}),this.gastProductionsCache[n]=s})}finally{this.disableRecording()}});let i=[];if(this.TRACE_INIT("Grammar Resolving",()=>{i=iue({rules:Gr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(i)}),this.TRACE_INIT("Grammar Validations",()=>{if(_r(i)&&this.skipValidations===!1){let n=nue({rules:Gr(this.gastProductionsCache),tokenTypes:Gr(this.tokensMap),errMsgProvider:bd,grammarName:r}),a=jhe({lookaheadStrategy:this.lookaheadStrategy,rules:Gr(this.gastProductionsCache),tokenTypes:Gr(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(n,a)}}),_r(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let n=Qce(Gr(this.gastProductionsCache));this.resyncFollows=n}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var n,a;(a=(n=this.lookaheadStrategy).initialize)===null||a===void 0||a.call(n,{rules:Gr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Gr(this.gastProductionsCache))})),!Ed.DEFER_DEFINITION_ERRORS_HANDLING&&!_r(this.definitionErrors))throw e=dt(this.definitionErrors,n=>n.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let i=this;if(i.initErrorHandler(r),i.initLexerAdapter(),i.initLooksAhead(r),i.initRecognizerEngine(e,r),i.initRecoverable(r),i.initTreeBuilder(r),i.initContentAssist(),i.initGastRecorder(r),i.initPerformanceTracer(r),Gt(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Gt(r,"skipValidations")?r.skipValidations:ac.skipValidations}},l(Ed,"Parser"),Ed);DR.DEFER_DEFINITION_ERRORS_HANDLING=!1;Eue(DR,[jNe,WNe,HNe,XNe,ZNe,KNe,QNe,JNe,tIe,rIe]);iIe=(vf=class extends DR{constructor(e,r=ac){let i=Ri(r);i.outputCst=!1,super(e,i)}},l(vf,"EmbeddedActionsParser"),vf);l(Rd,"buildATNKey");Ph=1,nIe=2,Cue=4,Sue=5,bx=7,aIe=8,sIe=9,oIe=10,lIe=11,_ue=12,MR=(bf=class{constructor(e){this.target=e}isEpsilon(){return!1}},l(bf,"AbstractTransition"),bf),OR=(xf=class extends MR{constructor(e,r){super(e),this.tokenType=r}},l(xf,"AtomTransition"),xf),Aue=(wf=class extends MR{constructor(e){super(e)}isEpsilon(){return!0}},l(wf,"EpsilonTransition"),wf),$R=(kf=class extends MR{constructor(e,r,i){super(e),this.rule=r,this.followState=i}isEpsilon(){return!0}},l(kf,"RuleTransition"),kf);l(Lue,"createATN");l(Nue,"createRuleStartAndStopATNStates");l(BR,"atom");l(Iue,"repetition");l(Rue,"repetitionSep");l(Due,"repetitionMandatory");l(Mue,"repetitionMandatorySep");l(Oue,"alternation");l($ue,"option");l(Uh,"block");l(PR,"plus");l(FR,"star");l(Bue,"optional");l(lc,"defineDecisionState");l($d,"makeAlts");l(Pue,"getProdType");l(Fue,"makeBlock");l(Zk,"tokenRef");l(zue,"ruleRef");l(Gue,"buildRuleHandle");l(qi,"epsilon");l(cn,"newState");l(Qk,"addTransition");l(que,"removeState");pk={},WN=(Tf=class{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){let r=zR(e);r in this.map||(this.map[r]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return dt(this.configs,e=>e.alt)}get key(){let e="";for(let r in this.map)e+=r+":";return e}},l(Tf,"ATNConfigSet"),Tf);l(zR,"getATNConfigKey");l(Uue,"createDFACache");jue=(Ef=class{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,r){this.predicates[e]=r}toString(){let e="",r=this.predicates.length;for(let i=0;i<r;i++)e+=this.predicates[i]===!0?"1":"0";return e}},l(Ef,"PredicateSet"),Ef),Foe=new jue,cIe=(Cf=class extends IR{constructor(e){var r;super(),this.logging=(r=e==null?void 0:e.logging)!==null&&r!==void 0?r:(i=>console.log(i))}initialize(e){this.atn=Lue(e.rules),this.dfas=Wue(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){let{prodOccurrence:r,rule:i,hasPredicates:n,dynamicTokensEnabled:a}=e,s=this.dfas,o=this.logging,h=Rd(i,"Alternation",r),u=this.atn.decisionMap[h].decision,d=dt(PN({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:i}),p=>dt(p,g=>g[0]));if(VN(d,!1)&&!a){let p=Ei(d,(g,f,m)=>(Ie(f,y=>{y&&(g[y.tokenTypeIdx]=m,Ie(y.categoryMatches,b=>{g[b]=m}))}),g),{});return n?function(g){var f;let m=this.LA(1),y=p[m.tokenTypeIdx];if(g!==void 0&&y!==void 0){let b=(f=g[y])===null||f===void 0?void 0:f.GATE;if(b!==void 0&&b.call(this)===!1)return}return y}:function(){let g=this.LA(1);return p[g.tokenTypeIdx]}}else return n?function(p){let g=new jue,f=p===void 0?0:p.length;for(let y=0;y<f;y++){let b=p==null?void 0:p[y].GATE;g.set(y,b===void 0||b.call(this))}let m=Gw.call(this,s,u,g,o);return typeof m=="number"?m:void 0}:function(){let p=Gw.call(this,s,u,Foe,o);return typeof p=="number"?p:void 0}}buildLookaheadForOptional(e){let{prodOccurrence:r,rule:i,prodType:n,dynamicTokensEnabled:a}=e,s=this.dfas,o=this.logging,h=Rd(i,n,r),u=this.atn.decisionMap[h].decision,d=dt(PN({maxLookahead:1,occurrence:r,prodType:n,rule:i}),p=>dt(p,g=>g[0]));if(VN(d)&&d[0][0]&&!a){let p=d[0],g=Xi(p);if(g.length===1&&_r(g[0].categoryMatches)){let f=g[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===f}}else{let f=Ei(g,(m,y)=>(y!==void 0&&(m[y.tokenTypeIdx]=!0,Ie(y.categoryMatches,b=>{m[b]=!0})),m),{});return function(){let m=this.LA(1);return f[m.tokenTypeIdx]===!0}}}return function(){let p=Gw.call(this,s,u,Foe,o);return typeof p=="object"?!1:p===0}}},l(Cf,"LLStarLookaheadStrategy"),Cf);l(VN,"isLL1Sequence");l(Wue,"initATNSimulator");l(Gw,"adaptivePredict");l(Vue,"performLookahead");l(Yue,"computeLookaheadTarget");l(Hue,"reportLookaheadAmbiguity");l(Xue,"buildAmbiguityError");l(Kue,"getProductionDslName");l(Zue,"buildAdaptivePredictError");l(Que,"getExistingTargetState");l(Jue,"computeReachSet");l(ede,"getReachableTarget");l(tde,"getUniqueAlt");l(GR,"newDFAState");l(YN,"addDFAEdge");l(qR,"addDFAState");l(rde,"computeStartState");l(ix,"closure");l(ide,"getEpsilonTarget");l(nde,"hasConfigInRuleStopState");l(ade,"allConfigsInRuleStopStates");l(sde,"hasConflictTerminatingPrediction");l(ode,"getConflictingAltSets");l(lde,"hasConflictingAltSet");l(cde,"hasStateAssociatedWithOneAlt");(function(t){function e(r){return typeof r=="string"}l(e,"is"),t.is=e})(zoe||(zoe={}));(function(t){function e(r){return typeof r=="string"}l(e,"is"),t.is=e})(HN||(HN={}));(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}l(e,"is"),t.is=e})(Goe||(Goe={}));(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}l(e,"is"),t.is=e})(gk||(gk={}));(function(t){function e(i,n){return i===Number.MAX_VALUE&&(i=gk.MAX_VALUE),n===Number.MAX_VALUE&&(n=gk.MAX_VALUE),{line:i,character:n}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&Oe.uinteger(n.line)&&Oe.uinteger(n.character)}l(r,"is"),t.is=r})(jr||(jr={}));(function(t){function e(i,n,a,s){if(Oe.uinteger(i)&&Oe.uinteger(n)&&Oe.uinteger(a)&&Oe.uinteger(s))return{start:jr.create(i,n),end:jr.create(a,s)};if(jr.is(i)&&jr.is(n))return{start:i,end:n};throw new Error(`Range#create called with invalid arguments[${i}, ${n}, ${a}, ${s}]`)}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&jr.is(n.start)&&jr.is(n.end)}l(r,"is"),t.is=r})(Lr||(Lr={}));(function(t){function e(i,n){return{uri:i,range:n}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&Lr.is(n.range)&&(Oe.string(n.uri)||Oe.undefined(n.uri))}l(r,"is"),t.is=r})(fk||(fk={}));(function(t){function e(i,n,a,s){return{targetUri:i,targetRange:n,targetSelectionRange:a,originSelectionRange:s}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&Lr.is(n.targetRange)&&Oe.string(n.targetUri)&&Lr.is(n.targetSelectionRange)&&(Lr.is(n.originSelectionRange)||Oe.undefined(n.originSelectionRange))}l(r,"is"),t.is=r})(qoe||(qoe={}));(function(t){function e(i,n,a,s){return{red:i,green:n,blue:a,alpha:s}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&Oe.numberRange(n.red,0,1)&&Oe.numberRange(n.green,0,1)&&Oe.numberRange(n.blue,0,1)&&Oe.numberRange(n.alpha,0,1)}l(r,"is"),t.is=r})(XN||(XN={}));(function(t){function e(i,n){return{range:i,color:n}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&Lr.is(n.range)&&XN.is(n.color)}l(r,"is"),t.is=r})(Uoe||(Uoe={}));(function(t){function e(i,n,a){return{label:i,textEdit:n,additionalTextEdits:a}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&Oe.string(n.label)&&(Oe.undefined(n.textEdit)||Mm.is(n))&&(Oe.undefined(n.additionalTextEdits)||Oe.typedArray(n.additionalTextEdits,Mm.is))}l(r,"is"),t.is=r})(joe||(joe={}));(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(Woe||(Woe={}));(function(t){function e(i,n,a,s,o,h){let u={startLine:i,endLine:n};return Oe.defined(a)&&(u.startCharacter=a),Oe.defined(s)&&(u.endCharacter=s),Oe.defined(o)&&(u.kind=o),Oe.defined(h)&&(u.collapsedText=h),u}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&Oe.uinteger(n.startLine)&&Oe.uinteger(n.startLine)&&(Oe.undefined(n.startCharacter)||Oe.uinteger(n.startCharacter))&&(Oe.undefined(n.endCharacter)||Oe.uinteger(n.endCharacter))&&(Oe.undefined(n.kind)||Oe.string(n.kind))}l(r,"is"),t.is=r})(Voe||(Voe={}));(function(t){function e(i,n){return{location:i,message:n}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&fk.is(n.location)&&Oe.string(n.message)}l(r,"is"),t.is=r})(KN||(KN={}));(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(Yoe||(Yoe={}));(function(t){t.Unnecessary=1,t.Deprecated=2})(Hoe||(Hoe={}));(function(t){function e(r){let i=r;return Oe.objectLiteral(i)&&Oe.string(i.href)}l(e,"is"),t.is=e})(Xoe||(Xoe={}));(function(t){function e(i,n,a,s,o,h){let u={range:i,message:n};return Oe.defined(a)&&(u.severity=a),Oe.defined(s)&&(u.code=s),Oe.defined(o)&&(u.source=o),Oe.defined(h)&&(u.relatedInformation=h),u}l(e,"create"),t.create=e;function r(i){var n;let a=i;return Oe.defined(a)&&Lr.is(a.range)&&Oe.string(a.message)&&(Oe.number(a.severity)||Oe.undefined(a.severity))&&(Oe.integer(a.code)||Oe.string(a.code)||Oe.undefined(a.code))&&(Oe.undefined(a.codeDescription)||Oe.string((n=a.codeDescription)===null||n===void 0?void 0:n.href))&&(Oe.string(a.source)||Oe.undefined(a.source))&&(Oe.undefined(a.relatedInformation)||Oe.typedArray(a.relatedInformation,KN.is))}l(r,"is"),t.is=r})(mk||(mk={}));(function(t){function e(i,n,...a){let s={title:i,command:n};return Oe.defined(a)&&a.length>0&&(s.arguments=a),s}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&Oe.string(n.title)&&Oe.string(n.command)}l(r,"is"),t.is=r})(Dm||(Dm={}));(function(t){function e(a,s){return{range:a,newText:s}}l(e,"replace"),t.replace=e;function r(a,s){return{range:{start:a,end:a},newText:s}}l(r,"insert"),t.insert=r;function i(a){return{range:a,newText:""}}l(i,"del"),t.del=i;function n(a){let s=a;return Oe.objectLiteral(s)&&Oe.string(s.newText)&&Lr.is(s.range)}l(n,"is"),t.is=n})(Mm||(Mm={}));(function(t){function e(i,n,a){let s={label:i};return n!==void 0&&(s.needsConfirmation=n),a!==void 0&&(s.description=a),s}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&Oe.string(n.label)&&(Oe.boolean(n.needsConfirmation)||n.needsConfirmation===void 0)&&(Oe.string(n.description)||n.description===void 0)}l(r,"is"),t.is=r})(ZN||(ZN={}));(function(t){function e(r){let i=r;return Oe.string(i)}l(e,"is"),t.is=e})(Om||(Om={}));(function(t){function e(a,s,o){return{range:a,newText:s,annotationId:o}}l(e,"replace"),t.replace=e;function r(a,s,o){return{range:{start:a,end:a},newText:s,annotationId:o}}l(r,"insert"),t.insert=r;function i(a,s){return{range:a,newText:"",annotationId:s}}l(i,"del"),t.del=i;function n(a){let s=a;return Mm.is(s)&&(ZN.is(s.annotationId)||Om.is(s.annotationId))}l(n,"is"),t.is=n})(Koe||(Koe={}));(function(t){function e(i,n){return{textDocument:i,edits:n}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&iI.is(n.textDocument)&&Array.isArray(n.edits)}l(r,"is"),t.is=r})(QN||(QN={}));(function(t){function e(i,n,a){let s={kind:"create",uri:i};return n!==void 0&&(n.overwrite!==void 0||n.ignoreIfExists!==void 0)&&(s.options=n),a!==void 0&&(s.annotationId=a),s}l(e,"create"),t.create=e;function r(i){let n=i;return n&&n.kind==="create"&&Oe.string(n.uri)&&(n.options===void 0||(n.options.overwrite===void 0||Oe.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||Oe.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||Om.is(n.annotationId))}l(r,"is"),t.is=r})(JN||(JN={}));(function(t){function e(i,n,a,s){let o={kind:"rename",oldUri:i,newUri:n};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}l(e,"create"),t.create=e;function r(i){let n=i;return n&&n.kind==="rename"&&Oe.string(n.oldUri)&&Oe.string(n.newUri)&&(n.options===void 0||(n.options.overwrite===void 0||Oe.boolean(n.options.overwrite))&&(n.options.ignoreIfExists===void 0||Oe.boolean(n.options.ignoreIfExists)))&&(n.annotationId===void 0||Om.is(n.annotationId))}l(r,"is"),t.is=r})(eI||(eI={}));(function(t){function e(i,n,a){let s={kind:"delete",uri:i};return n!==void 0&&(n.recursive!==void 0||n.ignoreIfNotExists!==void 0)&&(s.options=n),a!==void 0&&(s.annotationId=a),s}l(e,"create"),t.create=e;function r(i){let n=i;return n&&n.kind==="delete"&&Oe.string(n.uri)&&(n.options===void 0||(n.options.recursive===void 0||Oe.boolean(n.options.recursive))&&(n.options.ignoreIfNotExists===void 0||Oe.boolean(n.options.ignoreIfNotExists)))&&(n.annotationId===void 0||Om.is(n.annotationId))}l(r,"is"),t.is=r})(tI||(tI={}));(function(t){function e(r){let i=r;return i&&(i.changes!==void 0||i.documentChanges!==void 0)&&(i.documentChanges===void 0||i.documentChanges.every(n=>Oe.string(n.kind)?JN.is(n)||eI.is(n)||tI.is(n):QN.is(n)))}l(e,"is"),t.is=e})(rI||(rI={}));(function(t){function e(i){return{uri:i}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&Oe.string(n.uri)}l(r,"is"),t.is=r})(Zoe||(Zoe={}));(function(t){function e(i,n){return{uri:i,version:n}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&Oe.string(n.uri)&&Oe.integer(n.version)}l(r,"is"),t.is=r})(Qoe||(Qoe={}));(function(t){function e(i,n){return{uri:i,version:n}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&Oe.string(n.uri)&&(n.version===null||Oe.integer(n.version))}l(r,"is"),t.is=r})(iI||(iI={}));(function(t){function e(i,n,a,s){return{uri:i,languageId:n,version:a,text:s}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&Oe.string(n.uri)&&Oe.string(n.languageId)&&Oe.integer(n.version)&&Oe.string(n.text)}l(r,"is"),t.is=r})(Joe||(Joe={}));(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){let i=r;return i===t.PlainText||i===t.Markdown}l(e,"is"),t.is=e})(nI||(nI={}));(function(t){function e(r){let i=r;return Oe.objectLiteral(r)&&nI.is(i.kind)&&Oe.string(i.value)}l(e,"is"),t.is=e})(nx||(nx={}));(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(ele||(ele={}));(function(t){t.PlainText=1,t.Snippet=2})(tle||(tle={}));(function(t){t.Deprecated=1})(rle||(rle={}));(function(t){function e(i,n,a){return{newText:i,insert:n,replace:a}}l(e,"create"),t.create=e;function r(i){let n=i;return n&&Oe.string(n.newText)&&Lr.is(n.insert)&&Lr.is(n.replace)}l(r,"is"),t.is=r})(ile||(ile={}));(function(t){t.asIs=1,t.adjustIndentation=2})(nle||(nle={}));(function(t){function e(r){let i=r;return i&&(Oe.string(i.detail)||i.detail===void 0)&&(Oe.string(i.description)||i.description===void 0)}l(e,"is"),t.is=e})(ale||(ale={}));(function(t){function e(r){return{label:r}}l(e,"create"),t.create=e})(sle||(sle={}));(function(t){function e(r,i){return{items:r||[],isIncomplete:!!i}}l(e,"create"),t.create=e})(ole||(ole={}));(function(t){function e(i){return i.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}l(e,"fromPlainText"),t.fromPlainText=e;function r(i){let n=i;return Oe.string(n)||Oe.objectLiteral(n)&&Oe.string(n.language)&&Oe.string(n.value)}l(r,"is"),t.is=r})(yk||(yk={}));(function(t){function e(r){let i=r;return!!i&&Oe.objectLiteral(i)&&(nx.is(i.contents)||yk.is(i.contents)||Oe.typedArray(i.contents,yk.is))&&(r.range===void 0||Lr.is(r.range))}l(e,"is"),t.is=e})(lle||(lle={}));(function(t){function e(r,i){return i?{label:r,documentation:i}:{label:r}}l(e,"create"),t.create=e})(cle||(cle={}));(function(t){function e(r,i,...n){let a={label:r};return Oe.defined(i)&&(a.documentation=i),Oe.defined(n)?a.parameters=n:a.parameters=[],a}l(e,"create"),t.create=e})(hle||(hle={}));(function(t){t.Text=1,t.Read=2,t.Write=3})(ule||(ule={}));(function(t){function e(r,i){let n={range:r};return Oe.number(i)&&(n.kind=i),n}l(e,"create"),t.create=e})(dle||(dle={}));(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(ple||(ple={}));(function(t){t.Deprecated=1})(gle||(gle={}));(function(t){function e(r,i,n,a,s){let o={name:r,kind:i,location:{uri:a,range:n}};return s&&(o.containerName=s),o}l(e,"create"),t.create=e})(fle||(fle={}));(function(t){function e(r,i,n,a){return a!==void 0?{name:r,kind:i,location:{uri:n,range:a}}:{name:r,kind:i,location:{uri:n}}}l(e,"create"),t.create=e})(mle||(mle={}));(function(t){function e(i,n,a,s,o,h){let u={name:i,detail:n,kind:a,range:s,selectionRange:o};return h!==void 0&&(u.children=h),u}l(e,"create"),t.create=e;function r(i){let n=i;return n&&Oe.string(n.name)&&Oe.number(n.kind)&&Lr.is(n.range)&&Lr.is(n.selectionRange)&&(n.detail===void 0||Oe.string(n.detail))&&(n.deprecated===void 0||Oe.boolean(n.deprecated))&&(n.children===void 0||Array.isArray(n.children))&&(n.tags===void 0||Array.isArray(n.tags))}l(r,"is"),t.is=r})(yle||(yle={}));(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(vle||(vle={}));(function(t){t.Invoked=1,t.Automatic=2})(vk||(vk={}));(function(t){function e(i,n,a){let s={diagnostics:i};return n!=null&&(s.only=n),a!=null&&(s.triggerKind=a),s}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&Oe.typedArray(n.diagnostics,mk.is)&&(n.only===void 0||Oe.typedArray(n.only,Oe.string))&&(n.triggerKind===void 0||n.triggerKind===vk.Invoked||n.triggerKind===vk.Automatic)}l(r,"is"),t.is=r})(ble||(ble={}));(function(t){function e(i,n,a){let s={title:i},o=!0;return typeof n=="string"?(o=!1,s.kind=n):Dm.is(n)?s.command=n:s.edit=n,o&&a!==void 0&&(s.kind=a),s}l(e,"create"),t.create=e;function r(i){let n=i;return n&&Oe.string(n.title)&&(n.diagnostics===void 0||Oe.typedArray(n.diagnostics,mk.is))&&(n.kind===void 0||Oe.string(n.kind))&&(n.edit!==void 0||n.command!==void 0)&&(n.command===void 0||Dm.is(n.command))&&(n.isPreferred===void 0||Oe.boolean(n.isPreferred))&&(n.edit===void 0||rI.is(n.edit))}l(r,"is"),t.is=r})(xle||(xle={}));(function(t){function e(i,n){let a={range:i};return Oe.defined(n)&&(a.data=n),a}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&Lr.is(n.range)&&(Oe.undefined(n.command)||Dm.is(n.command))}l(r,"is"),t.is=r})(wle||(wle={}));(function(t){function e(i,n){return{tabSize:i,insertSpaces:n}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&Oe.uinteger(n.tabSize)&&Oe.boolean(n.insertSpaces)}l(r,"is"),t.is=r})(kle||(kle={}));(function(t){function e(i,n,a){return{range:i,target:n,data:a}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&Lr.is(n.range)&&(Oe.undefined(n.target)||Oe.string(n.target))}l(r,"is"),t.is=r})(Tle||(Tle={}));(function(t){function e(i,n){return{range:i,parent:n}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&Lr.is(n.range)&&(n.parent===void 0||t.is(n.parent))}l(r,"is"),t.is=r})(Ele||(Ele={}));(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(Cle||(Cle={}));(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Sle||(Sle={}));(function(t){function e(r){let i=r;return Oe.objectLiteral(i)&&(i.resultId===void 0||typeof i.resultId=="string")&&Array.isArray(i.data)&&(i.data.length===0||typeof i.data[0]=="number")}l(e,"is"),t.is=e})(_le||(_le={}));(function(t){function e(i,n){return{range:i,text:n}}l(e,"create"),t.create=e;function r(i){let n=i;return n!=null&&Lr.is(n.range)&&Oe.string(n.text)}l(r,"is"),t.is=r})(Ale||(Ale={}));(function(t){function e(i,n,a){return{range:i,variableName:n,caseSensitiveLookup:a}}l(e,"create"),t.create=e;function r(i){let n=i;return n!=null&&Lr.is(n.range)&&Oe.boolean(n.caseSensitiveLookup)&&(Oe.string(n.variableName)||n.variableName===void 0)}l(r,"is"),t.is=r})(Lle||(Lle={}));(function(t){function e(i,n){return{range:i,expression:n}}l(e,"create"),t.create=e;function r(i){let n=i;return n!=null&&Lr.is(n.range)&&(Oe.string(n.expression)||n.expression===void 0)}l(r,"is"),t.is=r})(Nle||(Nle={}));(function(t){function e(i,n){return{frameId:i,stoppedLocation:n}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.defined(n)&&Lr.is(i.stoppedLocation)}l(r,"is"),t.is=r})(Ile||(Ile={}));(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}l(e,"is"),t.is=e})(aI||(aI={}));(function(t){function e(i){return{value:i}}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&(n.tooltip===void 0||Oe.string(n.tooltip)||nx.is(n.tooltip))&&(n.location===void 0||fk.is(n.location))&&(n.command===void 0||Dm.is(n.command))}l(r,"is"),t.is=r})(sI||(sI={}));(function(t){function e(i,n,a){let s={position:i,label:n};return a!==void 0&&(s.kind=a),s}l(e,"create"),t.create=e;function r(i){let n=i;return Oe.objectLiteral(n)&&jr.is(n.position)&&(Oe.string(n.label)||Oe.typedArray(n.label,sI.is))&&(n.kind===void 0||aI.is(n.kind))&&n.textEdits===void 0||Oe.typedArray(n.textEdits,Mm.is)&&(n.tooltip===void 0||Oe.string(n.tooltip)||nx.is(n.tooltip))&&(n.paddingLeft===void 0||Oe.boolean(n.paddingLeft))&&(n.paddingRight===void 0||Oe.boolean(n.paddingRight))}l(r,"is"),t.is=r})(Rle||(Rle={}));(function(t){function e(r){return{kind:"snippet",value:r}}l(e,"createSnippet"),t.createSnippet=e})(Dle||(Dle={}));(function(t){function e(r,i,n,a){return{insertText:r,filterText:i,range:n,command:a}}l(e,"create"),t.create=e})(Mle||(Mle={}));(function(t){function e(r){return{items:r}}l(e,"create"),t.create=e})(Ole||(Ole={}));(function(t){t.Invoked=0,t.Automatic=1})($le||($le={}));(function(t){function e(r,i){return{range:r,text:i}}l(e,"create"),t.create=e})(Ble||(Ble={}));(function(t){function e(r,i){return{triggerKind:r,selectedCompletionInfo:i}}l(e,"create"),t.create=e})(Ple||(Ple={}));(function(t){function e(r){let i=r;return Oe.objectLiteral(i)&&HN.is(i.uri)&&Oe.string(i.name)}l(e,"is"),t.is=e})(Fle||(Fle={}));(function(t){function e(a,s,o,h){return new hIe(a,s,o,h)}l(e,"create"),t.create=e;function r(a){let s=a;return!!(Oe.defined(s)&&Oe.string(s.uri)&&(Oe.undefined(s.languageId)||Oe.string(s.languageId))&&Oe.uinteger(s.lineCount)&&Oe.func(s.getText)&&Oe.func(s.positionAt)&&Oe.func(s.offsetAt))}l(r,"is"),t.is=r;function i(a,s){let o=a.getText(),h=n(s,(d,p)=>{let g=d.range.start.line-p.range.start.line;return g===0?d.range.start.character-p.range.start.character:g}),u=o.length;for(let d=h.length-1;d>=0;d--){let p=h[d],g=a.offsetAt(p.range.start),f=a.offsetAt(p.range.end);if(f<=u)o=o.substring(0,g)+p.newText+o.substring(f,o.length);else throw new Error("Overlapping edit");u=g}return o}l(i,"applyEdits"),t.applyEdits=i;function n(a,s){if(a.length<=1)return a;let o=a.length/2|0,h=a.slice(0,o),u=a.slice(o);n(h,s),n(u,s);let d=0,p=0,g=0;for(;d<h.length&&p<u.length;)s(h[d],u[p])<=0?a[g++]=h[d++]:a[g++]=u[p++];for(;d<h.length;)a[g++]=h[d++];for(;p<u.length;)a[g++]=u[p++];return a}l(n,"mergeSort")})(zle||(zle={}));hIe=(Sf=class{constructor(e,r,i,n){this._uri=e,this._languageId=r,this._version=i,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),i=this.offsetAt(e.end);return this._content.substring(r,i)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,i=!0;for(let n=0;n<r.length;n++){i&&(e.push(n),i=!1);let a=r.charAt(n);i=a==="\r"||a===`
`,a==="\r"&&n+1<r.length&&r.charAt(n+1)===`
`&&n++}i&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),i=0,n=r.length;if(n===0)return jr.create(0,e);for(;i<n;){let s=Math.floor((i+n)/2);r[s]>e?n=s:i=s+1}let a=i-1;return jr.create(a,e-r[a])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let i=r[e.line],n=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(i+e.character,n),i)}get lineCount(){return this.getLineOffsets().length}},l(Sf,"FullTextDocument"),Sf);(function(t){let e=Object.prototype.toString;function r(f){return typeof f<"u"}l(r,"defined"),t.defined=r;function i(f){return typeof f>"u"}l(i,"undefined"),t.undefined=i;function n(f){return f===!0||f===!1}l(n,"boolean"),t.boolean=n;function a(f){return e.call(f)==="[object String]"}l(a,"string"),t.string=a;function s(f){return e.call(f)==="[object Number]"}l(s,"number"),t.number=s;function o(f,m,y){return e.call(f)==="[object Number]"&&m<=f&&f<=y}l(o,"numberRange"),t.numberRange=o;function h(f){return e.call(f)==="[object Number]"&&-2147483648<=f&&f<=2147483647}l(h,"integer"),t.integer=h;function u(f){return e.call(f)==="[object Number]"&&0<=f&&f<=2147483647}l(u,"uinteger"),t.uinteger=u;function d(f){return e.call(f)==="[object Function]"}l(d,"func"),t.func=d;function p(f){return f!==null&&typeof f=="object"}l(p,"objectLiteral"),t.objectLiteral=p;function g(f,m){return Array.isArray(f)&&f.every(m)}l(g,"typedArray"),t.typedArray=g})(Oe||(Oe={}));hde=(_f=class{constructor(){this.nodeStack=[]}get current(){var e;return(e=this.nodeStack[this.nodeStack.length-1])!==null&&e!==void 0?e:this.rootNode}buildRootNode(e){return this.rootNode=new jR(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){let r=new Jk;return r.grammarSource=e,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(e,r){let i=new bk(e.startOffset,e.image.length,Kb(e),e.tokenType,!r);return i.grammarSource=r,i.root=this.rootNode,this.current.content.push(i),i}removeNode(e){let r=e.container;if(r){let i=r.content.indexOf(e);i>=0&&r.content.splice(i,1)}}addHiddenNodes(e){let r=[];for(let a of e){let s=new bk(a.startOffset,a.image.length,Kb(a),a.tokenType,!0);s.root=this.rootNode,r.push(s)}let i=this.current,n=!1;if(i.content.length>0){i.content.push(...r);return}for(;i.container;){let a=i.container.content.indexOf(i);if(a>0){i.container.content.splice(a,0,...r),n=!0;break}i=i.container}n||this.rootNode.content.unshift(...r)}construct(e){let r=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=r;let i=this.nodeStack.pop();(i==null?void 0:i.content.length)===0&&this.removeNode(i)}},l(_f,"CstNodeBuilder"),_f),UR=(Af=class{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,r;let i=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(r=this.container)===null||r===void 0?void 0:r.astNode;if(!i)throw new Error("This node has no associated AST element");return i}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},l(Af,"AbstractCstNode"),Af),bk=(Lf=class extends UR{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,r,i,n,a=!1){super(),this._hidden=a,this._offset=e,this._tokenType=n,this._length=r,this._range=i}},l(Lf,"LeafCstNodeImpl"),Lf),Jk=(Nf=class extends UR{constructor(){super(...arguments),this.content=new uIe(this)}get children(){return this.content}get offset(){var e,r;return(r=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&r!==void 0?r:0}get length(){return this.end-this.offset}get end(){var e,r;return(r=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&r!==void 0?r:0}get range(){let e=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(e&&r){if(this._rangeCache===void 0){let{range:i}=e,{range:n}=r;this._rangeCache={start:i.start,end:n.end.line<i.start.line?i.start:n.end}}return this._rangeCache}else return{start:jr.create(0,0),end:jr.create(0,0)}}get firstNonHiddenNode(){for(let e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){let r=this.content[e];if(!r.hidden)return r}return this.content[this.content.length-1]}},l(Nf,"CompositeCstNodeImpl"),Nf),uIe=(Cd=class extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,Cd.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,r,...i){return this.addParents(i),super.splice(e,r,...i)}addParents(e){for(let r of e)r.container=this.parent}},l(Cd,"CstNodeContainer"),Cd),jR=(If=class extends Jk{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}},l(If,"RootCstNodeImpl"),If),xk=Symbol("Datatype");l(qw,"isDataTypeNode");Gle="\u200B",ude=l(t=>t.endsWith(Gle)?t:t+Gle,"withRuleSuffix"),WR=(Rf=class{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;let r=this.lexer.definition,i=e.LanguageMetaData.mode==="production";this.wrapper=new pIe(r,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:i,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,r){this.wrapper.wrapOr(e,r)}optional(e,r){this.wrapper.wrapOption(e,r)}many(e,r){this.wrapper.wrapMany(e,r)}atLeastOne(e,r){this.wrapper.wrapAtLeastOne(e,r)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},l(Rf,"AbstractLangiumParser"),Rf),dde=(Df=class extends WR{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new hde,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,r){let i=this.computeRuleType(e),n=this.wrapper.DEFINE_RULE(ude(e.name),this.startImplementation(i,r).bind(this));return this.allRules.set(e.name,n),e.entry&&(this.mainRule=n),n}computeRuleType(e){if(!e.fragment)return dx(e)?xk:Fm(e)??e.name}parse(e,r={}){this.nodeBuilder.buildRootNode(e);let i=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=i.tokens;let n=r.rule?this.allRules.get(r.rule):this.mainRule;if(!n)throw new Error(r.rule?`No rule found with name '${r.rule}'`:"No main rule available.");let a=n.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(i.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:a,lexerErrors:i.errors,lexerReport:i.report,parserErrors:this.wrapper.errors}}startImplementation(e,r){return i=>{let n=!this.isRecording()&&e!==void 0;if(n){let s={$type:e};this.stack.push(s),e===xk&&(s.value="")}let a;try{a=r(i)}catch{a=void 0}return a===void 0&&n&&(a=this.construct()),a}}extractHiddenTokens(e){let r=this.lexerResult.hidden;if(!r.length)return[];let i=e.startOffset;for(let n=0;n<r.length;n++)if(r[n].startOffset>i)return r.splice(0,n);return r.splice(0,r.length)}consume(e,r,i){let n=this.wrapper.wrapConsume(e,r);if(!this.isRecording()&&this.isValidToken(n)){let a=this.extractHiddenTokens(n);this.nodeBuilder.addHiddenNodes(a);let s=this.nodeBuilder.buildLeafNode(n,i),{assignment:o,isCrossRef:h}=this.getAssignment(i),u=this.current;if(o){let d=rc(i)?n.image:this.converter.convert(n.image,s);this.assign(o.operator,o.feature,d,s,h)}else if(qw(u)){let d=n.image;rc(i)||(d=this.converter.convert(d,s).toString()),u.value+=d}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,r,i,n,a){let s;!this.isRecording()&&!i&&(s=this.nodeBuilder.buildCompositeNode(n));let o=this.wrapper.wrapSubrule(e,r,a);!this.isRecording()&&s&&s.length>0&&this.performSubruleAssignment(o,n,s)}performSubruleAssignment(e,r,i){let{assignment:n,isCrossRef:a}=this.getAssignment(r);if(n)this.assign(n.operator,n.feature,e,i,a);else if(!n){let s=this.current;if(qw(s))s.value+=e.toString();else if(typeof e=="object"&&e){let o=this.assignWithoutOverride(e,s);this.stack.pop(),this.stack.push(o)}}}action(e,r){if(!this.isRecording()){let i=this.current;if(r.feature&&r.operator){i=this.construct(),this.nodeBuilder.removeNode(i.$cstNode),this.nodeBuilder.buildCompositeNode(r).content.push(i.$cstNode);let n={$type:e};this.stack.push(n),this.assign(r.operator,r.feature,i,i.$cstNode,!1)}else i.$type=e}}construct(){if(this.isRecording())return;let e=this.current;return Pk(e),this.nodeBuilder.construct(e),this.stack.pop(),qw(e)?this.converter.convert(e.value,e.$cstNode):(YI(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){let r=Bm(e,tc);this.assignmentMap.set(e,{assignment:r,isCrossRef:r?cx(r.terminal):!1})}return this.assignmentMap.get(e)}assign(e,r,i,n,a){let s=this.current,o;switch(a&&typeof i=="string"?o=this.linker.buildReference(s,r,n,i):o=i,e){case"=":{s[r]=o;break}case"?=":{s[r]=!0;break}case"+=":Array.isArray(s[r])||(s[r]=[]),s[r].push(o)}}assignWithoutOverride(e,r){for(let[n,a]of Object.entries(r)){let s=e[n];s===void 0?e[n]=a:Array.isArray(s)&&Array.isArray(a)&&(a.push(...s),e[n]=a)}let i=e.$cstNode;return i&&(i.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}},l(Df,"LangiumParser"),Df),pde=(Mf=class{buildMismatchTokenMessage(e){return g1.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return g1.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return g1.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return g1.buildEarlyExitMessage(e)}},l(Mf,"AbstractParserErrorMessageProvider"),Mf),VR=(Of=class extends pde{buildMismatchTokenMessage({expected:e,actual:r}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}},l(Of,"LangiumParserErrorMessageProvider"),Of),gde=($f=class extends WR{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();let r=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,r){let i=this.wrapper.DEFINE_RULE(ude(e.name),this.startImplementation(r).bind(this));return this.allRules.set(e.name,i),e.entry&&(this.mainRule=i),i}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return r=>{let i=this.keepStackSize();try{e(r)}finally{this.resetStackSize(i)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,r,i){this.wrapper.wrapConsume(e,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,i],this.nextTokenIndex=this.currIdx+1)}subrule(e,r,i,n,a){this.before(n),this.wrapper.wrapSubrule(e,r,a),this.after(n)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){let r=this.elementStack.lastIndexOf(e);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}},l($f,"LangiumCompletionParser"),$f),dIe={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new VR},pIe=(Bf=class extends iIe{constructor(e,r){let i=r&&"maxLookahead"in r;super(e,Object.assign(Object.assign(Object.assign({},dIe),{lookaheadStrategy:i?new IR({maxLookahead:r.maxLookahead}):new cIe({logging:r.skipValidations?()=>{}:void 0})}),r))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,r){return this.RULE(e,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,r){return this.consume(e,r)}wrapSubrule(e,r,i){return this.subrule(e,r,{ARGS:[i]})}wrapOr(e,r){this.or(e,r)}wrapOption(e,r){this.option(e,r)}wrapMany(e,r){this.many(e,r)}wrapAtLeastOne(e,r){this.atLeastOne(e,r)}},l(Bf,"ChevrotainWrapper"),Bf);l(eT,"createParser");l(fde,"buildRules");l(Fh,"buildElement");l(mde,"buildAction");l(yde,"buildRuleCall");l(vde,"buildRuleCallPredicate");l(cl,"buildPredicate");l(bde,"buildAlternatives");l(xde,"buildUnorderedGroup");l(wde,"buildGroup");l(ax,"getGuardCondition");l(YR,"buildCrossReference");l(kde,"buildKeyword");l(HR,"wrap");l(XR,"getRule");l(Tde,"getRuleName");l(wk,"getToken");l(KR,"createCompletionParser");l(ZR,"createLangiumParser");l(QR,"prepareLangiumParser");tT=(Pf=class{constructor(){this.diagnostics=[]}buildTokens(e,r){let i=Ui(zk(e,!1)),n=this.buildTerminalTokens(i),a=this.buildKeywordTokens(i,n,r);return n.forEach(s=>{let o=s.PATTERN;typeof o=="object"&&o&&"test"in o&&Qb(o)?a.unshift(s):a.push(s)}),a}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(pl).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(e){let r=gx(e),i=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,n={name:e.name,PATTERN:i};return typeof i=="function"&&(n.LINE_BREAKS=!0),e.hidden&&(n.GROUP=Qb(r)?xa.SKIPPED:"hidden"),n}requiresCustomPattern(e){return e.flags.includes("u")||e.flags.includes("s")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){let r=new RegExp(e,e.flags+"y");return(i,n)=>(r.lastIndex=n,r.exec(i))}buildKeywordTokens(e,r,i){return e.filter(Wa).flatMap(n=>qh(n).filter(rc)).distinct(n=>n.value).toArray().sort((n,a)=>a.value.length-n.value.length).map(n=>this.buildKeywordToken(n,r,!!(i!=null&&i.caseInsensitive)))}buildKeywordToken(e,r,i){let n=this.buildKeywordPattern(e,i),a={name:e.value,PATTERN:n,LONGER_ALT:this.findLongerAlt(e,r)};return typeof n=="function"&&(a.LINE_BREAKS=!0),a}buildKeywordPattern(e,r){return r?new RegExp(ZI(e.value)):e.value}findLongerAlt(e,r){return r.reduce((i,n)=>{let a=n==null?void 0:n.PATTERN;return a!=null&&a.source&&QI("^"+a.source+"$",e.value)&&i.push(n),i},[])}},l(Pf,"DefaultTokenBuilder"),Pf),JR=(Ff=class{convert(e,r){let i=r.grammarSource;if(cx(i)&&(i=iR(i)),ic(i)){let n=i.rule.ref;if(!n)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(n,e,r)}return e}runConverter(e,r,i){var n;switch(e.name.toUpperCase()){case"INT":return ol.convertInt(r);case"STRING":return ol.convertString(r);case"ID":return ol.convertID(r)}switch((n=dR(e))===null||n===void 0?void 0:n.toLowerCase()){case"number":return ol.convertNumber(r);case"boolean":return ol.convertBoolean(r);case"bigint":return ol.convertBigint(r);case"date":return ol.convertDate(r);default:return r}}},l(Ff,"DefaultValueConverter"),Ff);(function(t){function e(u){let d="";for(let p=1;p<u.length-1;p++){let g=u.charAt(p);if(g==="\\"){let f=u.charAt(++p);d+=r(f)}else d+=g}return d}l(e,"convertString"),t.convertString=e;function r(u){switch(u){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return u}}l(r,"convertEscapeCharacter");function i(u){return u.charAt(0)==="^"?u.substring(1):u}l(i,"convertID"),t.convertID=i;function n(u){return parseInt(u)}l(n,"convertInt"),t.convertInt=n;function a(u){return BigInt(u)}l(a,"convertBigint"),t.convertBigint=a;function s(u){return new Date(u)}l(s,"convertDate"),t.convertDate=s;function o(u){return Number(u)}l(o,"convertNumber"),t.convertNumber=o;function h(u){return u.toLowerCase()==="true"}l(h,"convertBoolean"),t.convertBoolean=h})(ol||(ol={}));si={};Ry(si,fi(bNe(),1));l(rT,"delayNextTick");Uw=0,Ede=10;l(iT,"startCancelableOperation");l(eD,"setInterruptionPeriod");zh=Symbol("OperationCancelled");l(Bd,"isOperationCancelled");l(ea,"interruptAndCheck");sc=(zf=class{constructor(){this.promise=new Promise((e,r)=>{this.resolve=i=>(e(i),this),this.reject=i=>(r(i),this)})}},l(zf,"Deferred"),zf),qle=(Oh=class{constructor(e,r,i,n){this._uri=e,this._languageId=r,this._version=i,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),i=this.offsetAt(e.end);return this._content.substring(r,i)}return this._content}update(e,r){for(let i of e)if(Oh.isIncremental(i)){let n=rD(i.range),a=this.offsetAt(n.start),s=this.offsetAt(n.end);this._content=this._content.substring(0,a)+i.text+this._content.substring(s,this._content.length);let o=Math.max(n.start.line,0),h=Math.max(n.end.line,0),u=this._lineOffsets,d=oI(i.text,!1,a);if(h-o===d.length)for(let g=0,f=d.length;g<f;g++)u[g+o+1]=d[g];else d.length<1e4?u.splice(o+1,h-o,...d):this._lineOffsets=u=u.slice(0,o+1).concat(d,u.slice(h+1));let p=i.text.length-(s-a);if(p!==0)for(let g=o+1+d.length,f=u.length;g<f;g++)u[g]=u[g]+p}else if(Oh.isFull(i))this._content=i.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=oI(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),i=0,n=r.length;if(n===0)return{line:0,character:e};for(;i<n;){let s=Math.floor((i+n)/2);r[s]>e?n=s:i=s+1}let a=i-1;return e=this.ensureBeforeEOL(e,r[a]),{line:a,character:e-r[a]}}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let i=r[e.line];if(e.character<=0)return i;let n=e.line+1<r.length?r[e.line+1]:this._content.length,a=Math.min(i+e.character,n);return this.ensureBeforeEOL(a,i)}ensureBeforeEOL(e,r){for(;e>r&&tD(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},l(Oh,"FullTextDocument"),Oh);(function(t){function e(n,a,s,o){return new qle(n,a,s,o)}l(e,"create"),t.create=e;function r(n,a,s){if(n instanceof qle)return n.update(a,s),n;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l(r,"update"),t.update=r;function i(n,a){let s=n.getText(),o=Tk(a.map(Cde),(d,p)=>{let g=d.range.start.line-p.range.start.line;return g===0?d.range.start.character-p.range.start.character:g}),h=0,u=[];for(let d of o){let p=n.offsetAt(d.range.start);if(p<h)throw new Error("Overlapping edit");p>h&&u.push(s.substring(h,p)),d.newText.length&&u.push(d.newText),h=n.offsetAt(d.range.end)}return u.push(s.substr(h)),u.join("")}l(i,"applyEdits"),t.applyEdits=i})(kk||(kk={}));l(Tk,"mergeSort");l(oI,"computeLineOffsets");l(tD,"isEOL");l(rD,"getWellformedRange");l(Cde,"getWellformedEdit");(()=>{"use strict";var t={470:n=>{function a(h){if(typeof h!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(h))}l(a,"e");function s(h,u){for(var d,p="",g=0,f=-1,m=0,y=0;y<=h.length;++y){if(y<h.length)d=h.charCodeAt(y);else{if(d===47)break;d=47}if(d===47){if(!(f===y-1||m===1))if(f!==y-1&&m===2){if(p.length<2||g!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var b=p.lastIndexOf("/");if(b!==p.length-1){b===-1?(p="",g=0):g=(p=p.slice(0,b)).length-1-p.lastIndexOf("/"),f=y,m=0;continue}}else if(p.length===2||p.length===1){p="",g=0,f=y,m=0;continue}}u&&(p.length>0?p+="/..":p="..",g=2)}else p.length>0?p+="/"+h.slice(f+1,y):p=h.slice(f+1,y),g=y-f-1;f=y,m=0}else d===46&&m!==-1?++m:m=-1}return p}l(s,"r");var o={resolve:l(function(){for(var h,u="",d=!1,p=arguments.length-1;p>=-1&&!d;p--){var g;p>=0?g=arguments[p]:(h===void 0&&(h=process.cwd()),g=h),a(g),g.length!==0&&(u=g+"/"+u,d=g.charCodeAt(0)===47)}return u=s(u,!d),d?u.length>0?"/"+u:"/":u.length>0?u:"."},"resolve"),normalize:l(function(h){if(a(h),h.length===0)return".";var u=h.charCodeAt(0)===47,d=h.charCodeAt(h.length-1)===47;return(h=s(h,!u)).length!==0||u||(h="."),h.length>0&&d&&(h+="/"),u?"/"+h:h},"normalize"),isAbsolute:l(function(h){return a(h),h.length>0&&h.charCodeAt(0)===47},"isAbsolute"),join:l(function(){if(arguments.length===0)return".";for(var h,u=0;u<arguments.length;++u){var d=arguments[u];a(d),d.length>0&&(h===void 0?h=d:h+="/"+d)}return h===void 0?".":o.normalize(h)},"join"),relative:l(function(h,u){if(a(h),a(u),h===u||(h=o.resolve(h))===(u=o.resolve(u)))return"";for(var d=1;d<h.length&&h.charCodeAt(d)===47;++d);for(var p=h.length,g=p-d,f=1;f<u.length&&u.charCodeAt(f)===47;++f);for(var m=u.length-f,y=g<m?g:m,b=-1,v=0;v<=y;++v){if(v===y){if(m>y){if(u.charCodeAt(f+v)===47)return u.slice(f+v+1);if(v===0)return u.slice(f+v)}else g>y&&(h.charCodeAt(d+v)===47?b=v:v===0&&(b=0));break}var x=h.charCodeAt(d+v);if(x!==u.charCodeAt(f+v))break;x===47&&(b=v)}var w="";for(v=d+b+1;v<=p;++v)v!==p&&h.charCodeAt(v)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+u.slice(f+b):(f+=b,u.charCodeAt(f)===47&&++f,u.slice(f))},"relative"),_makeLong:l(function(h){return h},"_makeLong"),dirname:l(function(h){if(a(h),h.length===0)return".";for(var u=h.charCodeAt(0),d=u===47,p=-1,g=!0,f=h.length-1;f>=1;--f)if((u=h.charCodeAt(f))===47){if(!g){p=f;break}}else g=!1;return p===-1?d?"/":".":d&&p===1?"//":h.slice(0,p)},"dirname"),basename:l(function(h,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');a(h);var d,p=0,g=-1,f=!0;if(u!==void 0&&u.length>0&&u.length<=h.length){if(u.length===h.length&&u===h)return"";var m=u.length-1,y=-1;for(d=h.length-1;d>=0;--d){var b=h.charCodeAt(d);if(b===47){if(!f){p=d+1;break}}else y===-1&&(f=!1,y=d+1),m>=0&&(b===u.charCodeAt(m)?--m==-1&&(g=d):(m=-1,g=y))}return p===g?g=y:g===-1&&(g=h.length),h.slice(p,g)}for(d=h.length-1;d>=0;--d)if(h.charCodeAt(d)===47){if(!f){p=d+1;break}}else g===-1&&(f=!1,g=d+1);return g===-1?"":h.slice(p,g)},"basename"),extname:l(function(h){a(h);for(var u=-1,d=0,p=-1,g=!0,f=0,m=h.length-1;m>=0;--m){var y=h.charCodeAt(m);if(y!==47)p===-1&&(g=!1,p=m+1),y===46?u===-1?u=m:f!==1&&(f=1):u!==-1&&(f=-1);else if(!g){d=m+1;break}}return u===-1||p===-1||f===0||f===1&&u===p-1&&u===d+1?"":h.slice(u,p)},"extname"),format:l(function(h){if(h===null||typeof h!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return(function(u,d){var p=d.dir||d.root,g=d.base||(d.name||"")+(d.ext||"");return p?p===d.root?p+g:p+"/"+g:g})(0,h)},"format"),parse:l(function(h){a(h);var u={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return u;var d,p=h.charCodeAt(0),g=p===47;g?(u.root="/",d=1):d=0;for(var f=-1,m=0,y=-1,b=!0,v=h.length-1,x=0;v>=d;--v)if((p=h.charCodeAt(v))!==47)y===-1&&(b=!1,y=v+1),p===46?f===-1?f=v:x!==1&&(x=1):f!==-1&&(x=-1);else if(!b){m=v+1;break}return f===-1||y===-1||x===0||x===1&&f===y-1&&f===m+1?y!==-1&&(u.base=u.name=m===0&&g?h.slice(1,y):h.slice(m,y)):(m===0&&g?(u.name=h.slice(1,f),u.base=h.slice(1,y)):(u.name=h.slice(m,f),u.base=h.slice(m,y)),u.ext=h.slice(f,y)),m>0?u.dir=h.slice(0,m-1):g&&(u.dir="/"),u},"parse"),sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,n.exports=o}},e={};function r(n){var a=e[n];if(a!==void 0)return a.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,r),s.exports}l(r,"r"),r.d=(n,a)=>{for(var s in a)r.o(a,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:a[s]})},r.o=(n,a)=>Object.prototype.hasOwnProperty.call(n,a),r.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var i={};(()=>{let n;r.r(i),r.d(i,{URI:l(()=>g,"URI"),Utils:l(()=>I,"Utils")}),typeof process=="object"?n=process.platform==="win32":typeof navigator=="object"&&(n=navigator.userAgent.indexOf("Windows")>=0);let a=/^\w[\w\d+.-]*$/,s=/^\//,o=/^\/\//;function h($,_){if(!$.scheme&&_)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${$.authority}", path: "${$.path}", query: "${$.query}", fragment: "${$.fragment}"}`);if($.scheme&&!a.test($.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if($.path){if($.authority){if(!s.test($.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test($.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}l(h,"s");let u="",d="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,M=class M{constructor(_,D,R,O,A,B=!1){wr(this,"scheme");wr(this,"authority");wr(this,"path");wr(this,"query");wr(this,"fragment");typeof _=="object"?(this.scheme=_.scheme||u,this.authority=_.authority||u,this.path=_.path||u,this.query=_.query||u,this.fragment=_.fragment||u):(this.scheme=(function(P,z){return P||z?P:"file"})(_,B),this.authority=D||u,this.path=(function(P,z){switch(P){case"https":case"http":case"file":z?z[0]!==d&&(z=d+z):z=d}return z})(this.scheme,R||u),this.query=O||u,this.fragment=A||u,h(this,B))}static isUri(_){return _ instanceof M||!!_&&typeof _.authority=="string"&&typeof _.fragment=="string"&&typeof _.path=="string"&&typeof _.query=="string"&&typeof _.scheme=="string"&&typeof _.fsPath=="string"&&typeof _.with=="function"&&typeof _.toString=="function"}get fsPath(){return x(this,!1)}with(_){if(!_)return this;let{scheme:D,authority:R,path:O,query:A,fragment:B}=_;return D===void 0?D=this.scheme:D===null&&(D=u),R===void 0?R=this.authority:R===null&&(R=u),O===void 0?O=this.path:O===null&&(O=u),A===void 0?A=this.query:A===null&&(A=u),B===void 0?B=this.fragment:B===null&&(B=u),D===this.scheme&&R===this.authority&&O===this.path&&A===this.query&&B===this.fragment?this:new m(D,R,O,A,B)}static parse(_,D=!1){let R=p.exec(_);return R?new m(R[2]||u,S(R[4]||u),S(R[5]||u),S(R[7]||u),S(R[9]||u),D):new m(u,u,u,u,u)}static file(_){let D=u;if(n&&(_=_.replace(/\\/g,d)),_[0]===d&&_[1]===d){let R=_.indexOf(d,2);R===-1?(D=_.substring(2),_=d):(D=_.substring(2,R),_=_.substring(R)||d)}return new m("file",D,_,u,u)}static from(_){let D=new m(_.scheme,_.authority,_.path,_.query,_.fragment);return h(D,!0),D}toString(_=!1){return w(this,_)}toJSON(){return this}static revive(_){if(_){if(_ instanceof M)return _;{let D=new m(_);return D._formatted=_.external,D._fsPath=_._sep===f?_.fsPath:null,D}}return _}};l(M,"f");let g=M,f=n?1:void 0,N=class N extends g{constructor(){super(...arguments);wr(this,"_formatted",null);wr(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath}toString(D=!1){return D?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){let D={$mid:1};return this._fsPath&&(D.fsPath=this._fsPath,D._sep=f),this._formatted&&(D.external=this._formatted),this.path&&(D.path=this.path),this.scheme&&(D.scheme=this.scheme),this.authority&&(D.authority=this.authority),this.query&&(D.query=this.query),this.fragment&&(D.fragment=this.fragment),D}};l(N,"l");let m=N,y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function b($,_,D){let R,O=-1;for(let A=0;A<$.length;A++){let B=$.charCodeAt(A);if(B>=97&&B<=122||B>=65&&B<=90||B>=48&&B<=57||B===45||B===46||B===95||B===126||_&&B===47||D&&B===91||D&&B===93||D&&B===58)O!==-1&&(R+=encodeURIComponent($.substring(O,A)),O=-1),R!==void 0&&(R+=$.charAt(A));else{R===void 0&&(R=$.substr(0,A));let P=y[B];P!==void 0?(O!==-1&&(R+=encodeURIComponent($.substring(O,A)),O=-1),R+=P):O===-1&&(O=A)}}return O!==-1&&(R+=encodeURIComponent($.substring(O))),R!==void 0?R:$}l(b,"d");function v($){let _;for(let D=0;D<$.length;D++){let R=$.charCodeAt(D);R===35||R===63?(_===void 0&&(_=$.substr(0,D)),_+=y[R]):_!==void 0&&(_+=$[D])}return _!==void 0?_:$}l(v,"p");function x($,_){let D;return D=$.authority&&$.path.length>1&&$.scheme==="file"?`//${$.authority}${$.path}`:$.path.charCodeAt(0)===47&&($.path.charCodeAt(1)>=65&&$.path.charCodeAt(1)<=90||$.path.charCodeAt(1)>=97&&$.path.charCodeAt(1)<=122)&&$.path.charCodeAt(2)===58?_?$.path.substr(1):$.path[1].toLowerCase()+$.path.substr(2):$.path,n&&(D=D.replace(/\//g,"\\")),D}l(x,"m");function w($,_){let D=_?v:b,R="",{scheme:O,authority:A,path:B,query:P,fragment:z}=$;if(O&&(R+=O,R+=":"),(A||O==="file")&&(R+=d,R+=d),A){let q=A.indexOf("@");if(q!==-1){let K=A.substr(0,q);A=A.substr(q+1),q=K.lastIndexOf(":"),q===-1?R+=D(K,!1,!1):(R+=D(K.substr(0,q),!1,!1),R+=":",R+=D(K.substr(q+1),!1,!0)),R+="@"}A=A.toLowerCase(),q=A.lastIndexOf(":"),q===-1?R+=D(A,!1,!0):(R+=D(A.substr(0,q),!1,!0),R+=A.substr(q))}if(B){if(B.length>=3&&B.charCodeAt(0)===47&&B.charCodeAt(2)===58){let q=B.charCodeAt(1);q>=65&&q<=90&&(B=`/${String.fromCharCode(q+32)}:${B.substr(3)}`)}else if(B.length>=2&&B.charCodeAt(1)===58){let q=B.charCodeAt(0);q>=65&&q<=90&&(B=`${String.fromCharCode(q+32)}:${B.substr(2)}`)}R+=D(B,!0,!1)}return P&&(R+="?",R+=D(P,!1,!1)),z&&(R+="#",R+=_?z:b(z,!1,!1)),R}l(w,"y");function k($){try{return decodeURIComponent($)}catch{return $.length>3?$.substr(0,3)+k($.substr(3)):$}}l(k,"v");let T=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S($){return $.match(T)?$.replace(T,(_=>k(_))):$}l(S,"C");var C=r(470);let E=C.posix||C,L="/";var I;(function($){$.joinPath=function(_,...D){return _.with({path:E.join(_.path,...D)})},$.resolvePath=function(_,...D){let R=_.path,O=!1;R[0]!==L&&(R=L+R,O=!0);let A=E.resolve(R,...D);return O&&A[0]===L&&!_.authority&&(A=A.substring(1)),_.with({path:A})},$.dirname=function(_){if(_.path.length===0||_.path===L)return _;let D=E.dirname(_.path);return D.length===1&&D.charCodeAt(0)===46&&(D=""),_.with({path:D})},$.basename=function(_){return E.basename(_.path)},$.extname=function(_){return E.extname(_.path)}})(I||(I={}))})(),Sde=i})();({URI:oc,Utils:Lb}=Sde);(function(t){t.basename=Lb.basename,t.dirname=Lb.dirname,t.extname=Lb.extname,t.joinPath=Lb.joinPath,t.resolvePath=Lb.resolvePath;function e(n,a){return(n==null?void 0:n.toString())===(a==null?void 0:a.toString())}l(e,"equals"),t.equals=e;function r(n,a){let s=typeof n=="string"?n:n.path,o=typeof a=="string"?a:a.path,h=s.split("/").filter(f=>f.length>0),u=o.split("/").filter(f=>f.length>0),d=0;for(;d<h.length&&h[d]===u[d];d++);let p="../".repeat(h.length-d),g=u.slice(d).join("/");return p+g}l(r,"relative"),t.relative=r;function i(n){return oc.parse(n.toString()).toString()}l(i,"normalize"),t.normalize=i})(dl||(dl={}));(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(di||(di={}));_de=(Gf=class{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,r=si.CancellationToken.None){let i=await this.fileSystemProvider.readFile(e);return this.createAsync(e,i,r)}fromTextDocument(e,r,i){return r=r??oc.parse(e.uri),si.CancellationToken.is(i)?this.createAsync(r,e,i):this.create(r,e,i)}fromString(e,r,i){return si.CancellationToken.is(i)?this.createAsync(r,e,i):this.create(r,e,i)}fromModel(e,r){return this.create(r,{$model:e})}create(e,r,i){if(typeof r=="string"){let n=this.parse(e,r,i);return this.createLangiumDocument(n,e,void 0,r)}else if("$model"in r){let n={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,e)}else{let n=this.parse(e,r.getText(),i);return this.createLangiumDocument(n,e,r)}}async createAsync(e,r,i){if(typeof r=="string"){let n=await this.parseAsync(e,r,i);return this.createLangiumDocument(n,e,void 0,r)}else{let n=await this.parseAsync(e,r.getText(),i);return this.createLangiumDocument(n,e,r)}}createLangiumDocument(e,r,i,n){let a;if(i)a={parseResult:e,uri:r,state:di.Parsed,references:[],textDocument:i};else{let s=this.createTextDocumentGetter(r,n);a={parseResult:e,uri:r,state:di.Parsed,references:[],get textDocument(){return s()}}}return e.value.$document=a,a}async update(e,r){var i,n;let a=(i=e.parseResult.value.$cstNode)===null||i===void 0?void 0:i.root.fullText,s=(n=this.textDocuments)===null||n===void 0?void 0:n.get(e.uri.toString()),o=s?s.getText():await this.fileSystemProvider.readFile(e.uri);if(s)Object.defineProperty(e,"textDocument",{value:s});else{let h=this.createTextDocumentGetter(e.uri,o);Object.defineProperty(e,"textDocument",{get:h})}return a!==o&&(e.parseResult=await this.parseAsync(e.uri,o,r),e.parseResult.value.$document=e),e.state=di.Parsed,e}parse(e,r,i){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(r,i)}parseAsync(e,r,i){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(r,i)}createTextDocumentGetter(e,r){let i=this.serviceRegistry,n;return()=>n??(n=kk.create(e.toString(),i.getServices(e).LanguageMetaData.languageId,0,r??""))}},l(Gf,"DefaultLangiumDocumentFactory"),Gf),Ade=(qf=class{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return Ui(this.documentMap.values())}addDocument(e){let r=e.uri.toString();if(this.documentMap.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentMap.set(r,e)}getDocument(e){let r=e.toString();return this.documentMap.get(r)}async getOrCreateDocument(e,r){let i=this.getDocument(e);return i||(i=await this.langiumDocumentFactory.fromUri(e,r),this.addDocument(i),i)}createDocument(e,r,i){if(i)return this.langiumDocumentFactory.fromString(r,e,i).then(n=>(this.addDocument(n),n));{let n=this.langiumDocumentFactory.fromString(r,e);return this.addDocument(n),n}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){let r=e.toString(),i=this.documentMap.get(r);return i&&(this.serviceRegistry.getServices(e).references.Linker.unlink(i),i.state=di.Changed,i.precomputedScopes=void 0,i.diagnostics=void 0),i}deleteDocument(e){let r=e.toString(),i=this.documentMap.get(r);return i&&(i.state=di.Changed,this.documentMap.delete(r)),i}},l(qf,"DefaultLangiumDocuments"),qf),vN=Symbol("ref_resolving"),Lde=(Uf=class{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,r=si.CancellationToken.None){for(let i of Jl(e.parseResult.value))await ea(r),ux(i).forEach(n=>this.doLink(n,e))}doLink(e,r){var i;let n=e.reference;if(n._ref===void 0){n._ref=vN;try{let a=this.getCandidate(e);if(f1(a))n._ref=a;else if(n._nodeDescription=a,this.langiumDocuments().hasDocument(a.documentUri)){let s=this.loadAstNode(a);n._ref=s??this.createLinkingError(e,a)}else n._ref=void 0}catch(a){console.error(`An error occurred while resolving reference to '${n.$refText}':`,a);let s=(i=a.message)!==null&&i!==void 0?i:String(a);n._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${n.$refText}': ${s}`})}r.references.push(n)}}unlink(e){for(let r of e.references)delete r._ref,delete r._nodeDescription;e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}buildReference(e,r,i,n){let a=this,s={$refNode:i,$refText:n,get ref(){var o;if(Ji(this._ref))return this._ref;if(mI(this._nodeDescription)){let h=a.loadAstNode(this._nodeDescription);this._ref=h??a.createLinkingError({reference:s,container:e,property:r},this._nodeDescription)}else if(this._ref===void 0){this._ref=vN;let h=Zb(e).$document,u=a.getLinkedNode({reference:s,container:e,property:r});if(u.error&&h&&h.state<di.ComputedScopes)return this._ref=void 0;this._ref=(o=u.node)!==null&&o!==void 0?o:u.error,this._nodeDescription=u.descr,h==null||h.references.push(this)}else if(this._ref===vN)throw new Error(`Cyclic reference resolution detected: ${a.astNodeLocator.getAstNodePath(e)}/${r} (symbol '${n}')`);return Ji(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return f1(this._ref)?this._ref:void 0}};return s}getLinkedNode(e){var r;try{let i=this.getCandidate(e);if(f1(i))return{error:i};let n=this.loadAstNode(i);return n?{node:n,descr:i}:{descr:i,error:this.createLinkingError(e,i)}}catch(i){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,i);let n=(r=i.message)!==null&&r!==void 0?r:String(i);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${n}`})}}}loadAstNode(e){if(e.node)return e.node;let r=this.langiumDocuments().getDocument(e.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,e.path)}createLinkingError(e,r){let i=Zb(e.container).$document;i&&i.state<di.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${i.uri}).`);let n=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${n} named '${e.reference.$refText}'.`,targetDescription:r})}},l(Uf,"DefaultLinker"),Uf);l(iD,"isNamed");Nde=(jf=class{getName(e){if(iD(e))return e.name}getNameNode(e){return Gk(e.$cstNode,"name")}},l(jf,"DefaultNameProvider"),jf),Ide=(Wf=class{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){let r=oR(e),i=e.astNode;if(r&&i){let n=i[r.feature];if(ja(n))return n.ref;if(Array.isArray(n)){for(let a of n)if(ja(a)&&a.$refNode&&a.$refNode.offset<=e.offset&&a.$refNode.end>=e.end)return a.ref}}if(i){let n=this.nameProvider.getNameNode(i);if(n&&(n===e||vI(e,n)))return i}}}findDeclarationNode(e){let r=this.findDeclaration(e);if(r!=null&&r.$cstNode)return this.nameProvider.getNameNode(r)??r.$cstNode}findReferences(e,r){let i=[];if(r.includeDeclaration){let a=this.getReferenceToSelf(e);a&&i.push(a)}let n=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return r.documentUri&&(n=n.filter(a=>dl.equals(a.sourceUri,r.documentUri))),i.push(...n),Ui(i)}getReferenceToSelf(e){let r=this.nameProvider.getNameNode(e);if(r){let i=vo(e),n=this.nodeLocator.getAstNodePath(e);return{sourceUri:i.uri,sourcePath:n,targetUri:i.uri,targetPath:n,segment:Rm(r),local:!0}}}},l(Wf,"DefaultReferences"),Wf),$m=(Vf=class{constructor(e){if(this.map=new Map,e)for(let[r,i]of e)this.add(r,i)}get size(){return Xb.sum(Ui(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,r){if(r===void 0)return this.map.delete(e);{let i=this.map.get(e);if(i){let n=i.indexOf(r);if(n>=0)return i.length===1?this.map.delete(e):i.splice(n,1),!0}return!1}}get(e){var r;return(r=this.map.get(e))!==null&&r!==void 0?r:[]}has(e,r){if(r===void 0)return this.map.has(e);{let i=this.map.get(e);return i?i.indexOf(r)>=0:!1}}add(e,r){return this.map.has(e)?this.map.get(e).push(r):this.map.set(e,[r]),this}addAll(e,r){return this.map.has(e)?this.map.get(e).push(...r):this.map.set(e,Array.from(r)),this}forEach(e){this.map.forEach((r,i)=>r.forEach(n=>e(n,i,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Ui(this.map.entries()).flatMap(([e,r])=>r.map(i=>[e,i]))}keys(){return Ui(this.map.keys())}values(){return Ui(this.map.values()).flat()}entriesGroupedByKey(){return Ui(this.map.entries())}},l(Vf,"MultiMap"),Vf),Ek=(Yf=class{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(let[r,i]of e)this.set(r,i)}clear(){this.map.clear(),this.inverse.clear()}set(e,r){return this.map.set(e,r),this.inverse.set(r,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){let r=this.map.get(e);return r!==void 0?(this.map.delete(e),this.inverse.delete(r),!0):!1}},l(Yf,"BiMap"),Yf),Rde=(Hf=class{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,r=si.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,r)}async computeExportsForNode(e,r,i=hx,n=si.CancellationToken.None){let a=[];this.exportNode(e,a,r);for(let s of i(e))await ea(n),this.exportNode(s,a,r);return a}exportNode(e,r,i){let n=this.nameProvider.getName(e);n&&r.push(this.descriptions.createDescription(e,n,i))}async computeLocalScopes(e,r=si.CancellationToken.None){let i=e.parseResult.value,n=new $m;for(let a of qh(i))await ea(r),this.processNode(a,e,n);return n}processNode(e,r,i){let n=e.$container;if(n){let a=this.nameProvider.getName(e);a&&i.add(n,this.descriptions.createDescription(e,a,r))}}},l(Hf,"DefaultScopeComputation"),Hf),lI=(Xf=class{constructor(e,r,i){var n;this.elements=e,this.outerScope=r,this.caseInsensitive=(n=i==null?void 0:i.caseInsensitive)!==null&&n!==void 0?n:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){let r=this.caseInsensitive?this.elements.find(i=>i.name.toLowerCase()===e.toLowerCase()):this.elements.find(i=>i.name===e);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}},l(Xf,"StreamScope"),Xf),Dde=(Kf=class{constructor(e,r,i){var n;this.elements=new Map,this.caseInsensitive=(n=i==null?void 0:i.caseInsensitive)!==null&&n!==void 0?n:!1;for(let a of e){let s=this.caseInsensitive?a.name.toLowerCase():a.name;this.elements.set(s,a)}this.outerScope=r}getElement(e){let r=this.caseInsensitive?e.toLowerCase():e,i=this.elements.get(r);if(i)return i;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=Ui(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},l(Kf,"MapScope"),Kf),gIe={getElement(){},getAllElements(){return Ak}},nT=(Zf=class{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},l(Zf,"DisposableCache"),Zf),nD=(Qf=class extends nT{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,r){this.throwIfDisposed(),this.cache.set(e,r)}get(e,r){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(r){let i=r();return this.cache.set(e,i),i}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}},l(Qf,"SimpleCache"),Qf),aT=(Jf=class extends nT{constructor(e){super(),this.cache=new Map,this.converter=e??(r=>r)}has(e,r){return this.throwIfDisposed(),this.cacheForContext(e).has(r)}set(e,r,i){this.throwIfDisposed(),this.cacheForContext(e).set(r,i)}get(e,r,i){this.throwIfDisposed();let n=this.cacheForContext(e);if(n.has(r))return n.get(r);if(i){let a=i();return n.set(r,a),a}else return}delete(e,r){return this.throwIfDisposed(),this.cacheForContext(e).delete(r)}clear(e){if(this.throwIfDisposed(),e){let r=this.converter(e);this.cache.delete(r)}else this.cache.clear()}cacheForContext(e){let r=this.converter(e),i=this.cache.get(r);return i||(i=new Map,this.cache.set(r,i)),i}},l(Jf,"ContextCache"),Jf),Mde=(em=class extends aT{constructor(e,r){super(i=>i.toString()),r?(this.toDispose.push(e.workspace.DocumentBuilder.onDocumentPhase(r,i=>{this.clear(i.uri.toString())})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((i,n)=>{for(let a of n)this.clear(a)}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((i,n)=>{let a=i.concat(n);for(let s of a)this.clear(s)}))}},l(em,"DocumentCache"),em),aD=(tm=class extends nD{constructor(e,r){super(),r?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(r,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((i,n)=>{n.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}},l(tm,"WorkspaceCache"),tm),Ode=(rm=class{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new aD(e.shared)}getScope(e){let r=[],i=this.reflection.getReferenceType(e),n=vo(e.container).precomputedScopes;if(n){let s=e.container;do{let o=n.get(s);o.length>0&&r.push(Ui(o).filter(h=>this.reflection.isSubtype(h.type,i))),s=s.$container}while(s)}let a=this.getGlobalScope(i,e);for(let s=r.length-1;s>=0;s--)a=this.createScope(r[s],a);return a}createScope(e,r,i){return new lI(Ui(e),r,i)}createScopeForNodes(e,r,i){let n=Ui(e).map(a=>{let s=this.nameProvider.getName(a);if(s)return this.descriptions.createDescription(a,s)}).nonNullable();return new lI(n,r,i)}getGlobalScope(e,r){return this.globalScopeCache.get(e,()=>new Dde(this.indexManager.allElements(e)))}},l(rm,"DefaultScopeProvider"),rm);l(sD,"isAstNodeWithComment");l(cI,"isIntermediateReference");$de=(im=class{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,r){let i=r??{},n=r==null?void 0:r.replacer,a=l((o,h)=>this.replacer(o,h,i),"defaultReplacer"),s=n?(o,h)=>n(o,h,a):a;try{return this.currentDocument=vo(e),JSON.stringify(e,s,r==null?void 0:r.space)}finally{this.currentDocument=void 0}}deserialize(e,r){let i=r??{},n=JSON.parse(e);return this.linkNode(n,n,i),n}replacer(e,r,{refText:i,sourceText:n,textRegions:a,comments:s,uriConverter:o}){var h,u,d,p;if(!this.ignoreProperties.has(e))if(ja(r)){let g=r.ref,f=i?r.$refText:void 0;if(g){let m=vo(g),y="";this.currentDocument&&this.currentDocument!==m&&(o?y=o(m.uri,r):y=m.uri.toString());let b=this.astNodeLocator.getAstNodePath(g);return{$ref:`${y}#${b}`,$refText:f}}else return{$error:(u=(h=r.error)===null||h===void 0?void 0:h.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:f}}else if(Ji(r)){let g;if(a&&(g=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},r)),(!e||r.$document)&&(g!=null&&g.$textRegion)&&(g.$textRegion.documentURI=(d=this.currentDocument)===null||d===void 0?void 0:d.uri.toString())),n&&!e&&(g??(g=Object.assign({},r)),g.$sourceText=(p=r.$cstNode)===null||p===void 0?void 0:p.text),s){g??(g=Object.assign({},r));let f=this.commentProvider.getComment(r);f&&(g.$comment=f.replace(/\r/g,""))}return g??r}else return r}addAstNodeRegionWithAssignmentsTo(e){let r=l(i=>({offset:i.offset,end:i.end,length:i.length,range:i.range}),"createDocumentSegment");if(e.$cstNode){let i=e.$textRegion=r(e.$cstNode),n=i.assignments={};return Object.keys(e).filter(a=>!a.startsWith("$")).forEach(a=>{let s=aR(e.$cstNode,a).map(r);s.length!==0&&(n[a]=s)}),e}}linkNode(e,r,i,n,a,s){for(let[h,u]of Object.entries(e))if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];cI(p)?u[d]=this.reviveReference(e,h,r,p,i):Ji(p)&&this.linkNode(p,r,i,e,h,d)}else cI(u)?e[h]=this.reviveReference(e,h,r,u,i):Ji(u)&&this.linkNode(u,r,i,e,h);let o=e;o.$container=n,o.$containerProperty=a,o.$containerIndex=s}reviveReference(e,r,i,n,a){let s=n.$refText,o=n.$error;if(n.$ref){let h=this.getRefNode(i,n.$ref,a.uriConverter);if(Ji(h))return s||(s=this.nameProvider.getName(h)),{$refText:s??"",ref:h};o=h}if(o){let h={$refText:s??""};return h.error={container:e,property:r,message:o,reference:h},h}else return}getRefNode(e,r,i){try{let n=r.indexOf("#");if(n===0)return this.astNodeLocator.getAstNode(e,r.substring(1))||"Could not resolve path: "+r;if(n<0){let h=i?i(r):oc.parse(r),u=this.langiumDocuments.getDocument(h);return u?u.parseResult.value:"Could not find document for URI: "+r}let a=i?i(r.substring(0,n)):oc.parse(r.substring(0,n)),s=this.langiumDocuments.getDocument(a);return s?n===r.length-1?s.parseResult.value:this.astNodeLocator.getAstNode(s.parseResult.value,r.substring(n+1))||"Could not resolve URI: "+r:"Could not find document for URI: "+r}catch(n){return String(n)}}},l(im,"DefaultJsonSerializer"),im),Bde=(nm=class{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e==null?void 0:e.workspace.TextDocuments}register(e){let r=e.LanguageMetaData;for(let i of r.fileExtensions)this.fileExtensionMap.has(i)&&console.warn(`The file extension ${i} is used by multiple languages. It is now assigned to '${r.languageId}'.`),this.fileExtensionMap.set(i,e);this.languageIdMap.set(r.languageId,e),this.languageIdMap.size===1?this.singleton=e:this.singleton=void 0}getServices(e){var r,i;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let n=(i=(r=this.textDocuments)===null||r===void 0?void 0:r.get(e))===null||i===void 0?void 0:i.languageId;if(n!==void 0){let o=this.languageIdMap.get(n);if(o)return o}let a=dl.extname(e),s=this.fileExtensionMap.get(a);if(!s)throw n?new Error(`The service registry contains no services for the extension '${a}' for language '${n}'.`):new Error(`The service registry contains no services for the extension '${a}'.`);return s}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}},l(nm,"DefaultServiceRegistry"),nm);l(xd,"diagnosticData");(function(t){t.all=["fast","slow","built-in"]})(sx||(sx={}));Pde=(am=class{constructor(e){this.entries=new $m,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,r=this,i="fast"){if(i==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[n,a]of Object.entries(e)){let s=a;if(Array.isArray(s))for(let o of s){let h={check:this.wrapValidationException(o,r),category:i};this.addEntry(n,h)}else if(typeof s=="function"){let o={check:this.wrapValidationException(s,r),category:i};this.addEntry(n,o)}else Gh(s)}}wrapValidationException(e,r){return async(i,n,a)=>{await this.handleException(()=>e.call(r,i,n,a),"An error occurred during validation",n,i)}}async handleException(e,r,i,n){try{await e()}catch(a){if(Bd(a))throw a;console.error(`${r}:`,a),a instanceof Error&&a.stack&&console.error(a.stack);let s=a instanceof Error?a.message:String(a);i("error",`${r}: ${s}`,{node:n})}}addEntry(e,r){if(e==="AstNode"){this.entries.add("AstNode",r);return}for(let i of this.reflection.getAllSubTypes(e))this.entries.add(i,r)}getChecks(e,r){let i=Ui(this.entries.get(e)).concat(this.entries.get("AstNode"));return r&&(i=i.filter(n=>r.includes(n.category))),i.map(n=>n.check)}registerBeforeDocument(e,r=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",r))}registerAfterDocument(e,r=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",r))}wrapPreparationException(e,r,i){return async(n,a,s,o)=>{await this.handleException(()=>e.call(i,n,a,s,o),r,a,n)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}},l(am,"ValidationRegistry"),am),Fde=(sm=class{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,r={},i=si.CancellationToken.None){let n=e.parseResult,a=[];if(await ea(i),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(n,a,r),r.stopAfterLexingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===Fs.LexingError})||(this.processParsingErrors(n,a,r),r.stopAfterParsingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===Fs.ParsingError}))||(this.processLinkingErrors(e,a,r),r.stopAfterLinkingErrors&&a.some(s=>{var o;return((o=s.data)===null||o===void 0?void 0:o.code)===Fs.LinkingError}))))return a;try{a.push(...await this.validateAst(n.value,r,i))}catch(s){if(Bd(s))throw s;console.error("An error occurred during validation:",s)}return await ea(i),a}processLexingErrors(e,r,i){var n,a,s;let o=[...e.lexerErrors,...(a=(n=e.lexerReport)===null||n===void 0?void 0:n.diagnostics)!==null&&a!==void 0?a:[]];for(let h of o){let u=(s=h.severity)!==null&&s!==void 0?s:"error",d={severity:Yb(u),range:{start:{line:h.line-1,character:h.column-1},end:{line:h.line-1,character:h.column+h.length-1}},message:h.message,data:lD(u),source:this.getSource()};r.push(d)}}processParsingErrors(e,r,i){for(let n of e.parserErrors){let a;if(isNaN(n.token.startOffset)){if("previousToken"in n){let s=n.previousToken;if(isNaN(s.startOffset)){let o={line:0,character:0};a={start:o,end:o}}else{let o={line:s.endLine-1,character:s.endColumn};a={start:o,end:o}}}}else a=Kb(n.token);if(a){let s={severity:Yb("error"),range:a,message:n.message,data:xd(Fs.ParsingError),source:this.getSource()};r.push(s)}}}processLinkingErrors(e,r,i){for(let n of e.references){let a=n.error;if(a){let s={node:a.container,property:a.property,index:a.index,data:{code:Fs.LinkingError,containerType:a.container.$type,property:a.property,refText:a.reference.$refText}};r.push(this.toDiagnostic("error",a.message,s))}}}async validateAst(e,r,i=si.CancellationToken.None){let n=[],a=l((s,o,h)=>{n.push(this.toDiagnostic(s,o,h))},"acceptor");return await this.validateAstBefore(e,r,a,i),await this.validateAstNodes(e,r,a,i),await this.validateAstAfter(e,r,a,i),n}async validateAstBefore(e,r,i,n=si.CancellationToken.None){var a;let s=this.validationRegistry.checksBefore;for(let o of s)await ea(n),await o(e,i,(a=r.categories)!==null&&a!==void 0?a:[],n)}async validateAstNodes(e,r,i,n=si.CancellationToken.None){await Promise.all(Jl(e).map(async a=>{await ea(n);let s=this.validationRegistry.getChecks(a.$type,r.categories);for(let o of s)await o(a,i,n)}))}async validateAstAfter(e,r,i,n=si.CancellationToken.None){var a;let s=this.validationRegistry.checksAfter;for(let o of s)await ea(n),await o(e,i,(a=r.categories)!==null&&a!==void 0?a:[],n)}toDiagnostic(e,r,i){return{message:r,range:oD(i),severity:Yb(e),code:i.code,codeDescription:i.codeDescription,tags:i.tags,relatedInformation:i.relatedInformation,data:i.data,source:this.getSource()}}getSource(){return this.metadata.languageId}},l(sm,"DefaultDocumentValidator"),sm);l(oD,"getDiagnosticRange");l(Yb,"toDiagnosticSeverity");l(lD,"toDiagnosticData");(function(t){t.LexingError="lexing-error",t.LexingWarning="lexing-warning",t.LexingInfo="lexing-info",t.LexingHint="lexing-hint",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(Fs||(Fs={}));zde=(om=class{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,r,i){let n=i??vo(e);r??(r=this.nameProvider.getName(e));let a=this.astNodeLocator.getAstNodePath(e);if(!r)throw new Error(`Node at path ${a} has no name.`);let s,o=l(()=>{var h;return s??(s=Rm((h=this.nameProvider.getNameNode(e))!==null&&h!==void 0?h:e.$cstNode))},"nameSegmentGetter");return{node:e,name:r,get nameSegment(){return o()},selectionSegment:Rm(e.$cstNode),type:e.$type,documentUri:n.uri,path:a}}},l(om,"DefaultAstNodeDescriptionProvider"),om),Gde=(lm=class{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,r=si.CancellationToken.None){let i=[],n=e.parseResult.value;for(let a of Jl(n))await ea(r),ux(a).filter(s=>!f1(s)).forEach(s=>{let o=this.createDescription(s);o&&i.push(o)});return i}createDescription(e){let r=e.reference.$nodeDescription,i=e.reference.$refNode;if(!r||!i)return;let n=vo(e.container).uri;return{sourceUri:n,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:r.documentUri,targetPath:r.path,segment:Rm(i),local:dl.equals(r.documentUri,n)}}},l(lm,"DefaultReferenceDescriptionProvider"),lm),qde=(cm=class{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){let r=this.getAstNodePath(e.$container),i=this.getPathSegment(e);return r+this.segmentSeparator+i}return""}getPathSegment({$containerProperty:e,$containerIndex:r}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?e+this.indexSeparator+r:e}getAstNode(e,r){return r.split(this.segmentSeparator).reduce((i,n)=>{if(!i||n.length===0)return i;let a=n.indexOf(this.indexSeparator);if(a>0){let s=n.substring(0,a),o=parseInt(n.substring(a+1)),h=i[s];return h==null?void 0:h[o]}return i[n]},e)}},l(cm,"DefaultAstNodeLocator"),cm),sT={};Ry(sT,fi(tce(),1));Ude=(hm=class{constructor(e){this._ready=new sc,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new sT.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var r,i;this.workspaceConfig=(i=(r=e.capabilities.workspace)===null||r===void 0?void 0:r.configuration)!==null&&i!==void 0?i:!1}async initialized(e){if(this.workspaceConfig){if(e.register){let r=this.serviceRegistry.all;e.register({section:r.map(i=>this.toSectionName(i.LanguageMetaData.languageId))})}if(e.fetchConfiguration){let r=this.serviceRegistry.all.map(n=>({section:this.toSectionName(n.LanguageMetaData.languageId)})),i=await e.fetchConfiguration(r);r.forEach((n,a)=>{this.updateSectionConfiguration(n.section,i[a])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(r=>{let i=e.settings[r];this.updateSectionConfiguration(r,i),this.onConfigurationSectionUpdateEmitter.fire({section:r,configuration:i})})}updateSectionConfiguration(e,r){this.settings[e]=r}async getConfiguration(e,r){await this.ready;let i=this.toSectionName(e);if(this.settings[i])return this.settings[i][r]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}},l(hm,"DefaultConfigurationProvider"),hm);(function(t){function e(r){return{dispose:l(async()=>await r(),"dispose")}}l(e,"create"),t.create=e})(Td||(Td={}));jde=(um=class{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new $m,this.documentPhaseListeners=new $m,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=di.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,r={},i=si.CancellationToken.None){var n,a;for(let s of e){let o=s.uri.toString();if(s.state===di.Validated){if(typeof r.validation=="boolean"&&r.validation)s.state=di.IndexedReferences,s.diagnostics=void 0,this.buildState.delete(o);else if(typeof r.validation=="object"){let h=this.buildState.get(o),u=(n=h==null?void 0:h.result)===null||n===void 0?void 0:n.validationChecks;if(u){let d=((a=r.validation.categories)!==null&&a!==void 0?a:sx.all).filter(p=>!u.includes(p));d.length>0&&(this.buildState.set(o,{completed:!1,options:{validation:Object.assign(Object.assign({},r.validation),{categories:d})},result:h.result}),s.state=di.IndexedReferences)}}}else this.buildState.delete(o)}this.currentState=di.Changed,await this.emitUpdate(e.map(s=>s.uri),[]),await this.buildDocuments(e,r,i)}async update(e,r,i=si.CancellationToken.None){this.currentState=di.Changed;for(let s of r)this.langiumDocuments.deleteDocument(s),this.buildState.delete(s.toString()),this.indexManager.remove(s);for(let s of e){if(!this.langiumDocuments.invalidateDocument(s)){let o=this.langiumDocumentFactory.fromModel({$type:"INVALID"},s);o.state=di.Changed,this.langiumDocuments.addDocument(o)}this.buildState.delete(s.toString())}let n=Ui(e).concat(r).map(s=>s.toString()).toSet();this.langiumDocuments.all.filter(s=>!n.has(s.uri.toString())&&this.shouldRelink(s,n)).forEach(s=>{this.serviceRegistry.getServices(s.uri).references.Linker.unlink(s),s.state=Math.min(s.state,di.ComputedScopes),s.diagnostics=void 0}),await this.emitUpdate(e,r),await ea(i);let a=this.sortDocuments(this.langiumDocuments.all.filter(s=>{var o;return s.state<di.Linked||!(!((o=this.buildState.get(s.uri.toString()))===null||o===void 0)&&o.completed)}).toArray());await this.buildDocuments(a,this.updateBuildOptions,i)}async emitUpdate(e,r){await Promise.all(this.updateListeners.map(i=>i(e,r)))}sortDocuments(e){let r=0,i=e.length-1;for(;r<i;){for(;r<e.length&&this.hasTextDocument(e[r]);)r++;for(;i>=0&&!this.hasTextDocument(e[i]);)i--;r<i&&([e[r],e[i]]=[e[i],e[r]])}return e}hasTextDocument(e){var r;return!!(!((r=this.textDocuments)===null||r===void 0)&&r.get(e.uri))}shouldRelink(e,r){return e.references.some(i=>i.error!==void 0)?!0:this.indexManager.isAffected(e,r)}onUpdate(e){return this.updateListeners.push(e),Td.create(()=>{let r=this.updateListeners.indexOf(e);r>=0&&this.updateListeners.splice(r,1)})}async buildDocuments(e,r,i){this.prepareBuild(e,r),await this.runCancelable(e,di.Parsed,i,a=>this.langiumDocumentFactory.update(a,i)),await this.runCancelable(e,di.IndexedContent,i,a=>this.indexManager.updateContent(a,i)),await this.runCancelable(e,di.ComputedScopes,i,async a=>{let s=this.serviceRegistry.getServices(a.uri).references.ScopeComputation;a.precomputedScopes=await s.computeLocalScopes(a,i)}),await this.runCancelable(e,di.Linked,i,a=>this.serviceRegistry.getServices(a.uri).references.Linker.link(a,i)),await this.runCancelable(e,di.IndexedReferences,i,a=>this.indexManager.updateReferences(a,i));let n=e.filter(a=>this.shouldValidate(a));await this.runCancelable(n,di.Validated,i,a=>this.validate(a,i));for(let a of e){let s=this.buildState.get(a.uri.toString());s&&(s.completed=!0)}}prepareBuild(e,r){for(let i of e){let n=i.uri.toString(),a=this.buildState.get(n);(!a||a.completed)&&this.buildState.set(n,{completed:!1,options:r,result:a==null?void 0:a.result})}}async runCancelable(e,r,i,n){let a=e.filter(o=>o.state<r);for(let o of a)await ea(i),await n(o),o.state=r,await this.notifyDocumentPhase(o,r,i);let s=e.filter(o=>o.state===r);await this.notifyBuildPhase(s,r,i),this.currentState=r}onBuildPhase(e,r){return this.buildPhaseListeners.add(e,r),Td.create(()=>{this.buildPhaseListeners.delete(e,r)})}onDocumentPhase(e,r){return this.documentPhaseListeners.add(e,r),Td.create(()=>{this.documentPhaseListeners.delete(e,r)})}waitUntil(e,r,i){let n;if(r&&"path"in r?n=r:i=r,i??(i=si.CancellationToken.None),n){let a=this.langiumDocuments.getDocument(n);if(a&&a.state>e)return Promise.resolve(n)}return this.currentState>=e?Promise.resolve(void 0):i.isCancellationRequested?Promise.reject(zh):new Promise((a,s)=>{let o=this.onBuildPhase(e,()=>{if(o.dispose(),h.dispose(),n){let u=this.langiumDocuments.getDocument(n);a(u==null?void 0:u.uri)}else a(void 0)}),h=i.onCancellationRequested(()=>{o.dispose(),h.dispose(),s(zh)})})}async notifyDocumentPhase(e,r,i){let n=this.documentPhaseListeners.get(r).slice();for(let a of n)try{await a(e,i)}catch(s){if(!Bd(s))throw s}}async notifyBuildPhase(e,r,i){if(e.length===0)return;let n=this.buildPhaseListeners.get(r).slice();for(let a of n)await ea(i),await a(e,i)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,r){var i,n;let a=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,s=this.getBuildOptions(e).validation,o=typeof s=="object"?s:void 0,h=await a.validateDocument(e,o,r);e.diagnostics?e.diagnostics.push(...h):e.diagnostics=h;let u=this.buildState.get(e.uri.toString());if(u){(i=u.result)!==null&&i!==void 0||(u.result={});let d=(n=o==null?void 0:o.categories)!==null&&n!==void 0?n:sx.all;u.result.validationChecks?u.result.validationChecks.push(...d):u.result.validationChecks=[...d]}}getBuildOptions(e){var r,i;return(i=(r=this.buildState.get(e.uri.toString()))===null||r===void 0?void 0:r.options)!==null&&i!==void 0?i:{}}},l(um,"DefaultDocumentBuilder"),um),Wde=(dm=class{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new aT,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,r){let i=vo(e).uri,n=[];return this.referenceIndex.forEach(a=>{a.forEach(s=>{dl.equals(s.targetUri,i)&&s.targetPath===r&&n.push(s)})}),Ui(n)}allElements(e,r){let i=Ui(this.symbolIndex.keys());return r&&(i=i.filter(n=>!r||r.has(n))),i.map(n=>this.getFileDescriptions(n,e)).flat()}getFileDescriptions(e,r){var i;return r?this.symbolByTypeIndex.get(e,r,()=>{var n;return((n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]).filter(a=>this.astReflection.isSubtype(a.type,r))}):(i=this.symbolIndex.get(e))!==null&&i!==void 0?i:[]}remove(e){let r=e.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r),this.referenceIndex.delete(r)}async updateContent(e,r=si.CancellationToken.None){let i=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,r),n=e.uri.toString();this.symbolIndex.set(n,i),this.symbolByTypeIndex.clear(n)}async updateReferences(e,r=si.CancellationToken.None){let i=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,r);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,r){let i=this.referenceIndex.get(e.uri.toString());return i?i.some(n=>!n.local&&r.has(n.targetUri.toString())):!1}},l(dm,"DefaultIndexManager"),dm),Vde=(pm=class{constructor(e){this.initialBuildOptions={},this._ready=new sc,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var r;this.folders=(r=e.workspaceFolders)!==null&&r!==void 0?r:void 0}initialized(e){return this.mutex.write(r=>{var i;return this.initializeWorkspace((i=this.folders)!==null&&i!==void 0?i:[],r)})}async initializeWorkspace(e,r=si.CancellationToken.None){let i=await this.performStartup(e);await ea(r),await this.documentBuilder.build(i,this.initialBuildOptions,r)}async performStartup(e){let r=this.serviceRegistry.all.flatMap(a=>a.LanguageMetaData.fileExtensions),i=[],n=l(a=>{i.push(a),this.langiumDocuments.hasDocument(a.uri)||this.langiumDocuments.addDocument(a)},"collector");return await this.loadAdditionalDocuments(e,n),await Promise.all(e.map(a=>[a,this.getRootFolder(a)]).map(async a=>this.traverseFolder(...a,r,n))),this._ready.resolve(),i}loadAdditionalDocuments(e,r){return Promise.resolve()}getRootFolder(e){return oc.parse(e.uri)}async traverseFolder(e,r,i,n){let a=await this.fileSystemProvider.readDirectory(r);await Promise.all(a.map(async s=>{if(this.includeEntry(e,s,i)){if(s.isDirectory)await this.traverseFolder(e,s.uri,i,n);else if(s.isFile){let o=await this.langiumDocuments.getOrCreateDocument(s.uri);n(o)}}}))}includeEntry(e,r,i){let n=dl.basename(r.uri);if(n.startsWith("."))return!1;if(r.isDirectory)return n!=="node_modules"&&n!=="out";if(r.isFile){let a=dl.extname(r.uri);return i.includes(a)}return!1}},l(pm,"DefaultWorkspaceManager"),pm),Yde=(gm=class{buildUnexpectedCharactersMessage(e,r,i,n,a){return BN.buildUnexpectedCharactersMessage(e,r,i,n,a)}buildUnableToPopLexerModeMessage(e){return BN.buildUnableToPopLexerModeMessage(e)}},l(gm,"DefaultLexerErrorMessageProvider"),gm),cD={mode:"full"},hD=(fm=class{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;let r=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);let i=Ck(r)?Object.values(r):r,n=e.LanguageMetaData.mode==="production";this.chevrotainLexer=new xa(i,{positionTracking:"full",skipValidations:n,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,r=cD){var i,n,a;let s=this.chevrotainLexer.tokenize(e);return{tokens:s.tokens,errors:s.errors,hidden:(i=s.groups.hidden)!==null&&i!==void 0?i:[],report:(a=(n=this.tokenBuilder).flushLexingReport)===null||a===void 0?void 0:a.call(n,e)}}toTokenTypeDictionary(e){if(Ck(e))return e;let r=lT(e)?Object.values(e.modes).flat():e,i={};return r.forEach(n=>i[n.name]=n),i}},l(fm,"DefaultLexer"),fm);l(oT,"isTokenTypeArray");l(lT,"isIMultiModeLexerDefinition");l(Ck,"isTokenTypeDictionary");l(uD,"parseJSDoc");l(dD,"isJSDoc");l(pD,"getLines");Ule=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,fIe=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;l(Hde,"tokenize");l(Xde,"buildInlineTokens");mIe=/\S/,yIe=/\s*$/;l(Sk,"skipWhitespace");l(Kde,"lastCharacter");l(Zde,"parseJSDocComment");l(Qde,"parseJSDocElement");l(Jde,"appendEmptyLine");l(gD,"parseJSDocText");l(e0e,"parseJSDocInline");l(fD,"parseJSDocTag");l(mD,"parseJSDocLine");l(cT,"normalizeOptions");l(jw,"normalizeOption");jle=(mm=class{constructor(e,r){this.elements=e,this.range=r}getTag(e){return this.getAllTags().find(r=>r.name===e)}getTags(e){return this.getAllTags().filter(r=>r.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(let r of this.elements)if(e.length===0)e=r.toString();else{let i=r.toString();e+=uI(e)+i}return e.trim()}toMarkdown(e){let r="";for(let i of this.elements)if(r.length===0)r=i.toMarkdown(e);else{let n=i.toMarkdown(e);r+=uI(r)+n}return r.trim()}},l(mm,"JSDocCommentImpl"),mm),bN=(ym=class{constructor(e,r,i,n){this.name=e,this.content=r,this.inline=i,this.range=n}toString(){let e=`@${this.name}`,r=this.content.toString();return this.content.inlines.length===1?e=`${e} ${r}`:this.content.inlines.length>1&&(e=`${e}
${r}`),this.inline?`{${e}}`:e}toMarkdown(e){var r,i;return(i=(r=e==null?void 0:e.renderTag)===null||r===void 0?void 0:r.call(e,this))!==null&&i!==void 0?i:this.toMarkdownDefault(e)}toMarkdownDefault(e){let r=this.content.toMarkdown(e);if(this.inline){let a=t0e(this.name,r,e??{});if(typeof a=="string")return a}let i="";(e==null?void 0:e.tag)==="italic"||(e==null?void 0:e.tag)===void 0?i="*":(e==null?void 0:e.tag)==="bold"?i="**":(e==null?void 0:e.tag)==="bold-italic"&&(i="***");let n=`${i}@${this.name}${i}`;return this.content.inlines.length===1?n=`${n} \u2014 ${r}`:this.content.inlines.length>1&&(n=`${n}
${r}`),this.inline?`{${n}}`:n}},l(ym,"JSDocTagImpl"),ym);l(t0e,"renderInlineTag");l(r0e,"renderLinkDefault");hI=(vm=class{constructor(e,r){this.inlines=e,this.range=r}toString(){let e="";for(let r=0;r<this.inlines.length;r++){let i=this.inlines[r],n=this.inlines[r+1];e+=i.toString(),n&&n.range.start.line>i.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let r="";for(let i=0;i<this.inlines.length;i++){let n=this.inlines[i],a=this.inlines[i+1];r+=n.toMarkdown(e),a&&a.range.start.line>n.range.start.line&&(r+=`
`)}return r}},l(vm,"JSDocTextImpl"),vm),i0e=(bm=class{constructor(e,r){this.text=e,this.range=r}toString(){return this.text}toMarkdown(){return this.text}},l(bm,"JSDocLineImpl"),bm);l(uI,"fillNewlines");n0e=(xm=class{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){let r=this.commentProvider.getComment(e);if(r&&dD(r))return uD(r).toMarkdown({renderLink:l((i,n)=>this.documentationLinkRenderer(e,i,n),"renderLink"),renderTag:l(i=>this.documentationTagRenderer(e,i),"renderTag")})}documentationLinkRenderer(e,r,i){var n;let a=(n=this.findNameInPrecomputedScopes(e,r))!==null&&n!==void 0?n:this.findNameInGlobalScope(e,r);if(a&&a.nameSegment){let s=a.nameSegment.range.start.line+1,o=a.nameSegment.range.start.character+1,h=a.documentUri.with({fragment:`L${s},${o}`});return`[${i}](${h.toString()})`}else return}documentationTagRenderer(e,r){}findNameInPrecomputedScopes(e,r){let i=vo(e).precomputedScopes;if(!i)return;let n=e;do{let a=i.get(n).find(s=>s.name===r);if(a)return a;n=n.$container}while(n)}findNameInGlobalScope(e,r){return this.indexManager.allElements().find(i=>i.name===r)}},l(xm,"JSDocDocumentationProvider"),xm),a0e=(wm=class{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var r;return sD(e)?e.$comment:(r=kI(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||r===void 0?void 0:r.text}},l(wm,"DefaultCommentProvider"),wm),s0e=(km=class{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,r){return Promise.resolve(this.syncParser.parse(e))}},l(km,"DefaultAsyncParser"),km),vIe=(Tm=class{constructor(e){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=e.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let e=this.createWorker();e.onReady(()=>{if(this.queue.length>0){let r=this.queue.shift();r&&(e.lock(),r.resolve(e))}}),this.workerPool.push(e)}}async parse(e,r){let i=await this.acquireParserWorker(r),n=new sc,a,s=r.onCancellationRequested(()=>{a=setTimeout(()=>{this.terminateWorker(i)},this.terminationDelay)});return i.parse(e).then(o=>{let h=this.hydrator.hydrate(o);n.resolve(h)}).catch(o=>{n.reject(o)}).finally(()=>{s.dispose(),clearTimeout(a)}),n.promise}terminateWorker(e){e.terminate();let r=this.workerPool.indexOf(e);r>=0&&this.workerPool.splice(r,1)}async acquireParserWorker(e){this.initializeWorkers();for(let i of this.workerPool)if(i.ready)return i.lock(),i;let r=new sc;return e.onCancellationRequested(()=>{let i=this.queue.indexOf(r);i>=0&&this.queue.splice(i,1),r.reject(zh)}),this.queue.push(r),r.promise}},l(Tm,"AbstractThreadedAsyncParser"),Tm),bIe=(Em=class{get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(e,r,i,n){this.onReadyEmitter=new sT.Emitter,this.deferred=new sc,this._ready=!0,this._parsing=!1,this.sendMessage=e,this._terminate=n,r(a=>{let s=a;this.deferred.resolve(s),this.unlock()}),i(a=>{this.deferred.reject(a),this.unlock()})}terminate(){this.deferred.reject(zh),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(e){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new sc,this.sendMessage(e),this.deferred.promise}},l(Em,"ParserWorker"),Em),o0e=(Cm=class{constructor(){this.previousTokenSource=new si.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();let r=iT();return this.previousTokenSource=r,this.enqueue(this.writeQueue,e,r.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,r,i=si.CancellationToken.None){let n=new sc,a={action:r,deferred:n,cancellationToken:i};return e.push(a),this.performNextOperation(),n.promise}async performNextOperation(){if(!this.done)return;let e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:r,deferred:i,cancellationToken:n})=>{try{let a=await Promise.resolve().then(()=>r(n));i.resolve(a)}catch(a){Bd(a)?i.resolve(void 0):i.reject(a)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}},l(Cm,"DefaultWorkspaceLock"),Cm),l0e=(Sm=class{constructor(e){this.grammarElementIdMap=new Ek,this.tokenTypeIdMap=new Ek,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(r=>Object.assign(Object.assign({},r),{message:r.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){let r=new Map,i=new Map;for(let n of Jl(e))r.set(n,{});if(e.$cstNode)for(let n of Im(e.$cstNode))i.set(n,{});return{astNodes:r,cstNodes:i}}dehydrateAstNode(e,r){let i=r.astNodes.get(e);i.$type=e.$type,i.$containerIndex=e.$containerIndex,i.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(i.$cstNode=this.dehydrateCstNode(e.$cstNode,r));for(let[n,a]of Object.entries(e))if(!n.startsWith("$"))if(Array.isArray(a)){let s=[];i[n]=s;for(let o of a)Ji(o)?s.push(this.dehydrateAstNode(o,r)):ja(o)?s.push(this.dehydrateReference(o,r)):s.push(o)}else Ji(a)?i[n]=this.dehydrateAstNode(a,r):ja(a)?i[n]=this.dehydrateReference(a,r):a!==void 0&&(i[n]=a);return i}dehydrateReference(e,r){let i={};return i.$refText=e.$refText,e.$refNode&&(i.$refNode=r.cstNodes.get(e.$refNode)),i}dehydrateCstNode(e,r){let i=r.cstNodes.get(e);return _k(e)?i.fullText=e.fullText:i.grammarSource=this.getGrammarElementId(e.grammarSource),i.hidden=e.hidden,i.astNode=r.astNodes.get(e.astNode),ec(e)?i.content=e.content.map(n=>this.dehydrateCstNode(n,r)):Dd(e)&&(i.tokenType=e.tokenType.name,i.offset=e.offset,i.length=e.length,i.startLine=e.range.start.line,i.startColumn=e.range.start.character,i.endLine=e.range.end.line,i.endColumn=e.range.end.character),i}hydrate(e){let r=e.value,i=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,i),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(r,i)}}createHydrationContext(e){let r=new Map,i=new Map;for(let a of Jl(e))r.set(a,{});let n;if(e.$cstNode)for(let a of Im(e.$cstNode)){let s;"fullText"in a?(s=new jR(a.fullText),n=s):"content"in a?s=new Jk:"tokenType"in a&&(s=this.hydrateCstLeafNode(a)),s&&(i.set(a,s),s.root=n)}return{astNodes:r,cstNodes:i}}hydrateAstNode(e,r){let i=r.astNodes.get(e);i.$type=e.$type,i.$containerIndex=e.$containerIndex,i.$containerProperty=e.$containerProperty,e.$cstNode&&(i.$cstNode=r.cstNodes.get(e.$cstNode));for(let[n,a]of Object.entries(e))if(!n.startsWith("$"))if(Array.isArray(a)){let s=[];i[n]=s;for(let o of a)Ji(o)?s.push(this.setParent(this.hydrateAstNode(o,r),i)):ja(o)?s.push(this.hydrateReference(o,i,n,r)):s.push(o)}else Ji(a)?i[n]=this.setParent(this.hydrateAstNode(a,r),i):ja(a)?i[n]=this.hydrateReference(a,i,n,r):a!==void 0&&(i[n]=a);return i}setParent(e,r){return e.$container=r,e}hydrateReference(e,r,i,n){return this.linker.buildReference(r,i,n.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,r,i=0){let n=r.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(n.grammarSource=this.getGrammarElement(e.grammarSource)),n.astNode=r.astNodes.get(e.astNode),ec(n))for(let a of e.content){let s=this.hydrateCstNode(a,r,i++);n.content.push(s)}return n}hydrateCstLeafNode(e){let r=this.getTokenType(e.tokenType),i=e.offset,n=e.length,a=e.startLine,s=e.startColumn,o=e.endLine,h=e.endColumn,u=e.hidden;return new bk(i,n,{start:{line:a,character:s},end:{line:o,character:h}},r,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(let r of Jl(this.grammar))Ik(r)&&this.grammarElementIdMap.set(r,e++)}},l(Sm,"DefaultHydrator"),Sm);l(On,"createDefaultCoreModule");l($n,"createDefaultSharedCoreModule");(function(t){t.merge=(e,r)=>ox(ox({},e),r)})(dI||(dI={}));l(gi,"inject");c0e=Symbol("isProxy");l(yD,"eagerLoad");l(vD,"_inject");Wle=Symbol();l(pI,"_resolve");l(ox,"_merge");gI={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]};(function(t){t.REGULAR="indentation-sensitive",t.IGNORE_INDENTATION="ignore-indentation"})(wd||(wd={}));h0e=(_m=class extends tT{constructor(e=gI){super(),this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options=Object.assign(Object.assign({},gI),e),this.indentTokenType=m1({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=m1({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(e,r){let i=super.buildTokens(e,r);if(!oT(i))throw new Error("Invalid tokens built by default builder");let{indentTokenName:n,dedentTokenName:a,whitespaceTokenName:s,ignoreIndentationDelimiters:o}=this.options,h,u,d,p=[];for(let g of i){for(let[f,m]of o)g.name===f?g.PUSH_MODE=wd.IGNORE_INDENTATION:g.name===m&&(g.POP_MODE=!0);g.name===a?h=g:g.name===n?u=g:g.name===s?d=g:p.push(g)}if(!h||!u||!d)throw new Error("Some indentation/whitespace tokens not found!");return o.length>0?{modes:{[wd.REGULAR]:[h,u,...p,d],[wd.IGNORE_INDENTATION]:[...p,d]},defaultMode:wd.REGULAR}:[h,u,d,...p]}flushLexingReport(e){let r=super.flushLexingReport(e);return Object.assign(Object.assign({},r),{remainingDedents:this.flushRemainingDedents(e)})}isStartOfLine(e,r){return r===0||`\r
`.includes(e[r-1])}matchWhitespace(e,r,i,n){var a;this.whitespaceRegExp.lastIndex=r;let s=this.whitespaceRegExp.exec(e);return{currIndentLevel:(a=s==null?void 0:s[0].length)!==null&&a!==void 0?a:0,prevIndentLevel:this.indentationStack.at(-1),match:s}}createIndentationTokenInstance(e,r,i,n){let a=this.getLineNumber(r,n);return mx(e,i,n,n+i.length,a,a,1,i.length)}getLineNumber(e,r){return e.substring(0,r).split(/\r\n|\r|\n/).length}indentMatcher(e,r,i,n){if(!this.isStartOfLine(e,r))return null;let{currIndentLevel:a,prevIndentLevel:s,match:o}=this.matchWhitespace(e,r,i,n);return a<=s?null:(this.indentationStack.push(a),o)}dedentMatcher(e,r,i,n){var a,s,o,h;if(!this.isStartOfLine(e,r))return null;let{currIndentLevel:u,prevIndentLevel:d,match:p}=this.matchWhitespace(e,r,i,n);if(u>=d)return null;let g=this.indentationStack.lastIndexOf(u);if(g===-1)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${u} at offset: ${r}. Current indentation stack: ${this.indentationStack}`,offset:r,length:(s=(a=p==null?void 0:p[0])===null||a===void 0?void 0:a.length)!==null&&s!==void 0?s:0,line:this.getLineNumber(e,r),column:1}),null;let f=this.indentationStack.length-g-1,m=(h=(o=e.substring(0,r).match(/[\r\n]+$/))===null||o===void 0?void 0:o[0].length)!==null&&h!==void 0?h:1;for(let y=0;y<f;y++){let b=this.createIndentationTokenInstance(this.dedentTokenType,e,"",r-(m-1));i.push(b),this.indentationStack.pop()}return null}buildTerminalToken(e){let r=super.buildTerminalToken(e),{indentTokenName:i,dedentTokenName:n,whitespaceTokenName:a}=this.options;return r.name===i?this.indentTokenType:r.name===n?this.dedentTokenType:r.name===a?m1({name:a,pattern:this.whitespaceRegExp,group:xa.SKIPPED}):r}flushRemainingDedents(e){let r=[];for(;this.indentationStack.length>1;)r.push(this.createIndentationTokenInstance(this.dedentTokenType,e,"",e.length)),this.indentationStack.pop();return this.indentationStack=[0],r}},l(_m,"IndentationAwareTokenBuilder"),_m),xIe=(Am=class extends hD{constructor(e){if(super(e),e.parser.TokenBuilder instanceof h0e)this.indentationTokenBuilder=e.parser.TokenBuilder;else throw new Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder")}tokenize(e,r=cD){let i=super.tokenize(e),n=i.report;(r==null?void 0:r.mode)==="full"&&i.tokens.push(...n.remainingDedents),n.remainingDedents=[];let{indentTokenType:a,dedentTokenType:s}=this.indentationTokenBuilder,o=a.tokenTypeIdx,h=s.tokenTypeIdx,u=[],d=i.tokens.length-1;for(let p=0;p<d;p++){let g=i.tokens[p],f=i.tokens[p+1];if(g.tokenTypeIdx===o&&f.tokenTypeIdx===h){p++;continue}u.push(g)}return d>=0&&u.push(i.tokens[d]),i.tokens=u,i}},l(Am,"IndentationAwareLexer"),Am),bD={};Fn(bD,{AstUtils:()=>VI,BiMap:()=>Ek,Cancellation:()=>si,ContextCache:()=>aT,CstUtils:()=>fI,DONE_RESULT:()=>ba,Deferred:()=>sc,Disposable:()=>Td,DisposableCache:()=>nT,DocumentCache:()=>Mde,EMPTY_STREAM:()=>Ak,ErrorWithLocation:()=>Nk,GrammarUtils:()=>SI,MultiMap:()=>$m,OperationCancelled:()=>zh,Reduction:()=>Xb,RegExpUtils:()=>XI,SimpleCache:()=>nD,StreamImpl:()=>hl,TreeStreamImpl:()=>Nm,URI:()=>oc,UriUtils:()=>dl,WorkspaceCache:()=>aD,assertUnreachable:()=>Gh,delayNextTick:()=>rT,interruptAndCheck:()=>ea,isOperationCancelled:()=>Bd,loadGrammarFromJson:()=>fl,setInterruptionPeriod:()=>eD,startCancelableOperation:()=>iT,stream:()=>Ui});Ry(bD,sT);u0e=(Lm=class{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},l(Lm,"EmptyFileSystemProvider"),Lm),ta={fileSystemProvider:l(()=>new u0e,"fileSystemProvider")},wIe={Grammar:l(()=>{},"Grammar"),LanguageMetaData:l(()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"}),"LanguageMetaData")},kIe={AstReflection:l(()=>new WI,"AstReflection")};l(d0e,"createMinimalGrammarServices");l(fl,"loadGrammarFromJson");Ry(rce,bD);TIe=Object.defineProperty,ut=l((t,e)=>TIe(t,"name",{value:e,configurable:!0}),"__name"),Vle="Statement",Ww="Architecture";l(p0e,"isArchitecture");ut(p0e,"isArchitecture");_w="Axis",Ob="Branch";l(g0e,"isBranch");ut(g0e,"isBranch");Aw="Checkout",Lw="CherryPicking",xN="ClassDefStatement",$b="Commit";l(f0e,"isCommit");ut(f0e,"isCommit");wN="Curve",kN="Edge",TN="Entry",Bb="GitGraph";l(m0e,"isGitGraph");ut(m0e,"isGitGraph");EN="Group",Vw="Info";l(y0e,"isInfo");ut(y0e,"isInfo");Nw="Item",CN="Junction",Pb="Merge";l(v0e,"isMerge");ut(v0e,"isMerge");SN="Option",Yw="Packet";l(b0e,"isPacket");ut(b0e,"isPacket");Hw="PacketBlock";l(x0e,"isPacketBlock");ut(x0e,"isPacketBlock");Xw="Pie";l(w0e,"isPie");ut(w0e,"isPie");Kw="PieSection";l(k0e,"isPieSection");ut(k0e,"isPieSection");_N="Radar",AN="Service",Zw="Treemap";l(T0e,"isTreemap");ut(T0e,"isTreemap");LN="TreemapRow",Iw="Direction",Rw="Leaf",Dw="Section",E0e=(Sd=class extends yI{getAllTypes(){return[Ww,_w,Ob,Aw,Lw,xN,$b,wN,Iw,kN,TN,Bb,EN,Vw,Nw,CN,Rw,Pb,SN,Yw,Hw,Xw,Kw,_N,Dw,AN,Vle,Zw,LN]}computeIsSubtype(e,r){switch(e){case Ob:case Aw:case Lw:case $b:case Pb:return this.isSubtype(Vle,r);case Iw:return this.isSubtype(Bb,r);case Rw:case Dw:return this.isSubtype(Nw,r);default:return!1}}getReferenceType(e){let r=`${e.container.$type}:${e.property}`;switch(r){case"Entry:axis":return _w;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case Ww:return{name:Ww,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case _w:return{name:_w,properties:[{name:"label"},{name:"name"}]};case Ob:return{name:Ob,properties:[{name:"name"},{name:"order"}]};case Aw:return{name:Aw,properties:[{name:"branch"}]};case Lw:return{name:Lw,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case xN:return{name:xN,properties:[{name:"className"},{name:"styleText"}]};case $b:return{name:$b,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case wN:return{name:wN,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case kN:return{name:kN,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case TN:return{name:TN,properties:[{name:"axis"},{name:"value"}]};case Bb:return{name:Bb,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case EN:return{name:EN,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case Vw:return{name:Vw,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case Nw:return{name:Nw,properties:[{name:"classSelector"},{name:"name"}]};case CN:return{name:CN,properties:[{name:"id"},{name:"in"}]};case Pb:return{name:Pb,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case SN:return{name:SN,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case Yw:return{name:Yw,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case Hw:return{name:Hw,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case Xw:return{name:Xw,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case Kw:return{name:Kw,properties:[{name:"label"},{name:"value"}]};case _N:return{name:_N,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case AN:return{name:AN,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case Zw:return{name:Zw,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case LN:return{name:LN,properties:[{name:"indent"},{name:"item"}]};case Iw:return{name:Iw,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case Rw:return{name:Rw,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case Dw:return{name:Dw,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:e,properties:[]}}}},l(Sd,"MermaidAstReflection"),ut(Sd,"MermaidAstReflection"),Sd),bo=new E0e,EIe=ut(()=>Yle??(Yle=fl(`{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"InfoGrammar"),CIe=ut(()=>Hle??(Hle=fl(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),SIe=ut(()=>Xle??(Xle=fl(`{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"PieGrammar"),_Ie=ut(()=>Kle??(Kle=fl(`{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"ArchitectureGrammar"),AIe=ut(()=>Zle??(Zle=fl(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),LIe=ut(()=>Qle??(Qle=fl(`{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}`)),"RadarGrammar"),NIe=ut(()=>Jle??(Jle=fl(`{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}`)),"TreemapGrammar"),IIe={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},RIe={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},DIe={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},MIe={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},OIe={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},$Ie={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},BIe={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Xa={AstReflection:ut(()=>new E0e,"AstReflection")},C0e={Grammar:ut(()=>EIe(),"Grammar"),LanguageMetaData:ut(()=>IIe,"LanguageMetaData"),parser:{}},S0e={Grammar:ut(()=>CIe(),"Grammar"),LanguageMetaData:ut(()=>RIe,"LanguageMetaData"),parser:{}},_0e={Grammar:ut(()=>SIe(),"Grammar"),LanguageMetaData:ut(()=>DIe,"LanguageMetaData"),parser:{}},A0e={Grammar:ut(()=>_Ie(),"Grammar"),LanguageMetaData:ut(()=>MIe,"LanguageMetaData"),parser:{}},L0e={Grammar:ut(()=>AIe(),"Grammar"),LanguageMetaData:ut(()=>OIe,"LanguageMetaData"),parser:{}},N0e={Grammar:ut(()=>LIe(),"Grammar"),LanguageMetaData:ut(()=>$Ie,"LanguageMetaData"),parser:{}},I0e={Grammar:ut(()=>NIe(),"Grammar"),LanguageMetaData:ut(()=>BIe,"LanguageMetaData"),parser:{}},PIe=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,FIe=/accTitle[\t ]*:([^\n\r]*)/,zIe=/title([\t ][^\n\r]*|)/,GIe={ACC_DESCR:PIe,ACC_TITLE:FIe,TITLE:zIe},Pd=(_d=class extends JR{runConverter(e,r,i){let n=this.runCommonConverter(e,r,i);return n===void 0&&(n=this.runCustomConverter(e,r,i)),n===void 0?super.runConverter(e,r,i):n}runCommonConverter(e,r,i){let n=GIe[e.name];if(n===void 0)return;let a=n.exec(r);if(a!==null){if(a[1]!==void 0)return a[1].trim().replace(/[\t ]{2,}/gm," ");if(a[2]!==void 0)return a[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},l(_d,"AbstractMermaidValueConverter"),ut(_d,"AbstractMermaidValueConverter"),_d),jh=(Ad=class extends Pd{runCustomConverter(e,r,i){}},l(Ad,"CommonValueConverter"),ut(Ad,"CommonValueConverter"),Ad),Ta=(Ld=class extends tT{constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,r,i){let n=super.buildKeywordTokens(e,r,i);return n.forEach(a=>{this.keywords.has(a.name)&&a.PATTERN!==void 0&&(a.PATTERN=new RegExp(a.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),n}},l(Ld,"AbstractMermaidTokenBuilder"),ut(Ld,"AbstractMermaidTokenBuilder"),Ld),xYe=(Nd=class extends Ta{},l(Nd,"CommonTokenBuilder"),ut(Nd,"CommonTokenBuilder"),Nd)});function hT(t=ta){let e=gi($n(t),Xa),r=gi(On({shared:e}),C0e,xD);return e.ServiceRegistry.register(r),{shared:e,Info:r}}var Fd,qIe,xD,cc=wt(()=>{_i();kt();qIe=(Fd=class extends Ta{constructor(){super(["info","showInfo"])}},l(Fd,"InfoTokenBuilder"),ut(Fd,"InfoTokenBuilder"),Fd),xD={parser:{TokenBuilder:ut(()=>new qIe,"TokenBuilder"),ValueConverter:ut(()=>new jh,"ValueConverter")}};l(hT,"createInfoServices");ut(hT,"createInfoServices")});var R0e={};Tr(R0e,{InfoModule:()=>xD,createInfoServices:()=>hT});var D0e=wt(()=>{cc();_i();zi();Ii();br();kt()});function uT(t=ta){let e=gi($n(t),Xa),r=gi(On({shared:e}),S0e,wD);return e.ServiceRegistry.register(r),{shared:e,Packet:r}}var zd,UIe,wD,hc=wt(()=>{_i();kt();UIe=(zd=class extends Ta{constructor(){super(["packet"])}},l(zd,"PacketTokenBuilder"),ut(zd,"PacketTokenBuilder"),zd),wD={parser:{TokenBuilder:ut(()=>new UIe,"TokenBuilder"),ValueConverter:ut(()=>new jh,"ValueConverter")}};l(uT,"createPacketServices");ut(uT,"createPacketServices")});var M0e={};Tr(M0e,{PacketModule:()=>wD,createPacketServices:()=>uT});var O0e=wt(()=>{hc();_i();zi();Ii();br();kt()});function dT(t=ta){let e=gi($n(t),Xa),r=gi(On({shared:e}),_0e,kD);return e.ServiceRegistry.register(r),{shared:e,Pie:r}}var Gd,jIe,qd,WIe,kD,uc=wt(()=>{_i();kt();jIe=(Gd=class extends Ta{constructor(){super(["pie","showData"])}},l(Gd,"PieTokenBuilder"),ut(Gd,"PieTokenBuilder"),Gd),WIe=(qd=class extends Pd{runCustomConverter(e,r,i){if(e.name==="PIE_SECTION_LABEL")return r.replace(/"/g,"").trim()}},l(qd,"PieValueConverter"),ut(qd,"PieValueConverter"),qd),kD={parser:{TokenBuilder:ut(()=>new jIe,"TokenBuilder"),ValueConverter:ut(()=>new WIe,"ValueConverter")}};l(dT,"createPieServices");ut(dT,"createPieServices")});var $0e={};Tr($0e,{PieModule:()=>kD,createPieServices:()=>dT});var B0e=wt(()=>{uc();_i();zi();Ii();br();kt()});function pT(t=ta){let e=gi($n(t),Xa),r=gi(On({shared:e}),A0e,TD);return e.ServiceRegistry.register(r),{shared:e,Architecture:r}}var Ud,VIe,jd,YIe,TD,dc=wt(()=>{_i();kt();VIe=(Ud=class extends Ta{constructor(){super(["architecture"])}},l(Ud,"ArchitectureTokenBuilder"),ut(Ud,"ArchitectureTokenBuilder"),Ud),YIe=(jd=class extends Pd{runCustomConverter(e,r,i){if(e.name==="ARCH_ICON")return r.replace(/[()]/g,"").trim();if(e.name==="ARCH_TEXT_ICON")return r.replace(/["()]/g,"");if(e.name==="ARCH_TITLE")return r.replace(/[[\]]/g,"").trim()}},l(jd,"ArchitectureValueConverter"),ut(jd,"ArchitectureValueConverter"),jd),TD={parser:{TokenBuilder:ut(()=>new VIe,"TokenBuilder"),ValueConverter:ut(()=>new YIe,"ValueConverter")}};l(pT,"createArchitectureServices");ut(pT,"createArchitectureServices")});var P0e={};Tr(P0e,{ArchitectureModule:()=>TD,createArchitectureServices:()=>pT});var F0e=wt(()=>{dc();_i();zi();Ii();br();kt()});function gT(t=ta){let e=gi($n(t),Xa),r=gi(On({shared:e}),L0e,ED);return e.ServiceRegistry.register(r),{shared:e,GitGraph:r}}var Wd,HIe,ED,pc=wt(()=>{_i();kt();HIe=(Wd=class extends Ta{constructor(){super(["gitGraph"])}},l(Wd,"GitGraphTokenBuilder"),ut(Wd,"GitGraphTokenBuilder"),Wd),ED={parser:{TokenBuilder:ut(()=>new HIe,"TokenBuilder"),ValueConverter:ut(()=>new jh,"ValueConverter")}};l(gT,"createGitGraphServices");ut(gT,"createGitGraphServices")});var z0e={};Tr(z0e,{GitGraphModule:()=>ED,createGitGraphServices:()=>gT});var G0e=wt(()=>{pc();_i();zi();Ii();br();kt()});function fT(t=ta){let e=gi($n(t),Xa),r=gi(On({shared:e}),N0e,CD);return e.ServiceRegistry.register(r),{shared:e,Radar:r}}var Vd,XIe,CD,gc=wt(()=>{_i();kt();XIe=(Vd=class extends Ta{constructor(){super(["radar-beta"])}},l(Vd,"RadarTokenBuilder"),ut(Vd,"RadarTokenBuilder"),Vd),CD={parser:{TokenBuilder:ut(()=>new XIe,"TokenBuilder"),ValueConverter:ut(()=>new jh,"ValueConverter")}};l(fT,"createRadarServices");ut(fT,"createRadarServices")});var q0e={};Tr(q0e,{RadarModule:()=>CD,createRadarServices:()=>fT});var U0e=wt(()=>{gc();_i();zi();Ii();br();kt()});function SD(t){let e=t.validation.TreemapValidator,r=t.validation.ValidationRegistry;if(r){let i={Treemap:e.checkSingleRoot.bind(e)};r.register(i,e)}}function mT(t=ta){let e=gi($n(t),Xa),r=gi(On({shared:e}),I0e,_D);return e.ServiceRegistry.register(r),SD(r),{shared:e,Treemap:r}}var Yd,KIe,ZIe,Hd,QIe,Xd,JIe,_D,fc=wt(()=>{_i();kt();KIe=(Yd=class extends Ta{constructor(){super(["treemap"])}},l(Yd,"TreemapTokenBuilder"),ut(Yd,"TreemapTokenBuilder"),Yd),ZIe=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,QIe=(Hd=class extends Pd{runCustomConverter(e,r,i){if(e.name==="NUMBER2")return parseFloat(r.replace(/,/g,""));if(e.name==="SEPARATOR"||e.name==="STRING2")return r.substring(1,r.length-1);if(e.name==="INDENTATION")return r.length;if(e.name==="ClassDef"){if(typeof r!="string")return r;let n=ZIe.exec(r);if(n)return{$type:"ClassDefStatement",className:n[1],styleText:n[2]||void 0}}}},l(Hd,"TreemapValueConverter"),ut(Hd,"TreemapValueConverter"),Hd);l(SD,"registerValidationChecks");ut(SD,"registerValidationChecks");JIe=(Xd=class{checkSingleRoot(e,r){let i;for(let n of e.TreemapRows)n.item&&(i===void 0&&n.indent===void 0?i=0:n.indent===void 0?r("error","Multiple root nodes are not allowed in a treemap.",{node:n,property:"item"}):i!==void 0&&i>=parseInt(n.indent,10)&&r("error","Multiple root nodes are not allowed in a treemap.",{node:n,property:"item"}))}},l(Xd,"TreemapValidator"),ut(Xd,"TreemapValidator"),Xd),_D={parser:{TokenBuilder:ut(()=>new KIe,"TokenBuilder"),ValueConverter:ut(()=>new QIe,"ValueConverter")},validation:{TreemapValidator:ut(()=>new JIe,"TreemapValidator")}};l(mT,"createTreemapServices");ut(mT,"createTreemapServices")});var j0e={};Tr(j0e,{TreemapModule:()=>_D,createTreemapServices:()=>mT});var W0e=wt(()=>{fc();_i();zi();Ii();br();kt()});async function ra(t,e){let r=eRe[t];if(!r)throw new Error(`Unknown diagram type: ${t}`);mc[t]||await r();let i=mc[t].parse(e);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new tRe(i);return i.value}var mc,eRe,Kd,tRe,Wh=wt(()=>{_i();kt();mc={},eRe={info:ut(async()=>{let{createInfoServices:t}=await Promise.resolve().then(()=>(D0e(),R0e)),e=t().Info.parser.LangiumParser;mc.info=e},"info"),packet:ut(async()=>{let{createPacketServices:t}=await Promise.resolve().then(()=>(O0e(),M0e)),e=t().Packet.parser.LangiumParser;mc.packet=e},"packet"),pie:ut(async()=>{let{createPieServices:t}=await Promise.resolve().then(()=>(B0e(),$0e)),e=t().Pie.parser.LangiumParser;mc.pie=e},"pie"),architecture:ut(async()=>{let{createArchitectureServices:t}=await Promise.resolve().then(()=>(F0e(),P0e)),e=t().Architecture.parser.LangiumParser;mc.architecture=e},"architecture"),gitGraph:ut(async()=>{let{createGitGraphServices:t}=await Promise.resolve().then(()=>(G0e(),z0e)),e=t().GitGraph.parser.LangiumParser;mc.gitGraph=e},"gitGraph"),radar:ut(async()=>{let{createRadarServices:t}=await Promise.resolve().then(()=>(U0e(),q0e)),e=t().Radar.parser.LangiumParser;mc.radar=e},"radar"),treemap:ut(async()=>{let{createTreemapServices:t}=await Promise.resolve().then(()=>(W0e(),j0e)),e=t().Treemap.parser.LangiumParser;mc.treemap=e},"treemap")};l(ra,"parse");ut(ra,"parse");tRe=(Kd=class extends Error{constructor(e){let r=e.lexerErrors.map(n=>n.message).join(`
`),i=e.parserErrors.map(n=>n.message).join(`
`);super(`Parsing failed: ${r} ${i}`),this.result=e}},l(Kd,"MermaidParseError"),ut(Kd,"MermaidParseError"),Kd)});var Wm,yT,AD=wt(()=>{kt();yT=(Wm=class{constructor(e){this.init=e,this.records=this.init()}reset(){this.records=this.init()}},l(Wm,"ImperativeState"),Wm)});var J0e={};Tr(J0e,{diagram:()=>HRe});function xT(){return kS({length:7})}function Y0e(t,e){let r=Object.create(null);return t.reduce((i,n)=>{let a=e(n);return r[a]||(r[a]=!0,i.push(n)),i},[])}function ND(t,e,r){let i=t.indexOf(e);i===-1?t.push(r):t.splice(i,1,r)}function ID(t){let e=t.reduce((n,a)=>n.seq>a.seq?n:a,t[0]),r="";t.forEach(function(n){n===e?r+="	*":r+="	|"});let i=[r,e.id,e.seq];for(let n in mt.records.branches)mt.records.branches.get(n)===e.id&&i.push(n);if(ee.debug(i.join(" ")),e.parents&&e.parents.length==2&&e.parents[0]&&e.parents[1]){let n=mt.records.commits.get(e.parents[0]);ND(t,e,n),e.parents[1]&&t.push(mt.records.commits.get(e.parents[1]))}else{if(e.parents.length==0)return;if(e.parents[0]){let n=mt.records.commits.get(e.parents[0]);ND(t,e,n)}}t=Y0e(t,n=>n.id),ID(t)}var Xr,rRe,Qd,mt,iRe,nRe,aRe,sRe,oRe,lRe,cRe,H0e,hRe,uRe,dRe,pRe,gRe,X0e,fRe,mRe,yRe,K0e,vRe,bRe,xRe,wRe,kRe,TRe,ERe,CRe,LD,en,Yh,Hh,ml,yc,Zd,Ka,Za,vT,xx,bT,Vh,Cr,SRe,Z0e,Q0e,_Re,ARe,LRe,NRe,IRe,RRe,DRe,MRe,ORe,$Re,BRe,PRe,V0e,FRe,wx,zRe,GRe,qRe,URe,jRe,WRe,VRe,YRe,HRe,epe=wt(()=>{fd();Wh();AD();hc();uc();dc();pc();gc();fc();Hr();ri();hr();lr();cc();_i();zi();Ii();br();kt();Xr={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},rRe=rr.gitGraph,Qd=l(()=>Ti({...rRe,...ir().gitGraph}),"getConfig"),mt=new yT(()=>{let t=Qd(),e=t.mainBranchName,r=t.mainBranchOrder;return{mainBranchName:e,commits:new Map,head:null,branchConfig:new Map([[e,{name:e,order:r}]]),branches:new Map([[e,null]]),currBranch:e,direction:"LR",seq:0,options:{}}});l(xT,"getID");l(Y0e,"uniqBy");iRe=l(function(t){mt.records.direction=t},"setDirection"),nRe=l(function(t){ee.debug("options str",t),t=t==null?void 0:t.trim(),t=t||"{}";try{mt.records.options=JSON.parse(t)}catch(e){ee.error("error while parsing gitGraph options",e.message)}},"setOptions"),aRe=l(function(){return mt.records.options},"getOptions"),sRe=l(function(t){let e=t.msg,r=t.id,i=t.type,n=t.tags;ee.info("commit",e,r,i,n),ee.debug("Entering commit:",e,r,i,n);let a=Qd();r=Ke.sanitizeText(r,a),e=Ke.sanitizeText(e,a),n=n==null?void 0:n.map(o=>Ke.sanitizeText(o,a));let s={id:r||mt.records.seq+"-"+xT(),message:e,seq:mt.records.seq++,type:i??Xr.NORMAL,tags:n??[],parents:mt.records.head==null?[]:[mt.records.head.id],branch:mt.records.currBranch};mt.records.head=s,ee.info("main branch",a.mainBranchName),mt.records.commits.has(s.id)&&ee.warn(`Commit ID ${s.id} already exists`),mt.records.commits.set(s.id,s),mt.records.branches.set(mt.records.currBranch,s.id),ee.debug("in pushCommit "+s.id)},"commit"),oRe=l(function(t){let e=t.name,r=t.order;if(e=Ke.sanitizeText(e,Qd()),mt.records.branches.has(e))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${e}")`);mt.records.branches.set(e,mt.records.head!=null?mt.records.head.id:null),mt.records.branchConfig.set(e,{name:e,order:r}),H0e(e),ee.debug("in createBranch")},"branch"),lRe=l(t=>{let e=t.branch,r=t.id,i=t.type,n=t.tags,a=Qd();e=Ke.sanitizeText(e,a),r&&(r=Ke.sanitizeText(r,a));let s=mt.records.branches.get(mt.records.currBranch),o=mt.records.branches.get(e),h=s?mt.records.commits.get(s):void 0,u=o?mt.records.commits.get(o):void 0;if(h&&u&&h.branch===e)throw new Error(`Cannot merge branch '${e}' into itself.`);if(mt.records.currBranch===e){let g=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw g.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},g}if(h===void 0||!h){let g=new Error(`Incorrect usage of "merge". Current branch (${mt.records.currBranch})has no commits`);throw g.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["commit"]},g}if(!mt.records.branches.has(e)){let g=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") does not exist");throw g.hash={text:`merge ${e}`,token:`merge ${e}`,expected:[`branch ${e}`]},g}if(u===void 0||!u){let g=new Error('Incorrect usage of "merge". Branch to be merged ('+e+") has no commits");throw g.hash={text:`merge ${e}`,token:`merge ${e}`,expected:['"commit"']},g}if(h===u){let g=new Error('Incorrect usage of "merge". Both branches have same head');throw g.hash={text:`merge ${e}`,token:`merge ${e}`,expected:["branch abc"]},g}if(r&&mt.records.commits.has(r)){let g=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom id");throw g.hash={text:`merge ${e} ${r} ${i} ${n==null?void 0:n.join(" ")}`,token:`merge ${e} ${r} ${i} ${n==null?void 0:n.join(" ")}`,expected:[`merge ${e} ${r}_UNIQUE ${i} ${n==null?void 0:n.join(" ")}`]},g}let d=o||"",p={id:r||`${mt.records.seq}-${xT()}`,message:`merged branch ${e} into ${mt.records.currBranch}`,seq:mt.records.seq++,parents:mt.records.head==null?[]:[mt.records.head.id,d],branch:mt.records.currBranch,type:Xr.MERGE,customType:i,customId:!!r,tags:n??[]};mt.records.head=p,mt.records.commits.set(p.id,p),mt.records.branches.set(mt.records.currBranch,p.id),ee.debug(mt.records.branches),ee.debug("in mergeBranch")},"merge"),cRe=l(function(t){let e=t.id,r=t.targetId,i=t.tags,n=t.parent;ee.debug("Entering cherryPick:",e,r,i);let a=Qd();if(e=Ke.sanitizeText(e,a),r=Ke.sanitizeText(r,a),i=i==null?void 0:i.map(h=>Ke.sanitizeText(h,a)),n=Ke.sanitizeText(n,a),!e||!mt.records.commits.has(e)){let h=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw h.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},h}let s=mt.records.commits.get(e);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(n&&!(Array.isArray(s.parents)&&s.parents.includes(n)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let o=s.branch;if(s.type===Xr.MERGE&&!n)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!mt.records.commits.has(r)){if(o===mt.records.currBranch){let p=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw p.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},p}let h=mt.records.branches.get(mt.records.currBranch);if(h===void 0||!h){let p=new Error(`Incorrect usage of "cherry-pick". Current branch (${mt.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},p}let u=mt.records.commits.get(h);if(u===void 0||!u){let p=new Error(`Incorrect usage of "cherry-pick". Current branch (${mt.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${e} ${r}`,token:`cherryPick ${e} ${r}`,expected:["cherry-pick abc"]},p}let d={id:mt.records.seq+"-"+xT(),message:`cherry-picked ${s==null?void 0:s.message} into ${mt.records.currBranch}`,seq:mt.records.seq++,parents:mt.records.head==null?[]:[mt.records.head.id,s.id],branch:mt.records.currBranch,type:Xr.CHERRY_PICK,tags:i?i.filter(Boolean):[`cherry-pick:${s.id}${s.type===Xr.MERGE?`|parent:${n}`:""}`]};mt.records.head=d,mt.records.commits.set(d.id,d),mt.records.branches.set(mt.records.currBranch,d.id),ee.debug(mt.records.branches),ee.debug("in cherryPick")}},"cherryPick"),H0e=l(function(t){if(t=Ke.sanitizeText(t,Qd()),mt.records.branches.has(t)){mt.records.currBranch=t;let e=mt.records.branches.get(mt.records.currBranch);e===void 0||!e?mt.records.head=null:mt.records.head=mt.records.commits.get(e)??null}else{let e=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${t}")`);throw e.hash={text:`checkout ${t}`,token:`checkout ${t}`,expected:[`branch ${t}`]},e}},"checkout");l(ND,"upsert");l(ID,"prettyPrintCommitHistory");hRe=l(function(){ee.debug(mt.records.commits);let t=X0e()[0];ID([t])},"prettyPrint"),uRe=l(function(){mt.reset(),cr()},"clear"),dRe=l(function(){return[...mt.records.branchConfig.values()].map((t,e)=>t.order!==null&&t.order!==void 0?t:{...t,order:parseFloat(`0.${e}`)}).sort((t,e)=>(t.order??0)-(e.order??0)).map(({name:t})=>({name:t}))},"getBranchesAsObjArray"),pRe=l(function(){return mt.records.branches},"getBranches"),gRe=l(function(){return mt.records.commits},"getCommits"),X0e=l(function(){let t=[...mt.records.commits.values()];return t.forEach(function(e){ee.debug(e.id)}),t.sort((e,r)=>e.seq-r.seq),t},"getCommitsArray"),fRe=l(function(){return mt.records.currBranch},"getCurrentBranch"),mRe=l(function(){return mt.records.direction},"getDirection"),yRe=l(function(){return mt.records.head},"getHead"),K0e={commitType:Xr,getConfig:Qd,setDirection:iRe,setOptions:nRe,getOptions:aRe,commit:sRe,branch:oRe,merge:lRe,cherryPick:cRe,checkout:H0e,prettyPrint:hRe,clear:uRe,getBranchesAsObjArray:dRe,getBranches:pRe,getCommits:gRe,getCommitsArray:X0e,getCurrentBranch:fRe,getDirection:mRe,getHead:yRe,setAccTitle:gr,getAccTitle:fr,getAccDescription:yr,setAccDescription:mr,setDiagramTitle:Er,getDiagramTitle:vr},vRe=l((t,e)=>{ls(t,e),t.dir&&e.setDirection(t.dir);for(let r of t.statements)bRe(r,e)},"populate"),bRe=l((t,e)=>{let r={Commit:l(i=>e.commit(xRe(i)),"Commit"),Branch:l(i=>e.branch(wRe(i)),"Branch"),Merge:l(i=>e.merge(kRe(i)),"Merge"),Checkout:l(i=>e.checkout(TRe(i)),"Checkout"),CherryPicking:l(i=>e.cherryPick(ERe(i)),"CherryPicking")}[t.$type];r?r(t):ee.error(`Unknown statement type: ${t.$type}`)},"parseStatement"),xRe=l(t=>({id:t.id,msg:t.message??"",type:t.type!==void 0?Xr[t.type]:Xr.NORMAL,tags:t.tags??void 0}),"parseCommit"),wRe=l(t=>({name:t.name,order:t.order??0}),"parseBranch"),kRe=l(t=>({branch:t.branch,id:t.id??"",type:t.type!==void 0?Xr[t.type]:void 0,tags:t.tags??void 0}),"parseMerge"),TRe=l(t=>t.branch,"parseCheckout"),ERe=l(t=>{var e;return{id:t.id,targetId:"",tags:((e=t.tags)==null?void 0:e.length)===0?void 0:t.tags,parent:t.parent}},"parseCherryPicking"),CRe={parse:l(async t=>{let e=await ra("gitGraph",t);ee.debug(e),vRe(e,K0e)},"parse")},LD=ve(),en=LD==null?void 0:LD.gitGraph,Yh=10,Hh=40,ml=4,yc=2,Zd=8,Ka=new Map,Za=new Map,vT=30,xx=new Map,bT=[],Vh=0,Cr="LR",SRe=l(()=>{Ka.clear(),Za.clear(),xx.clear(),Vh=0,bT=[],Cr="LR"},"clear"),Z0e=l(t=>{let e=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof t=="string"?t.split(/\\n|\n|<br\s*\/?>/gi):t).forEach(r=>{let i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=r.trim(),e.appendChild(i)}),e},"drawText"),Q0e=l(t=>{let e,r,i;return Cr==="BT"?(r=l((n,a)=>n<=a,"comparisonFunc"),i=1/0):(r=l((n,a)=>n>=a,"comparisonFunc"),i=0),t.forEach(n=>{var s,o;let a=Cr==="TB"||Cr=="BT"?(s=Za.get(n))==null?void 0:s.y:(o=Za.get(n))==null?void 0:o.x;a!==void 0&&r(a,i)&&(e=n,i=a)}),e},"findClosestParent"),_Re=l(t=>{let e="",r=1/0;return t.forEach(i=>{let n=Za.get(i).y;n<=r&&(e=i,r=n)}),e||void 0},"findClosestParentBT"),ARe=l((t,e,r)=>{let i=r,n=r,a=[];t.forEach(s=>{let o=e.get(s);if(!o)throw new Error(`Commit not found for key ${s}`);o.parents.length?(i=NRe(o),n=Math.max(i,n)):a.push(o),IRe(o,i)}),i=n,a.forEach(s=>{RRe(s,i,r)}),t.forEach(s=>{let o=e.get(s);if(o!=null&&o.parents.length){let h=_Re(o.parents);i=Za.get(h).y-Hh,i<=n&&(n=i);let u=Ka.get(o.branch).pos,d=i-Yh;Za.set(o.id,{x:u,y:d})}})},"setParallelBTPos"),LRe=l(t=>{var i;let e=Q0e(t.parents.filter(n=>n!==null));if(!e)throw new Error(`Closest parent not found for commit ${t.id}`);let r=(i=Za.get(e))==null?void 0:i.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${t.id}`);return r},"findClosestParentPos"),NRe=l(t=>LRe(t)+Hh,"calculateCommitPosition"),IRe=l((t,e)=>{let r=Ka.get(t.branch);if(!r)throw new Error(`Branch not found for commit ${t.id}`);let i=r.pos,n=e+Yh;return Za.set(t.id,{x:i,y:n}),{x:i,y:n}},"setCommitPosition"),RRe=l((t,e,r)=>{let i=Ka.get(t.branch);if(!i)throw new Error(`Branch not found for commit ${t.id}`);let n=e+r,a=i.pos;Za.set(t.id,{x:a,y:n})},"setRootPosition"),DRe=l((t,e,r,i,n,a)=>{if(a===Xr.HIGHLIGHT)t.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${e.id} commit-highlight${n%Zd} ${i}-outer`),t.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${e.id} commit${n%Zd} ${i}-inner`);else if(a===Xr.CHERRY_PICK)t.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${e.id} ${i}`),t.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${i}`),t.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${e.id} ${i}`),t.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${i}`),t.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${e.id} ${i}`);else{let s=t.append("circle");if(s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",e.type===Xr.MERGE?9:10),s.attr("class",`commit ${e.id} commit${n%Zd}`),a===Xr.MERGE){let o=t.append("circle");o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",6),o.attr("class",`commit ${i} ${e.id} commit${n%Zd}`)}a===Xr.REVERSE&&t.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${i} ${e.id} commit${n%Zd}`)}},"drawCommitBullet"),MRe=l((t,e,r,i)=>{var n;if(e.type!==Xr.CHERRY_PICK&&(e.customId&&e.type===Xr.MERGE||e.type!==Xr.MERGE)&&(en!=null&&en.showCommitLabel)){let a=t.append("g"),s=a.insert("rect").attr("class","commit-label-bkg"),o=a.append("text").attr("x",i).attr("y",r.y+25).attr("class","commit-label").text(e.id),h=(n=o.node())==null?void 0:n.getBBox();if(h&&(s.attr("x",r.posWithOffset-h.width/2-yc).attr("y",r.y+13.5).attr("width",h.width+2*yc).attr("height",h.height+2*yc),Cr==="TB"||Cr==="BT"?(s.attr("x",r.x-(h.width+4*ml+5)).attr("y",r.y-12),o.attr("x",r.x-(h.width+4*ml)).attr("y",r.y+h.height-12)):o.attr("x",r.posWithOffset-h.width/2),en.rotateCommitLabel))if(Cr==="TB"||Cr==="BT")o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),s.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{let u=-7.5-(h.width+10)/25*9.5,d=10+h.width/25*8.5;a.attr("transform","translate("+u+", "+d+") rotate(-45, "+i+", "+r.y+")")}}},"drawCommitLabel"),ORe=l((t,e,r,i)=>{var n;if(e.tags.length>0){let a=0,s=0,o=0,h=[];for(let u of e.tags.reverse()){let d=t.insert("polygon"),p=t.append("circle"),g=t.append("text").attr("y",r.y-16-a).attr("class","tag-label").text(u),f=(n=g.node())==null?void 0:n.getBBox();if(!f)throw new Error("Tag bbox not found");s=Math.max(s,f.width),o=Math.max(o,f.height),g.attr("x",r.posWithOffset-f.width/2),h.push({tag:g,hole:p,rect:d,yOffset:a}),a+=20}for(let{tag:u,hole:d,rect:p,yOffset:g}of h){let f=o/2,m=r.y-19.2-g;if(p.attr("class","tag-label-bkg").attr("points",`
      ${i-s/2-ml/2},${m+yc}  
      ${i-s/2-ml/2},${m-yc}
      ${r.posWithOffset-s/2-ml},${m-f-yc}
      ${r.posWithOffset+s/2+ml},${m-f-yc}
      ${r.posWithOffset+s/2+ml},${m+f+yc}
      ${r.posWithOffset-s/2-ml},${m+f+yc}`),d.attr("cy",m).attr("cx",i-s/2+ml/2).attr("r",1.5).attr("class","tag-hole"),Cr==="TB"||Cr==="BT"){let y=i+g;p.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${y+2}
        ${r.x},${y-2}
        ${r.x+Yh},${y-f-2}
        ${r.x+Yh+s+4},${y-f-2}
        ${r.x+Yh+s+4},${y+f+2}
        ${r.x+Yh},${y+f+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+i+")"),d.attr("cx",r.x+ml/2).attr("cy",y).attr("transform","translate(12,12) rotate(45, "+r.x+","+i+")"),u.attr("x",r.x+5).attr("y",y+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+i+")")}}}},"drawCommitTags"),$Re=l(t=>{switch(t.customType??t.type){case Xr.NORMAL:return"commit-normal";case Xr.REVERSE:return"commit-reverse";case Xr.HIGHLIGHT:return"commit-highlight";case Xr.MERGE:return"commit-merge";case Xr.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),BRe=l((t,e,r,i)=>{let n={x:0,y:0};if(t.parents.length>0){let a=Q0e(t.parents);if(a){let s=i.get(a)??n;return e==="TB"?s.y+Hh:e==="BT"?(i.get(t.id)??n).y-Hh:s.x+Hh}}else return e==="TB"?vT:e==="BT"?(i.get(t.id)??n).y-Hh:0;return 0},"calculatePosition"),PRe=l((t,e,r)=>{var s,o;let i=Cr==="BT"&&r?e:e+Yh,n=Cr==="TB"||Cr==="BT"?i:(s=Ka.get(t.branch))==null?void 0:s.pos,a=Cr==="TB"||Cr==="BT"?(o=Ka.get(t.branch))==null?void 0:o.pos:i;if(a===void 0||n===void 0)throw new Error(`Position were undefined for commit ${t.id}`);return{x:a,y:n,posWithOffset:i}},"getCommitPosition"),V0e=l((t,e,r)=>{if(!en)throw new Error("GitGraph config not found");let i=t.append("g").attr("class","commit-bullets"),n=t.append("g").attr("class","commit-labels"),a=Cr==="TB"||Cr==="BT"?vT:0,s=[...e.keys()],o=(en==null?void 0:en.parallelCommits)??!1,h=l((d,p)=>{var m,y;let g=(m=e.get(d))==null?void 0:m.seq,f=(y=e.get(p))==null?void 0:y.seq;return g!==void 0&&f!==void 0?g-f:0},"sortKeys"),u=s.sort(h);Cr==="BT"&&(o&&ARe(u,e,a),u=u.reverse()),u.forEach(d=>{var f;let p=e.get(d);if(!p)throw new Error(`Commit not found for key ${d}`);o&&(a=BRe(p,Cr,a,Za));let g=PRe(p,a,o);if(r){let m=$Re(p),y=p.customType??p.type,b=((f=Ka.get(p.branch))==null?void 0:f.index)??0;DRe(i,p,g,m,b,y),MRe(n,p,g,a),ORe(n,p,g,a)}Cr==="TB"||Cr==="BT"?Za.set(p.id,{x:g.x,y:g.posWithOffset}):Za.set(p.id,{x:g.posWithOffset,y:g.y}),a=Cr==="BT"&&o?a+Hh:a+Hh+Yh,a>Vh&&(Vh=a)})},"drawCommits"),FRe=l((t,e,r,i,n)=>{let a=(Cr==="TB"||Cr==="BT"?r.x<i.x:r.y<i.y)?e.branch:t.branch,s=l(h=>h.branch===a,"isOnBranchToGetCurve"),o=l(h=>h.seq>t.seq&&h.seq<e.seq,"isBetweenCommits");return[...n.values()].some(h=>o(h)&&s(h))},"shouldRerouteArrow"),wx=l((t,e,r=0)=>{let i=t+Math.abs(t-e)/2;if(r>5)return i;if(bT.every(a=>Math.abs(a-i)>=10))return bT.push(i),i;let n=Math.abs(t-e);return wx(t,e-n/5,r+1)},"findLane"),zRe=l((t,e,r,i)=>{var f,m,y,b,v;let n=Za.get(e.id),a=Za.get(r.id);if(n===void 0||a===void 0)throw new Error(`Commit positions not found for commits ${e.id} and ${r.id}`);let s=FRe(e,r,n,a,i),o="",h="",u=0,d=0,p=(f=Ka.get(r.branch))==null?void 0:f.index;r.type===Xr.MERGE&&e.id!==r.parents[0]&&(p=(m=Ka.get(e.branch))==null?void 0:m.index);let g;if(s){o="A 10 10, 0, 0, 0,",h="A 10 10, 0, 0, 1,",u=10,d=10;let x=n.y<a.y?wx(n.y,a.y):wx(a.y,n.y),w=n.x<a.x?wx(n.x,a.x):wx(a.x,n.x);Cr==="TB"?n.x<a.x?g=`M ${n.x} ${n.y} L ${w-u} ${n.y} ${h} ${w} ${n.y+d} L ${w} ${a.y-u} ${o} ${w+d} ${a.y} L ${a.x} ${a.y}`:(p=(y=Ka.get(e.branch))==null?void 0:y.index,g=`M ${n.x} ${n.y} L ${w+u} ${n.y} ${o} ${w} ${n.y+d} L ${w} ${a.y-u} ${h} ${w-d} ${a.y} L ${a.x} ${a.y}`):Cr==="BT"?n.x<a.x?g=`M ${n.x} ${n.y} L ${w-u} ${n.y} ${o} ${w} ${n.y-d} L ${w} ${a.y+u} ${h} ${w+d} ${a.y} L ${a.x} ${a.y}`:(p=(b=Ka.get(e.branch))==null?void 0:b.index,g=`M ${n.x} ${n.y} L ${w+u} ${n.y} ${h} ${w} ${n.y-d} L ${w} ${a.y+u} ${o} ${w-d} ${a.y} L ${a.x} ${a.y}`):n.y<a.y?g=`M ${n.x} ${n.y} L ${n.x} ${x-u} ${o} ${n.x+d} ${x} L ${a.x-u} ${x} ${h} ${a.x} ${x+d} L ${a.x} ${a.y}`:(p=(v=Ka.get(e.branch))==null?void 0:v.index,g=`M ${n.x} ${n.y} L ${n.x} ${x+u} ${h} ${n.x+d} ${x} L ${a.x-u} ${x} ${o} ${a.x} ${x-d} L ${a.x} ${a.y}`)}else o="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",u=20,d=20,Cr==="TB"?(n.x<a.x&&(r.type===Xr.MERGE&&e.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y-u} ${o} ${n.x+d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x-u} ${n.y} ${h} ${a.x} ${n.y+d} L ${a.x} ${a.y}`),n.x>a.x&&(o="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",u=20,d=20,r.type===Xr.MERGE&&e.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y-u} ${h} ${n.x-d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x+u} ${n.y} ${o} ${a.x} ${n.y+d} L ${a.x} ${a.y}`),n.x===a.x&&(g=`M ${n.x} ${n.y} L ${a.x} ${a.y}`)):Cr==="BT"?(n.x<a.x&&(r.type===Xr.MERGE&&e.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y+u} ${h} ${n.x+d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x-u} ${n.y} ${o} ${a.x} ${n.y-d} L ${a.x} ${a.y}`),n.x>a.x&&(o="A 20 20, 0, 0, 0,",h="A 20 20, 0, 0, 1,",u=20,d=20,r.type===Xr.MERGE&&e.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y+u} ${o} ${n.x-d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x-u} ${n.y} ${o} ${a.x} ${n.y-d} L ${a.x} ${a.y}`),n.x===a.x&&(g=`M ${n.x} ${n.y} L ${a.x} ${a.y}`)):(n.y<a.y&&(r.type===Xr.MERGE&&e.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${a.x-u} ${n.y} ${h} ${a.x} ${n.y+d} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${n.x} ${a.y-u} ${o} ${n.x+d} ${a.y} L ${a.x} ${a.y}`),n.y>a.y&&(r.type===Xr.MERGE&&e.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${a.x-u} ${n.y} ${o} ${a.x} ${n.y-d} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${n.x} ${a.y+u} ${h} ${n.x+d} ${a.y} L ${a.x} ${a.y}`),n.y===a.y&&(g=`M ${n.x} ${n.y} L ${a.x} ${a.y}`));if(g===void 0)throw new Error("Line definition not found");t.append("path").attr("d",g).attr("class","arrow arrow"+p%Zd)},"drawArrow"),GRe=l((t,e)=>{let r=t.append("g").attr("class","commit-arrows");[...e.keys()].forEach(i=>{let n=e.get(i);n.parents&&n.parents.length>0&&n.parents.forEach(a=>{zRe(r,e.get(a),n,e)})})},"drawArrows"),qRe=l((t,e)=>{let r=t.append("g");e.forEach((i,n)=>{var f;let a=n%Zd,s=(f=Ka.get(i.name))==null?void 0:f.pos;if(s===void 0)throw new Error(`Position not found for branch ${i.name}`);let o=r.append("line");o.attr("x1",0),o.attr("y1",s),o.attr("x2",Vh),o.attr("y2",s),o.attr("class","branch branch"+a),Cr==="TB"?(o.attr("y1",vT),o.attr("x1",s),o.attr("y2",Vh),o.attr("x2",s)):Cr==="BT"&&(o.attr("y1",Vh),o.attr("x1",s),o.attr("y2",vT),o.attr("x2",s)),bT.push(s);let h=i.name,u=Z0e(h),d=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+a);p.node().appendChild(u);let g=u.getBBox();d.attr("class","branchLabelBkg label"+a).attr("rx",4).attr("ry",4).attr("x",-g.width-4-((en==null?void 0:en.rotateCommitLabel)===!0?30:0)).attr("y",-g.height/2+8).attr("width",g.width+18).attr("height",g.height+4),p.attr("transform","translate("+(-g.width-14-((en==null?void 0:en.rotateCommitLabel)===!0?30:0))+", "+(s-g.height/2-1)+")"),Cr==="TB"?(d.attr("x",s-g.width/2-10).attr("y",0),p.attr("transform","translate("+(s-g.width/2-5)+", 0)")):Cr==="BT"?(d.attr("x",s-g.width/2-10).attr("y",Vh),p.attr("transform","translate("+(s-g.width/2-5)+", "+Vh+")")):d.attr("transform","translate(-19, "+(s-g.height/2)+")")})},"drawBranches"),URe=l(function(t,e,r,i,n){return Ka.set(t,{pos:e,index:r}),e+=50+(n?40:0)+(Cr==="TB"||Cr==="BT"?i.width/2:0),e},"setBranchPosition"),jRe=l(function(t,e,r,i){if(SRe(),ee.debug("in gitgraph renderer",t+`
`,"id:",e,r),!en)throw new Error("GitGraph config not found");let n=en.rotateCommitLabel??!1,a=i.db;xx=a.getCommits();let s=a.getBranchesAsObjArray();Cr=a.getDirection();let o=Ue(`[id="${e}"]`),h=0;s.forEach((u,d)=>{var b;let p=Z0e(u.name),g=o.append("g"),f=g.insert("g").attr("class","branchLabel"),m=f.insert("g").attr("class","label branch-label");(b=m.node())==null||b.appendChild(p);let y=p.getBBox();h=URe(u.name,h,d,y,n),m.remove(),f.remove(),g.remove()}),V0e(o,xx,!1),en.showBranches&&qRe(o,s),GRe(o,xx),V0e(o,xx,!0),$t.insertTitle(o,"gitTitleText",en.titleTopMargin??0,a.getDiagramTitle()),DC(void 0,o,en.diagramPadding,en.useMaxWidth)},"draw"),WRe={draw:jRe},VRe=l(t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
`,"getStyles"),YRe=VRe,HRe={parser:CRe,db:K0e,renderer:WRe,styles:YRe}});var dpe={};Tr(dpe,{diagram:()=>WDe});function VD(t,e,r){let i=!0;for(;i;)i=!1,r.forEach(function(n){let a="^\\s*"+n+"\\s*$",s=new RegExp(a);t[0].match(s)&&(e[n]=!0,t.shift(1),i=!0)})}var XRe,KRe,ZRe,DD,QRe,JRe,zs,eDe,tDe,rDe,tpe,yl,BD,PD,FD,kx,Tx,zD,GD,TT,Ym,qD,npe,UD,Ex,jD,WD,ET,MD,iDe,nDe,aDe,sDe,oDe,lDe,cDe,hDe,uDe,dDe,pDe,gDe,fDe,mDe,yDe,vDe,bDe,xDe,wDe,kDe,TDe,EDe,CDe,ape,SDe,_De,ADe,spe,LDe,OD,ope,lpe,wT,Vm,NDe,IDe,$D,kT,hn,cpe,RDe,Jd,DDe,rpe,MDe,hpe,ODe,upe,$De,BDe,PDe,RD,FDe,ipe,zDe,vc,GDe,qDe,UDe,jDe,WDe,ppe=wt(()=>{Hr();ri();hr();lr();br();kt();XRe=Li((t,e)=>{"use strict";(function(r,i){typeof t=="object"&&typeof e<"u"?e.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_isoWeek=i()})(t,(function(){"use strict";var r="day";return function(i,n,a){var s=l(function(u){return u.add(4-u.isoWeekday(),r)},"a"),o=n.prototype;o.isoWeekYear=function(){return s(this).year()},o.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),r);var d,p,g,f,m=s(this),y=(d=this.isoWeekYear(),p=this.$u,g=(p?a.utc:a)().year(d).startOf("year"),f=4-g.isoWeekday(),g.isoWeekday()>4&&(f+=7),g.add(f,r));return m.diff(y,"week")+1},o.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var h=o.startOf;o.startOf=function(u,d){var p=this.$utils(),g=!!p.u(d)||d;return p.p(u)==="isoweek"?g?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):h.bind(this)(u,d)}}}))}),KRe=Li((t,e)=>{"use strict";(function(r,i){typeof t=="object"&&typeof e<"u"?e.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=i()})(t,(function(){"use strict";var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,h={},u=l(function(b){return(b=+b)+(b>68?1900:2e3)},"a"),d=l(function(b){return function(v){this[b]=+v}},"f"),p=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=(function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),w=60*x[1]+(+x[2]||0);return w===0?0:x[0]==="+"?-w:w})(b)}],g=l(function(b){var v=h[b];return v&&(v.indexOf?v:v.s.concat(v.f))},"u"),f=l(function(b,v){var x,w=h.meridiem;if(w){for(var k=1;k<=24;k+=1)if(b.indexOf(w(k,0,v))>-1){x=k>12;break}}else x=b===(v?"pm":"PM");return x},"d"),m={A:[o,function(b){this.afternoon=f(b,!1)}],a:[o,function(b){this.afternoon=f(b,!0)}],Q:[n,function(b){this.month=3*(b-1)+1}],S:[n,function(b){this.milliseconds=100*+b}],SS:[a,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[s,d("seconds")],ss:[s,d("seconds")],m:[s,d("minutes")],mm:[s,d("minutes")],H:[s,d("hours")],h:[s,d("hours")],HH:[s,d("hours")],hh:[s,d("hours")],D:[s,d("day")],DD:[a,d("day")],Do:[o,function(b){var v=h.ordinal,x=b.match(/\d+/);if(this.day=x[0],v)for(var w=1;w<=31;w+=1)v(w).replace(/\[|\]/g,"")===b&&(this.day=w)}],w:[s,d("week")],ww:[a,d("week")],M:[s,d("month")],MM:[a,d("month")],MMM:[o,function(b){var v=g("months"),x=(g("monthsShort")||v.map((function(w){return w.slice(0,3)}))).indexOf(b)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[o,function(b){var v=g("months").indexOf(b)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(b){this.year=u(b)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function y(b){var v,x;v=b,x=h&&h.formats;for(var w=(b=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(I,M,N){var $=N&&N.toUpperCase();return M||x[N]||r[N]||x[$].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(_,D,R){return D||R.slice(1)}))}))).match(i),k=w.length,T=0;T<k;T+=1){var S=w[T],C=m[S],E=C&&C[0],L=C&&C[1];w[T]=L?{regex:E,parser:L}:S.replace(/^\[|\]$/g,"")}return function(I){for(var M={},N=0,$=0;N<k;N+=1){var _=w[N];if(typeof _=="string")$+=_.length;else{var D=_.regex,R=_.parser,O=I.slice($),A=D.exec(O)[0];R.call(M,A),I=I.replace(A,"")}}return(function(B){var P=B.afternoon;if(P!==void 0){var z=B.hours;P?z<12&&(B.hours+=12):z===12&&(B.hours=0),delete B.afternoon}})(M),M}}return l(y,"l"),function(b,v,x){x.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(u=b.parseTwoDigitYear);var w=v.prototype,k=w.parse;w.parse=function(T){var S=T.date,C=T.utc,E=T.args;this.$u=C;var L=E[1];if(typeof L=="string"){var I=E[2]===!0,M=E[3]===!0,N=I||M,$=E[2];M&&($=E[2]),h=this.$locale(),!I&&$&&(h=x.Ls[$]),this.$d=(function(O,A,B,P){try{if(["x","X"].indexOf(A)>-1)return new Date((A==="X"?1e3:1)*O);var z=y(A)(O),q=z.year,K=z.month,W=z.day,ae=z.hours,ie=z.minutes,se=z.seconds,oe=z.milliseconds,Y=z.zone,Q=z.week,j=new Date,H=W||(q||K?1:j.getDate()),J=q||j.getFullYear(),he=0;q&&!K||(he=K>0?K-1:j.getMonth());var X,fe=ae||0,V=ie||0,Se=se||0,ce=oe||0;return Y?new Date(Date.UTC(J,he,H,fe,V,Se,ce+60*Y.offset*1e3)):B?new Date(Date.UTC(J,he,H,fe,V,Se,ce)):(X=new Date(J,he,H,fe,V,Se,ce),Q&&(X=P(X).week(Q).toDate()),X)}catch{return new Date("")}})(S,L,C,x),this.init(),$&&$!==!0&&(this.$L=this.locale($).$L),N&&S!=this.format(L)&&(this.$d=new Date("")),h={}}else if(L instanceof Array)for(var _=L.length,D=1;D<=_;D+=1){E[1]=L[D-1];var R=x.apply(this,E);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}D===_&&(this.$d=new Date(""))}else k.call(this,T)}}}))}),ZRe=Li((t,e)=>{"use strict";(function(r,i){typeof t=="object"&&typeof e<"u"?e.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_advancedFormat=i()})(t,(function(){"use strict";return function(r,i){var n=i.prototype,a=n.format;n.format=function(s){var o=this,h=this.$locale();if(!this.isValid())return a.bind(this)(s);var u=this.$utils(),d=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(p){switch(p){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return h.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return h.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),p==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),p==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return p}}));return a.bind(this)(d)}}}))}),DD=(function(){var t=l(function($,_,D,R){for(D=D||{},R=$.length;R--;D[$[R]]=_);return D},"o"),e=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],i=[1,27],n=[1,28],a=[1,29],s=[1,30],o=[1,31],h=[1,32],u=[1,33],d=[1,34],p=[1,9],g=[1,10],f=[1,11],m=[1,12],y=[1,13],b=[1,14],v=[1,15],x=[1,16],w=[1,19],k=[1,20],T=[1,21],S=[1,22],C=[1,23],E=[1,25],L=[1,35],I={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:l(function($,_,D,R,O,A,B){var P=A.length-1;switch(O){case 1:return A[P-1];case 2:this.$=[];break;case 3:A[P-1].push(A[P]),this.$=A[P-1];break;case 4:case 5:this.$=A[P];break;case 6:case 7:this.$=[];break;case 8:R.setWeekday("monday");break;case 9:R.setWeekday("tuesday");break;case 10:R.setWeekday("wednesday");break;case 11:R.setWeekday("thursday");break;case 12:R.setWeekday("friday");break;case 13:R.setWeekday("saturday");break;case 14:R.setWeekday("sunday");break;case 15:R.setWeekend("friday");break;case 16:R.setWeekend("saturday");break;case 17:R.setDateFormat(A[P].substr(11)),this.$=A[P].substr(11);break;case 18:R.enableInclusiveEndDates(),this.$=A[P].substr(18);break;case 19:R.TopAxis(),this.$=A[P].substr(8);break;case 20:R.setAxisFormat(A[P].substr(11)),this.$=A[P].substr(11);break;case 21:R.setTickInterval(A[P].substr(13)),this.$=A[P].substr(13);break;case 22:R.setExcludes(A[P].substr(9)),this.$=A[P].substr(9);break;case 23:R.setIncludes(A[P].substr(9)),this.$=A[P].substr(9);break;case 24:R.setTodayMarker(A[P].substr(12)),this.$=A[P].substr(12);break;case 27:R.setDiagramTitle(A[P].substr(6)),this.$=A[P].substr(6);break;case 28:this.$=A[P].trim(),R.setAccTitle(this.$);break;case 29:case 30:this.$=A[P].trim(),R.setAccDescription(this.$);break;case 31:R.addSection(A[P].substr(8)),this.$=A[P].substr(8);break;case 33:R.addTask(A[P-1],A[P]),this.$="task";break;case 34:this.$=A[P-1],R.setClickEvent(A[P-1],A[P],null);break;case 35:this.$=A[P-2],R.setClickEvent(A[P-2],A[P-1],A[P]);break;case 36:this.$=A[P-2],R.setClickEvent(A[P-2],A[P-1],null),R.setLink(A[P-2],A[P]);break;case 37:this.$=A[P-3],R.setClickEvent(A[P-3],A[P-2],A[P-1]),R.setLink(A[P-3],A[P]);break;case 38:this.$=A[P-2],R.setClickEvent(A[P-2],A[P],null),R.setLink(A[P-2],A[P-1]);break;case 39:this.$=A[P-3],R.setClickEvent(A[P-3],A[P-1],A[P]),R.setLink(A[P-3],A[P-2]);break;case 40:this.$=A[P-1],R.setLink(A[P-1],A[P]);break;case 41:case 47:this.$=A[P-1]+" "+A[P];break;case 42:case 43:case 45:this.$=A[P-2]+" "+A[P-1]+" "+A[P];break;case 44:case 46:this.$=A[P-3]+" "+A[P-2]+" "+A[P-1]+" "+A[P];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:i,14:n,15:a,16:s,17:o,18:h,19:18,20:u,21:d,22:p,23:g,24:f,25:m,26:y,27:b,28:v,29:x,30:w,31:k,33:T,35:S,36:C,37:24,38:E,40:L},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:36,11:17,12:r,13:i,14:n,15:a,16:s,17:o,18:h,19:18,20:u,21:d,22:p,23:g,24:f,25:m,26:y,27:b,28:v,29:x,30:w,31:k,33:T,35:S,36:C,37:24,38:E,40:L},t(e,[2,5]),t(e,[2,6]),t(e,[2,17]),t(e,[2,18]),t(e,[2,19]),t(e,[2,20]),t(e,[2,21]),t(e,[2,22]),t(e,[2,23]),t(e,[2,24]),t(e,[2,25]),t(e,[2,26]),t(e,[2,27]),{32:[1,37]},{34:[1,38]},t(e,[2,30]),t(e,[2,31]),t(e,[2,32]),{39:[1,39]},t(e,[2,8]),t(e,[2,9]),t(e,[2,10]),t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),{41:[1,40],43:[1,41]},t(e,[2,4]),t(e,[2,28]),t(e,[2,29]),t(e,[2,33]),t(e,[2,34],{42:[1,42],43:[1,43]}),t(e,[2,40],{41:[1,44]}),t(e,[2,35],{43:[1,45]}),t(e,[2,36]),t(e,[2,38],{42:[1,46]}),t(e,[2,37]),t(e,[2,39])],defaultActions:{},parseError:l(function($,_){if(_.recoverable)this.trace($);else{var D=new Error($);throw D.hash=_,D}},"parseError"),parse:l(function($){var _=this,D=[0],R=[],O=[null],A=[],B=this.table,P="",z=0,q=0,K=0,W=2,ae=1,ie=A.slice.call(arguments,1),se=Object.create(this.lexer),oe={yy:{}};for(var Y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Y)&&(oe.yy[Y]=this.yy[Y]);se.setInput($,oe.yy),oe.yy.lexer=se,oe.yy.parser=this,typeof se.yylloc>"u"&&(se.yylloc={});var Q=se.yylloc;A.push(Q);var j=se.options&&se.options.ranges;typeof oe.yy.parseError=="function"?this.parseError=oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function H(ye){D.length=D.length-2*ye,O.length=O.length-ye,A.length=A.length-ye}l(H,"popStack");function J(){var ye;return ye=R.pop()||se.lex()||ae,typeof ye!="number"&&(ye instanceof Array&&(R=ye,ye=R.pop()),ye=_.symbols_[ye]||ye),ye}l(J,"lex");for(var he,X,fe,V,Se,ce,Le={},$e,je,qe,Ce;;){if(fe=D[D.length-1],this.defaultActions[fe]?V=this.defaultActions[fe]:((he===null||typeof he>"u")&&(he=J()),V=B[fe]&&B[fe][he]),typeof V>"u"||!V.length||!V[0]){var De="";Ce=[];for($e in B[fe])this.terminals_[$e]&&$e>W&&Ce.push("'"+this.terminals_[$e]+"'");se.showPosition?De="Parse error on line "+(z+1)+`:
`+se.showPosition()+`
Expecting `+Ce.join(", ")+", got '"+(this.terminals_[he]||he)+"'":De="Parse error on line "+(z+1)+": Unexpected "+(he==ae?"end of input":"'"+(this.terminals_[he]||he)+"'"),this.parseError(De,{text:se.match,token:this.terminals_[he]||he,line:se.yylineno,loc:Q,expected:Ce})}if(V[0]instanceof Array&&V.length>1)throw new Error("Parse Error: multiple actions possible at state: "+fe+", token: "+he);switch(V[0]){case 1:D.push(he),O.push(se.yytext),A.push(se.yylloc),D.push(V[1]),he=null,X?(he=X,X=null):(q=se.yyleng,P=se.yytext,z=se.yylineno,Q=se.yylloc,K>0&&K--);break;case 2:if(je=this.productions_[V[1]][1],Le.$=O[O.length-je],Le._$={first_line:A[A.length-(je||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(je||1)].first_column,last_column:A[A.length-1].last_column},j&&(Le._$.range=[A[A.length-(je||1)].range[0],A[A.length-1].range[1]]),ce=this.performAction.apply(Le,[P,q,z,oe.yy,V[1],O,A].concat(ie)),typeof ce<"u")return ce;je&&(D=D.slice(0,-1*je*2),O=O.slice(0,-1*je),A=A.slice(0,-1*je)),D.push(this.productions_[V[1]][0]),O.push(Le.$),A.push(Le._$),qe=B[D[D.length-2]][D[D.length-1]],D.push(qe);break;case 3:return!0}}return!0},"parse")},M=(function(){var $={EOF:1,parseError:l(function(_,D){if(this.yy.parser)this.yy.parser.parseError(_,D);else throw new Error(_)},"parseError"),setInput:l(function(_,D){return this.yy=D||this.yy||{},this._input=_,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var _=this._input[0];this.yytext+=_,this.yyleng++,this.offset++,this.match+=_,this.matched+=_;var D=_.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_},"input"),unput:l(function(_){var D=_.length,R=_.split(/(?:\r\n?|\n)/g);this._input=_+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),R.length-1&&(this.yylineno-=R.length-1);var A=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:R?(R.length===O.length?this.yylloc.first_column:0)+O[O.length-R.length].length-R[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[A[0],A[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(_){this.unput(this.match.slice(_))},"less"),pastInput:l(function(){var _=this.matched.substr(0,this.matched.length-this.match.length);return(_.length>20?"...":"")+_.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var _=this.match;return _.length<20&&(_+=this._input.substr(0,20-_.length)),(_.substr(0,20)+(_.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var _=this.pastInput(),D=new Array(_.length+1).join("-");return _+this.upcomingInput()+`
`+D+"^"},"showPosition"),test_match:l(function(_,D){var R,O,A;if(this.options.backtrack_lexer&&(A={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(A.yylloc.range=this.yylloc.range.slice(0))),O=_[0].match(/(?:\r\n?|\n).*/g),O&&(this.yylineno+=O.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_[0].length},this.yytext+=_[0],this.match+=_[0],this.matches=_,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_[0].length),this.matched+=_[0],R=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),R)return R;if(this._backtrack){for(var B in A)this[B]=A[B];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _,D,R,O;this._more||(this.yytext="",this.match="");for(var A=this._currentRules(),B=0;B<A.length;B++)if(R=this._input.match(this.rules[A[B]]),R&&(!D||R[0].length>D[0].length)){if(D=R,O=B,this.options.backtrack_lexer){if(_=this.test_match(R,A[B]),_!==!1)return _;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(_=this.test_match(D,A[O]),_!==!1?_:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var _=this.next();return _||this.lex()},"lex"),begin:l(function(_){this.conditionStack.push(_)},"begin"),popState:l(function(){var _=this.conditionStack.length-1;return _>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(_){return _=this.conditionStack.length-1-Math.abs(_||0),_>=0?this.conditionStack[_]:"INITIAL"},"topState"),pushState:l(function(_){this.begin(_)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(_,D,R,O){var A=O;switch(R){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return $})();I.lexer=M;function N(){this.yy={}}return l(N,"Parser"),N.prototype=I,I.Parser=N,new N})();DD.parser=DD;QRe=DD,JRe=fi(jo(),1),zs=fi(S4(),1),eDe=fi(XRe(),1),tDe=fi(KRe(),1),rDe=fi(ZRe(),1);zs.default.extend(eDe.default);zs.default.extend(tDe.default);zs.default.extend(rDe.default);tpe={friday:5,saturday:6},yl="",BD="",FD="",kx=[],Tx=[],zD=new Map,GD=[],TT=[],Ym="",qD="",npe=["active","done","crit","milestone","vert"],UD=[],Ex=!1,jD=!1,WD="sunday",ET="saturday",MD=0,iDe=l(function(){GD=[],TT=[],Ym="",UD=[],wT=0,$D=void 0,kT=void 0,hn=[],yl="",BD="",qD="",PD=void 0,FD="",kx=[],Tx=[],Ex=!1,jD=!1,MD=0,zD=new Map,cr(),WD="sunday",ET="saturday"},"clear"),nDe=l(function(t){BD=t},"setAxisFormat"),aDe=l(function(){return BD},"getAxisFormat"),sDe=l(function(t){PD=t},"setTickInterval"),oDe=l(function(){return PD},"getTickInterval"),lDe=l(function(t){FD=t},"setTodayMarker"),cDe=l(function(){return FD},"getTodayMarker"),hDe=l(function(t){yl=t},"setDateFormat"),uDe=l(function(){Ex=!0},"enableInclusiveEndDates"),dDe=l(function(){return Ex},"endDatesAreInclusive"),pDe=l(function(){jD=!0},"enableTopAxis"),gDe=l(function(){return jD},"topAxisEnabled"),fDe=l(function(t){qD=t},"setDisplayMode"),mDe=l(function(){return qD},"getDisplayMode"),yDe=l(function(){return yl},"getDateFormat"),vDe=l(function(t){kx=t.toLowerCase().split(/[\s,]+/)},"setIncludes"),bDe=l(function(){return kx},"getIncludes"),xDe=l(function(t){Tx=t.toLowerCase().split(/[\s,]+/)},"setExcludes"),wDe=l(function(){return Tx},"getExcludes"),kDe=l(function(){return zD},"getLinks"),TDe=l(function(t){Ym=t,GD.push(t)},"addSection"),EDe=l(function(){return GD},"getSections"),CDe=l(function(){let t=rpe(),e=10,r=0;for(;!t&&r<e;)t=rpe(),r++;return TT=hn,TT},"getTasks"),ape=l(function(t,e,r,i){let n=t.format(e.trim()),a=t.format("YYYY-MM-DD");return i.includes(n)||i.includes(a)?!1:r.includes("weekends")&&(t.isoWeekday()===tpe[ET]||t.isoWeekday()===tpe[ET]+1)||r.includes(t.format("dddd").toLowerCase())?!0:r.includes(n)||r.includes(a)},"isInvalidDate"),SDe=l(function(t){WD=t},"setWeekday"),_De=l(function(){return WD},"getWeekday"),ADe=l(function(t){ET=t},"setWeekend"),spe=l(function(t,e,r,i){if(!r.length||t.manualEndTime)return;let n;t.startTime instanceof Date?n=(0,zs.default)(t.startTime):n=(0,zs.default)(t.startTime,e,!0),n=n.add(1,"d");let a;t.endTime instanceof Date?a=(0,zs.default)(t.endTime):a=(0,zs.default)(t.endTime,e,!0);let[s,o]=LDe(n,a,e,r,i);t.endTime=s.toDate(),t.renderEndTime=o},"checkTaskDates"),LDe=l(function(t,e,r,i,n){let a=!1,s=null;for(;t<=e;)a||(s=e.toDate()),a=ape(t,r,i,n),a&&(e=e.add(1,"d")),t=t.add(1,"d");return[e,s]},"fixTaskDates"),OD=l(function(t,e,r){if(r=r.trim(),(e.trim()==="x"||e.trim()==="X")&&/^\d+$/.test(r))return new Date(Number(r));let i=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let a=null;for(let o of i.groups.ids.split(" ")){let h=Jd(o);h!==void 0&&(!a||h.endTime>a.endTime)&&(a=h)}if(a)return a.endTime;let s=new Date;return s.setHours(0,0,0,0),s}let n=(0,zs.default)(r,e.trim(),!0);if(n.isValid())return n.toDate();{ee.debug("Invalid date:"+r),ee.debug("With date format:"+e.trim());let a=new Date(r);if(a===void 0||isNaN(a.getTime())||a.getFullYear()<-1e4||a.getFullYear()>1e4)throw new Error("Invalid date:"+r);return a}},"getStartDate"),ope=l(function(t){let e=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(t.trim());return e!==null?[Number.parseFloat(e[1]),e[2]]:[NaN,"ms"]},"parseDuration"),lpe=l(function(t,e,r,i=!1){r=r.trim();let n=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(n!==null){let u=null;for(let p of n.groups.ids.split(" ")){let g=Jd(p);g!==void 0&&(!u||g.startTime<u.startTime)&&(u=g)}if(u)return u.startTime;let d=new Date;return d.setHours(0,0,0,0),d}let a=(0,zs.default)(r,e.trim(),!0);if(a.isValid())return i&&(a=a.add(1,"d")),a.toDate();let s=(0,zs.default)(t),[o,h]=ope(r);if(!Number.isNaN(o)){let u=s.add(o,h);u.isValid()&&(s=u)}return s.toDate()},"getEndDate"),wT=0,Vm=l(function(t){return t===void 0?(wT=wT+1,"task"+wT):t},"parseId"),NDe=l(function(t,e){let r;e.substr(0,1)===":"?r=e.substr(1,e.length):r=e;let i=r.split(","),n={};VD(i,n,npe);for(let s=0;s<i.length;s++)i[s]=i[s].trim();let a="";switch(i.length){case 1:n.id=Vm(),n.startTime=t.endTime,a=i[0];break;case 2:n.id=Vm(),n.startTime=OD(void 0,yl,i[0]),a=i[1];break;case 3:n.id=Vm(i[0]),n.startTime=OD(void 0,yl,i[1]),a=i[2];break;default:}return a&&(n.endTime=lpe(n.startTime,yl,a,Ex),n.manualEndTime=(0,zs.default)(a,"YYYY-MM-DD",!0).isValid(),spe(n,yl,Tx,kx)),n},"compileData"),IDe=l(function(t,e){let r;e.substr(0,1)===":"?r=e.substr(1,e.length):r=e;let i=r.split(","),n={};VD(i,n,npe);for(let a=0;a<i.length;a++)i[a]=i[a].trim();switch(i.length){case 1:n.id=Vm(),n.startTime={type:"prevTaskEnd",id:t},n.endTime={data:i[0]};break;case 2:n.id=Vm(),n.startTime={type:"getStartDate",startData:i[0]},n.endTime={data:i[1]};break;case 3:n.id=Vm(i[0]),n.startTime={type:"getStartDate",startData:i[1]},n.endTime={data:i[2]};break;default:}return n},"parseData"),hn=[],cpe={},RDe=l(function(t,e){let r={section:Ym,type:Ym,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},i=IDe(kT,e);r.raw.startTime=i.startTime,r.raw.endTime=i.endTime,r.id=i.id,r.prevTaskId=kT,r.active=i.active,r.done=i.done,r.crit=i.crit,r.milestone=i.milestone,r.vert=i.vert,r.order=MD,MD++;let n=hn.push(r);kT=r.id,cpe[r.id]=n-1},"addTask"),Jd=l(function(t){let e=cpe[t];return hn[e]},"findTaskById"),DDe=l(function(t,e){let r={section:Ym,type:Ym,description:t,task:t,classes:[]},i=NDe($D,e);r.startTime=i.startTime,r.endTime=i.endTime,r.id=i.id,r.active=i.active,r.done=i.done,r.crit=i.crit,r.milestone=i.milestone,r.vert=i.vert,$D=r,TT.push(r)},"addTaskOrg"),rpe=l(function(){let t=l(function(r){let i=hn[r],n="";switch(hn[r].raw.startTime.type){case"prevTaskEnd":{let a=Jd(i.prevTaskId);i.startTime=a.endTime;break}case"getStartDate":n=OD(void 0,yl,hn[r].raw.startTime.startData),n&&(hn[r].startTime=n);break}return hn[r].startTime&&(hn[r].endTime=lpe(hn[r].startTime,yl,hn[r].raw.endTime.data,Ex),hn[r].endTime&&(hn[r].processed=!0,hn[r].manualEndTime=(0,zs.default)(hn[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),spe(hn[r],yl,Tx,kx))),hn[r].processed},"compileTask"),e=!0;for(let[r,i]of hn.entries())t(r),e=e&&i.processed;return e},"compileTasks"),MDe=l(function(t,e){let r=e;ve().securityLevel!=="loose"&&(r=(0,JRe.sanitizeUrl)(e)),t.split(",").forEach(function(i){Jd(i)!==void 0&&(upe(i,()=>{window.open(r,"_self")}),zD.set(i,r))}),hpe(t,"clickable")},"setLink"),hpe=l(function(t,e){t.split(",").forEach(function(r){let i=Jd(r);i!==void 0&&i.classes.push(e)})},"setClass"),ODe=l(function(t,e,r){if(ve().securityLevel!=="loose"||e===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let n=0;n<i.length;n++){let a=i[n].trim();a.startsWith('"')&&a.endsWith('"')&&(a=a.substr(1,a.length-2)),i[n]=a}}i.length===0&&i.push(t),Jd(t)!==void 0&&upe(t,()=>{$t.runFunc(e,...i)})},"setClickFun"),upe=l(function(t,e){UD.push(function(){let r=document.querySelector(`[id="${t}"]`);r!==null&&r.addEventListener("click",function(){e()})},function(){let r=document.querySelector(`[id="${t}-text"]`);r!==null&&r.addEventListener("click",function(){e()})})},"pushFun"),$De=l(function(t,e,r){t.split(",").forEach(function(i){ODe(i,e,r)}),hpe(t,"clickable")},"setClickEvent"),BDe=l(function(t){UD.forEach(function(e){e(t)})},"bindFunctions"),PDe={getConfig:l(()=>ve().gantt,"getConfig"),clear:iDe,setDateFormat:hDe,getDateFormat:yDe,enableInclusiveEndDates:uDe,endDatesAreInclusive:dDe,enableTopAxis:pDe,topAxisEnabled:gDe,setAxisFormat:nDe,getAxisFormat:aDe,setTickInterval:sDe,getTickInterval:oDe,setTodayMarker:lDe,getTodayMarker:cDe,setAccTitle:gr,getAccTitle:fr,setDiagramTitle:Er,getDiagramTitle:vr,setDisplayMode:fDe,getDisplayMode:mDe,setAccDescription:mr,getAccDescription:yr,addSection:TDe,getSections:EDe,getTasks:CDe,addTask:RDe,findTaskById:Jd,addTaskOrg:DDe,setIncludes:vDe,getIncludes:bDe,setExcludes:xDe,getExcludes:wDe,setClickEvent:$De,setLink:MDe,getLinks:kDe,bindFunctions:BDe,parseDuration:ope,isInvalidDate:ape,setWeekday:SDe,getWeekday:_De,setWeekend:ADe};l(VD,"getTaskTags");RD=fi(S4(),1),FDe=l(function(){ee.debug("Something is calling, setConf, remove the call")},"setConf"),ipe={monday:E0,tuesday:G8,wednesday:q8,thursday:Ac,friday:U8,saturday:j8,sunday:N0},zDe=l((t,e)=>{let r=[...t].map(()=>-1/0),i=[...t].sort((a,s)=>a.startTime-s.startTime||a.order-s.order),n=0;for(let a of i)for(let s=0;s<r.length;s++)if(a.startTime>=r[s]){r[s]=a.endTime,a.order=s+e,s>n&&(n=s);break}return n},"getMaxIntersections"),GDe=l(function(t,e,r,i){let n=ve().gantt,a=ve().securityLevel,s;a==="sandbox"&&(s=Ue("#i"+e));let o=a==="sandbox"?Ue(s.nodes()[0].contentDocument.body):Ue("body"),h=a==="sandbox"?s.nodes()[0].contentDocument:document,u=h.getElementById(e);vc=u.parentElement.offsetWidth,vc===void 0&&(vc=1200),n.useWidth!==void 0&&(vc=n.useWidth);let d=i.db.getTasks(),p=[];for(let E of d)p.push(E.type);p=C(p);let g={},f=2*n.topPadding;if(i.db.getDisplayMode()==="compact"||n.displayMode==="compact"){let E={};for(let I of d)E[I.section]===void 0?E[I.section]=[I]:E[I.section].push(I);let L=0;for(let I of Object.keys(E)){let M=zDe(E[I],L)+1;L+=M,f+=M*(n.barHeight+n.barGap),g[I]=M}}else{f+=d.length*(n.barHeight+n.barGap);for(let E of p)g[E]=d.filter(L=>L.type===E).length}u.setAttribute("viewBox","0 0 "+vc+" "+f);let m=o.select(`[id="${e}"]`),y=Q8().domain([h8(d,function(E){return E.startTime}),c8(d,function(E){return E.endTime})]).rangeRound([0,vc-n.leftPadding-n.rightPadding]);function b(E,L){let I=E.startTime,M=L.startTime,N=0;return I>M?N=1:I<M&&(N=-1),N}l(b,"taskCompare"),d.sort(b),v(d,vc,f),Yr(m,f,vc,n.useMaxWidth),m.append("text").text(i.db.getDiagramTitle()).attr("x",vc/2).attr("y",n.titleTopMargin).attr("class","titleText");function v(E,L,I){let M=n.barHeight,N=M+n.barGap,$=n.topPadding,_=n.leftPadding,D=Lo().domain([0,p.length]).range(["#00B9FA","#F95002"]).interpolate(FB);w(N,$,_,L,I,E,i.db.getExcludes(),i.db.getIncludes()),k(_,$,L,I),x(E,N,$,_,M,D,L,I),T(N,$,_,M,D),S(_,$,L,I)}l(v,"makeGantt");function x(E,L,I,M,N,$,_){E.sort((A,B)=>A.vert===B.vert?0:A.vert?1:-1);let D=[...new Set(E.map(A=>A.order))].map(A=>E.find(B=>B.order===A));m.append("g").selectAll("rect").data(D).enter().append("rect").attr("x",0).attr("y",function(A,B){return B=A.order,B*L+I-2}).attr("width",function(){return _-n.rightPadding/2}).attr("height",L).attr("class",function(A){for(let[B,P]of p.entries())if(A.type===P)return"section section"+B%n.numberSectionStyles;return"section section0"}).enter();let R=m.append("g").selectAll("rect").data(E).enter(),O=i.db.getLinks();if(R.append("rect").attr("id",function(A){return A.id}).attr("rx",3).attr("ry",3).attr("x",function(A){return A.milestone?y(A.startTime)+M+.5*(y(A.endTime)-y(A.startTime))-.5*N:y(A.startTime)+M}).attr("y",function(A,B){return B=A.order,A.vert?n.gridLineStartPadding:B*L+I}).attr("width",function(A){return A.milestone?N:A.vert?.08*N:y(A.renderEndTime||A.endTime)-y(A.startTime)}).attr("height",function(A){return A.vert?d.length*(n.barHeight+n.barGap)+n.barHeight*2:N}).attr("transform-origin",function(A,B){return B=A.order,(y(A.startTime)+M+.5*(y(A.endTime)-y(A.startTime))).toString()+"px "+(B*L+I+.5*N).toString()+"px"}).attr("class",function(A){let B="task",P="";A.classes.length>0&&(P=A.classes.join(" "));let z=0;for(let[K,W]of p.entries())A.type===W&&(z=K%n.numberSectionStyles);let q="";return A.active?A.crit?q+=" activeCrit":q=" active":A.done?A.crit?q=" doneCrit":q=" done":A.crit&&(q+=" crit"),q.length===0&&(q=" task"),A.milestone&&(q=" milestone "+q),A.vert&&(q=" vert "+q),q+=z,q+=" "+P,B+q}),R.append("text").attr("id",function(A){return A.id+"-text"}).text(function(A){return A.task}).attr("font-size",n.fontSize).attr("x",function(A){let B=y(A.startTime),P=y(A.renderEndTime||A.endTime);if(A.milestone&&(B+=.5*(y(A.endTime)-y(A.startTime))-.5*N,P=B+N),A.vert)return y(A.startTime)+M;let z=this.getBBox().width;return z>P-B?P+z+1.5*n.leftPadding>_?B+M-5:P+M+5:(P-B)/2+B+M}).attr("y",function(A,B){return A.vert?n.gridLineStartPadding+d.length*(n.barHeight+n.barGap)+60:(B=A.order,B*L+n.barHeight/2+(n.fontSize/2-2)+I)}).attr("text-height",N).attr("class",function(A){let B=y(A.startTime),P=y(A.endTime);A.milestone&&(P=B+N);let z=this.getBBox().width,q="";A.classes.length>0&&(q=A.classes.join(" "));let K=0;for(let[ae,ie]of p.entries())A.type===ie&&(K=ae%n.numberSectionStyles);let W="";return A.active&&(A.crit?W="activeCritText"+K:W="activeText"+K),A.done?A.crit?W=W+" doneCritText"+K:W=W+" doneText"+K:A.crit&&(W=W+" critText"+K),A.milestone&&(W+=" milestoneText"),A.vert&&(W+=" vertText"),z>P-B?P+z+1.5*n.leftPadding>_?q+" taskTextOutsideLeft taskTextOutside"+K+" "+W:q+" taskTextOutsideRight taskTextOutside"+K+" "+W+" width-"+z:q+" taskText taskText"+K+" "+W+" width-"+z}),ve().securityLevel==="sandbox"){let A;A=Ue("#i"+e);let B=A.nodes()[0].contentDocument;R.filter(function(P){return O.has(P.id)}).each(function(P){var z=B.querySelector("#"+P.id),q=B.querySelector("#"+P.id+"-text");let K=z.parentNode;var W=B.createElement("a");W.setAttribute("xlink:href",O.get(P.id)),W.setAttribute("target","_top"),K.appendChild(W),W.appendChild(z),W.appendChild(q)})}}l(x,"drawRects");function w(E,L,I,M,N,$,_,D){if(_.length===0&&D.length===0)return;let R,O;for(let{startTime:q,endTime:K}of $)(R===void 0||q<R)&&(R=q),(O===void 0||K>O)&&(O=K);if(!R||!O)return;if((0,RD.default)(O).diff((0,RD.default)(R),"year")>5){ee.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let A=i.db.getDateFormat(),B=[],P=null,z=(0,RD.default)(R);for(;z.valueOf()<=O;)i.db.isInvalidDate(z,A,_,D)?P?P.end=z:P={start:z,end:z}:P&&(B.push(P),P=null),z=z.add(1,"d");m.append("g").selectAll("rect").data(B).enter().append("rect").attr("id",q=>"exclude-"+q.start.format("YYYY-MM-DD")).attr("x",q=>y(q.start.startOf("day"))+I).attr("y",n.gridLineStartPadding).attr("width",q=>y(q.end.endOf("day"))-y(q.start.startOf("day"))).attr("height",N-L-n.gridLineStartPadding).attr("transform-origin",function(q,K){return(y(q.start)+I+.5*(y(q.end)-y(q.start))).toString()+"px "+(K*E+.5*N).toString()+"px"}).attr("class","exclude-range")}l(w,"drawExcludeDays");function k(E,L,I,M){let N=i.db.getDateFormat(),$=i.db.getAxisFormat(),_;$?_=$:N==="D"?_="%d":_=n.axisFormat??"%Y-%m-%d";let D=p8(y).tickSize(-M+L+n.gridLineStartPadding).tickFormat(l2(_)),R=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(i.db.getTickInterval()||n.tickInterval);if(R!==null){let O=R[1],A=R[2],B=i.db.getWeekday()||n.weekday;switch(A){case"millisecond":D.ticks(hu.every(O));break;case"second":D.ticks(kl.every(O));break;case"minute":D.ticks(A0.every(O));break;case"hour":D.ticks(L0.every(O));break;case"day":D.ticks(Rc.every(O));break;case"week":D.ticks(ipe[B].every(O));break;case"month":D.ticks(I0.every(O));break}}if(m.append("g").attr("class","grid").attr("transform","translate("+E+", "+(M-50)+")").call(D).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),i.db.topAxisEnabled()||n.topAxis){let O=d8(y).tickSize(-M+L+n.gridLineStartPadding).tickFormat(l2(_));if(R!==null){let A=R[1],B=R[2],P=i.db.getWeekday()||n.weekday;switch(B){case"millisecond":O.ticks(hu.every(A));break;case"second":O.ticks(kl.every(A));break;case"minute":O.ticks(A0.every(A));break;case"hour":O.ticks(L0.every(A));break;case"day":O.ticks(Rc.every(A));break;case"week":O.ticks(ipe[P].every(A));break;case"month":O.ticks(I0.every(A));break}}m.append("g").attr("class","grid").attr("transform","translate("+E+", "+L+")").call(O).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}l(k,"makeGrid");function T(E,L){let I=0,M=Object.keys(g).map(N=>[N,g[N]]);m.append("g").selectAll("text").data(M).enter().append(function(N){let $=N[0].split(Ke.lineBreakRegex),_=-($.length-1)/2,D=h.createElementNS("http://www.w3.org/2000/svg","text");D.setAttribute("dy",_+"em");for(let[R,O]of $.entries()){let A=h.createElementNS("http://www.w3.org/2000/svg","tspan");A.setAttribute("alignment-baseline","central"),A.setAttribute("x","10"),R>0&&A.setAttribute("dy","1em"),A.textContent=O,D.appendChild(A)}return D}).attr("x",10).attr("y",function(N,$){if($>0)for(let _=0;_<$;_++)return I+=M[$-1][1],N[1]*E/2+I*E+L;else return N[1]*E/2+L}).attr("font-size",n.sectionFontSize).attr("class",function(N){for(let[$,_]of p.entries())if(N[0]===_)return"sectionTitle sectionTitle"+$%n.numberSectionStyles;return"sectionTitle"})}l(T,"vertLabels");function S(E,L,I,M){let N=i.db.getTodayMarker();if(N==="off")return;let $=m.append("g").attr("class","today"),_=new Date,D=$.append("line");D.attr("x1",y(_)+E).attr("x2",y(_)+E).attr("y1",n.titleTopMargin).attr("y2",M-n.titleTopMargin).attr("class","today"),N!==""&&D.attr("style",N.replace(/,/g,";"))}l(S,"drawToday");function C(E){let L={},I=[];for(let M=0,N=E.length;M<N;++M)Object.prototype.hasOwnProperty.call(L,E[M])||(L[E[M]]=!0,I.push(E[M]));return I}l(C,"checkUnique")},"draw"),qDe={setConf:FDe,draw:GDe},UDe=l(t=>`
  .mermaid-main-font {
        font-family: ${t.fontFamily};
  }

  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: ${t.fontFamily};
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${t.fontFamily};
    fill: ${t.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: ${t.fontFamily};
  }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    font-family: ${t.fontFamily};
  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .vert {
    stroke: ${t.vertLineColor};
  }

  .vertText {
    font-size: 15px;
    text-anchor: middle;
    fill: ${t.vertLineColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.titleColor||t.textColor};
    font-family: ${t.fontFamily};
  }
`,"getStyles"),jDe=UDe,WDe={parser:QRe,db:PDe,renderer:qDe,styles:jDe}});var gpe={};Tr(gpe,{diagram:()=>QDe});var VDe,YDe,HDe,XDe,KDe,ZDe,QDe,fpe=wt(()=>{Wh();hc();uc();dc();pc();gc();fc();x7();qo();hr();lr();cc();_i();zi();Ii();br();kt();VDe={parse:l(async t=>{let e=await ra("info",t);ee.debug(e)},"parse")},YDe={version:Iy.version+""},HDe=l(()=>YDe.version,"getVersion"),XDe={getVersion:HDe},KDe=l((t,e,r)=>{ee.debug(`rendering info diagram
`+t);let i=fn(e);Yr(i,100,400,!0),i.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),ZDe={draw:KDe},QDe={parser:VDe,db:XDe,renderer:ZDe}});var vpe={};Tr(vpe,{diagram:()=>pMe});var mpe,YD,CT,HD,JDe,eMe,tMe,rMe,iMe,nMe,aMe,ype,sMe,oMe,lMe,cMe,hMe,uMe,dMe,pMe,bpe=wt(()=>{fd();Wh();hc();uc();dc();pc();gc();fc();qo();Hr();ri();hr();lr();cc();_i();zi();Ii();br();kt();mpe=rr.pie,YD={sections:new Map,showData:!1,config:mpe},CT=YD.sections,HD=YD.showData,JDe=structuredClone(mpe),eMe=l(()=>structuredClone(JDe),"getConfig"),tMe=l(()=>{CT=new Map,HD=YD.showData,cr()},"clear"),rMe=l(({label:t,value:e})=>{if(e<0)throw new Error(`"${t}" has invalid value: ${e}. Negative values are not allowed in pie charts. All slice values must be >= 0.`);CT.has(t)||(CT.set(t,e),ee.debug(`added new section: ${t}, with value: ${e}`))},"addSection"),iMe=l(()=>CT,"getSections"),nMe=l(t=>{HD=t},"setShowData"),aMe=l(()=>HD,"getShowData"),ype={getConfig:eMe,clear:tMe,setDiagramTitle:Er,getDiagramTitle:vr,setAccTitle:gr,getAccTitle:fr,setAccDescription:mr,getAccDescription:yr,addSection:rMe,getSections:iMe,setShowData:nMe,getShowData:aMe},sMe=l((t,e)=>{ls(t,e),e.setShowData(t.showData),t.sections.map(e.addSection)},"populateDb"),oMe={parse:l(async t=>{let e=await ra("pie",t);ee.debug(e),sMe(e,ype)},"parse")},lMe=l(t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${t.pieOuterStrokeColor};
    stroke-width: ${t.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,"getStyles"),cMe=lMe,hMe=l(t=>{let e=[...t.values()].reduce((i,n)=>i+n,0),r=[...t.entries()].map(([i,n])=>({label:i,value:n})).filter(i=>i.value/e*100>=1).sort((i,n)=>n.value-i.value);return nE().value(i=>i.value)(r)},"createPieArcs"),uMe=l((t,e,r,i)=>{ee.debug(`rendering pie chart
`+t);let n=i.db,a=ve(),s=Ti(n.getConfig(),a.pie),o=40,h=18,u=4,d=450,p=d,g=fn(e),f=g.append("g");f.attr("transform","translate("+p/2+","+d/2+")");let{themeVariables:m}=a,[y]=Vo(m.pieOuterStrokeWidth);y??(y=2);let b=s.textPosition,v=Math.min(p,d)/2-o,x=No().innerRadius(0).outerRadius(v),w=No().innerRadius(v*b).outerRadius(v*b);f.append("circle").attr("cx",0).attr("cy",0).attr("r",v+y/2).attr("class","pieOuterCircle");let k=n.getSections(),T=hMe(k),S=[m.pie1,m.pie2,m.pie3,m.pie4,m.pie5,m.pie6,m.pie7,m.pie8,m.pie9,m.pie10,m.pie11,m.pie12],C=0;k.forEach(_=>{C+=_});let E=T.filter(_=>(_.data.value/C*100).toFixed(0)!=="0"),L=Ys(S);f.selectAll("mySlices").data(E).enter().append("path").attr("d",x).attr("fill",_=>L(_.data.label)).attr("class","pieCircle"),f.selectAll("mySlices").data(E).enter().append("text").text(_=>(_.data.value/C*100).toFixed(0)+"%").attr("transform",_=>"translate("+w.centroid(_)+")").style("text-anchor","middle").attr("class","slice"),f.append("text").text(n.getDiagramTitle()).attr("x",0).attr("y",-(d-50)/2).attr("class","pieTitleText");let I=[...k.entries()].map(([_,D])=>({label:_,value:D})),M=f.selectAll(".legend").data(I).enter().append("g").attr("class","legend").attr("transform",(_,D)=>{let R=h+u,O=R*I.length/2,A=12*h,B=D*R-O;return"translate("+A+","+B+")"});M.append("rect").attr("width",h).attr("height",h).style("fill",_=>L(_.label)).style("stroke",_=>L(_.label)),M.append("text").attr("x",h+u).attr("y",h-u).text(_=>n.getShowData()?`${_.label} [${_.value}]`:_.label);let N=Math.max(...M.selectAll("text").nodes().map(_=>(_==null?void 0:_.getBoundingClientRect().width)??0)),$=p+o+h+u+N;g.attr("viewBox",`0 0 ${$} ${d}`),Yr(g,d,$,s.useMaxWidth)},"draw"),dMe={draw:uMe},pMe={parser:oMe,db:ype,renderer:dMe,styles:cMe}});var Ope={};Tr(Ope,{diagram:()=>wMe});function KD(t){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(t)}function xpe(t){return!/^\d+$/.test(t)}function wpe(t){return!/^\d+px$/.test(t)}function vl(t){return tr(t.trim(),mMe)}function kpe(t){Bn.setData({quadrant1Text:vl(t.text)})}function Tpe(t){Bn.setData({quadrant2Text:vl(t.text)})}function Epe(t){Bn.setData({quadrant3Text:vl(t.text)})}function Cpe(t){Bn.setData({quadrant4Text:vl(t.text)})}function Spe(t){Bn.setData({xAxisLeftText:vl(t.text)})}function _pe(t){Bn.setData({xAxisRightText:vl(t.text)})}function Ape(t){Bn.setData({yAxisTopText:vl(t.text)})}function Lpe(t){Bn.setData({yAxisBottomText:vl(t.text)})}function _T(t){let e={};for(let r of t){let[i,n]=r.trim().split(/\s*:\s*/);if(i==="radius"){if(xpe(n))throw new ST(i,n,"number");e.radius=parseInt(n)}else if(i==="color"){if(KD(n))throw new ST(i,n,"hex code");e.color=n}else if(i==="stroke-color"){if(KD(n))throw new ST(i,n,"hex code");e.strokeColor=n}else if(i==="stroke-width"){if(wpe(n))throw new ST(i,n,"number of pixels (eg. 10px)");e.strokeWidth=n}else throw new Error(`style named ${i} is not supported.`)}return e}function Npe(t,e,r,i,n){let a=_T(n);Bn.addPoints([{x:r,y:i,text:vl(t.text),className:e,...a}])}function Ipe(t,e){Bn.addClass(t,_T(e))}function Rpe(t){Bn.setConfig({chartWidth:t})}function Dpe(t){Bn.setConfig({chartHeight:t})}function Mpe(){let t=ve(),{themeVariables:e,quadrantChart:r}=t;return r&&Bn.setConfig(r),Bn.setThemeConfig({quadrant1Fill:e.quadrant1Fill,quadrant2Fill:e.quadrant2Fill,quadrant3Fill:e.quadrant3Fill,quadrant4Fill:e.quadrant4Fill,quadrant1TextFill:e.quadrant1TextFill,quadrant2TextFill:e.quadrant2TextFill,quadrant3TextFill:e.quadrant3TextFill,quadrant4TextFill:e.quadrant4TextFill,quadrantPointFill:e.quadrantPointFill,quadrantPointTextFill:e.quadrantPointTextFill,quadrantXAxisTextFill:e.quadrantXAxisTextFill,quadrantYAxisTextFill:e.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:e.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:e.quadrantInternalBorderStrokeFill,quadrantTitleFill:e.quadrantTitleFill}),Bn.setData({titleText:vr()}),Bn.build()}var XD,gMe,Ea,Hm,fMe,Xm,ST,mMe,Bn,yMe,vMe,bMe,xMe,wMe,$pe=wt(()=>{hr();lr();kt();XD=(function(){var t=l(function(F,te,ne,de){for(ne=ne||{},de=F.length;de--;ne[F[de]]=te);return ne},"o"),e=[1,3],r=[1,4],i=[1,5],n=[1,6],a=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],o=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],h=[55,56,57],u=[2,36],d=[1,37],p=[1,36],g=[1,38],f=[1,35],m=[1,43],y=[1,41],b=[1,14],v=[1,23],x=[1,18],w=[1,19],k=[1,20],T=[1,21],S=[1,22],C=[1,24],E=[1,25],L=[1,26],I=[1,27],M=[1,28],N=[1,29],$=[1,32],_=[1,33],D=[1,34],R=[1,39],O=[1,40],A=[1,42],B=[1,44],P=[1,62],z=[1,61],q=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],K=[1,65],W=[1,66],ae=[1,67],ie=[1,68],se=[1,69],oe=[1,70],Y=[1,71],Q=[1,72],j=[1,73],H=[1,74],J=[1,75],he=[1,76],X=[4,5,6,7,8,9,10,11,12,13,14,15,18],fe=[1,90],V=[1,91],Se=[1,92],ce=[1,99],Le=[1,93],$e=[1,96],je=[1,94],qe=[1,95],Ce=[1,97],De=[1,98],ye=[1,102],Pe=[10,55,56,57],ue=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],Ve={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:l(function(F,te,ne,de,ge,xe,Ee){var Te=xe.length-1;switch(ge){case 23:this.$=xe[Te];break;case 24:this.$=xe[Te-1]+""+xe[Te];break;case 26:this.$=xe[Te-1]+xe[Te];break;case 27:this.$=[xe[Te].trim()];break;case 28:xe[Te-2].push(xe[Te].trim()),this.$=xe[Te-2];break;case 29:this.$=xe[Te-4],de.addClass(xe[Te-2],xe[Te]);break;case 37:this.$=[];break;case 42:this.$=xe[Te].trim(),de.setDiagramTitle(this.$);break;case 43:this.$=xe[Te].trim(),de.setAccTitle(this.$);break;case 44:case 45:this.$=xe[Te].trim(),de.setAccDescription(this.$);break;case 46:de.addSection(xe[Te].substr(8)),this.$=xe[Te].substr(8);break;case 47:de.addPoint(xe[Te-3],"",xe[Te-1],xe[Te],[]);break;case 48:de.addPoint(xe[Te-4],xe[Te-3],xe[Te-1],xe[Te],[]);break;case 49:de.addPoint(xe[Te-4],"",xe[Te-2],xe[Te-1],xe[Te]);break;case 50:de.addPoint(xe[Te-5],xe[Te-4],xe[Te-2],xe[Te-1],xe[Te]);break;case 51:de.setXAxisLeftText(xe[Te-2]),de.setXAxisRightText(xe[Te]);break;case 52:xe[Te-1].text+=" \u27F6 ",de.setXAxisLeftText(xe[Te-1]);break;case 53:de.setXAxisLeftText(xe[Te]);break;case 54:de.setYAxisBottomText(xe[Te-2]),de.setYAxisTopText(xe[Te]);break;case 55:xe[Te-1].text+=" \u27F6 ",de.setYAxisBottomText(xe[Te-1]);break;case 56:de.setYAxisBottomText(xe[Te]);break;case 57:de.setQuadrant1Text(xe[Te]);break;case 58:de.setQuadrant2Text(xe[Te]);break;case 59:de.setQuadrant3Text(xe[Te]);break;case 60:de.setQuadrant4Text(xe[Te]);break;case 64:this.$={text:xe[Te],type:"text"};break;case 65:this.$={text:xe[Te-1].text+""+xe[Te],type:xe[Te-1].type};break;case 66:this.$={text:xe[Te],type:"text"};break;case 67:this.$={text:xe[Te],type:"markdown"};break;case 68:this.$=xe[Te];break;case 69:this.$=xe[Te-1]+""+xe[Te];break}},"anonymous"),table:[{18:e,26:1,27:2,28:r,55:i,56:n,57:a},{1:[3]},{18:e,26:8,27:2,28:r,55:i,56:n,57:a},{18:e,26:9,27:2,28:r,55:i,56:n,57:a},t(s,[2,33],{29:10}),t(o,[2,61]),t(o,[2,62]),t(o,[2,63]),{1:[2,30]},{1:[2,31]},t(h,u,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:d,5:p,10:g,12:f,13:m,14:y,18:b,25:v,35:x,37:w,39:k,41:T,42:S,48:C,50:E,51:L,52:I,53:M,54:N,60:$,61:_,63:D,64:R,65:O,66:A,67:B}),t(s,[2,34]),{27:45,55:i,56:n,57:a},t(h,[2,37]),t(h,u,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:d,5:p,10:g,12:f,13:m,14:y,18:b,25:v,35:x,37:w,39:k,41:T,42:S,48:C,50:E,51:L,52:I,53:M,54:N,60:$,61:_,63:D,64:R,65:O,66:A,67:B}),t(h,[2,39]),t(h,[2,40]),t(h,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},t(h,[2,45]),t(h,[2,46]),{18:[1,50]},{4:d,5:p,10:g,12:f,13:m,14:y,43:51,58:31,60:$,61:_,63:D,64:R,65:O,66:A,67:B},{4:d,5:p,10:g,12:f,13:m,14:y,43:52,58:31,60:$,61:_,63:D,64:R,65:O,66:A,67:B},{4:d,5:p,10:g,12:f,13:m,14:y,43:53,58:31,60:$,61:_,63:D,64:R,65:O,66:A,67:B},{4:d,5:p,10:g,12:f,13:m,14:y,43:54,58:31,60:$,61:_,63:D,64:R,65:O,66:A,67:B},{4:d,5:p,10:g,12:f,13:m,14:y,43:55,58:31,60:$,61:_,63:D,64:R,65:O,66:A,67:B},{4:d,5:p,10:g,12:f,13:m,14:y,43:56,58:31,60:$,61:_,63:D,64:R,65:O,66:A,67:B},{4:d,5:p,8:P,10:g,12:f,13:m,14:y,18:z,44:[1,57],47:[1,58],58:60,59:59,63:D,64:R,65:O,66:A,67:B},t(q,[2,64]),t(q,[2,66]),t(q,[2,67]),t(q,[2,70]),t(q,[2,71]),t(q,[2,72]),t(q,[2,73]),t(q,[2,74]),t(q,[2,75]),t(q,[2,76]),t(q,[2,77]),t(q,[2,78]),t(q,[2,79]),t(q,[2,80]),t(s,[2,35]),t(h,[2,38]),t(h,[2,42]),t(h,[2,43]),t(h,[2,44]),{3:64,4:K,5:W,6:ae,7:ie,8:se,9:oe,10:Y,11:Q,12:j,13:H,14:J,15:he,21:63},t(h,[2,53],{59:59,58:60,4:d,5:p,8:P,10:g,12:f,13:m,14:y,18:z,49:[1,77],63:D,64:R,65:O,66:A,67:B}),t(h,[2,56],{59:59,58:60,4:d,5:p,8:P,10:g,12:f,13:m,14:y,18:z,49:[1,78],63:D,64:R,65:O,66:A,67:B}),t(h,[2,57],{59:59,58:60,4:d,5:p,8:P,10:g,12:f,13:m,14:y,18:z,63:D,64:R,65:O,66:A,67:B}),t(h,[2,58],{59:59,58:60,4:d,5:p,8:P,10:g,12:f,13:m,14:y,18:z,63:D,64:R,65:O,66:A,67:B}),t(h,[2,59],{59:59,58:60,4:d,5:p,8:P,10:g,12:f,13:m,14:y,18:z,63:D,64:R,65:O,66:A,67:B}),t(h,[2,60],{59:59,58:60,4:d,5:p,8:P,10:g,12:f,13:m,14:y,18:z,63:D,64:R,65:O,66:A,67:B}),{45:[1,79]},{44:[1,80]},t(q,[2,65]),t(q,[2,81]),t(q,[2,82]),t(q,[2,83]),{3:82,4:K,5:W,6:ae,7:ie,8:se,9:oe,10:Y,11:Q,12:j,13:H,14:J,15:he,18:[1,81]},t(X,[2,23]),t(X,[2,1]),t(X,[2,2]),t(X,[2,3]),t(X,[2,4]),t(X,[2,5]),t(X,[2,6]),t(X,[2,7]),t(X,[2,8]),t(X,[2,9]),t(X,[2,10]),t(X,[2,11]),t(X,[2,12]),t(h,[2,52],{58:31,43:83,4:d,5:p,10:g,12:f,13:m,14:y,60:$,61:_,63:D,64:R,65:O,66:A,67:B}),t(h,[2,55],{58:31,43:84,4:d,5:p,10:g,12:f,13:m,14:y,60:$,61:_,63:D,64:R,65:O,66:A,67:B}),{46:[1,85]},{45:[1,86]},{4:fe,5:V,6:Se,8:ce,11:Le,13:$e,16:89,17:je,18:qe,19:Ce,20:De,22:88,23:87},t(X,[2,24]),t(h,[2,51],{59:59,58:60,4:d,5:p,8:P,10:g,12:f,13:m,14:y,18:z,63:D,64:R,65:O,66:A,67:B}),t(h,[2,54],{59:59,58:60,4:d,5:p,8:P,10:g,12:f,13:m,14:y,18:z,63:D,64:R,65:O,66:A,67:B}),t(h,[2,47],{22:88,16:89,23:100,4:fe,5:V,6:Se,8:ce,11:Le,13:$e,17:je,18:qe,19:Ce,20:De}),{46:[1,101]},t(h,[2,29],{10:ye}),t(Pe,[2,27],{16:103,4:fe,5:V,6:Se,8:ce,11:Le,13:$e,17:je,18:qe,19:Ce,20:De}),t(ue,[2,25]),t(ue,[2,13]),t(ue,[2,14]),t(ue,[2,15]),t(ue,[2,16]),t(ue,[2,17]),t(ue,[2,18]),t(ue,[2,19]),t(ue,[2,20]),t(ue,[2,21]),t(ue,[2,22]),t(h,[2,49],{10:ye}),t(h,[2,48],{22:88,16:89,23:104,4:fe,5:V,6:Se,8:ce,11:Le,13:$e,17:je,18:qe,19:Ce,20:De}),{4:fe,5:V,6:Se,8:ce,11:Le,13:$e,16:89,17:je,18:qe,19:Ce,20:De,22:105},t(ue,[2,26]),t(h,[2,50],{10:ye}),t(Pe,[2,28],{16:103,4:fe,5:V,6:Se,8:ce,11:Le,13:$e,17:je,18:qe,19:Ce,20:De})],defaultActions:{8:[2,30],9:[2,31]},parseError:l(function(F,te){if(te.recoverable)this.trace(F);else{var ne=new Error(F);throw ne.hash=te,ne}},"parseError"),parse:l(function(F){var te=this,ne=[0],de=[],ge=[null],xe=[],Ee=this.table,Te="",Fe=0,We=0,it=0,Be=2,Ye=1,Ge=xe.slice.call(arguments,1),ze=Object.create(this.lexer),Xe={yy:{}};for(var xt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,xt)&&(Xe.yy[xt]=this.yy[xt]);ze.setInput(F,Xe.yy),Xe.yy.lexer=ze,Xe.yy.parser=this,typeof ze.yylloc>"u"&&(ze.yylloc={});var st=ze.yylloc;xe.push(st);var at=ze.options&&ze.options.ranges;typeof Xe.yy.parseError=="function"?this.parseError=Xe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Tt(be){ne.length=ne.length-2*be,ge.length=ge.length-be,xe.length=xe.length-be}l(Tt,"popStack");function et(){var be;return be=de.pop()||ze.lex()||Ye,typeof be!="number"&&(be instanceof Array&&(de=be,be=de.pop()),be=te.symbols_[be]||be),be}l(et,"lex");for(var ct,pt,Qe,Ze,_t,Bt,Dt={},Vr,Jt,Ut,or;;){if(Qe=ne[ne.length-1],this.defaultActions[Qe]?Ze=this.defaultActions[Qe]:((ct===null||typeof ct>"u")&&(ct=et()),Ze=Ee[Qe]&&Ee[Qe][ct]),typeof Ze>"u"||!Ze.length||!Ze[0]){var Nr="";or=[];for(Vr in Ee[Qe])this.terminals_[Vr]&&Vr>Be&&or.push("'"+this.terminals_[Vr]+"'");ze.showPosition?Nr="Parse error on line "+(Fe+1)+`:
`+ze.showPosition()+`
Expecting `+or.join(", ")+", got '"+(this.terminals_[ct]||ct)+"'":Nr="Parse error on line "+(Fe+1)+": Unexpected "+(ct==Ye?"end of input":"'"+(this.terminals_[ct]||ct)+"'"),this.parseError(Nr,{text:ze.match,token:this.terminals_[ct]||ct,line:ze.yylineno,loc:st,expected:or})}if(Ze[0]instanceof Array&&Ze.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Qe+", token: "+ct);switch(Ze[0]){case 1:ne.push(ct),ge.push(ze.yytext),xe.push(ze.yylloc),ne.push(Ze[1]),ct=null,pt?(ct=pt,pt=null):(We=ze.yyleng,Te=ze.yytext,Fe=ze.yylineno,st=ze.yylloc,it>0&&it--);break;case 2:if(Jt=this.productions_[Ze[1]][1],Dt.$=ge[ge.length-Jt],Dt._$={first_line:xe[xe.length-(Jt||1)].first_line,last_line:xe[xe.length-1].last_line,first_column:xe[xe.length-(Jt||1)].first_column,last_column:xe[xe.length-1].last_column},at&&(Dt._$.range=[xe[xe.length-(Jt||1)].range[0],xe[xe.length-1].range[1]]),Bt=this.performAction.apply(Dt,[Te,We,Fe,Xe.yy,Ze[1],ge,xe].concat(Ge)),typeof Bt<"u")return Bt;Jt&&(ne=ne.slice(0,-1*Jt*2),ge=ge.slice(0,-1*Jt),xe=xe.slice(0,-1*Jt)),ne.push(this.productions_[Ze[1]][0]),ge.push(Dt.$),xe.push(Dt._$),Ut=Ee[ne[ne.length-2]][ne[ne.length-1]],ne.push(Ut);break;case 3:return!0}}return!0},"parse")},Z=(function(){var F={EOF:1,parseError:l(function(te,ne){if(this.yy.parser)this.yy.parser.parseError(te,ne);else throw new Error(te)},"parseError"),setInput:l(function(te,ne){return this.yy=ne||this.yy||{},this._input=te,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var te=this._input[0];this.yytext+=te,this.yyleng++,this.offset++,this.match+=te,this.matched+=te;var ne=te.match(/(?:\r\n?|\n).*/g);return ne?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),te},"input"),unput:l(function(te){var ne=te.length,de=te.split(/(?:\r\n?|\n)/g);this._input=te+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ne),this.offset-=ne;var ge=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),de.length-1&&(this.yylineno-=de.length-1);var xe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:de?(de.length===ge.length?this.yylloc.first_column:0)+ge[ge.length-de.length].length-de[0].length:this.yylloc.first_column-ne},this.options.ranges&&(this.yylloc.range=[xe[0],xe[0]+this.yyleng-ne]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(te){this.unput(this.match.slice(te))},"less"),pastInput:l(function(){var te=this.matched.substr(0,this.matched.length-this.match.length);return(te.length>20?"...":"")+te.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var te=this.match;return te.length<20&&(te+=this._input.substr(0,20-te.length)),(te.substr(0,20)+(te.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var te=this.pastInput(),ne=new Array(te.length+1).join("-");return te+this.upcomingInput()+`
`+ne+"^"},"showPosition"),test_match:l(function(te,ne){var de,ge,xe;if(this.options.backtrack_lexer&&(xe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(xe.yylloc.range=this.yylloc.range.slice(0))),ge=te[0].match(/(?:\r\n?|\n).*/g),ge&&(this.yylineno+=ge.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ge?ge[ge.length-1].length-ge[ge.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+te[0].length},this.yytext+=te[0],this.match+=te[0],this.matches=te,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(te[0].length),this.matched+=te[0],de=this.performAction.call(this,this.yy,this,ne,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),de)return de;if(this._backtrack){for(var Ee in xe)this[Ee]=xe[Ee];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var te,ne,de,ge;this._more||(this.yytext="",this.match="");for(var xe=this._currentRules(),Ee=0;Ee<xe.length;Ee++)if(de=this._input.match(this.rules[xe[Ee]]),de&&(!ne||de[0].length>ne[0].length)){if(ne=de,ge=Ee,this.options.backtrack_lexer){if(te=this.test_match(de,xe[Ee]),te!==!1)return te;if(this._backtrack){ne=!1;continue}else return!1}else if(!this.options.flex)break}return ne?(te=this.test_match(ne,xe[ge]),te!==!1?te:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var te=this.next();return te||this.lex()},"lex"),begin:l(function(te){this.conditionStack.push(te)},"begin"),popState:l(function(){var te=this.conditionStack.length-1;return te>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(te){return te=this.conditionStack.length-1-Math.abs(te||0),te>=0?this.conditionStack[te]:"INITIAL"},"topState"),pushState:l(function(te){this.begin(te)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(te,ne,de,ge){var xe=ge;switch(de){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return F})();Ve.lexer=Z;function Ne(){this.yy={}}return l(Ne,"Parser"),Ne.prototype=Ve,Ve.Parser=Ne,new Ne})();XD.parser=XD;gMe=XD,Ea=xu(),fMe=(Hm=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var e,r,i,n,a,s,o,h,u,d,p,g,f,m,y,b,v,x;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((e=rr.quadrantChart)==null?void 0:e.chartWidth)||500,chartWidth:((r=rr.quadrantChart)==null?void 0:r.chartHeight)||500,titlePadding:((i=rr.quadrantChart)==null?void 0:i.titlePadding)||10,titleFontSize:((n=rr.quadrantChart)==null?void 0:n.titleFontSize)||20,quadrantPadding:((a=rr.quadrantChart)==null?void 0:a.quadrantPadding)||5,xAxisLabelPadding:((s=rr.quadrantChart)==null?void 0:s.xAxisLabelPadding)||5,yAxisLabelPadding:((o=rr.quadrantChart)==null?void 0:o.yAxisLabelPadding)||5,xAxisLabelFontSize:((h=rr.quadrantChart)==null?void 0:h.xAxisLabelFontSize)||16,yAxisLabelFontSize:((u=rr.quadrantChart)==null?void 0:u.yAxisLabelFontSize)||16,quadrantLabelFontSize:((d=rr.quadrantChart)==null?void 0:d.quadrantLabelFontSize)||16,quadrantTextTopPadding:((p=rr.quadrantChart)==null?void 0:p.quadrantTextTopPadding)||5,pointTextPadding:((g=rr.quadrantChart)==null?void 0:g.pointTextPadding)||5,pointLabelFontSize:((f=rr.quadrantChart)==null?void 0:f.pointLabelFontSize)||12,pointRadius:((m=rr.quadrantChart)==null?void 0:m.pointRadius)||5,xAxisPosition:((y=rr.quadrantChart)==null?void 0:y.xAxisPosition)||"top",yAxisPosition:((b=rr.quadrantChart)==null?void 0:b.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((v=rr.quadrantChart)==null?void 0:v.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((x=rr.quadrantChart)==null?void 0:x.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:Ea.quadrant1Fill,quadrant2Fill:Ea.quadrant2Fill,quadrant3Fill:Ea.quadrant3Fill,quadrant4Fill:Ea.quadrant4Fill,quadrant1TextFill:Ea.quadrant1TextFill,quadrant2TextFill:Ea.quadrant2TextFill,quadrant3TextFill:Ea.quadrant3TextFill,quadrant4TextFill:Ea.quadrant4TextFill,quadrantPointFill:Ea.quadrantPointFill,quadrantPointTextFill:Ea.quadrantPointTextFill,quadrantXAxisTextFill:Ea.quadrantXAxisTextFill,quadrantYAxisTextFill:Ea.quadrantYAxisTextFill,quadrantTitleFill:Ea.quadrantTitleFill,quadrantInternalBorderStrokeFill:Ea.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Ea.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,ee.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,r){this.classes.set(e,r)}setConfig(e){ee.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){ee.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,r,i,n){let a=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,s={top:e==="top"&&r?a:0,bottom:e==="bottom"&&r?a:0},o=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,h={left:this.config.yAxisPosition==="left"&&i?o:0,right:this.config.yAxisPosition==="right"&&i?o:0},u=this.config.titleFontSize+this.config.titlePadding*2,d={top:n?u:0},p=this.config.quadrantPadding+h.left,g=this.config.quadrantPadding+s.top+d.top,f=this.config.chartWidth-this.config.quadrantPadding*2-h.left-h.right,m=this.config.chartHeight-this.config.quadrantPadding*2-s.top-s.bottom-d.top,y=f/2,b=m/2;return{xAxisSpace:s,yAxisSpace:h,titleSpace:d,quadrantSpace:{quadrantLeft:p,quadrantTop:g,quadrantWidth:f,quadrantHalfWidth:y,quadrantHeight:m,quadrantHalfHeight:b}}}getAxisLabels(e,r,i,n){let{quadrantSpace:a,titleSpace:s}=n,{quadrantHalfHeight:o,quadrantHeight:h,quadrantLeft:u,quadrantHalfWidth:d,quadrantTop:p,quadrantWidth:g}=a,f=!!this.data.xAxisRightText,m=!!this.data.yAxisTopText,y=[];return this.data.xAxisLeftText&&r&&y.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+(f?d/2:0),y:e==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+p+h+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&r&&y.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+d+(f?d/2:0),y:e==="top"?this.config.xAxisLabelPadding+s.top:this.config.xAxisLabelPadding+p+h+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&i&&y.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+g+this.config.quadrantPadding,y:p+h-(m?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&i&&y.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+g+this.config.quadrantPadding,y:p+o-(m?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:-90}),y}getQuadrants(e){let{quadrantSpace:r}=e,{quadrantHalfHeight:i,quadrantLeft:n,quadrantHalfWidth:a,quadrantTop:s}=r,o=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+a,y:s,width:a,height:i,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:s,width:a,height:i,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:s+i,width:a,height:i,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+a,y:s+i,width:a,height:i,fill:this.themeConfig.quadrant4Fill}];for(let h of o)h.text.x=h.x+h.width/2,this.data.points.length===0?(h.text.y=h.y+h.height/2,h.text.horizontalPos="middle"):(h.text.y=h.y+this.config.quadrantTextTopPadding,h.text.horizontalPos="top");return o}getQuadrantPoints(e){let{quadrantSpace:r}=e,{quadrantHeight:i,quadrantLeft:n,quadrantTop:a,quadrantWidth:s}=r,o=Lo().domain([0,1]).range([n,s+n]),h=Lo().domain([0,1]).range([i+a,a]);return this.data.points.map(u=>{let d=this.classes.get(u.className);return d&&(u={...d,...u}),{x:o(u.x),y:h(u.y),fill:u.color??this.themeConfig.quadrantPointFill,radius:u.radius??this.config.pointRadius,text:{text:u.text,fill:this.themeConfig.quadrantPointTextFill,x:o(u.x),y:h(u.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:u.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:u.strokeWidth??"0px"}})}getBorders(e){let r=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:i}=e,{quadrantHalfHeight:n,quadrantHeight:a,quadrantLeft:s,quadrantHalfWidth:o,quadrantTop:h,quadrantWidth:u}=i;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:h,x2:s+u+r,y2:h},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s+u,y1:h+r,x2:s+u,y2:h+a-r},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s-r,y1:h+a,x2:s+u+r,y2:h+a},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:s,y1:h+r,x2:s,y2:h+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+o,y1:h+r,x2:s+o,y2:h+a-r},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:s+r,y1:h+n,x2:s+u-r,y2:h+n}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){let e=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),r=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),i=this.config.showTitle&&!!this.data.titleText,n=this.data.points.length>0?"bottom":this.config.xAxisPosition,a=this.calculateSpace(n,e,r,i);return{points:this.getQuadrantPoints(a),quadrants:this.getQuadrants(a),axisLabels:this.getAxisLabels(n,e,r,a),borderLines:this.getBorders(a),title:this.getTitle(i)}}},l(Hm,"QuadrantBuilder"),Hm),ST=(Xm=class extends Error{constructor(e,r,i){super(`value for ${e} ${r} is invalid, please use a valid ${i}`),this.name="InvalidStyleError"}},l(Xm,"InvalidStyleError"),Xm);l(KD,"validateHexCode");l(xpe,"validateNumber");l(wpe,"validateSizeInPixels");mMe=ve();l(vl,"textSanitizer");Bn=new fMe;l(kpe,"setQuadrant1Text");l(Tpe,"setQuadrant2Text");l(Epe,"setQuadrant3Text");l(Cpe,"setQuadrant4Text");l(Spe,"setXAxisLeftText");l(_pe,"setXAxisRightText");l(Ape,"setYAxisTopText");l(Lpe,"setYAxisBottomText");l(_T,"parseStyles");l(Npe,"addPoint");l(Ipe,"addClass");l(Rpe,"setWidth");l(Dpe,"setHeight");l(Mpe,"getQuadrantData");yMe=l(function(){Bn.clear(),cr()},"clear"),vMe={setWidth:Rpe,setHeight:Dpe,setQuadrant1Text:kpe,setQuadrant2Text:Tpe,setQuadrant3Text:Epe,setQuadrant4Text:Cpe,setXAxisLeftText:Spe,setXAxisRightText:_pe,setYAxisTopText:Ape,setYAxisBottomText:Lpe,parseStyles:_T,addPoint:Npe,addClass:Ipe,getQuadrantData:Mpe,clear:yMe,setAccTitle:gr,getAccTitle:fr,setDiagramTitle:Er,getDiagramTitle:vr,getAccDescription:yr,setAccDescription:mr},bMe=l((t,e,r,i)=>{var S,C,E;function n(L){return L==="top"?"hanging":"middle"}l(n,"getDominantBaseLine");function a(L){return L==="left"?"start":"middle"}l(a,"getTextAnchor");function s(L){return`translate(${L.x}, ${L.y}) rotate(${L.rotation||0})`}l(s,"getTransformation");let o=ve();ee.debug(`Rendering quadrant chart
`+t);let h=o.securityLevel,u;h==="sandbox"&&(u=Ue("#i"+e));let d=(h==="sandbox"?Ue(u.nodes()[0].contentDocument.body):Ue("body")).select(`[id="${e}"]`),p=d.append("g").attr("class","main"),g=((S=o.quadrantChart)==null?void 0:S.chartWidth)??500,f=((C=o.quadrantChart)==null?void 0:C.chartHeight)??500;Yr(d,f,g,((E=o.quadrantChart)==null?void 0:E.useMaxWidth)??!0),d.attr("viewBox","0 0 "+g+" "+f),i.db.setHeight(f),i.db.setWidth(g);let m=i.db.getQuadrantData(),y=p.append("g").attr("class","quadrants"),b=p.append("g").attr("class","border"),v=p.append("g").attr("class","data-points"),x=p.append("g").attr("class","labels"),w=p.append("g").attr("class","title");m.title&&w.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",n(m.title.horizontalPos)).attr("text-anchor",a(m.title.verticalPos)).attr("transform",s(m.title)).text(m.title.text),m.borderLines&&b.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",L=>L.x1).attr("y1",L=>L.y1).attr("x2",L=>L.x2).attr("y2",L=>L.y2).style("stroke",L=>L.strokeFill).style("stroke-width",L=>L.strokeWidth);let k=y.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");k.append("rect").attr("x",L=>L.x).attr("y",L=>L.y).attr("width",L=>L.width).attr("height",L=>L.height).attr("fill",L=>L.fill),k.append("text").attr("x",0).attr("y",0).attr("fill",L=>L.text.fill).attr("font-size",L=>L.text.fontSize).attr("dominant-baseline",L=>n(L.text.horizontalPos)).attr("text-anchor",L=>a(L.text.verticalPos)).attr("transform",L=>s(L.text)).text(L=>L.text.text),x.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(L=>L.text).attr("fill",L=>L.fill).attr("font-size",L=>L.fontSize).attr("dominant-baseline",L=>n(L.horizontalPos)).attr("text-anchor",L=>a(L.verticalPos)).attr("transform",L=>s(L));let T=v.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");T.append("circle").attr("cx",L=>L.x).attr("cy",L=>L.y).attr("r",L=>L.radius).attr("fill",L=>L.fill).attr("stroke",L=>L.strokeColor).attr("stroke-width",L=>L.strokeWidth),T.append("text").attr("x",0).attr("y",0).text(L=>L.text.text).attr("fill",L=>L.text.fill).attr("font-size",L=>L.text.fontSize).attr("dominant-baseline",L=>n(L.text.horizontalPos)).attr("text-anchor",L=>a(L.text.verticalPos)).attr("transform",L=>s(L.text))},"draw"),xMe={draw:bMe},wMe={parser:gMe,db:vMe,renderer:xMe,styles:l(()=>"","styles")}});var tge={};Tr(tge,{diagram:()=>OMe});function QD(t){return t.type==="bar"}function tM(t){return t.type==="band"}function Km(t){return t.type==="linear"}function JD(t,e,r,i){let n=new Bpe(i);return tM(t)?new TMe(e,r,t.categories,t.title,n):new EMe(e,r,[t.min,t.max],t.title,n)}function Fpe(t,e,r,i){let n=new Bpe(i);return new CMe(n,t,e,r)}function zpe(t,e,r){return new AMe(t,e,r)}function iM(){let t=xu(),e=ir();return Ti(t.xyChart,e.themeVariables.xyChart)}function nM(){let t=ir();return Ti(rr.xyChart,t.xyChart)}function aM(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function LT(t){let e=ir();return tr(t.trim(),e)}function qpe(t){Gpe=t}function Upe(t){t==="horizontal"?Sx.chartOrientation="horizontal":Sx.chartOrientation="vertical"}function jpe(t){Wr.xAxis.title=LT(t.text)}function sM(t,e){Wr.xAxis={type:"linear",title:Wr.xAxis.title,min:t,max:e},AT=!0}function Wpe(t){Wr.xAxis={type:"band",title:Wr.xAxis.title,categories:t.map(e=>LT(e.text))},AT=!0}function Vpe(t){Wr.yAxis.title=LT(t.text)}function Ype(t,e){Wr.yAxis={type:"linear",title:Wr.yAxis.title,min:t,max:e},rM=!0}function Hpe(t){let e=Math.min(...t),r=Math.max(...t),i=Km(Wr.yAxis)?Wr.yAxis.min:1/0,n=Km(Wr.yAxis)?Wr.yAxis.max:-1/0;Wr.yAxis={type:"linear",title:Wr.yAxis.title,min:Math.min(i,e),max:Math.max(n,r)}}function oM(t){let e=[];if(t.length===0)return e;if(!AT){let r=Km(Wr.xAxis)?Wr.xAxis.min:1/0,i=Km(Wr.xAxis)?Wr.xAxis.max:-1/0;sM(Math.min(r,1),Math.max(i,t.length))}if(rM||Hpe(t),tM(Wr.xAxis)&&(e=Wr.xAxis.categories.map((r,i)=>[r,t[i]])),Km(Wr.xAxis)){let r=Wr.xAxis.min,i=Wr.xAxis.max,n=(i-r)/(t.length-1),a=[];for(let s=r;s<=i;s+=n)a.push(`${s}`);e=a.map((s,o)=>[s,t[o]])}return e}function lM(t){return eM[t===0?0:t%eM.length]}function Xpe(t,e){let r=oM(e);Wr.plots.push({type:"line",strokeFill:lM(Cx),strokeWidth:2,data:r}),Cx++}function Kpe(t,e){let r=oM(e);Wr.plots.push({type:"bar",fill:lM(Cx),data:r}),Cx++}function Zpe(){if(Wr.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return Wr.title=vr(),NMe.build(Sx,Wr,_x,Gpe)}function Qpe(){return _x}function Jpe(){return Sx}function ege(){return Wr}var ZD,kMe,Zm,Bpe,Qm,Ppe,Jm,TMe,ey,EMe,ty,CMe,ry,SMe,iy,_Me,ny,AMe,ay,LMe,sy,NMe,Cx,Gpe,Sx,_x,Wr,eM,AT,rM,IMe,RMe,DMe,MMe,OMe,rge=wt(()=>{qo();_n();Hr();ri();hr();lr();br();kt();ZD=(function(){var t=l(function(D,R,O,A){for(O=O||{},A=D.length;A--;O[D[A]]=R);return O},"o"),e=[1,10,12,14,16,18,19,21,23],r=[2,6],i=[1,3],n=[1,5],a=[1,6],s=[1,7],o=[1,5,10,12,14,16,18,19,21,23,34,35,36],h=[1,25],u=[1,26],d=[1,28],p=[1,29],g=[1,30],f=[1,31],m=[1,32],y=[1,33],b=[1,34],v=[1,35],x=[1,36],w=[1,37],k=[1,43],T=[1,42],S=[1,47],C=[1,50],E=[1,10,12,14,16,18,19,21,23,34,35,36],L=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],I=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],M=[1,64],N={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:l(function(D,R,O,A,B,P,z){var q=P.length-1;switch(B){case 5:A.setOrientation(P[q]);break;case 9:A.setDiagramTitle(P[q].text.trim());break;case 12:A.setLineData({text:"",type:"text"},P[q]);break;case 13:A.setLineData(P[q-1],P[q]);break;case 14:A.setBarData({text:"",type:"text"},P[q]);break;case 15:A.setBarData(P[q-1],P[q]);break;case 16:this.$=P[q].trim(),A.setAccTitle(this.$);break;case 17:case 18:this.$=P[q].trim(),A.setAccDescription(this.$);break;case 19:this.$=P[q-1];break;case 20:this.$=[Number(P[q-2]),...P[q]];break;case 21:this.$=[Number(P[q])];break;case 22:A.setXAxisTitle(P[q]);break;case 23:A.setXAxisTitle(P[q-1]);break;case 24:A.setXAxisTitle({type:"text",text:""});break;case 25:A.setXAxisBand(P[q]);break;case 26:A.setXAxisRangeData(Number(P[q-2]),Number(P[q]));break;case 27:this.$=P[q-1];break;case 28:this.$=[P[q-2],...P[q]];break;case 29:this.$=[P[q]];break;case 30:A.setYAxisTitle(P[q]);break;case 31:A.setYAxisTitle(P[q-1]);break;case 32:A.setYAxisTitle({type:"text",text:""});break;case 33:A.setYAxisRangeData(Number(P[q-2]),Number(P[q]));break;case 37:this.$={text:P[q],type:"text"};break;case 38:this.$={text:P[q],type:"text"};break;case 39:this.$={text:P[q],type:"markdown"};break;case 40:this.$=P[q];break;case 41:this.$=P[q-1]+""+P[q];break}},"anonymous"),table:[t(e,r,{3:1,4:2,7:4,5:i,34:n,35:a,36:s}),{1:[3]},t(e,r,{4:2,7:4,3:8,5:i,34:n,35:a,36:s}),t(e,r,{4:2,7:4,6:9,3:10,5:i,8:[1,11],34:n,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},t(o,[2,34]),t(o,[2,35]),t(o,[2,36]),{1:[2,1]},t(e,r,{4:2,7:4,3:21,5:i,34:n,35:a,36:s}),{1:[2,3]},t(o,[2,5]),t(e,[2,7],{4:22,34:n,35:a,36:s}),{11:23,37:24,38:h,39:u,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},{11:39,13:38,24:k,27:T,29:40,30:41,37:24,38:h,39:u,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},{11:45,15:44,27:S,33:46,37:24,38:h,39:u,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},{11:49,17:48,24:C,37:24,38:h,39:u,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},{11:52,17:51,24:C,37:24,38:h,39:u,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},{20:[1,53]},{22:[1,54]},t(E,[2,18]),{1:[2,2]},t(E,[2,8]),t(E,[2,9]),t(L,[2,37],{40:55,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w}),t(L,[2,38]),t(L,[2,39]),t(I,[2,40]),t(I,[2,42]),t(I,[2,43]),t(I,[2,44]),t(I,[2,45]),t(I,[2,46]),t(I,[2,47]),t(I,[2,48]),t(I,[2,49]),t(I,[2,50]),t(I,[2,51]),t(E,[2,10]),t(E,[2,22],{30:41,29:56,24:k,27:T}),t(E,[2,24]),t(E,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:h,39:u,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},t(E,[2,11]),t(E,[2,30],{33:60,27:S}),t(E,[2,32]),{31:[1,61]},t(E,[2,12]),{17:62,24:C},{25:63,27:M},t(E,[2,14]),{17:65,24:C},t(E,[2,16]),t(E,[2,17]),t(I,[2,41]),t(E,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},t(E,[2,31]),{27:[1,69]},t(E,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},t(E,[2,15]),t(E,[2,26]),t(E,[2,27]),{11:59,32:72,37:24,38:h,39:u,40:27,41:d,42:p,43:g,44:f,45:m,46:y,47:b,48:v,49:x,50:w},t(E,[2,33]),t(E,[2,19]),{25:73,27:M},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:l(function(D,R){if(R.recoverable)this.trace(D);else{var O=new Error(D);throw O.hash=R,O}},"parseError"),parse:l(function(D){var R=this,O=[0],A=[],B=[null],P=[],z=this.table,q="",K=0,W=0,ae=0,ie=2,se=1,oe=P.slice.call(arguments,1),Y=Object.create(this.lexer),Q={yy:{}};for(var j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(Q.yy[j]=this.yy[j]);Y.setInput(D,Q.yy),Q.yy.lexer=Y,Q.yy.parser=this,typeof Y.yylloc>"u"&&(Y.yylloc={});var H=Y.yylloc;P.push(H);var J=Y.options&&Y.options.ranges;typeof Q.yy.parseError=="function"?this.parseError=Q.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function he(ue){O.length=O.length-2*ue,B.length=B.length-ue,P.length=P.length-ue}l(he,"popStack");function X(){var ue;return ue=A.pop()||Y.lex()||se,typeof ue!="number"&&(ue instanceof Array&&(A=ue,ue=A.pop()),ue=R.symbols_[ue]||ue),ue}l(X,"lex");for(var fe,V,Se,ce,Le,$e,je={},qe,Ce,De,ye;;){if(Se=O[O.length-1],this.defaultActions[Se]?ce=this.defaultActions[Se]:((fe===null||typeof fe>"u")&&(fe=X()),ce=z[Se]&&z[Se][fe]),typeof ce>"u"||!ce.length||!ce[0]){var Pe="";ye=[];for(qe in z[Se])this.terminals_[qe]&&qe>ie&&ye.push("'"+this.terminals_[qe]+"'");Y.showPosition?Pe="Parse error on line "+(K+1)+`:
`+Y.showPosition()+`
Expecting `+ye.join(", ")+", got '"+(this.terminals_[fe]||fe)+"'":Pe="Parse error on line "+(K+1)+": Unexpected "+(fe==se?"end of input":"'"+(this.terminals_[fe]||fe)+"'"),this.parseError(Pe,{text:Y.match,token:this.terminals_[fe]||fe,line:Y.yylineno,loc:H,expected:ye})}if(ce[0]instanceof Array&&ce.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Se+", token: "+fe);switch(ce[0]){case 1:O.push(fe),B.push(Y.yytext),P.push(Y.yylloc),O.push(ce[1]),fe=null,V?(fe=V,V=null):(W=Y.yyleng,q=Y.yytext,K=Y.yylineno,H=Y.yylloc,ae>0&&ae--);break;case 2:if(Ce=this.productions_[ce[1]][1],je.$=B[B.length-Ce],je._$={first_line:P[P.length-(Ce||1)].first_line,last_line:P[P.length-1].last_line,first_column:P[P.length-(Ce||1)].first_column,last_column:P[P.length-1].last_column},J&&(je._$.range=[P[P.length-(Ce||1)].range[0],P[P.length-1].range[1]]),$e=this.performAction.apply(je,[q,W,K,Q.yy,ce[1],B,P].concat(oe)),typeof $e<"u")return $e;Ce&&(O=O.slice(0,-1*Ce*2),B=B.slice(0,-1*Ce),P=P.slice(0,-1*Ce)),O.push(this.productions_[ce[1]][0]),B.push(je.$),P.push(je._$),De=z[O[O.length-2]][O[O.length-1]],O.push(De);break;case 3:return!0}}return!0},"parse")},$=(function(){var D={EOF:1,parseError:l(function(R,O){if(this.yy.parser)this.yy.parser.parseError(R,O);else throw new Error(R)},"parseError"),setInput:l(function(R,O){return this.yy=O||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var O=R.match(/(?:\r\n?|\n).*/g);return O?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},"input"),unput:l(function(R){var O=R.length,A=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var B=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),A.length-1&&(this.yylineno-=A.length-1);var P=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:A?(A.length===B.length?this.yylloc.first_column:0)+B[B.length-A.length].length-A[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[P[0],P[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(R){this.unput(this.match.slice(R))},"less"),pastInput:l(function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var R=this.pastInput(),O=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+O+"^"},"showPosition"),test_match:l(function(R,O){var A,B,P;if(this.options.backtrack_lexer&&(P={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(P.yylloc.range=this.yylloc.range.slice(0))),B=R[0].match(/(?:\r\n?|\n).*/g),B&&(this.yylineno+=B.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:B?B[B.length-1].length-B[B.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],A=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),A)return A;if(this._backtrack){for(var z in P)this[z]=P[z];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var R,O,A,B;this._more||(this.yytext="",this.match="");for(var P=this._currentRules(),z=0;z<P.length;z++)if(A=this._input.match(this.rules[P[z]]),A&&(!O||A[0].length>O[0].length)){if(O=A,B=z,this.options.backtrack_lexer){if(R=this.test_match(A,P[z]),R!==!1)return R;if(this._backtrack){O=!1;continue}else return!1}else if(!this.options.flex)break}return O?(R=this.test_match(O,P[B]),R!==!1?R:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var R=this.next();return R||this.lex()},"lex"),begin:l(function(R){this.conditionStack.push(R)},"begin"),popState:l(function(){var R=this.conditionStack.length-1;return R>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(R){return R=this.conditionStack.length-1-Math.abs(R||0),R>=0?this.conditionStack[R]:"INITIAL"},"topState"),pushState:l(function(R){this.begin(R)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(R,O,A,B){var P=B;switch(A){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 5;case 16:return 8;case 17:return this.pushState("axis_data"),"X_AXIS";case 18:return this.pushState("axis_data"),"Y_AXIS";case 19:return this.pushState("axis_band_data"),24;case 20:return 31;case 21:return this.pushState("data"),16;case 22:return this.pushState("data"),18;case 23:return this.pushState("data_inner"),24;case 24:return 27;case 25:return this.popState(),26;case 26:this.popState();break;case 27:this.pushState("string");break;case 28:this.popState();break;case 29:return"STR";case 30:return 24;case 31:return 26;case 32:return 43;case 33:return"COLON";case 34:return 44;case 35:return 28;case 36:return 45;case 37:return 46;case 38:return 48;case 39:return 50;case 40:return 47;case 41:return 41;case 42:return 49;case 43:return 42;case 44:break;case 45:return 35;case 46:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:xychart\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,18,21,22,23,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,22,24,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[28,29],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}};return D})();N.lexer=$;function _(){this.yy={}}return l(_,"Parser"),_.prototype=N,N.Parser=_,new _})();ZD.parser=ZD;kMe=ZD;l(QD,"isBarPlot");l(tM,"isBandAxisData");l(Km,"isLinearAxisData");Bpe=(Zm=class{constructor(e){this.parentGroup=e}getMaxDimension(e,r){if(!this.parentGroup)return{width:e.reduce((a,s)=>Math.max(s.length,a),0)*r,height:r};let i={width:0,height:0},n=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",r);for(let a of e){let s=VS(n,1,a),o=s?s.width:a.length*r,h=s?s.height:r;i.width=Math.max(i.width,o),i.height=Math.max(i.height,h)}return n.remove(),i}},l(Zm,"TextDimensionCalculatorWithFont"),Zm),Ppe=(Qm=class{constructor(e,r,i,n){this.axisConfig=e,this.title=r,this.textDimensionCalculator=i,this.axisThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){let e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let r=e.height;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let i=this.getLabelDimension(),n=.2*e.width;this.outerPadding=Math.min(i.width/2,n);let a=i.height+this.axisConfig.labelPadding*2;this.labelTextHeight=i.height,a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let i=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),n=i.height+this.axisConfig.titlePadding*2;this.titleTextHeight=i.height,n<=r&&(r-=n,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-r}calculateSpaceIfDrawnVertical(e){let r=e.width;if(this.axisConfig.showAxisLine&&r>this.axisConfig.axisLineWidth&&(r-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let i=this.getLabelDimension(),n=.2*e.height;this.outerPadding=Math.min(i.height/2,n);let a=i.width+this.axisConfig.labelPadding*2;a<=r&&(r-=a,this.showLabel=!0)}if(this.axisConfig.showTick&&r>=this.axisConfig.tickLength&&(this.showTick=!0,r-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let i=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),n=i.height+this.axisConfig.titlePadding*2;this.titleTextHeight=i.height,n<=r&&(r-=n,this.showTitle=!0)}this.boundingRect.width=e.width-r,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){let e=[];if(this.showAxisLine){let r=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${r},${this.boundingRect.y} L ${r},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(r),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){let r=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(i=>({path:`M ${r},${this.getScaleValue(i)} L ${r-this.axisConfig.tickLength},${this.getScaleValue(i)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){let e=[];if(this.showAxisLine){let r=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let r=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(i=>({path:`M ${this.getScaleValue(i)},${r} L ${this.getScaleValue(i)},${r+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){let e=[];if(this.showAxisLine){let r=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${r} L ${this.boundingRect.x+this.boundingRect.width},${r}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(r=>({text:r.toString(),x:this.getScaleValue(r),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let r=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(i=>({path:`M ${this.getScaleValue(i)},${r+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(i)},${r+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},l(Qm,"BaseAxis"),Qm),TMe=(Jm=class extends Ppe{constructor(e,r,i,n,a){super(e,n,a,r),this.categories=i,this.scale=c2().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=c2().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),ee.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}},l(Jm,"BandAxis"),Jm),EMe=(ey=class extends Ppe{constructor(e,r,i,n,a){super(e,n,a,r),this.domain=i,this.scale=Lo().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=Lo().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}},l(ey,"LinearAxis"),ey);l(JD,"getAxis");CMe=(ty=class{constructor(e,r,i,n){this.textDimensionCalculator=e,this.chartConfig=r,this.chartData=i,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){let r=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),i=Math.max(r.width,e.width),n=r.height+2*this.chartConfig.titlePadding;return r.width<=i&&r.height<=n&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=i,this.boundingRect.height=n,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}},l(ty,"ChartTitle"),ty);l(Fpe,"getChartTitleComponent");SMe=(ry=class{constructor(e,r,i,n,a){this.plotData=e,this.xAxis=r,this.yAxis=i,this.orientation=n,this.plotIndex=a}getDrawableElement(){let e=this.plotData.data.map(i=>[this.xAxis.getScaleValue(i[0]),this.yAxis.getScaleValue(i[1])]),r;return this.orientation==="horizontal"?r=Io().y(i=>i[0]).x(i=>i[1])(e):r=Io().x(i=>i[0]).y(i=>i[1])(e),r?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:r,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},l(ry,"LinePlot"),ry),_Me=(iy=class{constructor(e,r,i,n,a,s){this.barData=e,this.boundingRect=r,this.xAxis=i,this.yAxis=n,this.orientation=a,this.plotIndex=s}getDrawableElement(){let e=this.barData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]),r=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),i=r/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(n=>({x:this.boundingRect.x,y:n[0]-i,height:r,width:n[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(n=>({x:n[0]-i,y:n[1],width:r,height:this.boundingRect.y+this.boundingRect.height-n[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},l(iy,"BarPlot"),iy),AMe=(ny=class{constructor(e,r,i){this.chartConfig=e,this.chartData=r,this.chartThemeConfig=i,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(e,r){this.xAxis=e,this.yAxis=r}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");let e=[];for(let[r,i]of this.chartData.plots.entries())switch(i.type){case"line":{let n=new SMe(i,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...n.getDrawableElement())}break;case"bar":{let n=new _Me(i,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,r);e.push(...n.getDrawableElement())}break}return e}},l(ny,"BasePlot"),ny);l(zpe,"getPlotComponent");LMe=(ay=class{constructor(e,r,i,n){this.chartConfig=e,this.chartData=r,this.componentStore={title:Fpe(e,r,i,n),plot:zpe(e,r,i),xAxis:JD(r.xAxis,e.xAxis,{titleColor:i.xAxisTitleColor,labelColor:i.xAxisLabelColor,tickColor:i.xAxisTickColor,axisLineColor:i.xAxisLineColor},n),yAxis:JD(r.yAxis,e.yAxis,{titleColor:i.yAxisTitleColor,labelColor:i.yAxisLabelColor,tickColor:i.yAxisTickColor,axisLineColor:i.yAxisLineColor},n)}}calculateVerticalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,i=0,n=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:a,height:s});e-=o.width,r-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),n=o.height,r-=o.height,this.componentStore.xAxis.setAxisPosition("bottom"),o=this.componentStore.xAxis.calculateSpace({width:e,height:r}),r-=o.height,this.componentStore.yAxis.setAxisPosition("left"),o=this.componentStore.yAxis.calculateSpace({width:e,height:r}),i=o.width,e-=o.width,e>0&&(a+=e,e=0),r>0&&(s+=r,r=0),this.componentStore.plot.calculateSpace({width:a,height:s}),this.componentStore.plot.setBoundingBoxXY({x:i,y:n}),this.componentStore.xAxis.setRange([i,i+a]),this.componentStore.xAxis.setBoundingBoxXY({x:i,y:n+s}),this.componentStore.yAxis.setRange([n,n+s]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:n}),this.chartData.plots.some(h=>QD(h))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,r=this.chartConfig.height,i=0,n=0,a=0,s=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),h=this.componentStore.plot.calculateSpace({width:s,height:o});e-=h.width,r-=h.height,h=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:r}),i=h.height,r-=h.height,this.componentStore.xAxis.setAxisPosition("left"),h=this.componentStore.xAxis.calculateSpace({width:e,height:r}),e-=h.width,n=h.width,this.componentStore.yAxis.setAxisPosition("top"),h=this.componentStore.yAxis.calculateSpace({width:e,height:r}),r-=h.height,a=i+h.height,e>0&&(s+=e,e=0),r>0&&(o+=r,r=0),this.componentStore.plot.calculateSpace({width:s,height:o}),this.componentStore.plot.setBoundingBoxXY({x:n,y:a}),this.componentStore.yAxis.setRange([n,n+s]),this.componentStore.yAxis.setBoundingBoxXY({x:n,y:i}),this.componentStore.xAxis.setRange([a,a+o]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:a}),this.chartData.plots.some(u=>QD(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let r of Object.values(this.componentStore))e.push(...r.getDrawableElements());return e}},l(ay,"Orchestrator"),ay),NMe=(sy=class{static build(e,r,i,n){return new LMe(e,r,i,n).getDrawableElement()}},l(sy,"XYChartBuilder"),sy),Cx=0,Sx=nM(),_x=iM(),Wr=aM(),eM=_x.plotColorPalette.split(",").map(t=>t.trim()),AT=!1,rM=!1;l(iM,"getChartDefaultThemeConfig");l(nM,"getChartDefaultConfig");l(aM,"getChartDefaultData");l(LT,"textSanitizer");l(qpe,"setTmpSVGG");l(Upe,"setOrientation");l(jpe,"setXAxisTitle");l(sM,"setXAxisRangeData");l(Wpe,"setXAxisBand");l(Vpe,"setYAxisTitle");l(Ype,"setYAxisRangeData");l(Hpe,"setYAxisRangeFromPlotData");l(oM,"transformDataWithoutCategory");l(lM,"getPlotColorFromPalette");l(Xpe,"setLineData");l(Kpe,"setBarData");l(Zpe,"getDrawableElem");l(Qpe,"getChartThemeConfig");l(Jpe,"getChartConfig");l(ege,"getXYChartData");IMe=l(function(){cr(),Cx=0,Sx=nM(),Wr=aM(),_x=iM(),eM=_x.plotColorPalette.split(",").map(t=>t.trim()),AT=!1,rM=!1},"clear"),RMe={getDrawableElem:Zpe,clear:IMe,setAccTitle:gr,getAccTitle:fr,setDiagramTitle:Er,getDiagramTitle:vr,getAccDescription:yr,setAccDescription:mr,setOrientation:Upe,setXAxisTitle:jpe,setXAxisRangeData:sM,setXAxisBand:Wpe,setYAxisTitle:Vpe,setYAxisRangeData:Ype,setLineData:Xpe,setBarData:Kpe,setTmpSVGG:qpe,getChartThemeConfig:Qpe,getChartConfig:Jpe,getXYChartData:ege},DMe=l((t,e,r,i)=>{let n=i.db,a=n.getChartThemeConfig(),s=n.getChartConfig(),o=n.getXYChartData().plots[0].data.map(w=>w[1]);function h(w){return w==="top"?"text-before-edge":"middle"}l(h,"getDominantBaseLine");function u(w){return w==="left"?"start":w==="right"?"end":"middle"}l(u,"getTextAnchor");function d(w){return`translate(${w.x}, ${w.y}) rotate(${w.rotation||0})`}l(d,"getTextTransformation"),ee.debug(`Rendering xychart chart
`+t);let p=fn(e),g=p.append("g").attr("class","main"),f=g.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");Yr(p,s.height,s.width,!0),p.attr("viewBox",`0 0 ${s.width} ${s.height}`),f.attr("fill",a.backgroundColor),n.setTmpSVGG(p.append("g").attr("class","mermaid-tmp-group"));let m=n.getDrawableElem(),y={};function b(w){let k=g,T="";for(let[S]of w.entries()){let C=g;S>0&&y[T]&&(C=y[T]),T+=w[S],k=y[T],k||(k=y[T]=C.append("g").attr("class",w[S]))}return k}l(b,"getGroup");for(let w of m){if(w.data.length===0)continue;let k=b(w.groupTexts);switch(w.type){case"rect":if(k.selectAll("rect").data(w.data).enter().append("rect").attr("x",T=>T.x).attr("y",T=>T.y).attr("width",T=>T.width).attr("height",T=>T.height).attr("fill",T=>T.fill).attr("stroke",T=>T.strokeFill).attr("stroke-width",T=>T.strokeWidth),s.showDataLabel)if(s.chartOrientation==="horizontal"){let T=function(I,M){let{data:N,label:$}=I;return M*$.length*.7<=N.width-10};var v=T;l(T,"fitsHorizontally");let S=.7,C=w.data.map((I,M)=>({data:I,label:o[M].toString()})).filter(I=>I.data.width>0&&I.data.height>0),E=C.map(I=>{let{data:M}=I,N=M.height*.7;for(;!T(I,N)&&N>0;)N-=1;return N}),L=Math.floor(Math.min(...E));k.selectAll("text").data(C).enter().append("text").attr("x",I=>I.data.x+I.data.width-10).attr("y",I=>I.data.y+I.data.height/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("fill","black").attr("font-size",`${L}px`).text(I=>I.label)}else{let T=function(I,M,N){let{data:$,label:_}=I,D=M*_.length*.7,R=$.x+$.width/2,O=R-D/2,A=R+D/2,B=O>=$.x&&A<=$.x+$.width,P=$.y+N+M<=$.y+$.height;return B&&P};var x=T;l(T,"fitsInBar");let S=10,C=w.data.map((I,M)=>({data:I,label:o[M].toString()})).filter(I=>I.data.width>0&&I.data.height>0),E=C.map(I=>{let{data:M,label:N}=I,$=M.width/(N.length*.7);for(;!T(I,$,10)&&$>0;)$-=1;return $}),L=Math.floor(Math.min(...E));k.selectAll("text").data(C).enter().append("text").attr("x",I=>I.data.x+I.data.width/2).attr("y",I=>I.data.y+10).attr("text-anchor","middle").attr("dominant-baseline","hanging").attr("fill","black").attr("font-size",`${L}px`).text(I=>I.label)}break;case"text":k.selectAll("text").data(w.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",T=>T.fill).attr("font-size",T=>T.fontSize).attr("dominant-baseline",T=>h(T.verticalPos)).attr("text-anchor",T=>u(T.horizontalPos)).attr("transform",T=>d(T)).text(T=>T.text);break;case"path":k.selectAll("path").data(w.data).enter().append("path").attr("d",T=>T.path).attr("fill",T=>T.fill?T.fill:"none").attr("stroke",T=>T.strokeFill).attr("stroke-width",T=>T.strokeWidth);break}}},"draw"),MMe={draw:DMe},OMe={parser:kMe,db:RMe,renderer:MMe}});var nge={};Tr(nge,{diagram:()=>GMe});var cM,$Me,oy,BMe,PMe,FMe,ige,zMe,GMe,age=wt(()=>{mo();Ps();Ms();Es();ts();$a();ua();da();_n();Hr();ri();hr();lr();br();kt();cM=(function(){var t=l(function(Ve,Z,Ne,F){for(Ne=Ne||{},F=Ve.length;F--;Ne[Ve[F]]=Z);return Ne},"o"),e=[1,3],r=[1,4],i=[1,5],n=[1,6],a=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],s=[1,22],o=[2,7],h=[1,26],u=[1,27],d=[1,28],p=[1,29],g=[1,33],f=[1,34],m=[1,35],y=[1,36],b=[1,37],v=[1,38],x=[1,24],w=[1,31],k=[1,32],T=[1,30],S=[1,39],C=[1,40],E=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],L=[1,61],I=[89,90],M=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],N=[27,29],$=[1,70],_=[1,71],D=[1,72],R=[1,73],O=[1,74],A=[1,75],B=[1,76],P=[1,83],z=[1,80],q=[1,84],K=[1,85],W=[1,86],ae=[1,87],ie=[1,88],se=[1,89],oe=[1,90],Y=[1,91],Q=[1,92],j=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],H=[63,64],J=[1,101],he=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],X=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],fe=[1,110],V=[1,106],Se=[1,107],ce=[1,108],Le=[1,109],$e=[1,111],je=[1,116],qe=[1,117],Ce=[1,114],De=[1,115],ye={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:l(function(Ve,Z,Ne,F,te,ne,de){var ge=ne.length-1;switch(te){case 4:this.$=ne[ge].trim(),F.setAccTitle(this.$);break;case 5:case 6:this.$=ne[ge].trim(),F.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:F.setDirection("TB");break;case 18:F.setDirection("BT");break;case 19:F.setDirection("RL");break;case 20:F.setDirection("LR");break;case 21:F.addRequirement(ne[ge-3],ne[ge-4]);break;case 22:F.addRequirement(ne[ge-5],ne[ge-6]),F.setClass([ne[ge-5]],ne[ge-3]);break;case 23:F.setNewReqId(ne[ge-2]);break;case 24:F.setNewReqText(ne[ge-2]);break;case 25:F.setNewReqRisk(ne[ge-2]);break;case 26:F.setNewReqVerifyMethod(ne[ge-2]);break;case 29:this.$=F.RequirementType.REQUIREMENT;break;case 30:this.$=F.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=F.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=F.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=F.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=F.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=F.RiskLevel.LOW_RISK;break;case 36:this.$=F.RiskLevel.MED_RISK;break;case 37:this.$=F.RiskLevel.HIGH_RISK;break;case 38:this.$=F.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=F.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=F.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=F.VerifyType.VERIFY_TEST;break;case 42:F.addElement(ne[ge-3]);break;case 43:F.addElement(ne[ge-5]),F.setClass([ne[ge-5]],ne[ge-3]);break;case 44:F.setNewElementType(ne[ge-2]);break;case 45:F.setNewElementDocRef(ne[ge-2]);break;case 48:F.addRelationship(ne[ge-2],ne[ge],ne[ge-4]);break;case 49:F.addRelationship(ne[ge-2],ne[ge-4],ne[ge]);break;case 50:this.$=F.Relationships.CONTAINS;break;case 51:this.$=F.Relationships.COPIES;break;case 52:this.$=F.Relationships.DERIVES;break;case 53:this.$=F.Relationships.SATISFIES;break;case 54:this.$=F.Relationships.VERIFIES;break;case 55:this.$=F.Relationships.REFINES;break;case 56:this.$=F.Relationships.TRACES;break;case 57:this.$=ne[ge-2],F.defineClass(ne[ge-1],ne[ge]);break;case 58:F.setClass(ne[ge-1],ne[ge]);break;case 59:F.setClass([ne[ge-2]],ne[ge]);break;case 60:case 62:this.$=[ne[ge]];break;case 61:case 63:this.$=ne[ge-2].concat([ne[ge]]);break;case 64:this.$=ne[ge-2],F.setCssStyle(ne[ge-1],ne[ge]);break;case 65:this.$=[ne[ge]];break;case 66:ne[ge-2].push(ne[ge]),this.$=ne[ge-2];break;case 68:this.$=ne[ge-1]+ne[ge];break}},"anonymous"),table:[{3:1,4:2,6:e,9:r,11:i,13:n},{1:[3]},{3:8,4:2,5:[1,7],6:e,9:r,11:i,13:n},{5:[1,9]},{10:[1,10]},{12:[1,11]},t(a,[2,6]),{3:12,4:2,6:e,9:r,11:i,13:n},{1:[2,2]},{4:17,5:s,7:13,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:h,22:u,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:S,90:C},t(a,[2,4]),t(a,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:s,7:42,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:h,22:u,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:S,90:C},{4:17,5:s,7:43,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:h,22:u,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:S,90:C},{4:17,5:s,7:44,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:h,22:u,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:S,90:C},{4:17,5:s,7:45,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:h,22:u,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:S,90:C},{4:17,5:s,7:46,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:h,22:u,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:S,90:C},{4:17,5:s,7:47,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:h,22:u,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:S,90:C},{4:17,5:s,7:48,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:h,22:u,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:S,90:C},{4:17,5:s,7:49,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:h,22:u,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:S,90:C},{4:17,5:s,7:50,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:h,22:u,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:y,45:b,46:v,54:x,72:w,74:k,77:T,89:S,90:C},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},t(E,[2,17]),t(E,[2,18]),t(E,[2,19]),t(E,[2,20]),{30:60,33:62,75:L,89:S,90:C},{30:63,33:62,75:L,89:S,90:C},{30:64,33:62,75:L,89:S,90:C},t(I,[2,29]),t(I,[2,30]),t(I,[2,31]),t(I,[2,32]),t(I,[2,33]),t(I,[2,34]),t(M,[2,81]),t(M,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},t(N,[2,79]),t(N,[2,80]),{27:[1,67],29:[1,68]},t(N,[2,85]),t(N,[2,86]),{62:69,65:$,66:_,67:D,68:R,69:O,70:A,71:B},{62:77,65:$,66:_,67:D,68:R,69:O,70:A,71:B},{30:78,33:62,75:L,89:S,90:C},{73:79,75:P,76:z,78:81,79:82,80:q,81:K,82:W,83:ae,84:ie,85:se,86:oe,87:Y,88:Q},t(j,[2,60]),t(j,[2,62]),{73:93,75:P,76:z,78:81,79:82,80:q,81:K,82:W,83:ae,84:ie,85:se,86:oe,87:Y,88:Q},{30:94,33:62,75:L,76:z,89:S,90:C},{5:[1,95]},{30:96,33:62,75:L,89:S,90:C},{5:[1,97]},{30:98,33:62,75:L,89:S,90:C},{63:[1,99]},t(H,[2,50]),t(H,[2,51]),t(H,[2,52]),t(H,[2,53]),t(H,[2,54]),t(H,[2,55]),t(H,[2,56]),{64:[1,100]},t(E,[2,59],{76:z}),t(E,[2,64],{76:J}),{33:103,75:[1,102],89:S,90:C},t(he,[2,65],{79:104,75:P,80:q,81:K,82:W,83:ae,84:ie,85:se,86:oe,87:Y,88:Q}),t(X,[2,67]),t(X,[2,69]),t(X,[2,70]),t(X,[2,71]),t(X,[2,72]),t(X,[2,73]),t(X,[2,74]),t(X,[2,75]),t(X,[2,76]),t(X,[2,77]),t(X,[2,78]),t(E,[2,57],{76:J}),t(E,[2,58],{76:z}),{5:fe,28:105,31:V,34:Se,36:ce,38:Le,40:$e},{27:[1,112],76:z},{5:je,40:qe,56:113,57:Ce,59:De},{27:[1,118],76:z},{33:119,89:S,90:C},{33:120,89:S,90:C},{75:P,78:121,79:82,80:q,81:K,82:W,83:ae,84:ie,85:se,86:oe,87:Y,88:Q},t(j,[2,61]),t(j,[2,63]),t(X,[2,68]),t(E,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:fe,28:126,31:V,34:Se,36:ce,38:Le,40:$e},t(E,[2,28]),{5:[1,127]},t(E,[2,42]),{32:[1,128]},{32:[1,129]},{5:je,40:qe,56:130,57:Ce,59:De},t(E,[2,47]),{5:[1,131]},t(E,[2,48]),t(E,[2,49]),t(he,[2,66],{79:104,75:P,80:q,81:K,82:W,83:ae,84:ie,85:se,86:oe,87:Y,88:Q}),{33:132,89:S,90:C},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},t(E,[2,27]),{5:fe,28:145,31:V,34:Se,36:ce,38:Le,40:$e},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},t(E,[2,46]),{5:je,40:qe,56:152,57:Ce,59:De},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},t(E,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},t(E,[2,43]),{5:fe,28:159,31:V,34:Se,36:ce,38:Le,40:$e},{5:fe,28:160,31:V,34:Se,36:ce,38:Le,40:$e},{5:fe,28:161,31:V,34:Se,36:ce,38:Le,40:$e},{5:fe,28:162,31:V,34:Se,36:ce,38:Le,40:$e},{5:je,40:qe,56:163,57:Ce,59:De},{5:je,40:qe,56:164,57:Ce,59:De},t(E,[2,23]),t(E,[2,24]),t(E,[2,25]),t(E,[2,26]),t(E,[2,44]),t(E,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:l(function(Ve,Z){if(Z.recoverable)this.trace(Ve);else{var Ne=new Error(Ve);throw Ne.hash=Z,Ne}},"parseError"),parse:l(function(Ve){var Z=this,Ne=[0],F=[],te=[null],ne=[],de=this.table,ge="",xe=0,Ee=0,Te=0,Fe=2,We=1,it=ne.slice.call(arguments,1),Be=Object.create(this.lexer),Ye={yy:{}};for(var Ge in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ge)&&(Ye.yy[Ge]=this.yy[Ge]);Be.setInput(Ve,Ye.yy),Ye.yy.lexer=Be,Ye.yy.parser=this,typeof Be.yylloc>"u"&&(Be.yylloc={});var ze=Be.yylloc;ne.push(ze);var Xe=Be.options&&Be.options.ranges;typeof Ye.yy.parseError=="function"?this.parseError=Ye.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function xt(Ut){Ne.length=Ne.length-2*Ut,te.length=te.length-Ut,ne.length=ne.length-Ut}l(xt,"popStack");function st(){var Ut;return Ut=F.pop()||Be.lex()||We,typeof Ut!="number"&&(Ut instanceof Array&&(F=Ut,Ut=F.pop()),Ut=Z.symbols_[Ut]||Ut),Ut}l(st,"lex");for(var at,Tt,et,ct,pt,Qe,Ze={},_t,Bt,Dt,Vr;;){if(et=Ne[Ne.length-1],this.defaultActions[et]?ct=this.defaultActions[et]:((at===null||typeof at>"u")&&(at=st()),ct=de[et]&&de[et][at]),typeof ct>"u"||!ct.length||!ct[0]){var Jt="";Vr=[];for(_t in de[et])this.terminals_[_t]&&_t>Fe&&Vr.push("'"+this.terminals_[_t]+"'");Be.showPosition?Jt="Parse error on line "+(xe+1)+`:
`+Be.showPosition()+`
Expecting `+Vr.join(", ")+", got '"+(this.terminals_[at]||at)+"'":Jt="Parse error on line "+(xe+1)+": Unexpected "+(at==We?"end of input":"'"+(this.terminals_[at]||at)+"'"),this.parseError(Jt,{text:Be.match,token:this.terminals_[at]||at,line:Be.yylineno,loc:ze,expected:Vr})}if(ct[0]instanceof Array&&ct.length>1)throw new Error("Parse Error: multiple actions possible at state: "+et+", token: "+at);switch(ct[0]){case 1:Ne.push(at),te.push(Be.yytext),ne.push(Be.yylloc),Ne.push(ct[1]),at=null,Tt?(at=Tt,Tt=null):(Ee=Be.yyleng,ge=Be.yytext,xe=Be.yylineno,ze=Be.yylloc,Te>0&&Te--);break;case 2:if(Bt=this.productions_[ct[1]][1],Ze.$=te[te.length-Bt],Ze._$={first_line:ne[ne.length-(Bt||1)].first_line,last_line:ne[ne.length-1].last_line,first_column:ne[ne.length-(Bt||1)].first_column,last_column:ne[ne.length-1].last_column},Xe&&(Ze._$.range=[ne[ne.length-(Bt||1)].range[0],ne[ne.length-1].range[1]]),Qe=this.performAction.apply(Ze,[ge,Ee,xe,Ye.yy,ct[1],te,ne].concat(it)),typeof Qe<"u")return Qe;Bt&&(Ne=Ne.slice(0,-1*Bt*2),te=te.slice(0,-1*Bt),ne=ne.slice(0,-1*Bt)),Ne.push(this.productions_[ct[1]][0]),te.push(Ze.$),ne.push(Ze._$),Dt=de[Ne[Ne.length-2]][Ne[Ne.length-1]],Ne.push(Dt);break;case 3:return!0}}return!0},"parse")},Pe=(function(){var Ve={EOF:1,parseError:l(function(Z,Ne){if(this.yy.parser)this.yy.parser.parseError(Z,Ne);else throw new Error(Z)},"parseError"),setInput:l(function(Z,Ne){return this.yy=Ne||this.yy||{},this._input=Z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var Z=this._input[0];this.yytext+=Z,this.yyleng++,this.offset++,this.match+=Z,this.matched+=Z;var Ne=Z.match(/(?:\r\n?|\n).*/g);return Ne?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Z},"input"),unput:l(function(Z){var Ne=Z.length,F=Z.split(/(?:\r\n?|\n)/g);this._input=Z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ne),this.offset-=Ne;var te=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),F.length-1&&(this.yylineno-=F.length-1);var ne=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:F?(F.length===te.length?this.yylloc.first_column:0)+te[te.length-F.length].length-F[0].length:this.yylloc.first_column-Ne},this.options.ranges&&(this.yylloc.range=[ne[0],ne[0]+this.yyleng-Ne]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(Z){this.unput(this.match.slice(Z))},"less"),pastInput:l(function(){var Z=this.matched.substr(0,this.matched.length-this.match.length);return(Z.length>20?"...":"")+Z.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var Z=this.match;return Z.length<20&&(Z+=this._input.substr(0,20-Z.length)),(Z.substr(0,20)+(Z.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var Z=this.pastInput(),Ne=new Array(Z.length+1).join("-");return Z+this.upcomingInput()+`
`+Ne+"^"},"showPosition"),test_match:l(function(Z,Ne){var F,te,ne;if(this.options.backtrack_lexer&&(ne={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ne.yylloc.range=this.yylloc.range.slice(0))),te=Z[0].match(/(?:\r\n?|\n).*/g),te&&(this.yylineno+=te.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:te?te[te.length-1].length-te[te.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Z[0].length},this.yytext+=Z[0],this.match+=Z[0],this.matches=Z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Z[0].length),this.matched+=Z[0],F=this.performAction.call(this,this.yy,this,Ne,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),F)return F;if(this._backtrack){for(var de in ne)this[de]=ne[de];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Z,Ne,F,te;this._more||(this.yytext="",this.match="");for(var ne=this._currentRules(),de=0;de<ne.length;de++)if(F=this._input.match(this.rules[ne[de]]),F&&(!Ne||F[0].length>Ne[0].length)){if(Ne=F,te=de,this.options.backtrack_lexer){if(Z=this.test_match(F,ne[de]),Z!==!1)return Z;if(this._backtrack){Ne=!1;continue}else return!1}else if(!this.options.flex)break}return Ne?(Z=this.test_match(Ne,ne[te]),Z!==!1?Z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var Z=this.next();return Z||this.lex()},"lex"),begin:l(function(Z){this.conditionStack.push(Z)},"begin"),popState:l(function(){var Z=this.conditionStack.length-1;return Z>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(Z){return Z=this.conditionStack.length-1-Math.abs(Z||0),Z>=0?this.conditionStack[Z]:"INITIAL"},"topState"),pushState:l(function(Z){this.begin(Z)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(Z,Ne,F,te){var ne=te;switch(F){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;case 60:return this.begin("style"),74;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return Ne.yytext=Ne.yytext.trim(),89;case 68:return 75;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return Ve})();ye.lexer=Pe;function ue(){this.yy={}}return l(ue,"Parser"),ue.prototype=ye,ye.Parser=ue,new ue})();cM.parser=cM;$Me=cM,BMe=(oy=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=gr,this.getAccTitle=fr,this.setAccDescription=mr,this.getAccDescription=yr,this.setDiagramTitle=Er,this.getDiagramTitle=vr,this.getConfig=l(()=>ve().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}getDirection(){return this.direction}setDirection(e){this.direction=e}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(e,r){return this.requirements.has(e)||this.requirements.set(e,{name:e,type:r,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]}),this.resetLatestRequirement(),this.requirements.get(e)}getRequirements(){return this.requirements}setNewReqId(e){this.latestRequirement!==void 0&&(this.latestRequirement.requirementId=e)}setNewReqText(e){this.latestRequirement!==void 0&&(this.latestRequirement.text=e)}setNewReqRisk(e){this.latestRequirement!==void 0&&(this.latestRequirement.risk=e)}setNewReqVerifyMethod(e){this.latestRequirement!==void 0&&(this.latestRequirement.verifyMethod=e)}addElement(e){return this.elements.has(e)||(this.elements.set(e,{name:e,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),ee.info("Added new element: ",e)),this.resetLatestElement(),this.elements.get(e)}getElements(){return this.elements}setNewElementType(e){this.latestElement!==void 0&&(this.latestElement.type=e)}setNewElementDocRef(e){this.latestElement!==void 0&&(this.latestElement.docRef=e)}addRelationship(e,r,i){this.relations.push({type:e,src:r,dst:i})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,cr()}setCssStyle(e,r){for(let i of e){let n=this.requirements.get(i)??this.elements.get(i);if(!r||!n)return;for(let a of r)a.includes(",")?n.cssStyles.push(...a.split(",")):n.cssStyles.push(a)}}setClass(e,r){var i;for(let n of e){let a=this.requirements.get(n)??this.elements.get(n);if(a)for(let s of r){a.classes.push(s);let o=(i=this.classes.get(s))==null?void 0:i.styles;o&&a.cssStyles.push(...o)}}}defineClass(e,r){for(let i of e){let n=this.classes.get(i);n===void 0&&(n={id:i,styles:[],textStyles:[]},this.classes.set(i,n)),r&&r.forEach(function(a){if(/color/.exec(a)){let s=a.replace("fill","bgFill");n.textStyles.push(s)}n.styles.push(a)}),this.requirements.forEach(a=>{a.classes.includes(i)&&a.cssStyles.push(...r.flatMap(s=>s.split(",")))}),this.elements.forEach(a=>{a.classes.includes(i)&&a.cssStyles.push(...r.flatMap(s=>s.split(",")))})}}getClasses(){return this.classes}getData(){var n,a,s,o;let e=ve(),r=[],i=[];for(let h of this.requirements.values()){let u=h;u.id=h.name,u.cssStyles=h.cssStyles,u.cssClasses=h.classes.join(" "),u.shape="requirementBox",u.look=e.look,r.push(u)}for(let h of this.elements.values()){let u=h;u.shape="requirementBox",u.look=e.look,u.id=h.name,u.cssStyles=h.cssStyles,u.cssClasses=h.classes.join(" "),r.push(u)}for(let h of this.relations){let u=0,d=h.type===this.Relationships.CONTAINS,p={id:`${h.src}-${h.dst}-${u}`,start:((n=this.requirements.get(h.src))==null?void 0:n.name)??((a=this.elements.get(h.src))==null?void 0:a.name),end:((s=this.requirements.get(h.dst))==null?void 0:s.name)??((o=this.elements.get(h.dst))==null?void 0:o.name),label:`&lt;&lt;${h.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",d?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:d?"normal":"dashed",arrowTypeStart:d?"requirement_contains":"",arrowTypeEnd:d?"":"requirement_arrow",look:e.look};i.push(p),u++}return{nodes:r,edges:i,other:{},config:e,direction:this.getDirection()}}},l(oy,"RequirementDB"),oy),PMe=l(t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }
  .divider {
    stroke: ${t.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }
  .labelBkg {
    background-color: ${t.edgeLabelBackground};
  }

`,"getStyles"),FMe=PMe,ige={};Fn(ige,{draw:()=>zMe});zMe=l(async function(t,e,r,i){ee.info("REF0:"),ee.info("Drawing requirement diagram (unified)",e);let{securityLevel:n,state:a,layout:s}=ve(),o=i.db.getData(),h=Bs(e,n);o.type=i.type,o.layoutAlgorithm=il(s),o.nodeSpacing=(a==null?void 0:a.nodeSpacing)??50,o.rankSpacing=(a==null?void 0:a.rankSpacing)??50,o.markers=["requirement_contains","requirement_arrow"],o.diagramId=e,await Ds(o,h),$t.insertTitle(h,"requirementDiagramTitleText",(a==null?void 0:a.titleTopMargin)??25,i.db.getDiagramTitle()),qa(h,8,"requirementDiagram",(a==null?void 0:a.useMaxWidth)??!0)},"draw"),GMe={parser:$Me,get db(){return new BMe},renderer:ige,styles:FMe}});var vge={};Tr(vge,{diagram:()=>_Oe});async function dge(t,e){Je.bumpVerticalPos(10);let{startx:r,stopx:i,message:n}=e,a=Ke.splitBreaks(n).length,s=li(n),o=s?await up(n,ve()):$t.calculateTextDimensions(n,t0(Ae));if(!s){let p=o.height/a;e.height+=p,Je.bumpVerticalPos(p)}let h,u=o.height-10,d=o.width;if(r===i){h=Je.getVerticalPos()+u,Ae.rightAngles||(u+=Ae.boxMargin,h=Je.getVerticalPos()+u),u+=30;let p=Ke.getMax(d/2,Ae.width/2);Je.insert(r-p,Je.getVerticalPos()-10+u,i+p,Je.getVerticalPos()+30+u)}else u+=Ae.boxMargin,h=Je.getVerticalPos()+u,Je.insert(r,h-10,i,h);return Je.bumpVerticalPos(u),e.height+=u,e.stopy=e.starty+e.height,Je.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),h}function xo(t,e,r,i,n){Je.bumpVerticalPos(r);let a=i;if(e.id&&e.message&&t[e.id]){let s=t[e.id].width,o=t0(Ae);e.message=$t.wrapLabel(`[${e.message}]`,s-2*Ae.wrapPadding,o),e.width=s,e.wrap=!0;let h=$t.calculateTextDimensions(e.message,o),u=Ke.getMax(h.height,Ae.labelBoxHeight);a=i+u,ee.debug(`${u} - ${e.message}`)}n(e),Je.bumpVerticalPos(a)}function fge(t,e,r,i,n,a,s){function o(d,p){d.x<n.get(t.from).x?(Je.insert(e.stopx-p,e.starty,e.startx,e.stopy+d.height/2+Ae.noteMargin),e.stopx=e.stopx+p):(Je.insert(e.startx,e.starty,e.stopx+p,e.stopy+d.height/2+Ae.noteMargin),e.stopx=e.stopx-p)}l(o,"receiverAdjustment");function h(d,p){d.x<n.get(t.to).x?(Je.insert(e.startx-p,e.starty,e.stopx,e.stopy+d.height/2+Ae.noteMargin),e.startx=e.startx+p):(Je.insert(e.stopx,e.starty,e.startx+p,e.stopy+d.height/2+Ae.noteMargin),e.startx=e.startx-p)}l(h,"senderAdjustment");let u=[NT.ACTOR,NT.CONTROL,NT.ENTITY,NT.DATABASE];if(a.get(t.to)==i){let d=n.get(t.to),p=u.includes(d.type)?e0/2+3:d.width/2+3;o(d,p),d.starty=r-d.height/2,Je.bumpVerticalPos(d.height/2)}else if(s.get(t.from)==i){let d=n.get(t.from);if(Ae.mirrorActors){let p=u.includes(d.type)?e0/2:d.width/2;h(d,p)}d.stopy=r-d.height/2,Je.bumpVerticalPos(d.height/2)}else if(s.get(t.to)==i){let d=n.get(t.to);if(Ae.mirrorActors){let p=u.includes(d.type)?e0/2+3:d.width/2+3;o(d,p)}d.stopy=r-d.height/2,Je.bumpVerticalPos(d.height/2)}}async function mge(t,e,r){let i={};for(let n of e)if(t.get(n.to)&&t.get(n.from)){let a=t.get(n.to);if(n.placement===r.db.PLACEMENT.LEFTOF&&!a.prevActor||n.placement===r.db.PLACEMENT.RIGHTOF&&!a.nextActor)continue;let s=n.placement!==void 0,o=!s,h=s?ly(Ae):t0(Ae),u=n.wrap?$t.wrapLabel(n.message,Ae.width-2*Ae.wrapPadding,h):n.message,d=(li(u)?await up(n.message,ve()):$t.calculateTextDimensions(u,h)).width+2*Ae.wrapPadding;o&&n.from===a.nextActor?i[n.to]=Ke.getMax(i[n.to]||0,d):o&&n.from===a.prevActor?i[n.from]=Ke.getMax(i[n.from]||0,d):o&&n.from===n.to?(i[n.from]=Ke.getMax(i[n.from]||0,d/2),i[n.to]=Ke.getMax(i[n.to]||0,d/2)):n.placement===r.db.PLACEMENT.RIGHTOF?i[n.from]=Ke.getMax(i[n.from]||0,d):n.placement===r.db.PLACEMENT.LEFTOF?i[a.prevActor]=Ke.getMax(i[a.prevActor]||0,d):n.placement===r.db.PLACEMENT.OVER&&(a.prevActor&&(i[a.prevActor]=Ke.getMax(i[a.prevActor]||0,d/2)),a.nextActor&&(i[n.from]=Ke.getMax(i[n.from]||0,d/2)))}return ee.debug("maxMessageWidthPerActor:",i),i}async function yge(t,e,r){let i=0;for(let a of t.keys()){let s=t.get(a);s.wrap&&(s.description=$t.wrapLabel(s.description,Ae.width-2*Ae.wrapPadding,uM(Ae)));let o=li(s.description)?await up(s.description,ve()):$t.calculateTextDimensions(s.description,uM(Ae));s.width=s.wrap?Ae.width:Ke.getMax(Ae.width,o.width+2*Ae.wrapPadding),s.height=s.wrap?Ke.getMax(o.height,Ae.height):Ae.height,i=Ke.getMax(i,s.height)}for(let a in e){let s=t.get(a);if(!s)continue;let o=t.get(s.nextActor);if(!o){let u=e[a]+Ae.actorMargin-s.width/2;s.margin=Ke.getMax(u,Ae.actorMargin);continue}let h=e[a]+Ae.actorMargin-s.width/2-o.width/2;s.margin=Ke.getMax(h,Ae.actorMargin)}let n=0;return r.forEach(a=>{let s=t0(Ae),o=a.actorKeys.reduce((p,g)=>p+=t.get(g).width+(t.get(g).margin||0),0),h=Ae.boxMargin*8;o+=h,o-=2*Ae.boxTextMargin,a.wrap&&(a.name=$t.wrapLabel(a.name,o-2*Ae.wrapPadding,s));let u=$t.calculateTextDimensions(a.name,s);n=Ke.getMax(u.height,n);let d=Ke.getMax(o,u.width+2*Ae.wrapPadding);if(a.margin=Ae.boxTextMargin,o<d){let p=(d-o)/2;a.margin+=p}}),r.forEach(a=>a.textMaxHeight=n),Ke.getMax(i,Ae.height)}var hM,qMe,UMe,jMe,WMe,NT,cy,VMe,YMe,HMe,oge,e0,Kh,Zh,RT,Xh,Ax,XMe,DT,IT,hy,lge,kr,cge,KMe,ZMe,QMe,JMe,eOe,tOe,rOe,iOe,nOe,aOe,sOe,oOe,lOe,hge,cOe,hOe,uOe,dOe,pOe,gOe,fOe,uge,mOe,bc,yOe,ji,Ae,Je,vOe,t0,ly,uM,bOe,xOe,dM,pge,gge,MT,sge,wOe,kOe,TOe,EOe,COe,SOe,_Oe,bge=wt(()=>{AD();fw();K2();Hr();ri();hr();lr();br();kt();hM=(function(){var t=l(function(Q,j,H,J){for(H=H||{},J=Q.length;J--;H[Q[J]]=j);return H},"o"),e=[1,2],r=[1,3],i=[1,4],n=[2,4],a=[1,9],s=[1,11],o=[1,13],h=[1,14],u=[1,16],d=[1,17],p=[1,18],g=[1,24],f=[1,25],m=[1,26],y=[1,27],b=[1,28],v=[1,29],x=[1,30],w=[1,31],k=[1,32],T=[1,33],S=[1,34],C=[1,35],E=[1,36],L=[1,37],I=[1,38],M=[1,39],N=[1,41],$=[1,42],_=[1,43],D=[1,44],R=[1,45],O=[1,46],A=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,55,60,61,62,63,71],B=[2,71],P=[4,5,16,50,52,53],z=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],q=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,55,60,61,62,63,71],K=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,55,60,61,62,63,71],W=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,55,60,61,62,63,71],ae=[69,70,71],ie=[1,127],se={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,actor_with_config:54,note:55,placement:56,text2:57,over:58,actor_pair:59,links:60,link:61,properties:62,details:63,spaceList:64,",":65,left_of:66,right_of:67,signaltype:68,"+":69,"-":70,ACTOR:71,config_object:72,CONFIG_START:73,CONFIG_CONTENT:74,CONFIG_END:75,SOLID_OPEN_ARROW:76,DOTTED_OPEN_ARROW:77,SOLID_ARROW:78,BIDIRECTIONAL_SOLID_ARROW:79,DOTTED_ARROW:80,BIDIRECTIONAL_DOTTED_ARROW:81,SOLID_CROSS:82,DOTTED_CROSS:83,SOLID_POINT:84,DOTTED_POINT:85,TXT:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",55:"note",58:"over",60:"links",61:"link",62:"properties",63:"details",65:",",66:"left_of",67:"right_of",69:"+",70:"-",71:"ACTOR",73:"CONFIG_START",74:"CONFIG_CONTENT",75:"CONFIG_END",76:"SOLID_OPEN_ARROW",77:"DOTTED_OPEN_ARROW",78:"SOLID_ARROW",79:"BIDIRECTIONAL_SOLID_ARROW",80:"DOTTED_ARROW",81:"BIDIRECTIONAL_DOTTED_ARROW",82:"SOLID_CROSS",83:"DOTTED_CROSS",84:"SOLID_POINT",85:"DOTTED_POINT",86:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[64,2],[64,1],[59,3],[59,1],[56,1],[56,1],[17,5],[17,5],[17,4],[54,2],[72,3],[22,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[57,1]],performAction:l(function(Q,j,H,J,he,X,fe){var V=X.length-1;switch(he){case 3:return J.apply(X[V]),X[V];case 4:case 9:this.$=[];break;case 5:case 10:X[V-1].push(X[V]),this.$=X[V-1];break;case 6:case 7:case 11:case 12:this.$=X[V];break;case 8:case 13:this.$=[];break;case 15:X[V].type="createParticipant",this.$=X[V];break;case 16:X[V-1].unshift({type:"boxStart",boxData:J.parseBoxData(X[V-2])}),X[V-1].push({type:"boxEnd",boxText:X[V-2]}),this.$=X[V-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(X[V-2]),sequenceIndexStep:Number(X[V-1]),sequenceVisible:!0,signalType:J.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(X[V-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:J.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:J.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:J.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:J.LINETYPE.ACTIVE_START,actor:X[V-1].actor};break;case 23:this.$={type:"activeEnd",signalType:J.LINETYPE.ACTIVE_END,actor:X[V-1].actor};break;case 29:J.setDiagramTitle(X[V].substring(6)),this.$=X[V].substring(6);break;case 30:J.setDiagramTitle(X[V].substring(7)),this.$=X[V].substring(7);break;case 31:this.$=X[V].trim(),J.setAccTitle(this.$);break;case 32:case 33:this.$=X[V].trim(),J.setAccDescription(this.$);break;case 34:X[V-1].unshift({type:"loopStart",loopText:J.parseMessage(X[V-2]),signalType:J.LINETYPE.LOOP_START}),X[V-1].push({type:"loopEnd",loopText:X[V-2],signalType:J.LINETYPE.LOOP_END}),this.$=X[V-1];break;case 35:X[V-1].unshift({type:"rectStart",color:J.parseMessage(X[V-2]),signalType:J.LINETYPE.RECT_START}),X[V-1].push({type:"rectEnd",color:J.parseMessage(X[V-2]),signalType:J.LINETYPE.RECT_END}),this.$=X[V-1];break;case 36:X[V-1].unshift({type:"optStart",optText:J.parseMessage(X[V-2]),signalType:J.LINETYPE.OPT_START}),X[V-1].push({type:"optEnd",optText:J.parseMessage(X[V-2]),signalType:J.LINETYPE.OPT_END}),this.$=X[V-1];break;case 37:X[V-1].unshift({type:"altStart",altText:J.parseMessage(X[V-2]),signalType:J.LINETYPE.ALT_START}),X[V-1].push({type:"altEnd",signalType:J.LINETYPE.ALT_END}),this.$=X[V-1];break;case 38:X[V-1].unshift({type:"parStart",parText:J.parseMessage(X[V-2]),signalType:J.LINETYPE.PAR_START}),X[V-1].push({type:"parEnd",signalType:J.LINETYPE.PAR_END}),this.$=X[V-1];break;case 39:X[V-1].unshift({type:"parStart",parText:J.parseMessage(X[V-2]),signalType:J.LINETYPE.PAR_OVER_START}),X[V-1].push({type:"parEnd",signalType:J.LINETYPE.PAR_END}),this.$=X[V-1];break;case 40:X[V-1].unshift({type:"criticalStart",criticalText:J.parseMessage(X[V-2]),signalType:J.LINETYPE.CRITICAL_START}),X[V-1].push({type:"criticalEnd",signalType:J.LINETYPE.CRITICAL_END}),this.$=X[V-1];break;case 41:X[V-1].unshift({type:"breakStart",breakText:J.parseMessage(X[V-2]),signalType:J.LINETYPE.BREAK_START}),X[V-1].push({type:"breakEnd",optText:J.parseMessage(X[V-2]),signalType:J.LINETYPE.BREAK_END}),this.$=X[V-1];break;case 43:this.$=X[V-3].concat([{type:"option",optionText:J.parseMessage(X[V-1]),signalType:J.LINETYPE.CRITICAL_OPTION},X[V]]);break;case 45:this.$=X[V-3].concat([{type:"and",parText:J.parseMessage(X[V-1]),signalType:J.LINETYPE.PAR_AND},X[V]]);break;case 47:this.$=X[V-3].concat([{type:"else",altText:J.parseMessage(X[V-1]),signalType:J.LINETYPE.ALT_ELSE},X[V]]);break;case 48:X[V-3].draw="participant",X[V-3].type="addParticipant",X[V-3].description=J.parseMessage(X[V-1]),this.$=X[V-3];break;case 49:X[V-1].draw="participant",X[V-1].type="addParticipant",this.$=X[V-1];break;case 50:X[V-3].draw="actor",X[V-3].type="addParticipant",X[V-3].description=J.parseMessage(X[V-1]),this.$=X[V-3];break;case 51:X[V-1].draw="actor",X[V-1].type="addParticipant",this.$=X[V-1];break;case 52:X[V-1].type="destroyParticipant",this.$=X[V-1];break;case 53:X[V-1].draw="participant",X[V-1].type="addParticipant",this.$=X[V-1];break;case 54:this.$=[X[V-1],{type:"addNote",placement:X[V-2],actor:X[V-1].actor,text:X[V]}];break;case 55:X[V-2]=[].concat(X[V-1],X[V-1]).slice(0,2),X[V-2][0]=X[V-2][0].actor,X[V-2][1]=X[V-2][1].actor,this.$=[X[V-1],{type:"addNote",placement:J.PLACEMENT.OVER,actor:X[V-2].slice(0,2),text:X[V]}];break;case 56:this.$=[X[V-1],{type:"addLinks",actor:X[V-1].actor,text:X[V]}];break;case 57:this.$=[X[V-1],{type:"addALink",actor:X[V-1].actor,text:X[V]}];break;case 58:this.$=[X[V-1],{type:"addProperties",actor:X[V-1].actor,text:X[V]}];break;case 59:this.$=[X[V-1],{type:"addDetails",actor:X[V-1].actor,text:X[V]}];break;case 62:this.$=[X[V-2],X[V]];break;case 63:this.$=X[V];break;case 64:this.$=J.PLACEMENT.LEFTOF;break;case 65:this.$=J.PLACEMENT.RIGHTOF;break;case 66:this.$=[X[V-4],X[V-1],{type:"addMessage",from:X[V-4].actor,to:X[V-1].actor,signalType:X[V-3],msg:X[V],activate:!0},{type:"activeStart",signalType:J.LINETYPE.ACTIVE_START,actor:X[V-1].actor}];break;case 67:this.$=[X[V-4],X[V-1],{type:"addMessage",from:X[V-4].actor,to:X[V-1].actor,signalType:X[V-3],msg:X[V]},{type:"activeEnd",signalType:J.LINETYPE.ACTIVE_END,actor:X[V-4].actor}];break;case 68:this.$=[X[V-3],X[V-1],{type:"addMessage",from:X[V-3].actor,to:X[V-1].actor,signalType:X[V-2],msg:X[V]}];break;case 69:this.$={type:"addParticipant",actor:X[V-1],config:X[V]};break;case 70:this.$=X[V-1].trim();break;case 71:this.$={type:"addParticipant",actor:X[V]};break;case 72:this.$=J.LINETYPE.SOLID_OPEN;break;case 73:this.$=J.LINETYPE.DOTTED_OPEN;break;case 74:this.$=J.LINETYPE.SOLID;break;case 75:this.$=J.LINETYPE.BIDIRECTIONAL_SOLID;break;case 76:this.$=J.LINETYPE.DOTTED;break;case 77:this.$=J.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 78:this.$=J.LINETYPE.SOLID_CROSS;break;case 79:this.$=J.LINETYPE.DOTTED_CROSS;break;case 80:this.$=J.LINETYPE.SOLID_POINT;break;case 81:this.$=J.LINETYPE.DOTTED_POINT;break;case 82:this.$=J.parseMessage(X[V].trim().substring(1));break}},"anonymous"),table:[{3:1,4:e,5:r,6:i},{1:[3]},{3:5,4:e,5:r,6:i},{3:6,4:e,5:r,6:i},t([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],n,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:o,14:h,17:15,18:u,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:S,44:C,46:E,50:L,52:I,53:M,55:N,60:$,61:_,62:D,63:R,71:O},t(A,[2,5]),{9:47,12:12,13:o,14:h,17:15,18:u,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:S,44:C,46:E,50:L,52:I,53:M,55:N,60:$,61:_,62:D,63:R,71:O},t(A,[2,7]),t(A,[2,8]),t(A,[2,14]),{12:48,50:L,52:I,53:M},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,71:O},{22:55,71:O},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},t(A,[2,29]),t(A,[2,30]),{32:[1,61]},{34:[1,62]},t(A,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,54:72,71:[1,73]},{22:74,71:O},{22:75,71:O},{68:76,76:[1,77],77:[1,78],78:[1,79],79:[1,80],80:[1,81],81:[1,82],82:[1,83],83:[1,84],84:[1,85],85:[1,86]},{56:87,58:[1,88],66:[1,89],67:[1,90]},{22:91,71:O},{22:92,71:O},{22:93,71:O},{22:94,71:O},t([5,51,65,76,77,78,79,80,81,82,83,84,85,86],B),t(A,[2,6]),t(A,[2,15]),t(P,[2,9],{10:95}),t(A,[2,17]),{5:[1,97],19:[1,96]},{5:[1,98]},t(A,[2,21]),{5:[1,99]},{5:[1,100]},t(A,[2,24]),t(A,[2,25]),t(A,[2,26]),t(A,[2,27]),t(A,[2,28]),t(A,[2,31]),t(A,[2,32]),t(z,n,{7:101}),t(z,n,{7:102}),t(z,n,{7:103}),t(q,n,{40:104,7:105}),t(K,n,{42:106,7:107}),t(K,n,{7:107,42:108}),t(W,n,{45:109,7:110}),t(z,n,{7:111}),{5:[1,113],51:[1,112]},{5:[1,114]},t([5,51],B,{72:115,73:[1,116]}),{5:[1,118],51:[1,117]},{5:[1,119]},{22:122,69:[1,120],70:[1,121],71:O},t(ae,[2,72]),t(ae,[2,73]),t(ae,[2,74]),t(ae,[2,75]),t(ae,[2,76]),t(ae,[2,77]),t(ae,[2,78]),t(ae,[2,79]),t(ae,[2,80]),t(ae,[2,81]),{22:123,71:O},{22:125,59:124,71:O},{71:[2,64]},{71:[2,65]},{57:126,86:ie},{57:128,86:ie},{57:129,86:ie},{57:130,86:ie},{4:[1,133],5:[1,135],11:132,12:134,16:[1,131],50:L,52:I,53:M},{5:[1,136]},t(A,[2,19]),t(A,[2,20]),t(A,[2,22]),t(A,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:o,14:h,16:[1,137],17:15,18:u,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:S,44:C,46:E,50:L,52:I,53:M,55:N,60:$,61:_,62:D,63:R,71:O},{4:a,5:s,8:8,9:10,12:12,13:o,14:h,16:[1,138],17:15,18:u,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:S,44:C,46:E,50:L,52:I,53:M,55:N,60:$,61:_,62:D,63:R,71:O},{4:a,5:s,8:8,9:10,12:12,13:o,14:h,16:[1,139],17:15,18:u,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:S,44:C,46:E,50:L,52:I,53:M,55:N,60:$,61:_,62:D,63:R,71:O},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:o,14:h,16:[2,46],17:15,18:u,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:S,44:C,46:E,49:[1,141],50:L,52:I,53:M,55:N,60:$,61:_,62:D,63:R,71:O},{16:[1,142]},{4:a,5:s,8:8,9:10,12:12,13:o,14:h,16:[2,44],17:15,18:u,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:S,44:C,46:E,48:[1,143],50:L,52:I,53:M,55:N,60:$,61:_,62:D,63:R,71:O},{16:[1,144]},{16:[1,145]},{4:a,5:s,8:8,9:10,12:12,13:o,14:h,16:[2,42],17:15,18:u,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:S,44:C,46:E,47:[1,146],50:L,52:I,53:M,55:N,60:$,61:_,62:D,63:R,71:O},{4:a,5:s,8:8,9:10,12:12,13:o,14:h,16:[1,147],17:15,18:u,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:y,35:b,36:v,37:x,38:w,39:k,41:T,43:S,44:C,46:E,50:L,52:I,53:M,55:N,60:$,61:_,62:D,63:R,71:O},{15:[1,148]},t(A,[2,49]),t(A,[2,53]),{5:[2,69]},{74:[1,149]},{15:[1,150]},t(A,[2,51]),t(A,[2,52]),{22:151,71:O},{22:152,71:O},{57:153,86:ie},{57:154,86:ie},{57:155,86:ie},{65:[1,156],86:[2,63]},{5:[2,56]},{5:[2,82]},{5:[2,57]},{5:[2,58]},{5:[2,59]},t(A,[2,16]),t(P,[2,10]),{12:157,50:L,52:I,53:M},t(P,[2,12]),t(P,[2,13]),t(A,[2,18]),t(A,[2,34]),t(A,[2,35]),t(A,[2,36]),t(A,[2,37]),{15:[1,158]},t(A,[2,38]),{15:[1,159]},t(A,[2,39]),t(A,[2,40]),{15:[1,160]},t(A,[2,41]),{5:[1,161]},{75:[1,162]},{5:[1,163]},{57:164,86:ie},{57:165,86:ie},{5:[2,68]},{5:[2,54]},{5:[2,55]},{22:166,71:O},t(P,[2,11]),t(q,n,{7:105,40:167}),t(K,n,{7:107,42:168}),t(W,n,{7:110,45:169}),t(A,[2,48]),{5:[2,70]},t(A,[2,50]),{5:[2,66]},{5:[2,67]},{86:[2,62]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],89:[2,64],90:[2,65],115:[2,69],126:[2,56],127:[2,82],128:[2,57],129:[2,58],130:[2,59],153:[2,68],154:[2,54],155:[2,55],162:[2,70],164:[2,66],165:[2,67],166:[2,62],167:[2,47],168:[2,45],169:[2,43]},parseError:l(function(Q,j){if(j.recoverable)this.trace(Q);else{var H=new Error(Q);throw H.hash=j,H}},"parseError"),parse:l(function(Q){var j=this,H=[0],J=[],he=[null],X=[],fe=this.table,V="",Se=0,ce=0,Le=0,$e=2,je=1,qe=X.slice.call(arguments,1),Ce=Object.create(this.lexer),De={yy:{}};for(var ye in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ye)&&(De.yy[ye]=this.yy[ye]);Ce.setInput(Q,De.yy),De.yy.lexer=Ce,De.yy.parser=this,typeof Ce.yylloc>"u"&&(Ce.yylloc={});var Pe=Ce.yylloc;X.push(Pe);var ue=Ce.options&&Ce.options.ranges;typeof De.yy.parseError=="function"?this.parseError=De.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ve(Be){H.length=H.length-2*Be,he.length=he.length-Be,X.length=X.length-Be}l(Ve,"popStack");function Z(){var Be;return Be=J.pop()||Ce.lex()||je,typeof Be!="number"&&(Be instanceof Array&&(J=Be,Be=J.pop()),Be=j.symbols_[Be]||Be),Be}l(Z,"lex");for(var Ne,F,te,ne,de,ge,xe={},Ee,Te,Fe,We;;){if(te=H[H.length-1],this.defaultActions[te]?ne=this.defaultActions[te]:((Ne===null||typeof Ne>"u")&&(Ne=Z()),ne=fe[te]&&fe[te][Ne]),typeof ne>"u"||!ne.length||!ne[0]){var it="";We=[];for(Ee in fe[te])this.terminals_[Ee]&&Ee>$e&&We.push("'"+this.terminals_[Ee]+"'");Ce.showPosition?it="Parse error on line "+(Se+1)+`:
`+Ce.showPosition()+`
Expecting `+We.join(", ")+", got '"+(this.terminals_[Ne]||Ne)+"'":it="Parse error on line "+(Se+1)+": Unexpected "+(Ne==je?"end of input":"'"+(this.terminals_[Ne]||Ne)+"'"),this.parseError(it,{text:Ce.match,token:this.terminals_[Ne]||Ne,line:Ce.yylineno,loc:Pe,expected:We})}if(ne[0]instanceof Array&&ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+te+", token: "+Ne);switch(ne[0]){case 1:H.push(Ne),he.push(Ce.yytext),X.push(Ce.yylloc),H.push(ne[1]),Ne=null,F?(Ne=F,F=null):(ce=Ce.yyleng,V=Ce.yytext,Se=Ce.yylineno,Pe=Ce.yylloc,Le>0&&Le--);break;case 2:if(Te=this.productions_[ne[1]][1],xe.$=he[he.length-Te],xe._$={first_line:X[X.length-(Te||1)].first_line,last_line:X[X.length-1].last_line,first_column:X[X.length-(Te||1)].first_column,last_column:X[X.length-1].last_column},ue&&(xe._$.range=[X[X.length-(Te||1)].range[0],X[X.length-1].range[1]]),ge=this.performAction.apply(xe,[V,ce,Se,De.yy,ne[1],he,X].concat(qe)),typeof ge<"u")return ge;Te&&(H=H.slice(0,-1*Te*2),he=he.slice(0,-1*Te),X=X.slice(0,-1*Te)),H.push(this.productions_[ne[1]][0]),he.push(xe.$),X.push(xe._$),Fe=fe[H[H.length-2]][H[H.length-1]],H.push(Fe);break;case 3:return!0}}return!0},"parse")},oe=(function(){var Q={EOF:1,parseError:l(function(j,H){if(this.yy.parser)this.yy.parser.parseError(j,H);else throw new Error(j)},"parseError"),setInput:l(function(j,H){return this.yy=H||this.yy||{},this._input=j,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var j=this._input[0];this.yytext+=j,this.yyleng++,this.offset++,this.match+=j,this.matched+=j;var H=j.match(/(?:\r\n?|\n).*/g);return H?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),j},"input"),unput:l(function(j){var H=j.length,J=j.split(/(?:\r\n?|\n)/g);this._input=j+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-H),this.offset-=H;var he=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var X=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===he.length?this.yylloc.first_column:0)+he[he.length-J.length].length-J[0].length:this.yylloc.first_column-H},this.options.ranges&&(this.yylloc.range=[X[0],X[0]+this.yyleng-H]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(j){this.unput(this.match.slice(j))},"less"),pastInput:l(function(){var j=this.matched.substr(0,this.matched.length-this.match.length);return(j.length>20?"...":"")+j.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var j=this.match;return j.length<20&&(j+=this._input.substr(0,20-j.length)),(j.substr(0,20)+(j.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var j=this.pastInput(),H=new Array(j.length+1).join("-");return j+this.upcomingInput()+`
`+H+"^"},"showPosition"),test_match:l(function(j,H){var J,he,X;if(this.options.backtrack_lexer&&(X={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(X.yylloc.range=this.yylloc.range.slice(0))),he=j[0].match(/(?:\r\n?|\n).*/g),he&&(this.yylineno+=he.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:he?he[he.length-1].length-he[he.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+j[0].length},this.yytext+=j[0],this.match+=j[0],this.matches=j,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(j[0].length),this.matched+=j[0],J=this.performAction.call(this,this.yy,this,H,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var fe in X)this[fe]=X[fe];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var j,H,J,he;this._more||(this.yytext="",this.match="");for(var X=this._currentRules(),fe=0;fe<X.length;fe++)if(J=this._input.match(this.rules[X[fe]]),J&&(!H||J[0].length>H[0].length)){if(H=J,he=fe,this.options.backtrack_lexer){if(j=this.test_match(J,X[fe]),j!==!1)return j;if(this._backtrack){H=!1;continue}else return!1}else if(!this.options.flex)break}return H?(j=this.test_match(H,X[he]),j!==!1?j:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var j=this.next();return j||this.lex()},"lex"),begin:l(function(j){this.conditionStack.push(j)},"begin"),popState:l(function(){var j=this.conditionStack.length-1;return j>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(j){return j=this.conditionStack.length-1-Math.abs(j||0),j>=0?this.conditionStack[j]:"INITIAL"},"topState"),pushState:l(function(j){this.begin(j)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(j,H,J,he){var X=he;switch(J){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("CONFIG"),73;case 8:return 74;case 9:return this.popState(),this.popState(),75;case 10:return H.yytext=H.yytext.trim(),71;case 11:return H.yytext=H.yytext.trim(),this.begin("ALIAS"),71;case 12:return this.begin("LINE"),14;case 13:return this.begin("ID"),50;case 14:return this.begin("ID"),52;case 15:return 13;case 16:return this.begin("ID"),53;case 17:return H.yytext=H.yytext.trim(),this.begin("ALIAS"),71;case 18:return this.popState(),this.popState(),this.begin("LINE"),51;case 19:return this.popState(),this.popState(),5;case 20:return this.begin("LINE"),36;case 21:return this.begin("LINE"),37;case 22:return this.begin("LINE"),38;case 23:return this.begin("LINE"),39;case 24:return this.begin("LINE"),49;case 25:return this.begin("LINE"),41;case 26:return this.begin("LINE"),43;case 27:return this.begin("LINE"),48;case 28:return this.begin("LINE"),44;case 29:return this.begin("LINE"),47;case 30:return this.begin("LINE"),46;case 31:return this.popState(),15;case 32:return 16;case 33:return 66;case 34:return 67;case 35:return 60;case 36:return 61;case 37:return 62;case 38:return 63;case 39:return 58;case 40:return 55;case 41:return this.begin("ID"),21;case 42:return this.begin("ID"),23;case 43:return 29;case 44:return 30;case 45:return this.begin("acc_title"),31;case 46:return this.popState(),"acc_title_value";case 47:return this.begin("acc_descr"),33;case 48:return this.popState(),"acc_descr_value";case 49:this.begin("acc_descr_multiline");break;case 50:this.popState();break;case 51:return"acc_descr_multiline_value";case 52:return 6;case 53:return 18;case 54:return 20;case 55:return 65;case 56:return 5;case 57:return H.yytext=H.yytext.trim(),71;case 58:return 78;case 59:return 79;case 60:return 80;case 61:return 81;case 62:return 76;case 63:return 77;case 64:return 82;case 65:return 83;case 66:return 84;case 67:return 85;case 68:return 86;case 69:return 86;case 70:return 69;case 71:return 70;case 72:return 5;case 73:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:@\{)/i,/^(?:[^\}]+)/i,/^(?:\})/i,/^(?:[^\<->\->:\n,;@\s]+(?=@\{))/i,/^(?:[^\<->\->:\n,;@]+?([\-]*[^\<->\->:\n,;@]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^<\->\->:\n,;]+?([\-]*[^<\->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+<\->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+<\->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]*)/i,/^(?::)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[50,51],inclusive:!1},acc_descr:{rules:[48],inclusive:!1},acc_title:{rules:[46],inclusive:!1},ID:{rules:[2,3,7,10,11,17],inclusive:!1},ALIAS:{rules:[2,3,18,19],inclusive:!1},LINE:{rules:[2,3,31],inclusive:!1},CONFIG:{rules:[8,9],inclusive:!1},CONFIG_DATA:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,12,13,14,15,16,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,49,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73],inclusive:!0}}};return Q})();se.lexer=oe;function Y(){this.yy={}}return l(Y,"Parser"),Y.prototype=se,se.Parser=Y,new Y})();hM.parser=hM;qMe=hM,UMe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},jMe={FILLED:0,OPEN:1},WMe={LEFTOF:0,RIGHTOF:1,OVER:2},NT={ACTOR:"actor",BOUNDARY:"boundary",COLLECTIONS:"collections",CONTROL:"control",DATABASE:"database",ENTITY:"entity",PARTICIPANT:"participant",QUEUE:"queue"},VMe=(cy=class{constructor(){this.state=new yT(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),this.setAccTitle=gr,this.setAccDescription=mr,this.setDiagramTitle=Er,this.getAccTitle=fr,this.getAccDescription=yr,this.getDiagramTitle=vr,this.apply=this.apply.bind(this),this.parseBoxData=this.parseBoxData.bind(this),this.parseMessage=this.parseMessage.bind(this),this.clear(),this.setWrap(ve().wrap),this.LINETYPE=UMe,this.ARROWTYPE=jMe,this.PLACEMENT=WMe}addBox(e){this.state.records.boxes.push({name:e.text,wrap:e.wrap??this.autoWrap(),fill:e.color,actorKeys:[]}),this.state.records.currentBox=this.state.records.boxes.slice(-1)[0]}addActor(e,r,i,n,a){let s=this.state.records.currentBox,o;if(a!==void 0){let u;a.includes(`
`)?u=a+`
`:u=`{
`+a+`
}`,o=Hc(u,{schema:Yc})}n=(o==null?void 0:o.type)??n;let h=this.state.records.actors.get(e);if(h){if(this.state.records.currentBox&&h.box&&this.state.records.currentBox!==h.box)throw new Error(`A same participant should only be defined in one Box: ${h.name} can't be in '${h.box.name}' and in '${this.state.records.currentBox.name}' at the same time.`);if(s=h.box?h.box:this.state.records.currentBox,h.box=s,h&&r===h.name&&i==null)return}if((i==null?void 0:i.text)==null&&(i={text:r,type:n}),(n==null||i.text==null)&&(i={text:r,type:n}),this.state.records.actors.set(e,{box:s,name:r,description:i.text,wrap:i.wrap??this.autoWrap(),prevActor:this.state.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),this.state.records.prevActor){let u=this.state.records.actors.get(this.state.records.prevActor);u&&(u.nextActor=e)}this.state.records.currentBox&&this.state.records.currentBox.actorKeys.push(e),this.state.records.prevActor=e}activationCount(e){let r,i=0;if(!e)return 0;for(r=0;r<this.state.records.messages.length;r++)this.state.records.messages[r].type===this.LINETYPE.ACTIVE_START&&this.state.records.messages[r].from===e&&i++,this.state.records.messages[r].type===this.LINETYPE.ACTIVE_END&&this.state.records.messages[r].from===e&&i--;return i}addMessage(e,r,i,n){this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:e,to:r,message:i.text,wrap:i.wrap??this.autoWrap(),answer:n})}addSignal(e,r,i,n,a=!1){if(n===this.LINETYPE.ACTIVE_END&&this.activationCount(e??"")<1){let s=new Error("Trying to inactivate an inactive participant ("+e+")");throw s.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},s}return this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:e,to:r,message:(i==null?void 0:i.text)??"",wrap:(i==null?void 0:i.wrap)??this.autoWrap(),type:n,activate:a}),!0}hasAtLeastOneBox(){return this.state.records.boxes.length>0}hasAtLeastOneBoxWithTitle(){return this.state.records.boxes.some(e=>e.name)}getMessages(){return this.state.records.messages}getBoxes(){return this.state.records.boxes}getActors(){return this.state.records.actors}getCreatedActors(){return this.state.records.createdActors}getDestroyedActors(){return this.state.records.destroyedActors}getActor(e){return this.state.records.actors.get(e)}getActorKeys(){return[...this.state.records.actors.keys()]}enableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!0}disableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!1}showSequenceNumbers(){return this.state.records.sequenceNumbersEnabled}setWrap(e){this.state.records.wrapEnabled=e}extractWrap(e){if(e===void 0)return{};e=e.trim();let r=/^:?wrap:/.exec(e)!==null?!0:/^:?nowrap:/.exec(e)!==null?!1:void 0;return{cleanedText:(r===void 0?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:r}}autoWrap(){var e;return this.state.records.wrapEnabled!==void 0?this.state.records.wrapEnabled:((e=ve().sequence)==null?void 0:e.wrap)??!1}clear(){this.state.reset(),cr()}parseMessage(e){let r=e.trim(),{wrap:i,cleanedText:n}=this.extractWrap(r),a={text:n,wrap:i};return ee.debug(`parseMessage: ${JSON.stringify(a)}`),a}parseBoxData(e){let r=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e),i=r!=null&&r[1]?r[1].trim():"transparent",n=r!=null&&r[2]?r[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",i)||(i="transparent",n=e.trim());else{let o=new Option().style;o.color=i,o.color!==i&&(i="transparent",n=e.trim())}let{wrap:a,cleanedText:s}=this.extractWrap(n);return{text:s?tr(s,ve()):void 0,color:i,wrap:a}}addNote(e,r,i){let n={actor:e,placement:r,message:i.text,wrap:i.wrap??this.autoWrap()},a=[].concat(e,e);this.state.records.notes.push(n),this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:a[0],to:a[1],message:i.text,wrap:i.wrap??this.autoWrap(),type:this.LINETYPE.NOTE,placement:r})}addLinks(e,r){let i=this.getActor(e);try{let n=tr(r.text,ve());n=n.replace(/&equals;/g,"="),n=n.replace(/&amp;/g,"&");let a=JSON.parse(n);this.insertLinks(i,a)}catch(n){ee.error("error while parsing actor link text",n)}}addALink(e,r){let i=this.getActor(e);try{let n={},a=tr(r.text,ve()),s=a.indexOf("@");a=a.replace(/&equals;/g,"="),a=a.replace(/&amp;/g,"&");let o=a.slice(0,s-1).trim(),h=a.slice(s+1).trim();n[o]=h,this.insertLinks(i,n)}catch(n){ee.error("error while parsing actor link text",n)}}insertLinks(e,r){if(e.links==null)e.links=r;else for(let i in r)e.links[i]=r[i]}addProperties(e,r){let i=this.getActor(e);try{let n=tr(r.text,ve()),a=JSON.parse(n);this.insertProperties(i,a)}catch(n){ee.error("error while parsing actor properties text",n)}}insertProperties(e,r){if(e.properties==null)e.properties=r;else for(let i in r)e.properties[i]=r[i]}boxEnd(){this.state.records.currentBox=void 0}addDetails(e,r){let i=this.getActor(e),n=document.getElementById(r.text);try{let a=n.innerHTML,s=JSON.parse(a);s.properties&&this.insertProperties(i,s.properties),s.links&&this.insertLinks(i,s.links)}catch(a){ee.error("error while parsing actor details text",a)}}getActorProperty(e,r){if((e==null?void 0:e.properties)!==void 0)return e.properties[r]}apply(e){if(Array.isArray(e))e.forEach(r=>{this.apply(r)});else switch(e.type){case"sequenceIndex":this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":this.addActor(e.actor,e.actor,e.description,e.draw,e.config);break;case"createParticipant":if(this.state.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");this.state.records.lastCreated=e.actor,this.addActor(e.actor,e.actor,e.description,e.draw,e.config),this.state.records.createdActors.set(e.actor,this.state.records.messages.length);break;case"destroyParticipant":this.state.records.lastDestroyed=e.actor,this.state.records.destroyedActors.set(e.actor,this.state.records.messages.length);break;case"activeStart":this.addSignal(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":this.addSignal(e.actor,void 0,void 0,e.signalType);break;case"addNote":this.addNote(e.actor,e.placement,e.text);break;case"addLinks":this.addLinks(e.actor,e.text);break;case"addALink":this.addALink(e.actor,e.text);break;case"addProperties":this.addProperties(e.actor,e.text);break;case"addDetails":this.addDetails(e.actor,e.text);break;case"addMessage":if(this.state.records.lastCreated){if(e.to!==this.state.records.lastCreated)throw new Error("The created participant "+this.state.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");this.state.records.lastCreated=void 0}else if(this.state.records.lastDestroyed){if(e.to!==this.state.records.lastDestroyed&&e.from!==this.state.records.lastDestroyed)throw new Error("The destroyed participant "+this.state.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");this.state.records.lastDestroyed=void 0}this.addSignal(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":this.addBox(e.boxData);break;case"boxEnd":this.boxEnd();break;case"loopStart":this.addSignal(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"rectStart":this.addSignal(void 0,void 0,e.color,e.signalType);break;case"rectEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"optStart":this.addSignal(void 0,void 0,e.optText,e.signalType);break;case"optEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"altStart":this.addSignal(void 0,void 0,e.altText,e.signalType);break;case"else":this.addSignal(void 0,void 0,e.altText,e.signalType);break;case"altEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":gr(e.text);break;case"parStart":this.addSignal(void 0,void 0,e.parText,e.signalType);break;case"and":this.addSignal(void 0,void 0,e.parText,e.signalType);break;case"parEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"criticalStart":this.addSignal(void 0,void 0,e.criticalText,e.signalType);break;case"option":this.addSignal(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break;case"breakStart":this.addSignal(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":this.addSignal(void 0,void 0,void 0,e.signalType);break}}getConfig(){return ve().sequence}},l(cy,"SequenceDB"),cy),YMe=l(t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }
  
  .innerArc {
    stroke-width: 1.5;
    stroke-dasharray: none;
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }

`,"getStyles"),HMe=YMe,oge=fi(jo(),1),e0=36,Kh="actor-top",Zh="actor-bottom",RT="actor-box",Xh="actor-man",Ax=l(function(t,e){return gd(t,e)},"drawRect"),XMe=l(function(t,e,r,i,n){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};let a=e.links,s=e.actorCnt,o=e.rectData;var h="none";n&&(h="block !important");let u=t.append("g");u.attr("id","actor"+s+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",h);var d="";o.class!==void 0&&(d=" "+o.class);let p=o.width>r?o.width:r,g=u.append("rect");if(g.attr("class","actorPopupMenuPanel"+d),g.attr("x",o.x),g.attr("y",o.height),g.attr("fill",o.fill),g.attr("stroke",o.stroke),g.attr("width",p),g.attr("height",o.height),g.attr("rx",o.rx),g.attr("ry",o.ry),a!=null){var f=20;for(let b in a){var m=u.append("a"),y=(0,oge.sanitizeUrl)(a[b]);m.attr("xlink:href",y),m.attr("target","_blank"),yOe(i)(b,m,o.x+10,o.height+f,p,20,{class:"actor"},i),f+=30}}return g.attr("height",f),{height:o.height+f,width:p}},"drawPopup"),DT=l(function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),IT=l(async function(t,e,r=null){let i=t.append("foreignObject"),n=await jc(e.text,ir()),a=i.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(n).node().getBoundingClientRect();if(i.attr("height",Math.round(a.height)).attr("width",Math.round(a.width)),e.class==="noteText"){let s=t.node().firstChild;s.setAttribute("height",a.height+2*e.textMargin);let o=s.getBBox();i.attr("x",Math.round(o.x+o.width/2-a.width/2)).attr("y",Math.round(o.y+o.height/2-a.height/2))}else if(r){let{startx:s,stopx:o,starty:h}=r;if(s>o){let u=s;s=o,o=u}i.attr("x",Math.round(s+Math.abs(s-o)/2-a.width/2)),e.class==="loopText"?i.attr("y",Math.round(h)):i.attr("y",Math.round(h-a.height))}return[i]},"drawKatex"),hy=l(function(t,e){let r=0,i=0,n=e.text.split(Ke.lineBreakRegex),[a,s]=Vo(e.fontSize),o=[],h=0,u=l(()=>e.y,"yfunc");if(e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0)switch(e.valign){case"top":case"start":u=l(()=>Math.round(e.y+e.textMargin),"yfunc");break;case"middle":case"center":u=l(()=>Math.round(e.y+(r+i+e.textMargin)/2),"yfunc");break;case"bottom":case"end":u=l(()=>Math.round(e.y+(r+i+2*e.textMargin)-e.textMargin),"yfunc");break}if(e.anchor!==void 0&&e.textMargin!==void 0&&e.width!==void 0)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let[d,p]of n.entries()){e.textMargin!==void 0&&e.textMargin===0&&a!==void 0&&(h=d*a);let g=t.append("text");g.attr("x",e.x),g.attr("y",u()),e.anchor!==void 0&&g.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),e.fontFamily!==void 0&&g.style("font-family",e.fontFamily),s!==void 0&&g.style("font-size",s),e.fontWeight!==void 0&&g.style("font-weight",e.fontWeight),e.fill!==void 0&&g.attr("fill",e.fill),e.class!==void 0&&g.attr("class",e.class),e.dy!==void 0?g.attr("dy",e.dy):h!==0&&g.attr("dy",h);let f=p||vS;if(e.tspan){let m=g.append("tspan");m.attr("x",e.x),e.fill!==void 0&&m.attr("fill",e.fill),m.text(f)}else g.text(f);e.valign!==void 0&&e.textMargin!==void 0&&e.textMargin>0&&(i+=(g._groups||g)[0][0].getBBox().height,r=i),o.push(g)}return o},"drawText"),lge=l(function(t,e){function r(n,a,s,o,h){return n+","+a+" "+(n+s)+","+a+" "+(n+s)+","+(a+o-h)+" "+(n+s-h*1.2)+","+(a+o)+" "+n+","+(a+o)}l(r,"genPoints");let i=t.append("polygon");return i.attr("points",r(e.x,e.y,e.width,e.height,7)),i.attr("class","labelBox"),e.y=e.y+e.height/2,hy(t,e),i},"drawLabel"),kr=-1,cge=l((t,e,r,i)=>{t.select&&r.forEach(n=>{let a=e.get(n),s=t.select("#actor"+a.actorCnt);!i.mirrorActors&&a.stopy?s.attr("y2",a.stopy+a.height/2):i.mirrorActors&&s.attr("y2",a.stopy)})},"fixLifeLineHeights"),KMe=l(function(t,e,r,i){var f,m;let n=i?e.stopy:e.starty,a=e.x+e.width/2,s=n+e.height,o=t.append("g").lower();var h=o;i||(kr++,Object.keys(e.links||{}).length&&!r.forceMenus&&h.attr("onclick",DT(`actor${kr}_popup`)).attr("cursor","pointer"),h.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),h=o.append("g"),e.actorCnt=kr,e.links!=null&&h.attr("id","root-"+kr));let u=Jn();var d="actor";(f=e.properties)!=null&&f.class?d=e.properties.class:u.fill="#eaeaea",i?d+=` ${Zh}`:d+=` ${Kh}`,u.x=e.x,u.y=n,u.width=e.width,u.height=e.height,u.class=d,u.rx=3,u.ry=3,u.name=e.name;let p=Ax(h,u);if(e.rectData=u,(m=e.properties)==null?void 0:m.icon){let y=e.properties.icon.trim();y.charAt(0)==="@"?pw(h,u.x+u.width-20,u.y+10,y.substr(1)):dw(h,u.x+u.width-20,u.y+10,y)}bc(r,li(e.description))(e.description,h,u.x,u.y,u.width,u.height,{class:`actor ${RT}`},r);let g=e.height;if(p.node){let y=p.node().getBBox();e.height=y.height,g=y.height}return g},"drawActorTypeParticipant"),ZMe=l(function(t,e,r,i){var y,b;let n=i?e.stopy:e.starty,a=e.x+e.width/2,s=n+e.height,o=t.append("g").lower();var h=o;i||(kr++,Object.keys(e.links||{}).length&&!r.forceMenus&&h.attr("onclick",DT(`actor${kr}_popup`)).attr("cursor","pointer"),h.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),h=o.append("g"),e.actorCnt=kr,e.links!=null&&h.attr("id","root-"+kr));let u=Jn();var d="actor";(y=e.properties)!=null&&y.class?d=e.properties.class:u.fill="#eaeaea",i?d+=` ${Zh}`:d+=` ${Kh}`,u.x=e.x,u.y=n,u.width=e.width,u.height=e.height,u.class=d,u.name=e.name;let p=6,g={...u,x:u.x+-p,y:u.y+ +p,class:"actor"},f=Ax(h,u);if(Ax(h,g),e.rectData=u,(b=e.properties)==null?void 0:b.icon){let v=e.properties.icon.trim();v.charAt(0)==="@"?pw(h,u.x+u.width-20,u.y+10,v.substr(1)):dw(h,u.x+u.width-20,u.y+10,v)}bc(r,li(e.description))(e.description,h,u.x-p,u.y+p,u.width,u.height,{class:`actor ${RT}`},r);let m=e.height;if(f.node){let v=f.node().getBBox();e.height=v.height,m=v.height}return m},"drawActorTypeCollections"),QMe=l(function(t,e,r,i){var v,x;let n=i?e.stopy:e.starty,a=e.x+e.width/2,s=n+e.height,o=t.append("g").lower(),h=o;i||(kr++,Object.keys(e.links||{}).length&&!r.forceMenus&&h.attr("onclick",DT(`actor${kr}_popup`)).attr("cursor","pointer"),h.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),h=o.append("g"),e.actorCnt=kr,e.links!=null&&h.attr("id","root-"+kr));let u=Jn(),d="actor";(v=e.properties)!=null&&v.class?d=e.properties.class:u.fill="#eaeaea",i?d+=` ${Zh}`:d+=` ${Kh}`,u.x=e.x,u.y=n,u.width=e.width,u.height=e.height,u.class=d,u.name=e.name;let p=u.height/2,g=p/(2.5+u.height/50),f=h.append("g"),m=h.append("g");if(f.append("path").attr("d",`M ${u.x},${u.y+p}
    a ${g},${p} 0 0 0 0,${u.height}
    h ${u.width-2*g}
    a ${g},${p} 0 0 0 0,-${u.height}
    Z
  `).attr("class",d),m.append("path").attr("d",`M ${u.x},${u.y+p}
      a ${g},${p} 0 0 0 0,${u.height}`).attr("stroke","#666").attr("stroke-width","1px").attr("class",d),f.attr("transform",`translate(${g}, ${-(u.height/2)})`),m.attr("transform",`translate(${u.width-g}, ${-u.height/2})`),e.rectData=u,(x=e.properties)==null?void 0:x.icon){let w=e.properties.icon.trim(),k=u.x+u.width-20,T=u.y+10;w.charAt(0)==="@"?pw(h,k,T,w.substr(1)):dw(h,k,T,w)}bc(r,li(e.description))(e.description,h,u.x,u.y,u.width,u.height,{class:`actor ${RT}`},r);let y=e.height,b=f.select("path:last-child");if(b.node()){let w=b.node().getBBox();e.height=w.height,y=w.height}return y},"drawActorTypeQueue"),JMe=l(function(t,e,r,i){var y;let n=i?e.stopy:e.starty,a=e.x+e.width/2,s=n+75,o=t.append("g").lower();i||(kr++,o.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),e.actorCnt=kr);let h=t.append("g"),u=Xh;i?u+=` ${Zh}`:u+=` ${Kh}`,h.attr("class",u),h.attr("name",e.name);let d=Jn();d.x=e.x,d.y=n,d.fill="#eaeaea",d.width=e.width,d.height=e.height,d.class="actor";let p=e.x+e.width/2,g=n+30,f=18;h.append("defs").append("marker").attr("id","filled-head-control").attr("refX",11).attr("refY",5.8).attr("markerWidth",20).attr("markerHeight",28).attr("orient","172.5").append("path").attr("d","M 14.4 5.6 L 7.2 10.4 L 8.8 5.6 L 7.2 0.8 Z"),h.append("circle").attr("cx",p).attr("cy",g).attr("r",f).attr("fill","#eaeaf7").attr("stroke","#666").attr("stroke-width",1.2),h.append("line").attr("marker-end","url(#filled-head-control)").attr("transform",`translate(${p}, ${g-f})`);let m=h.node().getBBox();return e.height=m.height+2*(((y=r==null?void 0:r.sequence)==null?void 0:y.labelBoxHeight)??0),bc(r,li(e.description))(e.description,h,d.x,d.y+f+(i?5:10),d.width,d.height,{class:`actor ${Xh}`},r),e.height},"drawActorTypeControl"),eOe=l(function(t,e,r,i){var y;let n=i?e.stopy:e.starty,a=e.x+e.width/2,s=n+75,o=t.append("g").lower(),h=t.append("g"),u=Xh;i?u+=` ${Zh}`:u+=` ${Kh}`,h.attr("class",u),h.attr("name",e.name);let d=Jn();d.x=e.x,d.y=n,d.fill="#eaeaea",d.width=e.width,d.height=e.height,d.class="actor";let p=e.x+e.width/2,g=n+(i?10:25),f=18;h.append("circle").attr("cx",p).attr("cy",g).attr("r",f).attr("width",e.width).attr("height",e.height),h.append("line").attr("x1",p-f).attr("x2",p+f).attr("y1",g+f).attr("y2",g+f).attr("stroke","#333").attr("stroke-width",2);let m=h.node().getBBox();return e.height=m.height+(((y=r==null?void 0:r.sequence)==null?void 0:y.labelBoxHeight)??0),i||(kr++,o.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),e.actorCnt=kr),bc(r,li(e.description))(e.description,h,d.x,d.y+(i?(g-n+f-5)/2:(g+f-n)/2),d.width,d.height,{class:`actor ${Xh}`},r),i?h.attr("transform",`translate(0, ${f/2})`):h.attr("transform",`translate(0, ${f/2})`),e.height},"drawActorTypeEntity"),tOe=l(function(t,e,r,i){var x;let n=i?e.stopy:e.starty,a=e.x+e.width/2,s=n+e.height+2*r.boxTextMargin,o=t.append("g").lower(),h=o;i||(kr++,Object.keys(e.links||{}).length&&!r.forceMenus&&h.attr("onclick",DT(`actor${kr}_popup`)).attr("cursor","pointer"),h.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),h=o.append("g"),e.actorCnt=kr,e.links!=null&&h.attr("id","root-"+kr));let u=Jn(),d="actor";(x=e.properties)!=null&&x.class?d=e.properties.class:u.fill="#eaeaea",i?d+=` ${Zh}`:d+=` ${Kh}`,u.x=e.x,u.y=n,u.width=e.width,u.height=e.height,u.class=d,u.name=e.name,u.x=e.x,u.y=n;let p=u.width/4,g=u.width/4,f=p/2,m=f/(2.5+p/50),y=h.append("g"),b=`
  M ${u.x},${u.y+m}
  a ${f},${m} 0 0 0 ${p},0
  a ${f},${m} 0 0 0 -${p},0
  l 0,${g-2*m}
  a ${f},${m} 0 0 0 ${p},0
  l 0,-${g-2*m}
`;y.append("path").attr("d",b).attr("fill","#eaeaea").attr("stroke","#000").attr("stroke-width",1).attr("class",d),i?y.attr("transform",`translate(${p*1.5}, ${u.height/4-2*m})`):y.attr("transform",`translate(${p*1.5}, ${(u.height+m)/4})`),e.rectData=u,bc(r,li(e.description))(e.description,h,u.x,u.y+(i?(u.height+g)/4:(u.height+m)/2),u.width,u.height,{class:`actor ${RT}`},r);let v=y.select("path:last-child");if(v.node()){let w=v.node().getBBox();e.height=w.height+(r.sequence.labelBoxHeight??0)}return e.height},"drawActorTypeDatabase"),rOe=l(function(t,e,r,i){let n=i?e.stopy:e.starty,a=e.x+e.width/2,s=n+80,o=30,h=t.append("g").lower();i||(kr++,h.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),e.actorCnt=kr);let u=t.append("g"),d=Xh;i?d+=` ${Zh}`:d+=` ${Kh}`,u.attr("class",d),u.attr("name",e.name);let p=Jn();p.x=e.x,p.y=n,p.fill="#eaeaea",p.width=e.width,p.height=e.height,p.class="actor",u.append("line").attr("id","actor-man-torso"+kr).attr("x1",e.x+e.width/2-o*2.5).attr("y1",n+10).attr("x2",e.x+e.width/2-15).attr("y2",n+10),u.append("line").attr("id","actor-man-arms"+kr).attr("x1",e.x+e.width/2-o*2.5).attr("y1",n+0).attr("x2",e.x+e.width/2-o*2.5).attr("y2",n+20),u.append("circle").attr("cx",e.x+e.width/2).attr("cy",n+10).attr("r",o);let g=u.node().getBBox();return e.height=g.height+(r.sequence.labelBoxHeight??0),bc(r,li(e.description))(e.description,u,p.x,p.y+(i?o/2-4:o/2+3),p.width,p.height,{class:`actor ${Xh}`},r),i?u.attr("transform",`translate(0,${o/2+7})`):u.attr("transform",`translate(0,${o/2+7})`),e.height},"drawActorTypeBoundary"),iOe=l(function(t,e,r,i){let n=i?e.stopy:e.starty,a=e.x+e.width/2,s=n+80,o=t.append("g").lower();i||(kr++,o.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",e.name),e.actorCnt=kr);let h=t.append("g"),u=Xh;i?u+=` ${Zh}`:u+=` ${Kh}`,h.attr("class",u),h.attr("name",e.name);let d=Jn();d.x=e.x,d.y=n,d.fill="#eaeaea",d.width=e.width,d.height=e.height,d.class="actor",d.rx=3,d.ry=3,h.append("line").attr("id","actor-man-torso"+kr).attr("x1",a).attr("y1",n+25).attr("x2",a).attr("y2",n+45),h.append("line").attr("id","actor-man-arms"+kr).attr("x1",a-e0/2).attr("y1",n+33).attr("x2",a+e0/2).attr("y2",n+33),h.append("line").attr("x1",a-e0/2).attr("y1",n+60).attr("x2",a).attr("y2",n+45),h.append("line").attr("x1",a).attr("y1",n+45).attr("x2",a+e0/2-2).attr("y2",n+60);let p=h.append("circle");p.attr("cx",e.x+e.width/2),p.attr("cy",n+10),p.attr("r",15),p.attr("width",e.width),p.attr("height",e.height);let g=h.node().getBBox();return e.height=g.height,bc(r,li(e.description))(e.description,h,d.x,d.y+35,d.width,d.height,{class:`actor ${Xh}`},r),e.height},"drawActorTypeActor"),nOe=l(async function(t,e,r,i){switch(e.type){case"actor":return await iOe(t,e,r,i);case"participant":return await KMe(t,e,r,i);case"boundary":return await rOe(t,e,r,i);case"control":return await JMe(t,e,r,i);case"entity":return await eOe(t,e,r,i);case"database":return await tOe(t,e,r,i);case"collections":return await ZMe(t,e,r,i);case"queue":return await QMe(t,e,r,i)}},"drawActor"),aOe=l(function(t,e,r){let i=t.append("g");hge(i,e),e.name&&bc(r)(e.name,i,e.x,e.y+r.boxTextMargin+(e.textMaxHeight||0)/2,e.width,0,{class:"text"},r),i.lower()},"drawBox"),sOe=l(function(t){return t.append("g")},"anchorElement"),oOe=l(function(t,e,r,i,n){let a=Jn(),s=e.anchored;a.x=e.startx,a.y=e.starty,a.class="activation"+n%3,a.width=e.stopx-e.startx,a.height=r-e.starty,Ax(s,a)},"drawActivation"),lOe=l(async function(t,e,r,i){let{boxMargin:n,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:o,messageFontFamily:h,messageFontSize:u,messageFontWeight:d}=i,p=t.append("g"),g=l(function(y,b,v,x){return p.append("line").attr("x1",y).attr("y1",b).attr("x2",v).attr("y2",x).attr("class","loopLine")},"drawLoopLine");g(e.startx,e.starty,e.stopx,e.starty),g(e.stopx,e.starty,e.stopx,e.stopy),g(e.startx,e.stopy,e.stopx,e.stopy),g(e.startx,e.starty,e.startx,e.stopy),e.sections!==void 0&&e.sections.forEach(function(y){g(e.startx,y.y,e.stopx,y.y).style("stroke-dasharray","3, 3")});let f=gw();f.text=r,f.x=e.startx,f.y=e.starty,f.fontFamily=h,f.fontSize=u,f.fontWeight=d,f.anchor="middle",f.valign="middle",f.tspan=!1,f.width=o||50,f.height=s||20,f.textMargin=a,f.class="labelText",lge(p,f),f=uge(),f.text=e.title,f.x=e.startx+o/2+(e.stopx-e.startx)/2,f.y=e.starty+n+a,f.anchor="middle",f.valign="middle",f.textMargin=a,f.class="loopText",f.fontFamily=h,f.fontSize=u,f.fontWeight=d,f.wrap=!0;let m=li(f.text)?await IT(p,f,e):hy(p,f);if(e.sectionTitles!==void 0){for(let[y,b]of Object.entries(e.sectionTitles))if(b.message){f.text=b.message,f.x=e.startx+(e.stopx-e.startx)/2,f.y=e.sections[y].y+n+a,f.class="loopText",f.anchor="middle",f.valign="middle",f.tspan=!1,f.fontFamily=h,f.fontSize=u,f.fontWeight=d,f.wrap=e.wrap,li(f.text)?(e.starty=e.sections[y].y,await IT(p,f,e)):hy(p,f);let v=Math.round(m.map(x=>(x._groups||x)[0][0].getBBox().height).reduce((x,w)=>x+w));e.sections[y].height+=v-(n+a)}}return e.height=Math.round(e.stopy-e.starty),p},"drawLoop"),hge=l(function(t,e){uw(t,e)},"drawBackgroundRect"),cOe=l(function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),hOe=l(function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),uOe=l(function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),dOe=l(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),pOe=l(function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),gOe=l(function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),fOe=l(function(t){t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),uge=l(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),mOe=l(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),bc=(function(){function t(a,s,o,h,u,d,p){let g=s.append("text").attr("x",o+u/2).attr("y",h+d/2+5).style("text-anchor","middle").text(a);n(g,p)}l(t,"byText");function e(a,s,o,h,u,d,p,g){let{actorFontSize:f,actorFontFamily:m,actorFontWeight:y}=g,[b,v]=Vo(f),x=a.split(Ke.lineBreakRegex);for(let w=0;w<x.length;w++){let k=w*b-b*(x.length-1)/2,T=s.append("text").attr("x",o+u/2).attr("y",h).style("text-anchor","middle").style("font-size",v).style("font-weight",y).style("font-family",m);T.append("tspan").attr("x",o+u/2).attr("dy",k).text(x[w]),T.attr("y",h+d/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(T,p)}}l(e,"byTspan");function r(a,s,o,h,u,d,p,g){let f=s.append("switch"),m=f.append("foreignObject").attr("x",o).attr("y",h).attr("width",u).attr("height",d).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),e(a,f,o,h,u,d,p,g),n(m,p)}l(r,"byFo");async function i(a,s,o,h,u,d,p,g){let f=await up(a,ir()),m=s.append("switch"),y=m.append("foreignObject").attr("x",o+u/2-f.width/2).attr("y",h+d/2-f.height/2).attr("width",f.width).attr("height",f.height).append("xhtml:div").style("height","100%").style("width","100%");y.append("div").style("text-align","center").style("vertical-align","middle").html(await jc(a,ir())),e(a,m,o,h,u,d,p,g),n(y,p)}l(i,"byKatex");function n(a,s){for(let o in s)s.hasOwnProperty(o)&&a.attr(o,s[o])}return l(n,"_setTextAttrs"),function(a,s=!1){return s?i:a.textPlacement==="fo"?r:a.textPlacement==="old"?t:e}})(),yOe=(function(){function t(n,a,s,o,h,u,d){let p=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(n);i(p,d)}l(t,"byText");function e(n,a,s,o,h,u,d,p){let{actorFontSize:g,actorFontFamily:f,actorFontWeight:m}=p,y=n.split(Ke.lineBreakRegex);for(let b=0;b<y.length;b++){let v=b*g-g*(y.length-1)/2,x=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",g).style("font-weight",m).style("font-family",f);x.append("tspan").attr("x",s).attr("dy",v).text(y[b]),x.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(x,d)}}l(e,"byTspan");function r(n,a,s,o,h,u,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",h).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),e(n,g,s,o,h,u,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)a.hasOwnProperty(s)&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?t:e}})(),ji={drawRect:Ax,drawText:hy,drawLabel:lge,drawActor:nOe,drawBox:aOe,drawPopup:XMe,anchorElement:sOe,drawActivation:oOe,drawLoop:lOe,drawBackgroundRect:hge,insertArrowHead:dOe,insertArrowFilledHead:pOe,insertSequenceNumber:gOe,insertArrowCrossHead:fOe,insertDatabaseIcon:cOe,insertComputerIcon:hOe,insertClockIcon:uOe,getTextObj:uge,getNoteRect:mOe,fixLifeLineHeights:cge,sanitizeUrl:oge.sanitizeUrl},Ae={},Je={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:l(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},"getHeight"),clear:l(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:l(function(t){this.boxes.push(t)},"addBox"),addActor:l(function(t){this.actors.push(t)},"addActor"),addLoop:l(function(t){this.loops.push(t)},"addLoop"),addMessage:l(function(t){this.messages.push(t)},"addMessage"),addNote:l(function(t){this.notes.push(t)},"addNote"),lastActor:l(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:l(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:l(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:l(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:l(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,gge(ve())},"init"),updateVal:l(function(t,e,r,i){t[e]===void 0?t[e]=r:t[e]=i(r,t[e])},"updateVal"),updateBounds:l(function(t,e,r,i){let n=this,a=0;function s(o){return l(function(h){a++;let u=n.sequenceItems.length-a+1;n.updateVal(h,"starty",e-u*Ae.boxMargin,Math.min),n.updateVal(h,"stopy",i+u*Ae.boxMargin,Math.max),n.updateVal(Je.data,"startx",t-u*Ae.boxMargin,Math.min),n.updateVal(Je.data,"stopx",r+u*Ae.boxMargin,Math.max),o!=="activation"&&(n.updateVal(h,"startx",t-u*Ae.boxMargin,Math.min),n.updateVal(h,"stopx",r+u*Ae.boxMargin,Math.max),n.updateVal(Je.data,"starty",e-u*Ae.boxMargin,Math.min),n.updateVal(Je.data,"stopy",i+u*Ae.boxMargin,Math.max))},"updateItemBounds")}l(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:l(function(t,e,r,i){let n=Ke.getMin(t,r),a=Ke.getMax(t,r),s=Ke.getMin(e,i),o=Ke.getMax(e,i);this.updateVal(Je.data,"startx",n,Math.min),this.updateVal(Je.data,"starty",s,Math.min),this.updateVal(Je.data,"stopx",a,Math.max),this.updateVal(Je.data,"stopy",o,Math.max),this.updateBounds(n,s,a,o)},"insert"),newActivation:l(function(t,e,r){let i=r.get(t.from),n=MT(t.from).length||0,a=i.x+i.width/2+(n-1)*Ae.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+Ae.activationWidth,stopy:void 0,actor:t.from,anchored:ji.anchorElement(e)})},"newActivation"),endActivation:l(function(t){let e=this.activations.map(function(r){return r.actor}).lastIndexOf(t.from);return this.activations.splice(e,1)[0]},"endActivation"),createLoop:l(function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},"createLoop"),newLoop:l(function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},"newLoop"),endLoop:l(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:l(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:l(function(t){let e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:Je.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},"addSectionToLoop"),saveVerticalPos:l(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:l(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:l(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=Ke.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:l(function(){return this.verticalPos},"getVerticalPos"),getBounds:l(function(){return{bounds:this.data,models:this.models}},"getBounds")},vOe=l(async function(t,e){Je.bumpVerticalPos(Ae.boxMargin),e.height=Ae.boxMargin,e.starty=Je.getVerticalPos();let r=Jn();r.x=e.startx,r.y=e.starty,r.width=e.width||Ae.width,r.class="note";let i=t.append("g"),n=ji.drawRect(i,r),a=gw();a.x=e.startx,a.y=e.starty,a.width=r.width,a.dy="1em",a.text=e.message,a.class="noteText",a.fontFamily=Ae.noteFontFamily,a.fontSize=Ae.noteFontSize,a.fontWeight=Ae.noteFontWeight,a.anchor=Ae.noteAlign,a.textMargin=Ae.noteMargin,a.valign="center";let s=li(a.text)?await IT(i,a):hy(i,a),o=Math.round(s.map(h=>(h._groups||h)[0][0].getBBox().height).reduce((h,u)=>h+u));n.attr("height",o+2*Ae.noteMargin),e.height+=o+2*Ae.noteMargin,Je.bumpVerticalPos(o+2*Ae.noteMargin),e.stopy=e.starty+o+2*Ae.noteMargin,e.stopx=e.startx+r.width,Je.insert(e.startx,e.starty,e.stopx,e.stopy),Je.models.addNote(e)},"drawNote"),t0=l(t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),"messageFont"),ly=l(t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),"noteFont"),uM=l(t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}),"actorFont");l(dge,"boundMessage");bOe=l(async function(t,e,r,i){let{startx:n,stopx:a,starty:s,message:o,type:h,sequenceIndex:u,sequenceVisible:d}=e,p=$t.calculateTextDimensions(o,t0(Ae)),g=gw();g.x=n,g.y=s+10,g.width=a-n,g.class="messageText",g.dy="1em",g.text=o,g.fontFamily=Ae.messageFontFamily,g.fontSize=Ae.messageFontSize,g.fontWeight=Ae.messageFontWeight,g.anchor=Ae.messageAlign,g.valign="center",g.textMargin=Ae.wrapPadding,g.tspan=!1,li(g.text)?await IT(t,g,{startx:n,stopx:a,starty:r}):hy(t,g);let f=p.width,m;n===a?Ae.rightAngles?m=t.append("path").attr("d",`M  ${n},${r} H ${n+Ke.getMax(Ae.width/2,f/2)} V ${r+25} H ${n}`):m=t.append("path").attr("d","M "+n+","+r+" C "+(n+60)+","+(r-10)+" "+(n+60)+","+(r+30)+" "+n+","+(r+20)):(m=t.append("line"),m.attr("x1",n),m.attr("y1",r),m.attr("x2",a),m.attr("y2",r)),h===i.db.LINETYPE.DOTTED||h===i.db.LINETYPE.DOTTED_CROSS||h===i.db.LINETYPE.DOTTED_POINT||h===i.db.LINETYPE.DOTTED_OPEN||h===i.db.LINETYPE.BIDIRECTIONAL_DOTTED?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let y="";Ae.arrowMarkerAbsolute&&(y=Tu(!0)),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),(h===i.db.LINETYPE.SOLID||h===i.db.LINETYPE.DOTTED)&&m.attr("marker-end","url("+y+"#arrowhead)"),(h===i.db.LINETYPE.BIDIRECTIONAL_SOLID||h===i.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(m.attr("marker-start","url("+y+"#arrowhead)"),m.attr("marker-end","url("+y+"#arrowhead)")),(h===i.db.LINETYPE.SOLID_POINT||h===i.db.LINETYPE.DOTTED_POINT)&&m.attr("marker-end","url("+y+"#filled-head)"),(h===i.db.LINETYPE.SOLID_CROSS||h===i.db.LINETYPE.DOTTED_CROSS)&&m.attr("marker-end","url("+y+"#crosshead)"),(d||Ae.showSequenceNumbers)&&((h===i.db.LINETYPE.BIDIRECTIONAL_SOLID||h===i.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(n<a?m.attr("x1",n+12):m.attr("x1",n+6)),t.append("line").attr("x1",n).attr("y1",r).attr("x2",n).attr("y2",r).attr("stroke-width",0).attr("marker-start","url("+y+"#sequencenumber)"),t.append("text").attr("x",n).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},"drawMessage"),xOe=l(function(t,e,r,i,n,a,s){let o=0,h=0,u,d=0;for(let p of i){let g=e.get(p),f=g.box;u&&u!=f&&(s||Je.models.addBox(u),h+=Ae.boxMargin+u.margin),f&&f!=u&&(s||(f.x=o+h,f.y=n),h+=f.margin),g.width=g.width||Ae.width,g.height=Ke.getMax(g.height||Ae.height,Ae.height),g.margin=g.margin||Ae.actorMargin,d=Ke.getMax(d,g.height),r.get(g.name)&&(h+=g.width/2),g.x=o+h,g.starty=Je.getVerticalPos(),Je.insert(g.x,n,g.x+g.width,g.height),o+=g.width+h,g.box&&(g.box.width=o+f.margin-g.box.x),h=g.margin,u=g.box,Je.models.addActor(g)}u&&!s&&Je.models.addBox(u),Je.bumpVerticalPos(d)},"addActorRenderingData"),dM=l(async function(t,e,r,i){if(i){let n=0;Je.bumpVerticalPos(Ae.boxMargin*2);for(let a of r){let s=e.get(a);s.stopy||(s.stopy=Je.getVerticalPos());let o=await ji.drawActor(t,s,Ae,!0);n=Ke.getMax(n,o)}Je.bumpVerticalPos(n+Ae.boxMargin)}else for(let n of r){let a=e.get(n);await ji.drawActor(t,a,Ae,!1)}},"drawActors"),pge=l(function(t,e,r,i){let n=0,a=0;for(let s of r){let o=e.get(s),h=kOe(o),u=ji.drawPopup(t,o,h,Ae,Ae.forceMenus,i);u.height>n&&(n=u.height),u.width+o.x>a&&(a=u.width+o.x)}return{maxHeight:n,maxWidth:a}},"drawActorsPopup"),gge=l(function(t){oi(Ae,t),t.fontFamily&&(Ae.actorFontFamily=Ae.noteFontFamily=Ae.messageFontFamily=t.fontFamily),t.fontSize&&(Ae.actorFontSize=Ae.noteFontSize=Ae.messageFontSize=t.fontSize),t.fontWeight&&(Ae.actorFontWeight=Ae.noteFontWeight=Ae.messageFontWeight=t.fontWeight)},"setConf"),MT=l(function(t){return Je.activations.filter(function(e){return e.actor===t})},"actorActivations"),sge=l(function(t,e){let r=e.get(t),i=MT(t),n=i.reduce(function(s,o){return Ke.getMin(s,o.startx)},r.x+r.width/2-1),a=i.reduce(function(s,o){return Ke.getMax(s,o.stopx)},r.x+r.width/2+1);return[n,a]},"activationBounds");l(xo,"adjustLoopHeightForWrap");l(fge,"adjustCreatedDestroyedData");wOe=l(async function(t,e,r,i){let{securityLevel:n,sequence:a}=ve();Ae=a;let s;n==="sandbox"&&(s=Ue("#i"+e));let o=n==="sandbox"?Ue(s.nodes()[0].contentDocument.body):Ue("body"),h=n==="sandbox"?s.nodes()[0].contentDocument:document;Je.init(),ee.debug(i.db);let u=n==="sandbox"?o.select(`[id="${e}"]`):Ue(`[id="${e}"]`),d=i.db.getActors(),p=i.db.getCreatedActors(),g=i.db.getDestroyedActors(),f=i.db.getBoxes(),m=i.db.getActorKeys(),y=i.db.getMessages(),b=i.db.getDiagramTitle(),v=i.db.hasAtLeastOneBox(),x=i.db.hasAtLeastOneBoxWithTitle(),w=await mge(d,y,i);if(Ae.height=await yge(d,w,f),ji.insertComputerIcon(u),ji.insertDatabaseIcon(u),ji.insertClockIcon(u),v&&(Je.bumpVerticalPos(Ae.boxMargin),x&&Je.bumpVerticalPos(f[0].textMaxHeight)),Ae.hideUnusedParticipants===!0){let A=new Set;y.forEach(B=>{A.add(B.from),A.add(B.to)}),m=m.filter(B=>A.has(B))}xOe(u,d,p,m,0,y,!1);let k=await COe(y,d,w,i);ji.insertArrowHead(u),ji.insertArrowCrossHead(u),ji.insertArrowFilledHead(u),ji.insertSequenceNumber(u);function T(A,B){let P=Je.endActivation(A);P.starty+18>B&&(P.starty=B-6,B+=12),ji.drawActivation(u,P,B,Ae,MT(A.from).length),Je.insert(P.startx,B-10,P.stopx,B)}l(T,"activeEnd");let S=1,C=1,E=[],L=[],I=0;for(let A of y){let B,P,z;switch(A.type){case i.db.LINETYPE.NOTE:Je.resetVerticalPos(),P=A.noteModel,await vOe(u,P);break;case i.db.LINETYPE.ACTIVE_START:Je.newActivation(A,u,d);break;case i.db.LINETYPE.ACTIVE_END:T(A,Je.getVerticalPos());break;case i.db.LINETYPE.LOOP_START:xo(k,A,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,q=>Je.newLoop(q));break;case i.db.LINETYPE.LOOP_END:B=Je.endLoop(),await ji.drawLoop(u,B,"loop",Ae),Je.bumpVerticalPos(B.stopy-Je.getVerticalPos()),Je.models.addLoop(B);break;case i.db.LINETYPE.RECT_START:xo(k,A,Ae.boxMargin,Ae.boxMargin,q=>Je.newLoop(void 0,q.message));break;case i.db.LINETYPE.RECT_END:B=Je.endLoop(),L.push(B),Je.models.addLoop(B),Je.bumpVerticalPos(B.stopy-Je.getVerticalPos());break;case i.db.LINETYPE.OPT_START:xo(k,A,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,q=>Je.newLoop(q));break;case i.db.LINETYPE.OPT_END:B=Je.endLoop(),await ji.drawLoop(u,B,"opt",Ae),Je.bumpVerticalPos(B.stopy-Je.getVerticalPos()),Je.models.addLoop(B);break;case i.db.LINETYPE.ALT_START:xo(k,A,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,q=>Je.newLoop(q));break;case i.db.LINETYPE.ALT_ELSE:xo(k,A,Ae.boxMargin+Ae.boxTextMargin,Ae.boxMargin,q=>Je.addSectionToLoop(q));break;case i.db.LINETYPE.ALT_END:B=Je.endLoop(),await ji.drawLoop(u,B,"alt",Ae),Je.bumpVerticalPos(B.stopy-Je.getVerticalPos()),Je.models.addLoop(B);break;case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.PAR_OVER_START:xo(k,A,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,q=>Je.newLoop(q)),Je.saveVerticalPos();break;case i.db.LINETYPE.PAR_AND:xo(k,A,Ae.boxMargin+Ae.boxTextMargin,Ae.boxMargin,q=>Je.addSectionToLoop(q));break;case i.db.LINETYPE.PAR_END:B=Je.endLoop(),await ji.drawLoop(u,B,"par",Ae),Je.bumpVerticalPos(B.stopy-Je.getVerticalPos()),Je.models.addLoop(B);break;case i.db.LINETYPE.AUTONUMBER:S=A.message.start||S,C=A.message.step||C,A.message.visible?i.db.enableSequenceNumbers():i.db.disableSequenceNumbers();break;case i.db.LINETYPE.CRITICAL_START:xo(k,A,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,q=>Je.newLoop(q));break;case i.db.LINETYPE.CRITICAL_OPTION:xo(k,A,Ae.boxMargin+Ae.boxTextMargin,Ae.boxMargin,q=>Je.addSectionToLoop(q));break;case i.db.LINETYPE.CRITICAL_END:B=Je.endLoop(),await ji.drawLoop(u,B,"critical",Ae),Je.bumpVerticalPos(B.stopy-Je.getVerticalPos()),Je.models.addLoop(B);break;case i.db.LINETYPE.BREAK_START:xo(k,A,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,q=>Je.newLoop(q));break;case i.db.LINETYPE.BREAK_END:B=Je.endLoop(),await ji.drawLoop(u,B,"break",Ae),Je.bumpVerticalPos(B.stopy-Je.getVerticalPos()),Je.models.addLoop(B);break;default:try{z=A.msgModel,z.starty=Je.getVerticalPos(),z.sequenceIndex=S,z.sequenceVisible=i.db.showSequenceNumbers();let q=await dge(u,z);fge(A,z,q,I,d,p,g),E.push({messageModel:z,lineStartY:q}),Je.models.addMessage(z)}catch(q){ee.error("error while drawing message",q)}}[i.db.LINETYPE.SOLID_OPEN,i.db.LINETYPE.DOTTED_OPEN,i.db.LINETYPE.SOLID,i.db.LINETYPE.DOTTED,i.db.LINETYPE.SOLID_CROSS,i.db.LINETYPE.DOTTED_CROSS,i.db.LINETYPE.SOLID_POINT,i.db.LINETYPE.DOTTED_POINT,i.db.LINETYPE.BIDIRECTIONAL_SOLID,i.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(A.type)&&(S=S+C),I++}ee.debug("createdActors",p),ee.debug("destroyedActors",g),await dM(u,d,m,!1);for(let A of E)await bOe(u,A.messageModel,A.lineStartY,i);Ae.mirrorActors&&await dM(u,d,m,!0),L.forEach(A=>ji.drawBackgroundRect(u,A)),cge(u,d,m,Ae);for(let A of Je.models.boxes){A.height=Je.getVerticalPos()-A.y,Je.insert(A.x,A.y,A.x+A.width,A.height);let B=Ae.boxMargin*2;A.startx=A.x-B,A.starty=A.y-B*.25,A.stopx=A.startx+A.width+2*B,A.stopy=A.starty+A.height+B*.75,A.stroke="rgb(0,0,0, 0.5)",ji.drawBox(u,A,Ae)}v&&Je.bumpVerticalPos(Ae.boxMargin);let M=pge(u,d,m,h),{bounds:N}=Je.getBounds();N.startx===void 0&&(N.startx=0),N.starty===void 0&&(N.starty=0),N.stopx===void 0&&(N.stopx=0),N.stopy===void 0&&(N.stopy=0);let $=N.stopy-N.starty;$<M.maxHeight&&($=M.maxHeight);let _=$+2*Ae.diagramMarginY;Ae.mirrorActors&&(_=_-Ae.boxMargin+Ae.bottomMarginAdj);let D=N.stopx-N.startx;D<M.maxWidth&&(D=M.maxWidth);let R=D+2*Ae.diagramMarginX;b&&u.append("text").text(b).attr("x",(N.stopx-N.startx)/2-2*Ae.diagramMarginX).attr("y",-25),Yr(u,_,R,Ae.useMaxWidth);let O=b?40:0;u.attr("viewBox",N.startx-Ae.diagramMarginX+" -"+(Ae.diagramMarginY+O)+" "+R+" "+(_+O)),ee.debug("models:",Je.models)},"draw");l(mge,"getMaxMessageWidthPerActor");kOe=l(function(t){let e=0,r=uM(Ae);for(let i in t.links){let n=$t.calculateTextDimensions(i,r).width+2*Ae.wrapPadding+2*Ae.boxMargin;e<n&&(e=n)}return e},"getRequiredPopupWidth");l(yge,"calculateActorMargins");TOe=l(async function(t,e,r){let i=e.get(t.from),n=e.get(t.to),a=i.x,s=n.x,o=t.wrap&&t.message,h=li(t.message)?await up(t.message,ve()):$t.calculateTextDimensions(o?$t.wrapLabel(t.message,Ae.width,ly(Ae)):t.message,ly(Ae)),u={width:o?Ae.width:Ke.getMax(Ae.width,h.width+2*Ae.noteMargin),height:0,startx:i.x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===r.db.PLACEMENT.RIGHTOF?(u.width=o?Ke.getMax(Ae.width,h.width):Ke.getMax(i.width/2+n.width/2,h.width+2*Ae.noteMargin),u.startx=a+(i.width+Ae.actorMargin)/2):t.placement===r.db.PLACEMENT.LEFTOF?(u.width=o?Ke.getMax(Ae.width,h.width+2*Ae.noteMargin):Ke.getMax(i.width/2+n.width/2,h.width+2*Ae.noteMargin),u.startx=a-u.width+(i.width-Ae.actorMargin)/2):t.to===t.from?(h=$t.calculateTextDimensions(o?$t.wrapLabel(t.message,Ke.getMax(Ae.width,i.width),ly(Ae)):t.message,ly(Ae)),u.width=o?Ke.getMax(Ae.width,i.width):Ke.getMax(i.width,Ae.width,h.width+2*Ae.noteMargin),u.startx=a+(i.width-u.width)/2):(u.width=Math.abs(a+i.width/2-(s+n.width/2))+Ae.actorMargin,u.startx=a<s?a+i.width/2-Ae.actorMargin/2:s+n.width/2-Ae.actorMargin/2),o&&(u.message=$t.wrapLabel(t.message,u.width-2*Ae.wrapPadding,ly(Ae))),ee.debug(`NM:[${u.startx},${u.stopx},${u.starty},${u.stopy}:${u.width},${u.height}=${t.message}]`),u},"buildNoteModel"),EOe=l(function(t,e,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type))return{};let[i,n]=sge(t.from,e),[a,s]=sge(t.to,e),o=i<=a,h=o?n:i,u=o?a:s,d=Math.abs(a-s)>2,p=l(y=>o?-y:y,"adjustValue");t.from===t.to?u=h:(t.activate&&!d&&(u+=p(Ae.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(t.type)||(u+=p(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(t.type)&&(h-=p(3)));let g=[i,n,a,s],f=Math.abs(h-u);t.wrap&&t.message&&(t.message=$t.wrapLabel(t.message,Ke.getMax(f+2*Ae.wrapPadding,Ae.width),t0(Ae)));let m=$t.calculateTextDimensions(t.message,t0(Ae));return{width:Ke.getMax(t.wrap?0:m.width+2*Ae.wrapPadding,f+2*Ae.wrapPadding,Ae.width),height:0,startx:h,stopx:u,starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,g),toBounds:Math.max.apply(null,g)}},"buildMessageModel"),COe=l(async function(t,e,r,i){let n={},a=[],s,o,h;for(let u of t){switch(u.type){case i.db.LINETYPE.LOOP_START:case i.db.LINETYPE.ALT_START:case i.db.LINETYPE.OPT_START:case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.PAR_OVER_START:case i.db.LINETYPE.CRITICAL_START:case i.db.LINETYPE.BREAK_START:a.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case i.db.LINETYPE.ALT_ELSE:case i.db.LINETYPE.PAR_AND:case i.db.LINETYPE.CRITICAL_OPTION:u.message&&(s=a.pop(),n[s.id]=s,n[u.id]=s,a.push(s));break;case i.db.LINETYPE.LOOP_END:case i.db.LINETYPE.ALT_END:case i.db.LINETYPE.OPT_END:case i.db.LINETYPE.PAR_END:case i.db.LINETYPE.CRITICAL_END:case i.db.LINETYPE.BREAK_END:s=a.pop(),n[s.id]=s;break;case i.db.LINETYPE.ACTIVE_START:{let d=e.get(u.from?u.from:u.to.actor),p=MT(u.from?u.from:u.to.actor).length,g=d.x+d.width/2+(p-1)*Ae.activationWidth/2,f={startx:g,stopx:g+Ae.activationWidth,actor:u.from,enabled:!0};Je.activations.push(f)}break;case i.db.LINETYPE.ACTIVE_END:{let d=Je.activations.map(p=>p.actor).lastIndexOf(u.from);Je.activations.splice(d,1).splice(0,1)}break}u.placement!==void 0?(o=await TOe(u,e,i),u.noteModel=o,a.forEach(d=>{s=d,s.from=Ke.getMin(s.from,o.startx),s.to=Ke.getMax(s.to,o.startx+o.width),s.width=Ke.getMax(s.width,Math.abs(s.from-s.to))-Ae.labelBoxWidth})):(h=EOe(u,e,i),u.msgModel=h,h.startx&&h.stopx&&a.length>0&&a.forEach(d=>{if(s=d,h.startx===h.stopx){let p=e.get(u.from),g=e.get(u.to);s.from=Ke.getMin(p.x-h.width/2,p.x-p.width/2,s.from),s.to=Ke.getMax(g.x+h.width/2,g.x+p.width/2,s.to),s.width=Ke.getMax(s.width,Math.abs(s.to-s.from))-Ae.labelBoxWidth}else s.from=Ke.getMin(h.startx,s.from),s.to=Ke.getMax(h.stopx,s.to),s.width=Ke.getMax(s.width,h.width)-Ae.labelBoxWidth}))}return Je.activations=[],ee.debug("Loop type widths:",n),n},"calculateLoopBounds"),SOe={bounds:Je,drawActors:dM,drawActorsPopup:pge,setConf:gge,draw:wOe},_Oe={parser:qMe,get db(){return new VMe},renderer:SOe,styles:HMe,init:l(t=>{t.sequence||(t.sequence={}),t.wrap&&(t.sequence.wrap=t.wrap,U2({sequence:{wrap:t.wrap}}))},"init")}});var pM,$T,xge,uy,wge,OT,kge,r0,dy,BT,AOe,PT,LOe,NOe,IOe,FT,gM=wt(()=>{Mh();mo();Ps();Ms();Hr();hr();lr();kt();pM=(function(){var t=l(function(De,ye,Pe,ue){for(Pe=Pe||{},ue=De.length;ue--;Pe[De[ue]]=ye);return Pe},"o"),e=[1,18],r=[1,19],i=[1,20],n=[1,41],a=[1,42],s=[1,26],o=[1,24],h=[1,25],u=[1,32],d=[1,33],p=[1,34],g=[1,45],f=[1,35],m=[1,36],y=[1,37],b=[1,38],v=[1,27],x=[1,28],w=[1,29],k=[1,30],T=[1,31],S=[1,44],C=[1,46],E=[1,43],L=[1,47],I=[1,9],M=[1,8,9],N=[1,58],$=[1,59],_=[1,60],D=[1,61],R=[1,62],O=[1,63],A=[1,64],B=[1,8,9,41],P=[1,76],z=[1,8,9,12,13,22,39,41,44,68,69,70,71,72,73,74,79,81],q=[1,8,9,12,13,18,20,22,39,41,44,50,60,68,69,70,71,72,73,74,79,81,86,100,102,103],K=[13,60,86,100,102,103],W=[13,60,73,74,86,100,102,103],ae=[13,60,68,69,70,71,72,86,100,102,103],ie=[1,100],se=[1,117],oe=[1,113],Y=[1,109],Q=[1,115],j=[1,110],H=[1,111],J=[1,112],he=[1,114],X=[1,116],fe=[22,48,60,61,82,86,87,88,89,90],V=[1,8,9,39,41,44],Se=[1,8,9,22],ce=[1,145],Le=[1,8,9,61],$e=[1,8,9,22,48,60,61,82,86,87,88,89,90],je={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,classLiteralName:17,DOT:18,className:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,emptyBody:47,SPACE:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,NOTE_FOR:54,noteText:55,NOTE:56,CLASSDEF:57,classList:58,stylesOpt:59,ALPHA:60,COMMA:61,direction_tb:62,direction_bt:63,direction_rl:64,direction_lr:65,relationType:66,lineType:67,AGGREGATION:68,EXTENSION:69,COMPOSITION:70,DEPENDENCY:71,LOLLIPOP:72,LINE:73,DOTTED_LINE:74,CALLBACK:75,LINK:76,LINK_TARGET:77,CLICK:78,CALLBACK_NAME:79,CALLBACK_ARGS:80,HREF:81,STYLE:82,CSSCLASS:83,style:84,styleComponent:85,NUM:86,COLON:87,UNIT:88,BRKT:89,PCT:90,commentToken:91,textToken:92,graphCodeTokens:93,textNoTagsToken:94,TAGSTART:95,TAGEND:96,"==":97,"--":98,DEFAULT:99,MINUS:100,keywords:101,UNICODE_TEXT:102,BQUOTE_STR:103,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",18:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",48:"SPACE",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"NOTE_FOR",56:"NOTE",57:"CLASSDEF",60:"ALPHA",61:"COMMA",62:"direction_tb",63:"direction_bt",64:"direction_rl",65:"direction_lr",68:"AGGREGATION",69:"EXTENSION",70:"COMPOSITION",71:"DEPENDENCY",72:"LOLLIPOP",73:"LINE",74:"DOTTED_LINE",75:"CALLBACK",76:"LINK",77:"LINK_TARGET",78:"CLICK",79:"CALLBACK_NAME",80:"CALLBACK_ARGS",81:"HREF",82:"STYLE",83:"CSSCLASS",86:"NUM",87:"COLON",88:"UNIT",89:"BRKT",90:"PCT",93:"graphCodeTokens",95:"TAGSTART",96:"TAGEND",97:"==",98:"--",99:"DEFAULT",100:"MINUS",101:"keywords",102:"UNICODE_TEXT",103:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,1],[15,3],[15,2],[19,1],[19,3],[19,1],[19,2],[19,2],[19,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,3],[24,6],[43,2],[43,3],[47,0],[47,2],[47,2],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[58,1],[58,3],[32,1],[32,1],[32,1],[32,1],[53,3],[53,2],[53,2],[53,1],[66,1],[66,1],[66,1],[66,1],[66,1],[67,1],[67,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[59,1],[59,3],[84,1],[84,2],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[91,1],[91,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[94,1],[94,1],[94,1],[94,1],[16,1],[16,1],[16,1],[16,1],[17,1],[55,1]],performAction:l(function(De,ye,Pe,ue,Ve,Z,Ne){var F=Z.length-1;switch(Ve){case 8:this.$=Z[F-1];break;case 9:case 10:case 13:case 15:this.$=Z[F];break;case 11:case 14:this.$=Z[F-2]+"."+Z[F];break;case 12:case 16:this.$=Z[F-1]+Z[F];break;case 17:case 18:this.$=Z[F-1]+"~"+Z[F]+"~";break;case 19:ue.addRelation(Z[F]);break;case 20:Z[F-1].title=ue.cleanupLabel(Z[F]),ue.addRelation(Z[F-1]);break;case 31:this.$=Z[F].trim(),ue.setAccTitle(this.$);break;case 32:case 33:this.$=Z[F].trim(),ue.setAccDescription(this.$);break;case 34:ue.addClassesToNamespace(Z[F-3],Z[F-1]);break;case 35:ue.addClassesToNamespace(Z[F-4],Z[F-1]);break;case 36:this.$=Z[F],ue.addNamespace(Z[F]);break;case 37:this.$=[Z[F]];break;case 38:this.$=[Z[F-1]];break;case 39:Z[F].unshift(Z[F-2]),this.$=Z[F];break;case 41:ue.setCssClass(Z[F-2],Z[F]);break;case 42:ue.addMembers(Z[F-3],Z[F-1]);break;case 44:ue.setCssClass(Z[F-5],Z[F-3]),ue.addMembers(Z[F-5],Z[F-1]);break;case 45:this.$=Z[F],ue.addClass(Z[F]);break;case 46:this.$=Z[F-1],ue.addClass(Z[F-1]),ue.setClassLabel(Z[F-1],Z[F]);break;case 50:ue.addAnnotation(Z[F],Z[F-2]);break;case 51:case 64:this.$=[Z[F]];break;case 52:Z[F].push(Z[F-1]),this.$=Z[F];break;case 53:break;case 54:ue.addMember(Z[F-1],ue.cleanupLabel(Z[F]));break;case 55:break;case 56:break;case 57:this.$={id1:Z[F-2],id2:Z[F],relation:Z[F-1],relationTitle1:"none",relationTitle2:"none"};break;case 58:this.$={id1:Z[F-3],id2:Z[F],relation:Z[F-1],relationTitle1:Z[F-2],relationTitle2:"none"};break;case 59:this.$={id1:Z[F-3],id2:Z[F],relation:Z[F-2],relationTitle1:"none",relationTitle2:Z[F-1]};break;case 60:this.$={id1:Z[F-4],id2:Z[F],relation:Z[F-2],relationTitle1:Z[F-3],relationTitle2:Z[F-1]};break;case 61:ue.addNote(Z[F],Z[F-1]);break;case 62:ue.addNote(Z[F]);break;case 63:this.$=Z[F-2],ue.defineClass(Z[F-1],Z[F]);break;case 65:this.$=Z[F-2].concat([Z[F]]);break;case 66:ue.setDirection("TB");break;case 67:ue.setDirection("BT");break;case 68:ue.setDirection("RL");break;case 69:ue.setDirection("LR");break;case 70:this.$={type1:Z[F-2],type2:Z[F],lineType:Z[F-1]};break;case 71:this.$={type1:"none",type2:Z[F],lineType:Z[F-1]};break;case 72:this.$={type1:Z[F-1],type2:"none",lineType:Z[F]};break;case 73:this.$={type1:"none",type2:"none",lineType:Z[F]};break;case 74:this.$=ue.relationType.AGGREGATION;break;case 75:this.$=ue.relationType.EXTENSION;break;case 76:this.$=ue.relationType.COMPOSITION;break;case 77:this.$=ue.relationType.DEPENDENCY;break;case 78:this.$=ue.relationType.LOLLIPOP;break;case 79:this.$=ue.lineType.LINE;break;case 80:this.$=ue.lineType.DOTTED_LINE;break;case 81:case 87:this.$=Z[F-2],ue.setClickEvent(Z[F-1],Z[F]);break;case 82:case 88:this.$=Z[F-3],ue.setClickEvent(Z[F-2],Z[F-1]),ue.setTooltip(Z[F-2],Z[F]);break;case 83:this.$=Z[F-2],ue.setLink(Z[F-1],Z[F]);break;case 84:this.$=Z[F-3],ue.setLink(Z[F-2],Z[F-1],Z[F]);break;case 85:this.$=Z[F-3],ue.setLink(Z[F-2],Z[F-1]),ue.setTooltip(Z[F-2],Z[F]);break;case 86:this.$=Z[F-4],ue.setLink(Z[F-3],Z[F-2],Z[F]),ue.setTooltip(Z[F-3],Z[F-1]);break;case 89:this.$=Z[F-3],ue.setClickEvent(Z[F-2],Z[F-1],Z[F]);break;case 90:this.$=Z[F-4],ue.setClickEvent(Z[F-3],Z[F-2],Z[F-1]),ue.setTooltip(Z[F-3],Z[F]);break;case 91:this.$=Z[F-3],ue.setLink(Z[F-2],Z[F]);break;case 92:this.$=Z[F-4],ue.setLink(Z[F-3],Z[F-1],Z[F]);break;case 93:this.$=Z[F-4],ue.setLink(Z[F-3],Z[F-1]),ue.setTooltip(Z[F-3],Z[F]);break;case 94:this.$=Z[F-5],ue.setLink(Z[F-4],Z[F-2],Z[F]),ue.setTooltip(Z[F-4],Z[F-1]);break;case 95:this.$=Z[F-2],ue.setCssStyle(Z[F-1],Z[F]);break;case 96:ue.setCssClass(Z[F-1],Z[F]);break;case 97:this.$=[Z[F]];break;case 98:Z[F-2].push(Z[F]),this.$=Z[F-2];break;case 100:this.$=Z[F-1]+Z[F];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:e,35:r,37:i,38:22,42:n,43:23,46:a,49:s,51:o,52:h,54:u,56:d,57:p,60:g,62:f,63:m,64:y,65:b,75:v,76:x,78:w,82:k,83:T,86:S,100:C,102:E,103:L},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},t(I,[2,5],{8:[1,48]}),{8:[1,49]},t(M,[2,19],{22:[1,50]}),t(M,[2,21]),t(M,[2,22]),t(M,[2,23]),t(M,[2,24]),t(M,[2,25]),t(M,[2,26]),t(M,[2,27]),t(M,[2,28]),t(M,[2,29]),t(M,[2,30]),{34:[1,51]},{36:[1,52]},t(M,[2,33]),t(M,[2,53],{53:53,66:56,67:57,13:[1,54],22:[1,55],68:N,69:$,70:_,71:D,72:R,73:O,74:A}),{39:[1,65]},t(B,[2,40],{39:[1,67],44:[1,66]}),t(M,[2,55]),t(M,[2,56]),{16:68,60:g,86:S,100:C,102:E},{16:39,17:40,19:69,60:g,86:S,100:C,102:E,103:L},{16:39,17:40,19:70,60:g,86:S,100:C,102:E,103:L},{16:39,17:40,19:71,60:g,86:S,100:C,102:E,103:L},{60:[1,72]},{13:[1,73]},{16:39,17:40,19:74,60:g,86:S,100:C,102:E,103:L},{13:P,55:75},{58:77,60:[1,78]},t(M,[2,66]),t(M,[2,67]),t(M,[2,68]),t(M,[2,69]),t(z,[2,13],{16:39,17:40,19:80,18:[1,79],20:[1,81],60:g,86:S,100:C,102:E,103:L}),t(z,[2,15],{20:[1,82]}),{15:83,16:84,17:85,60:g,86:S,100:C,102:E,103:L},{16:39,17:40,19:86,60:g,86:S,100:C,102:E,103:L},t(q,[2,123]),t(q,[2,124]),t(q,[2,125]),t(q,[2,126]),t([1,8,9,12,13,20,22,39,41,44,68,69,70,71,72,73,74,79,81],[2,127]),t(I,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,19:21,38:22,43:23,16:39,17:40,5:87,33:e,35:r,37:i,42:n,46:a,49:s,51:o,52:h,54:u,56:d,57:p,60:g,62:f,63:m,64:y,65:b,75:v,76:x,78:w,82:k,83:T,86:S,100:C,102:E,103:L}),{5:88,10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:e,35:r,37:i,38:22,42:n,43:23,46:a,49:s,51:o,52:h,54:u,56:d,57:p,60:g,62:f,63:m,64:y,65:b,75:v,76:x,78:w,82:k,83:T,86:S,100:C,102:E,103:L},t(M,[2,20]),t(M,[2,31]),t(M,[2,32]),{13:[1,90],16:39,17:40,19:89,60:g,86:S,100:C,102:E,103:L},{53:91,66:56,67:57,68:N,69:$,70:_,71:D,72:R,73:O,74:A},t(M,[2,54]),{67:92,73:O,74:A},t(K,[2,73],{66:93,68:N,69:$,70:_,71:D,72:R}),t(W,[2,74]),t(W,[2,75]),t(W,[2,76]),t(W,[2,77]),t(W,[2,78]),t(ae,[2,79]),t(ae,[2,80]),{8:[1,95],24:96,40:94,43:23,46:a},{16:97,60:g,86:S,100:C,102:E},{41:[1,99],45:98,51:ie},{50:[1,101]},{13:[1,102]},{13:[1,103]},{79:[1,104],81:[1,105]},{22:se,48:oe,59:106,60:Y,82:Q,84:107,85:108,86:j,87:H,88:J,89:he,90:X},{60:[1,118]},{13:P,55:119},t(M,[2,62]),t(M,[2,128]),{22:se,48:oe,59:120,60:Y,61:[1,121],82:Q,84:107,85:108,86:j,87:H,88:J,89:he,90:X},t(fe,[2,64]),{16:39,17:40,19:122,60:g,86:S,100:C,102:E,103:L},t(z,[2,16]),t(z,[2,17]),t(z,[2,18]),{39:[2,36]},{15:124,16:84,17:85,18:[1,123],39:[2,9],60:g,86:S,100:C,102:E,103:L},{39:[2,10]},t(V,[2,45],{11:125,12:[1,126]}),t(I,[2,7]),{9:[1,127]},t(Se,[2,57]),{16:39,17:40,19:128,60:g,86:S,100:C,102:E,103:L},{13:[1,130],16:39,17:40,19:129,60:g,86:S,100:C,102:E,103:L},t(K,[2,72],{66:131,68:N,69:$,70:_,71:D,72:R}),t(K,[2,71]),{41:[1,132]},{24:96,40:133,43:23,46:a},{8:[1,134],41:[2,37]},t(B,[2,41],{39:[1,135]}),{41:[1,136]},t(B,[2,43]),{41:[2,51],45:137,51:ie},{16:39,17:40,19:138,60:g,86:S,100:C,102:E,103:L},t(M,[2,81],{13:[1,139]}),t(M,[2,83],{13:[1,141],77:[1,140]}),t(M,[2,87],{13:[1,142],80:[1,143]}),{13:[1,144]},t(M,[2,95],{61:ce}),t(Le,[2,97],{85:146,22:se,48:oe,60:Y,82:Q,86:j,87:H,88:J,89:he,90:X}),t($e,[2,99]),t($e,[2,101]),t($e,[2,102]),t($e,[2,103]),t($e,[2,104]),t($e,[2,105]),t($e,[2,106]),t($e,[2,107]),t($e,[2,108]),t($e,[2,109]),t(M,[2,96]),t(M,[2,61]),t(M,[2,63],{61:ce}),{60:[1,147]},t(z,[2,14]),{15:148,16:84,17:85,60:g,86:S,100:C,102:E,103:L},{39:[2,12]},t(V,[2,46]),{13:[1,149]},{1:[2,4]},t(Se,[2,59]),t(Se,[2,58]),{16:39,17:40,19:150,60:g,86:S,100:C,102:E,103:L},t(K,[2,70]),t(M,[2,34]),{41:[1,151]},{24:96,40:152,41:[2,38],43:23,46:a},{45:153,51:ie},t(B,[2,42]),{41:[2,52]},t(M,[2,50]),t(M,[2,82]),t(M,[2,84]),t(M,[2,85],{77:[1,154]}),t(M,[2,88]),t(M,[2,89],{13:[1,155]}),t(M,[2,91],{13:[1,157],77:[1,156]}),{22:se,48:oe,60:Y,82:Q,84:158,85:108,86:j,87:H,88:J,89:he,90:X},t($e,[2,100]),t(fe,[2,65]),{39:[2,11]},{14:[1,159]},t(Se,[2,60]),t(M,[2,35]),{41:[2,39]},{41:[1,160]},t(M,[2,86]),t(M,[2,90]),t(M,[2,92]),t(M,[2,93],{77:[1,161]}),t(Le,[2,98],{85:146,22:se,48:oe,60:Y,82:Q,86:j,87:H,88:J,89:he,90:X}),t(V,[2,8]),t(B,[2,44]),t(M,[2,94])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,36],85:[2,10],124:[2,12],127:[2,4],137:[2,52],148:[2,11],152:[2,39]},parseError:l(function(De,ye){if(ye.recoverable)this.trace(De);else{var Pe=new Error(De);throw Pe.hash=ye,Pe}},"parseError"),parse:l(function(De){var ye=this,Pe=[0],ue=[],Ve=[null],Z=[],Ne=this.table,F="",te=0,ne=0,de=0,ge=2,xe=1,Ee=Z.slice.call(arguments,1),Te=Object.create(this.lexer),Fe={yy:{}};for(var We in this.yy)Object.prototype.hasOwnProperty.call(this.yy,We)&&(Fe.yy[We]=this.yy[We]);Te.setInput(De,Fe.yy),Fe.yy.lexer=Te,Fe.yy.parser=this,typeof Te.yylloc>"u"&&(Te.yylloc={});var it=Te.yylloc;Z.push(it);var Be=Te.options&&Te.options.ranges;typeof Fe.yy.parseError=="function"?this.parseError=Fe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ye(Bt){Pe.length=Pe.length-2*Bt,Ve.length=Ve.length-Bt,Z.length=Z.length-Bt}l(Ye,"popStack");function Ge(){var Bt;return Bt=ue.pop()||Te.lex()||xe,typeof Bt!="number"&&(Bt instanceof Array&&(ue=Bt,Bt=ue.pop()),Bt=ye.symbols_[Bt]||Bt),Bt}l(Ge,"lex");for(var ze,Xe,xt,st,at,Tt,et={},ct,pt,Qe,Ze;;){if(xt=Pe[Pe.length-1],this.defaultActions[xt]?st=this.defaultActions[xt]:((ze===null||typeof ze>"u")&&(ze=Ge()),st=Ne[xt]&&Ne[xt][ze]),typeof st>"u"||!st.length||!st[0]){var _t="";Ze=[];for(ct in Ne[xt])this.terminals_[ct]&&ct>ge&&Ze.push("'"+this.terminals_[ct]+"'");Te.showPosition?_t="Parse error on line "+(te+1)+`:
`+Te.showPosition()+`
Expecting `+Ze.join(", ")+", got '"+(this.terminals_[ze]||ze)+"'":_t="Parse error on line "+(te+1)+": Unexpected "+(ze==xe?"end of input":"'"+(this.terminals_[ze]||ze)+"'"),this.parseError(_t,{text:Te.match,token:this.terminals_[ze]||ze,line:Te.yylineno,loc:it,expected:Ze})}if(st[0]instanceof Array&&st.length>1)throw new Error("Parse Error: multiple actions possible at state: "+xt+", token: "+ze);switch(st[0]){case 1:Pe.push(ze),Ve.push(Te.yytext),Z.push(Te.yylloc),Pe.push(st[1]),ze=null,Xe?(ze=Xe,Xe=null):(ne=Te.yyleng,F=Te.yytext,te=Te.yylineno,it=Te.yylloc,de>0&&de--);break;case 2:if(pt=this.productions_[st[1]][1],et.$=Ve[Ve.length-pt],et._$={first_line:Z[Z.length-(pt||1)].first_line,last_line:Z[Z.length-1].last_line,first_column:Z[Z.length-(pt||1)].first_column,last_column:Z[Z.length-1].last_column},Be&&(et._$.range=[Z[Z.length-(pt||1)].range[0],Z[Z.length-1].range[1]]),Tt=this.performAction.apply(et,[F,ne,te,Fe.yy,st[1],Ve,Z].concat(Ee)),typeof Tt<"u")return Tt;pt&&(Pe=Pe.slice(0,-1*pt*2),Ve=Ve.slice(0,-1*pt),Z=Z.slice(0,-1*pt)),Pe.push(this.productions_[st[1]][0]),Ve.push(et.$),Z.push(et._$),Qe=Ne[Pe[Pe.length-2]][Pe[Pe.length-1]],Pe.push(Qe);break;case 3:return!0}}return!0},"parse")},qe=(function(){var De={EOF:1,parseError:l(function(ye,Pe){if(this.yy.parser)this.yy.parser.parseError(ye,Pe);else throw new Error(ye)},"parseError"),setInput:l(function(ye,Pe){return this.yy=Pe||this.yy||{},this._input=ye,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var ye=this._input[0];this.yytext+=ye,this.yyleng++,this.offset++,this.match+=ye,this.matched+=ye;var Pe=ye.match(/(?:\r\n?|\n).*/g);return Pe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ye},"input"),unput:l(function(ye){var Pe=ye.length,ue=ye.split(/(?:\r\n?|\n)/g);this._input=ye+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Pe),this.offset-=Pe;var Ve=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ue.length-1&&(this.yylineno-=ue.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ue?(ue.length===Ve.length?this.yylloc.first_column:0)+Ve[Ve.length-ue.length].length-ue[0].length:this.yylloc.first_column-Pe},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-Pe]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(ye){this.unput(this.match.slice(ye))},"less"),pastInput:l(function(){var ye=this.matched.substr(0,this.matched.length-this.match.length);return(ye.length>20?"...":"")+ye.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var ye=this.match;return ye.length<20&&(ye+=this._input.substr(0,20-ye.length)),(ye.substr(0,20)+(ye.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var ye=this.pastInput(),Pe=new Array(ye.length+1).join("-");return ye+this.upcomingInput()+`
`+Pe+"^"},"showPosition"),test_match:l(function(ye,Pe){var ue,Ve,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),Ve=ye[0].match(/(?:\r\n?|\n).*/g),Ve&&(this.yylineno+=Ve.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ve?Ve[Ve.length-1].length-Ve[Ve.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ye[0].length},this.yytext+=ye[0],this.match+=ye[0],this.matches=ye,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ye[0].length),this.matched+=ye[0],ue=this.performAction.call(this,this.yy,this,Pe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ue)return ue;if(this._backtrack){for(var Ne in Z)this[Ne]=Z[Ne];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ye,Pe,ue,Ve;this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),Ne=0;Ne<Z.length;Ne++)if(ue=this._input.match(this.rules[Z[Ne]]),ue&&(!Pe||ue[0].length>Pe[0].length)){if(Pe=ue,Ve=Ne,this.options.backtrack_lexer){if(ye=this.test_match(ue,Z[Ne]),ye!==!1)return ye;if(this._backtrack){Pe=!1;continue}else return!1}else if(!this.options.flex)break}return Pe?(ye=this.test_match(Pe,Z[Ve]),ye!==!1?ye:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var ye=this.next();return ye||this.lex()},"lex"),begin:l(function(ye){this.conditionStack.push(ye)},"begin"),popState:l(function(){var ye=this.conditionStack.length-1;return ye>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(ye){return ye=this.conditionStack.length-1-Math.abs(ye||0),ye>=0?this.conditionStack[ye]:"INITIAL"},"topState"),pushState:l(function(ye){this.begin(ye)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(ye,Pe,ue,Ve){var Z=Ve;switch(ue){case 0:return 62;case 1:return 63;case 2:return 64;case 3:return 65;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 79;case 22:this.popState();break;case 23:return 80;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 82;case 28:return 57;case 29:return this.begin("namespace"),42;case 30:return this.popState(),8;case 31:break;case 32:return this.begin("namespace-body"),39;case 33:return this.popState(),41;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;case 39:return this.popState(),8;case 40:break;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 43:return this.popState(),41;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 83;case 50:return 75;case 51:return 76;case 52:return 78;case 53:return 54;case 54:return 56;case 55:return 49;case 56:return 50;case 57:return 81;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 77;case 65:return 77;case 66:return 77;case 67:return 77;case 68:return 69;case 69:return 69;case 70:return 71;case 71:return 71;case 72:return 70;case 73:return 68;case 74:return 72;case 75:return 73;case 76:return 74;case 77:return 22;case 78:return 44;case 79:return 100;case 80:return 18;case 81:return"PLUS";case 82:return 87;case 83:return 61;case 84:return 89;case 85:return 89;case 86:return 90;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 60;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 86;case 94:return 102;case 95:return 48;case 96:return 48;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return De})();je.lexer=qe;function Ce(){this.yy={}}return l(Ce,"Parser"),Ce.prototype=je,je.Parser=Ce,new Ce})();pM.parser=pM;$T=pM,xge=["#","+","~","-",""],wge=(uy=class{constructor(e,r){this.memberType=r,this.visibility="",this.classifier="",this.text="";let i=tr(e,ve());this.parseMember(i)}getDisplayDetails(){let e=this.visibility+Go(this.id);this.memberType==="method"&&(e+=`(${Go(this.parameters.trim())})`,this.returnType&&(e+=" : "+Go(this.returnType))),e=e.trim();let r=this.parseClassifier();return{displayText:e,cssStyle:r}}parseMember(e){let r="";if(this.memberType==="method"){let n=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(n){let a=n[1]?n[1].trim():"";if(xge.includes(a)&&(this.visibility=a),this.id=n[2],this.parameters=n[3]?n[3].trim():"",r=n[4]?n[4].trim():"",this.returnType=n[5]?n[5].trim():"",r===""){let s=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(s)&&(r=s,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{let n=e.length,a=e.substring(0,1),s=e.substring(n-1);xge.includes(a)&&(this.visibility=a),/[$*]/.exec(s)&&(r=s),this.id=e.substring(this.visibility===""?0:1,r===""?n:n-1)}this.classifier=r,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();let i=`${this.visibility?"\\"+this.visibility:""}${Go(this.id)}${this.memberType==="method"?`(${Go(this.parameters)})${this.returnType?" : "+Go(this.returnType):""}`:""}`;this.text=i.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},l(uy,"ClassMember"),uy),OT="classId-",kge=0,r0=l(t=>Ke.sanitizeText(t,ve()),"sanitizeText"),BT=(dy=class{constructor(){this.relations=[],this.classes=new Map,this.styleClasses=new Map,this.notes=[],this.interfaces=[],this.namespaces=new Map,this.namespaceCounter=0,this.functions=[],this.lineType={LINE:0,DOTTED_LINE:1},this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},this.setupToolTips=l(e=>{let r=Ue(".mermaidTooltip");(r._groups||r)[0][0]===null&&(r=Ue("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Ue(e).select("svg").selectAll("g.node").on("mouseover",i=>{let n=Ue(i.currentTarget);if(n.attr("title")===null)return;let a=this.getBoundingClientRect();r.transition().duration(200).style("opacity",".9"),r.text(n.attr("title")).style("left",window.scrollX+a.left+(a.right-a.left)/2+"px").style("top",window.scrollY+a.top-14+document.body.scrollTop+"px"),r.html(r.html().replace(/&lt;br\/&gt;/g,"<br/>")),n.classed("hover",!0)}).on("mouseout",i=>{r.transition().duration(500).style("opacity",0),Ue(i.currentTarget).classed("hover",!1)})},"setupToolTips"),this.direction="TB",this.setAccTitle=gr,this.getAccTitle=fr,this.setAccDescription=mr,this.getAccDescription=yr,this.setDiagramTitle=Er,this.getDiagramTitle=vr,this.getConfig=l(()=>ve().class,"getConfig"),this.functions.push(this.setupToolTips.bind(this)),this.clear(),this.addRelation=this.addRelation.bind(this),this.addClassesToNamespace=this.addClassesToNamespace.bind(this),this.addNamespace=this.addNamespace.bind(this),this.setCssClass=this.setCssClass.bind(this),this.addMembers=this.addMembers.bind(this),this.addClass=this.addClass.bind(this),this.setClassLabel=this.setClassLabel.bind(this),this.addAnnotation=this.addAnnotation.bind(this),this.addMember=this.addMember.bind(this),this.cleanupLabel=this.cleanupLabel.bind(this),this.addNote=this.addNote.bind(this),this.defineClass=this.defineClass.bind(this),this.setDirection=this.setDirection.bind(this),this.setLink=this.setLink.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.clear=this.clear.bind(this),this.setTooltip=this.setTooltip.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setCssStyle=this.setCssStyle.bind(this)}splitClassNameAndType(e){let r=Ke.sanitizeText(e,ve()),i="",n=r;if(r.indexOf("~")>0){let a=r.split("~");n=r0(a[0]),i=r0(a[1])}return{className:n,type:i}}setClassLabel(e,r){let i=Ke.sanitizeText(e,ve());r&&(r=r0(r));let{className:n}=this.splitClassNameAndType(i);this.classes.get(n).label=r,this.classes.get(n).text=`${r}${this.classes.get(n).type?`<${this.classes.get(n).type}>`:""}`}addClass(e){let r=Ke.sanitizeText(e,ve()),{className:i,type:n}=this.splitClassNameAndType(r);if(this.classes.has(i))return;let a=Ke.sanitizeText(i,ve());this.classes.set(a,{id:a,type:n,label:a,text:`${a}${n?`&lt;${n}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:OT+a+"-"+kge}),kge++}addInterface(e,r){let i={id:`interface${this.interfaces.length}`,label:e,classId:r};this.interfaces.push(i)}lookUpDomId(e){let r=Ke.sanitizeText(e,ve());if(this.classes.has(r))return this.classes.get(r).domId;throw new Error("Class not found: "+r)}clear(){this.relations=[],this.classes=new Map,this.notes=[],this.interfaces=[],this.functions=[],this.functions.push(this.setupToolTips.bind(this)),this.namespaces=new Map,this.namespaceCounter=0,this.direction="TB",cr()}getClass(e){return this.classes.get(e)}getClasses(){return this.classes}getRelations(){return this.relations}getNotes(){return this.notes}addRelation(e){ee.debug("Adding relation: "+JSON.stringify(e));let r=[this.relationType.LOLLIPOP,this.relationType.AGGREGATION,this.relationType.COMPOSITION,this.relationType.DEPENDENCY,this.relationType.EXTENSION];e.relation.type1===this.relationType.LOLLIPOP&&!r.includes(e.relation.type2)?(this.addClass(e.id2),this.addInterface(e.id1,e.id2),e.id1=`interface${this.interfaces.length-1}`):e.relation.type2===this.relationType.LOLLIPOP&&!r.includes(e.relation.type1)?(this.addClass(e.id1),this.addInterface(e.id2,e.id1),e.id2=`interface${this.interfaces.length-1}`):(this.addClass(e.id1),this.addClass(e.id2)),e.id1=this.splitClassNameAndType(e.id1).className,e.id2=this.splitClassNameAndType(e.id2).className,e.relationTitle1=Ke.sanitizeText(e.relationTitle1.trim(),ve()),e.relationTitle2=Ke.sanitizeText(e.relationTitle2.trim(),ve()),this.relations.push(e)}addAnnotation(e,r){let i=this.splitClassNameAndType(e).className;this.classes.get(i).annotations.push(r)}addMember(e,r){this.addClass(e);let i=this.splitClassNameAndType(e).className,n=this.classes.get(i);if(typeof r=="string"){let a=r.trim();a.startsWith("<<")&&a.endsWith(">>")?n.annotations.push(r0(a.substring(2,a.length-2))):a.indexOf(")")>0?n.methods.push(new wge(a,"method")):a&&n.members.push(new wge(a,"attribute"))}}addMembers(e,r){Array.isArray(r)&&(r.reverse(),r.forEach(i=>this.addMember(e,i)))}addNote(e,r){let i={id:`note${this.notes.length}`,class:r,text:e};this.notes.push(i)}cleanupLabel(e){return e.startsWith(":")&&(e=e.substring(1)),r0(e.trim())}setCssClass(e,r){e.split(",").forEach(i=>{let n=i;/\d/.exec(i[0])&&(n=OT+n);let a=this.classes.get(n);a&&(a.cssClasses+=" "+r)})}defineClass(e,r){for(let i of e){let n=this.styleClasses.get(i);n===void 0&&(n={id:i,styles:[],textStyles:[]},this.styleClasses.set(i,n)),r&&r.forEach(a=>{if(/color/.exec(a)){let s=a.replace("fill","bgFill");n.textStyles.push(s)}n.styles.push(a)}),this.classes.forEach(a=>{a.cssClasses.includes(i)&&a.styles.push(...r.flatMap(s=>s.split(",")))})}}setTooltip(e,r){e.split(",").forEach(i=>{r!==void 0&&(this.classes.get(i).tooltip=r0(r))})}getTooltip(e,r){return r&&this.namespaces.has(r)?this.namespaces.get(r).classes.get(e).tooltip:this.classes.get(e).tooltip}setLink(e,r,i){let n=ve();e.split(",").forEach(a=>{let s=a;/\d/.exec(a[0])&&(s=OT+s);let o=this.classes.get(s);o&&(o.link=$t.formatUrl(r,n),n.securityLevel==="sandbox"?o.linkTarget="_top":typeof i=="string"?o.linkTarget=r0(i):o.linkTarget="_blank")}),this.setCssClass(e,"clickable")}setClickEvent(e,r,i){e.split(",").forEach(n=>{this.setClickFunc(n,r,i),this.classes.get(n).haveCallback=!0}),this.setCssClass(e,"clickable")}setClickFunc(e,r,i){let n=Ke.sanitizeText(e,ve());if(ve().securityLevel!=="loose"||r===void 0)return;let a=n;if(this.classes.has(a)){let s=this.lookUpDomId(a),o=[];if(typeof i=="string"){o=i.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let h=0;h<o.length;h++){let u=o[h].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),o[h]=u}}o.length===0&&o.push(s),this.functions.push(()=>{let h=document.querySelector(`[id="${s}"]`);h!==null&&h.addEventListener("click",()=>{$t.runFunc(r,...o)},!1)})}}bindFunctions(e){this.functions.forEach(r=>{r(e)})}getDirection(){return this.direction}setDirection(e){this.direction=e}addNamespace(e){this.namespaces.has(e)||(this.namespaces.set(e,{id:e,classes:new Map,children:{},domId:OT+e+"-"+this.namespaceCounter}),this.namespaceCounter++)}getNamespace(e){return this.namespaces.get(e)}getNamespaces(){return this.namespaces}addClassesToNamespace(e,r){if(this.namespaces.has(e))for(let i of r){let{className:n}=this.splitClassNameAndType(i);this.classes.get(n).parent=e,this.namespaces.get(e).classes.set(n,this.classes.get(n))}}setCssStyle(e,r){let i=this.classes.get(e);if(!(!r||!i))for(let n of r)n.includes(",")?i.styles.push(...n.split(",")):i.styles.push(n)}getArrowMarker(e){let r;switch(e){case 0:r="aggregation";break;case 1:r="extension";break;case 2:r="composition";break;case 3:r="dependency";break;case 4:r="lollipop";break;default:r="none"}return r}getData(){var a;let e=[],r=[],i=ve();for(let s of this.namespaces.keys()){let o=this.namespaces.get(s);if(o){let h={id:o.id,label:o.id,isGroup:!0,padding:i.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:i.look};e.push(h)}}for(let s of this.classes.keys()){let o=this.classes.get(s);if(o){let h=o;h.parentId=o.parent,h.look=i.look,e.push(h)}}let n=0;for(let s of this.notes){n++;let o={id:s.id,label:s.text,isGroup:!1,shape:"note",padding:i.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${i.themeVariables.noteBkgColor}`,`stroke: ${i.themeVariables.noteBorderColor}`],look:i.look};e.push(o);let h=((a=this.classes.get(s.class))==null?void 0:a.id)??"";if(h){let u={id:`edgeNote${n}`,start:s.id,end:h,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:i.look};r.push(u)}}for(let s of this.interfaces){let o={id:s.id,label:s.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:i.look};e.push(o)}n=0;for(let s of this.relations){n++;let o={id:Yo(s.id1,s.id2,{prefix:"id",counter:n}),start:s.id1,end:s.id2,type:"normal",label:s.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:this.getArrowMarker(s.relation.type1),arrowTypeEnd:this.getArrowMarker(s.relation.type2),startLabelRight:s.relationTitle1==="none"?"":s.relationTitle1,endLabelLeft:s.relationTitle2==="none"?"":s.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:s.style||"",pattern:s.relation.lineType==1?"dashed":"solid",look:i.look};r.push(o)}return{nodes:e,edges:r,other:{},config:i,direction:this.getDirection()}}},l(dy,"ClassDB"),dy),AOe=l(t=>`g.classGroup text {
  fill: ${t.nodeBorder||t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}

.labelBkg {
  background: ${t.mainBkg};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
  ${sl()}
`,"getStyles"),PT=AOe,LOe=l((t,e="TB")=>{if(!t.doc)return e;let r=e;for(let i of t.doc)i.stmt==="dir"&&(r=i.value);return r},"getDir"),NOe=l(function(t,e){return e.db.getClasses()},"getClasses"),IOe=l(async function(t,e,r,i){ee.info("REF0:"),ee.info("Drawing class diagram (v3)",e);let{securityLevel:n,state:a,layout:s}=ve(),o=i.db.getData(),h=Bs(e,n);o.type=i.type,o.layoutAlgorithm=il(s),o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["aggregation","extension","composition","dependency","lollipop"],o.diagramId=e,await Ds(o,h),$t.insertTitle(h,"classDiagramTitleText",(a==null?void 0:a.titleTopMargin)??25,i.db.getDiagramTitle()),qa(h,8,"classDiagram",(a==null?void 0:a.useMaxWidth)??!0)},"draw"),FT={getClasses:NOe,draw:IOe,getDir:LOe}});var Tge={};Tr(Tge,{diagram:()=>ROe});var ROe,Ege=wt(()=>{gM();Mh();mo();Ps();Ms();Es();ts();$a();ua();da();_n();Hr();ri();hr();lr();br();kt();ROe={parser:$T,get db(){return new BT},renderer:FT,styles:PT,init:l(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute},"init")}});var Cge={};Tr(Cge,{diagram:()=>DOe});var DOe,Sge=wt(()=>{gM();Mh();mo();Ps();Ms();Es();ts();$a();ua();da();_n();Hr();ri();hr();lr();br();kt();DOe={parser:$T,get db(){return new BT},renderer:FT,styles:PT,init:l(t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute},"init")}});function qT(t="",e=0,r="",i=bM){let n=r!==null&&r.length>0?`${i}${r}`:"";return`${ZOe}-${t}${n}-${e}`}function Lx(t,e,r){if(!e.id||e.id==="</join></fork>"||e.id==="</choice>")return;e.cssClasses&&(Array.isArray(e.cssCompiledStyles)||(e.cssCompiledStyles=[]),e.cssClasses.split(" ").forEach(n=>{let a=r.get(n);a&&(e.cssCompiledStyles=[...e.cssCompiledStyles??[],...a.styles])}));let i=t.find(n=>n.id===e.id);i?Object.assign(i,e):t.push(e)}function Uge(t){var e;return((e=t==null?void 0:t.classes)==null?void 0:e.join(" "))??""}function jge(t){return(t==null?void 0:t.styles)??[]}var yM,UT,gy,py,vM,MOe,OOe,$Oe,Ix,Dge,Mge,Oge,$ge,Bge,fM,mM,BOe,POe,_ge,Age,FOe,zOe,Rx,GOe,qOe,Pge,UOe,jOe,WOe,VOe,YOe,HOe,XOe,KOe,Fge,zge,ZOe,bM,QOe,Lge,Gge,JOe,e$e,qge,GT,Qh,t$e,Nge,Nx,r$e,Ca,Ige,Rge,zT,i0,xc,i$e,jT,xM=wt(()=>{mo();Ps();Ms();Hr();hr();lr();kt();yM=(function(){var t=l(function(B,P,z,q){for(z=z||{},q=B.length;q--;z[B[q]]=P);return z},"o"),e=[1,2],r=[1,3],i=[1,4],n=[2,4],a=[1,9],s=[1,11],o=[1,16],h=[1,17],u=[1,18],d=[1,19],p=[1,33],g=[1,20],f=[1,21],m=[1,22],y=[1,23],b=[1,24],v=[1,26],x=[1,27],w=[1,28],k=[1,29],T=[1,30],S=[1,31],C=[1,32],E=[1,35],L=[1,36],I=[1,37],M=[1,38],N=[1,34],$=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],_=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,39,40,41,45,48,51,52,53,54,57],D=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],R={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,CLICK:38,STRING:39,HREF:40,classDef:41,CLASSDEF_ID:42,CLASSDEF_STYLEOPTS:43,DEFAULT:44,style:45,STYLE_IDS:46,STYLEDEF_STYLEOPTS:47,class:48,CLASSENTITY_IDS:49,STYLECLASS:50,direction_tb:51,direction_bt:52,direction_rl:53,direction_lr:54,eol:55,";":56,EDGE_STATE:57,STYLE_SEPARATOR:58,left_of:59,right_of:60,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"CLICK",39:"STRING",40:"HREF",41:"classDef",42:"CLASSDEF_ID",43:"CLASSDEF_STYLEOPTS",44:"DEFAULT",45:"style",46:"STYLE_IDS",47:"STYLEDEF_STYLEOPTS",48:"class",49:"CLASSENTITY_IDS",50:"STYLECLASS",51:"direction_tb",52:"direction_bt",53:"direction_rl",54:"direction_lr",56:";",57:"EDGE_STATE",58:"STYLE_SEPARATOR",59:"left_of",60:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[9,5],[9,5],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[55,1],[55,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:l(function(B,P,z,q,K,W,ae){var ie=W.length-1;switch(K){case 3:return q.setRootDoc(W[ie]),W[ie];case 4:this.$=[];break;case 5:W[ie]!="nl"&&(W[ie-1].push(W[ie]),this.$=W[ie-1]);break;case 6:case 7:this.$=W[ie];break;case 8:this.$="nl";break;case 12:this.$=W[ie];break;case 13:let Q=W[ie-1];Q.description=q.trimColon(W[ie]),this.$=Q;break;case 14:this.$={stmt:"relation",state1:W[ie-2],state2:W[ie]};break;case 15:let j=q.trimColon(W[ie]);this.$={stmt:"relation",state1:W[ie-3],state2:W[ie-1],description:j};break;case 19:this.$={stmt:"state",id:W[ie-3],type:"default",description:"",doc:W[ie-1]};break;case 20:var se=W[ie],oe=W[ie-2].trim();if(W[ie].match(":")){var Y=W[ie].split(":");se=Y[0],oe=[oe,Y[1]]}this.$={stmt:"state",id:se,type:"default",description:oe};break;case 21:this.$={stmt:"state",id:W[ie-3],type:"default",description:W[ie-5],doc:W[ie-1]};break;case 22:this.$={stmt:"state",id:W[ie],type:"fork"};break;case 23:this.$={stmt:"state",id:W[ie],type:"join"};break;case 24:this.$={stmt:"state",id:W[ie],type:"choice"};break;case 25:this.$={stmt:"state",id:q.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:W[ie-1].trim(),note:{position:W[ie-2].trim(),text:W[ie].trim()}};break;case 29:this.$=W[ie].trim(),q.setAccTitle(this.$);break;case 30:case 31:this.$=W[ie].trim(),q.setAccDescription(this.$);break;case 32:this.$={stmt:"click",id:W[ie-3],url:W[ie-2],tooltip:W[ie-1]};break;case 33:this.$={stmt:"click",id:W[ie-3],url:W[ie-1],tooltip:""};break;case 34:case 35:this.$={stmt:"classDef",id:W[ie-1].trim(),classes:W[ie].trim()};break;case 36:this.$={stmt:"style",id:W[ie-1].trim(),styleClass:W[ie].trim()};break;case 37:this.$={stmt:"applyClass",id:W[ie-1].trim(),styleClass:W[ie].trim()};break;case 38:q.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:q.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:q.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:q.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:W[ie].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:W[ie-2].trim(),classes:[W[ie].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:W[ie-2].trim(),classes:[W[ie].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:e,5:r,6:i},{1:[3]},{3:5,4:e,5:r,6:i},{3:6,4:e,5:r,6:i},t([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],n,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:h,19:u,22:d,24:p,25:g,26:f,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:k,41:T,45:S,48:C,51:E,52:L,53:I,54:M,57:N},t($,[2,5]),{9:39,10:12,11:13,12:14,13:15,16:o,17:h,19:u,22:d,24:p,25:g,26:f,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:k,41:T,45:S,48:C,51:E,52:L,53:I,54:M,57:N},t($,[2,7]),t($,[2,8]),t($,[2,9]),t($,[2,10]),t($,[2,11]),t($,[2,12],{14:[1,40],15:[1,41]}),t($,[2,16]),{18:[1,42]},t($,[2,18],{20:[1,43]}),{23:[1,44]},t($,[2,22]),t($,[2,23]),t($,[2,24]),t($,[2,25]),{30:45,31:[1,46],59:[1,47],60:[1,48]},t($,[2,28]),{34:[1,49]},{36:[1,50]},t($,[2,31]),{13:51,24:p,57:N},{42:[1,52],44:[1,53]},{46:[1,54]},{49:[1,55]},t(_,[2,44],{58:[1,56]}),t(_,[2,45],{58:[1,57]}),t($,[2,38]),t($,[2,39]),t($,[2,40]),t($,[2,41]),t($,[2,6]),t($,[2,13]),{13:58,24:p,57:N},t($,[2,17]),t(D,n,{7:59}),{24:[1,60]},{24:[1,61]},{23:[1,62]},{24:[2,48]},{24:[2,49]},t($,[2,29]),t($,[2,30]),{39:[1,63],40:[1,64]},{43:[1,65]},{43:[1,66]},{47:[1,67]},{50:[1,68]},{24:[1,69]},{24:[1,70]},t($,[2,14],{14:[1,71]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:h,19:u,21:[1,72],22:d,24:p,25:g,26:f,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:k,41:T,45:S,48:C,51:E,52:L,53:I,54:M,57:N},t($,[2,20],{20:[1,73]}),{31:[1,74]},{24:[1,75]},{39:[1,76]},{39:[1,77]},t($,[2,34]),t($,[2,35]),t($,[2,36]),t($,[2,37]),t(_,[2,46]),t(_,[2,47]),t($,[2,15]),t($,[2,19]),t(D,n,{7:78}),t($,[2,26]),t($,[2,27]),{5:[1,79]},{5:[1,80]},{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:h,19:u,21:[1,81],22:d,24:p,25:g,26:f,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:k,41:T,45:S,48:C,51:E,52:L,53:I,54:M,57:N},t($,[2,32]),t($,[2,33]),t($,[2,21])],defaultActions:{5:[2,1],6:[2,2],47:[2,48],48:[2,49]},parseError:l(function(B,P){if(P.recoverable)this.trace(B);else{var z=new Error(B);throw z.hash=P,z}},"parseError"),parse:l(function(B){var P=this,z=[0],q=[],K=[null],W=[],ae=this.table,ie="",se=0,oe=0,Y=0,Q=2,j=1,H=W.slice.call(arguments,1),J=Object.create(this.lexer),he={yy:{}};for(var X in this.yy)Object.prototype.hasOwnProperty.call(this.yy,X)&&(he.yy[X]=this.yy[X]);J.setInput(B,he.yy),he.yy.lexer=J,he.yy.parser=this,typeof J.yylloc>"u"&&(J.yylloc={});var fe=J.yylloc;W.push(fe);var V=J.options&&J.options.ranges;typeof he.yy.parseError=="function"?this.parseError=he.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Se(F){z.length=z.length-2*F,K.length=K.length-F,W.length=W.length-F}l(Se,"popStack");function ce(){var F;return F=q.pop()||J.lex()||j,typeof F!="number"&&(F instanceof Array&&(q=F,F=q.pop()),F=P.symbols_[F]||F),F}l(ce,"lex");for(var Le,$e,je,qe,Ce,De,ye={},Pe,ue,Ve,Z;;){if(je=z[z.length-1],this.defaultActions[je]?qe=this.defaultActions[je]:((Le===null||typeof Le>"u")&&(Le=ce()),qe=ae[je]&&ae[je][Le]),typeof qe>"u"||!qe.length||!qe[0]){var Ne="";Z=[];for(Pe in ae[je])this.terminals_[Pe]&&Pe>Q&&Z.push("'"+this.terminals_[Pe]+"'");J.showPosition?Ne="Parse error on line "+(se+1)+`:
`+J.showPosition()+`
Expecting `+Z.join(", ")+", got '"+(this.terminals_[Le]||Le)+"'":Ne="Parse error on line "+(se+1)+": Unexpected "+(Le==j?"end of input":"'"+(this.terminals_[Le]||Le)+"'"),this.parseError(Ne,{text:J.match,token:this.terminals_[Le]||Le,line:J.yylineno,loc:fe,expected:Z})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+je+", token: "+Le);switch(qe[0]){case 1:z.push(Le),K.push(J.yytext),W.push(J.yylloc),z.push(qe[1]),Le=null,$e?(Le=$e,$e=null):(oe=J.yyleng,ie=J.yytext,se=J.yylineno,fe=J.yylloc,Y>0&&Y--);break;case 2:if(ue=this.productions_[qe[1]][1],ye.$=K[K.length-ue],ye._$={first_line:W[W.length-(ue||1)].first_line,last_line:W[W.length-1].last_line,first_column:W[W.length-(ue||1)].first_column,last_column:W[W.length-1].last_column},V&&(ye._$.range=[W[W.length-(ue||1)].range[0],W[W.length-1].range[1]]),De=this.performAction.apply(ye,[ie,oe,se,he.yy,qe[1],K,W].concat(H)),typeof De<"u")return De;ue&&(z=z.slice(0,-1*ue*2),K=K.slice(0,-1*ue),W=W.slice(0,-1*ue)),z.push(this.productions_[qe[1]][0]),K.push(ye.$),W.push(ye._$),Ve=ae[z[z.length-2]][z[z.length-1]],z.push(Ve);break;case 3:return!0}}return!0},"parse")},O=(function(){var B={EOF:1,parseError:l(function(P,z){if(this.yy.parser)this.yy.parser.parseError(P,z);else throw new Error(P)},"parseError"),setInput:l(function(P,z){return this.yy=z||this.yy||{},this._input=P,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var P=this._input[0];this.yytext+=P,this.yyleng++,this.offset++,this.match+=P,this.matched+=P;var z=P.match(/(?:\r\n?|\n).*/g);return z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),P},"input"),unput:l(function(P){var z=P.length,q=P.split(/(?:\r\n?|\n)/g);this._input=P+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var K=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q.length-1&&(this.yylineno-=q.length-1);var W=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q?(q.length===K.length?this.yylloc.first_column:0)+K[K.length-q.length].length-q[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[W[0],W[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(P){this.unput(this.match.slice(P))},"less"),pastInput:l(function(){var P=this.matched.substr(0,this.matched.length-this.match.length);return(P.length>20?"...":"")+P.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var P=this.match;return P.length<20&&(P+=this._input.substr(0,20-P.length)),(P.substr(0,20)+(P.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var P=this.pastInput(),z=new Array(P.length+1).join("-");return P+this.upcomingInput()+`
`+z+"^"},"showPosition"),test_match:l(function(P,z){var q,K,W;if(this.options.backtrack_lexer&&(W={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(W.yylloc.range=this.yylloc.range.slice(0))),K=P[0].match(/(?:\r\n?|\n).*/g),K&&(this.yylineno+=K.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:K?K[K.length-1].length-K[K.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+P[0].length},this.yytext+=P[0],this.match+=P[0],this.matches=P,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(P[0].length),this.matched+=P[0],q=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),q)return q;if(this._backtrack){for(var ae in W)this[ae]=W[ae];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var P,z,q,K;this._more||(this.yytext="",this.match="");for(var W=this._currentRules(),ae=0;ae<W.length;ae++)if(q=this._input.match(this.rules[W[ae]]),q&&(!z||q[0].length>z[0].length)){if(z=q,K=ae,this.options.backtrack_lexer){if(P=this.test_match(q,W[ae]),P!==!1)return P;if(this._backtrack){z=!1;continue}else return!1}else if(!this.options.flex)break}return z?(P=this.test_match(z,W[K]),P!==!1?P:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var P=this.next();return P||this.lex()},"lex"),begin:l(function(P){this.conditionStack.push(P)},"begin"),popState:l(function(){var P=this.conditionStack.length-1;return P>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(P){return P=this.conditionStack.length-1-Math.abs(P||0),P>=0?this.conditionStack[P]:"INITIAL"},"topState"),pushState:l(function(P){this.begin(P)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(P,z,q,K){var W=K;switch(q){case 0:return 38;case 1:return 40;case 2:return 39;case 3:return 44;case 4:return 51;case 5:return 52;case 6:return 53;case 7:return 54;case 8:break;case 9:break;case 10:return 5;case 11:break;case 12:break;case 13:break;case 14:break;case 15:return this.pushState("SCALE"),17;case 16:return 18;case 17:this.popState();break;case 18:return this.begin("acc_title"),33;case 19:return this.popState(),"acc_title_value";case 20:return this.begin("acc_descr"),35;case 21:return this.popState(),"acc_descr_value";case 22:this.begin("acc_descr_multiline");break;case 23:this.popState();break;case 24:return"acc_descr_multiline_value";case 25:return this.pushState("CLASSDEF"),41;case 26:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 27:return this.popState(),this.pushState("CLASSDEFID"),42;case 28:return this.popState(),43;case 29:return this.pushState("CLASS"),48;case 30:return this.popState(),this.pushState("CLASS_STYLE"),49;case 31:return this.popState(),50;case 32:return this.pushState("STYLE"),45;case 33:return this.popState(),this.pushState("STYLEDEF_STYLES"),46;case 34:return this.popState(),47;case 35:return this.pushState("SCALE"),17;case 36:return 18;case 37:this.popState();break;case 38:this.pushState("STATE");break;case 39:return this.popState(),z.yytext=z.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),z.yytext=z.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),z.yytext=z.yytext.slice(0,-10).trim(),27;case 42:return this.popState(),z.yytext=z.yytext.slice(0,-8).trim(),25;case 43:return this.popState(),z.yytext=z.yytext.slice(0,-8).trim(),26;case 44:return this.popState(),z.yytext=z.yytext.slice(0,-10).trim(),27;case 45:return 51;case 46:return 52;case 47:return 53;case 48:return 54;case 49:this.pushState("STATE_STRING");break;case 50:return this.pushState("STATE_ID"),"AS";case 51:return this.popState(),"ID";case 52:this.popState();break;case 53:return"STATE_DESCR";case 54:return 19;case 55:this.popState();break;case 56:return this.popState(),this.pushState("struct"),20;case 57:break;case 58:return this.popState(),21;case 59:break;case 60:return this.begin("NOTE"),29;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:return this.popState(),this.pushState("NOTE_ID"),60;case 63:this.popState(),this.pushState("FLOATING_NOTE");break;case 64:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 65:break;case 66:return"NOTE_TEXT";case 67:return this.popState(),"ID";case 68:return this.popState(),this.pushState("NOTE_TEXT"),24;case 69:return this.popState(),z.yytext=z.yytext.substr(2).trim(),31;case 70:return this.popState(),z.yytext=z.yytext.slice(0,-8).trim(),31;case 71:return 6;case 72:return 6;case 73:return 16;case 74:return 57;case 75:return 24;case 76:return z.yytext=z.yytext.trim(),14;case 77:return 15;case 78:return 28;case 79:return 58;case 80:return 5;case 81:return"INVALID"}},"anonymous"),rules:[/^(?:click\b)/i,/^(?:href\b)/i,/^(?:"[^"]*")/i,/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[12,13],inclusive:!1},struct:{rules:[12,13,25,29,32,38,45,46,47,48,57,58,59,60,74,75,76,77,78],inclusive:!1},FLOATING_NOTE_ID:{rules:[67],inclusive:!1},FLOATING_NOTE:{rules:[64,65,66],inclusive:!1},NOTE_TEXT:{rules:[69,70],inclusive:!1},NOTE_ID:{rules:[68],inclusive:!1},NOTE:{rules:[61,62,63],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[34],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[33],inclusive:!1},CLASS_STYLE:{rules:[31],inclusive:!1},CLASS:{rules:[30],inclusive:!1},CLASSDEFID:{rules:[28],inclusive:!1},CLASSDEF:{rules:[26,27],inclusive:!1},acc_descr_multiline:{rules:[23,24],inclusive:!1},acc_descr:{rules:[21],inclusive:!1},acc_title:{rules:[19],inclusive:!1},SCALE:{rules:[16,17,36,37],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[51],inclusive:!1},STATE_STRING:{rules:[52,53],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[12,13,39,40,41,42,43,44,49,50,54,55,56],inclusive:!1},ID:{rules:[12,13],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,18,20,22,25,29,32,35,38,56,60,71,72,73,74,75,76,77,79,80,81],inclusive:!0}}};return B})();R.lexer=O;function A(){this.yy={}}return l(A,"Parser"),A.prototype=R,R.Parser=A,new A})();yM.parser=yM;UT=yM,gy="state",py="root",vM="relation",MOe="classDef",OOe="style",$Oe="applyClass",Ix="default",Dge="divider",Mge="fill:none",Oge="fill: #333",$ge="text",Bge="normal",fM="rect",mM="rectWithTitle",BOe="stateStart",POe="stateEnd",_ge="divider",Age="roundedWithTitle",FOe="note",zOe="noteGroup",Rx="statediagram",GOe="state",qOe=`${Rx}-${GOe}`,Pge="transition",UOe="note",jOe="note-edge",WOe=`${Pge} ${jOe}`,VOe=`${Rx}-${UOe}`,YOe="cluster",HOe=`${Rx}-${YOe}`,XOe="cluster-alt",KOe=`${Rx}-${XOe}`,Fge="parent",zge="note",ZOe="state",bM="----",QOe=`${bM}${zge}`,Lge=`${bM}${Fge}`,Gge=l((t,e="TB")=>{if(!t.doc)return e;let r=e;for(let i of t.doc)i.stmt==="dir"&&(r=i.value);return r},"getDir"),JOe=l(function(t,e){return e.db.getClasses()},"getClasses"),e$e=l(async function(t,e,r,i){ee.info("REF0:"),ee.info("Drawing state diagram (v2)",e);let{securityLevel:n,state:a,layout:s}=ve();i.db.extract(i.db.getRootDocV2());let o=i.db.getData(),h=Bs(e,n);o.type=i.type,o.layoutAlgorithm=s,o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["barb"],o.diagramId=e,await Ds(o,h);let u=8;try{(typeof i.db.getLinks=="function"?i.db.getLinks():new Map).forEach((d,p)=>{var x;let g=typeof p=="string"?p:typeof(p==null?void 0:p.id)=="string"?p.id:"";if(!g){ee.warn("\u26A0\uFE0F Invalid or missing stateId from key:",JSON.stringify(p));return}let f=(x=h.node())==null?void 0:x.querySelectorAll("g"),m;if(f==null||f.forEach(w=>{var k;((k=w.textContent)==null?void 0:k.trim())===g&&(m=w)}),!m){ee.warn("\u26A0\uFE0F Could not find node matching text:",g);return}let y=m.parentNode;if(!y){ee.warn("\u26A0\uFE0F Node has no parent, cannot wrap:",g);return}let b=document.createElementNS("http://www.w3.org/2000/svg","a"),v=d.url.replace(/^"+|"+$/g,"");if(b.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v),b.setAttribute("target","_blank"),d.tooltip){let w=d.tooltip.replace(/^"+|"+$/g,"");b.setAttribute("title",w)}y.replaceChild(b,m),b.appendChild(m),ee.info("\u{1F517} Wrapped node in <a> tag for:",g,d.url)})}catch(d){ee.error("\u274C Error injecting clickable links:",d)}$t.insertTitle(h,"statediagramTitleText",(a==null?void 0:a.titleTopMargin)??25,i.db.getDiagramTitle()),qa(h,u,Rx,(a==null?void 0:a.useMaxWidth)??!0)},"draw"),qge={getClasses:JOe,draw:e$e,getDir:Gge},GT=new Map,Qh=0;l(qT,"stateDomId");t$e=l((t,e,r,i,n,a,s,o)=>{ee.trace("items",e),e.forEach(h=>{switch(h.stmt){case gy:Nx(t,h,r,i,n,a,s,o);break;case Ix:Nx(t,h,r,i,n,a,s,o);break;case vM:{Nx(t,h.state1,r,i,n,a,s,o),Nx(t,h.state2,r,i,n,a,s,o);let u={id:"edge"+Qh,start:h.state1.id,end:h.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:Mge,labelStyle:"",label:Ke.sanitizeText(h.description??"",ve()),arrowheadStyle:Oge,labelpos:"c",labelType:$ge,thickness:Bge,classes:Pge,look:s};n.push(u),Qh++}break}})},"setupDoc"),Nge=l((t,e="TB")=>{let r=e;if(t.doc)for(let i of t.doc)i.stmt==="dir"&&(r=i.value);return r},"getDir");l(Lx,"insertOrUpdateNode");l(Uge,"getClassesFromDbInfo");l(jge,"getStylesFromDbInfo");Nx=l((t,e,r,i,n,a,s,o)=>{var f,m,y;let h=e.id,u=r.get(h),d=Uge(u),p=jge(u),g=ve();if(ee.info("dataFetcher parsedItem",e,u,p),h!=="root"){let b=fM;e.start===!0?b=BOe:e.start===!1&&(b=POe),e.type!==Ix&&(b=e.type),GT.get(h)||GT.set(h,{id:h,shape:b,description:Ke.sanitizeText(h,g),cssClasses:`${d} ${qOe}`,cssStyles:p});let v=GT.get(h);e.description&&(Array.isArray(v.description)?(v.shape=mM,v.description.push(e.description)):(f=v.description)!=null&&f.length&&v.description.length>0?(v.shape=mM,v.description===h?v.description=[e.description]:v.description=[v.description,e.description]):(v.shape=fM,v.description=e.description),v.description=Ke.sanitizeTextOrArray(v.description,g)),((m=v.description)==null?void 0:m.length)===1&&v.shape===mM&&(v.type==="group"?v.shape=Age:v.shape=fM),!v.type&&e.doc&&(ee.info("Setting cluster for XCX",h,Nge(e)),v.type="group",v.isGroup=!0,v.dir=Nge(e),v.shape=e.type===Dge?_ge:Age,v.cssClasses=`${v.cssClasses} ${HOe} ${a?KOe:""}`);let x={labelStyle:"",shape:v.shape,label:v.description,cssClasses:v.cssClasses,cssCompiledStyles:[],cssStyles:v.cssStyles,id:h,dir:v.dir,domId:qT(h,Qh),type:v.type,isGroup:v.type==="group",padding:8,rx:10,ry:10,look:s};if(x.shape===_ge&&(x.label=""),t&&t.id!=="root"&&(ee.trace("Setting node ",h," to be child of its parent ",t.id),x.parentId=t.id),x.centerLabel=!0,e.note){let w={labelStyle:"",shape:FOe,label:e.note.text,cssClasses:VOe,cssStyles:[],cssCompiledStyles:[],id:h+QOe+"-"+Qh,domId:qT(h,Qh,zge),type:v.type,isGroup:v.type==="group",padding:(y=g.flowchart)==null?void 0:y.padding,look:s,position:e.note.position},k=h+Lge,T={labelStyle:"",shape:zOe,label:e.note.text,cssClasses:v.cssClasses,cssStyles:[],id:h+Lge,domId:qT(h,Qh,Fge),type:"group",isGroup:!0,padding:16,look:s,position:e.note.position};Qh++,T.id=k,w.parentId=k,Lx(i,T,o),Lx(i,w,o),Lx(i,x,o);let S=h,C=w.id;e.note.position==="left of"&&(S=w.id,C=h),n.push({id:S+"-"+C,start:S,end:C,arrowhead:"none",arrowTypeEnd:"",style:Mge,labelStyle:"",classes:WOe,arrowheadStyle:Oge,labelpos:"c",labelType:$ge,thickness:Bge,look:s})}else Lx(i,x,o)}e.doc&&(ee.trace("Adding nodes children "),t$e(e,e.doc,r,i,n,!a,s,o))},"dataFetcher"),r$e=l(()=>{GT.clear(),Qh=0},"reset"),Ca={START_NODE:"[*]",START_TYPE:"start",END_NODE:"[*]",END_TYPE:"end",COLOR_KEYWORD:"color",FILL_KEYWORD:"fill",BG_FILL:"bgFill",STYLECLASS_SEP:","},Ige=l(()=>new Map,"newClassesList"),Rge=l(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),zT=l(t=>JSON.parse(JSON.stringify(t)),"clone"),xc=(i0=class{constructor(e){this.version=e,this.nodes=[],this.edges=[],this.rootDoc=[],this.classes=Ige(),this.documents={root:Rge()},this.currentDocument=this.documents.root,this.startEndCount=0,this.dividerCnt=0,this.links=new Map,this.getAccTitle=fr,this.setAccTitle=gr,this.getAccDescription=yr,this.setAccDescription=mr,this.setDiagramTitle=Er,this.getDiagramTitle=vr,this.clear(),this.setRootDoc=this.setRootDoc.bind(this),this.getDividerId=this.getDividerId.bind(this),this.setDirection=this.setDirection.bind(this),this.trimColon=this.trimColon.bind(this)}extract(e){this.clear(!0);for(let n of Array.isArray(e)?e:e.doc)switch(n.stmt){case gy:this.addState(n.id.trim(),n.type,n.doc,n.description,n.note);break;case vM:this.addRelation(n.state1,n.state2,n.description);break;case MOe:this.addStyleClass(n.id.trim(),n.classes);break;case OOe:this.handleStyleDef(n);break;case $Oe:this.setCssClass(n.id.trim(),n.styleClass);break;case"click":this.addLink(n.id,n.url,n.tooltip);break}let r=this.getStates(),i=ve();r$e(),Nx(void 0,this.getRootDocV2(),r,this.nodes,this.edges,!0,i.look,this.classes);for(let n of this.nodes)if(Array.isArray(n.label)){if(n.description=n.label.slice(1),n.isGroup&&n.description.length>0)throw new Error(`Group nodes can only have label. Remove the additional description for node [${n.id}]`);n.label=n.label[0]}}handleStyleDef(e){let r=e.id.trim().split(","),i=e.styleClass.split(",");for(let n of r){let a=this.getState(n);if(!a){let s=n.trim();this.addState(s),a=this.getState(s)}a&&(a.styles=i.map(s=>{var o;return(o=s.replace(/;/g,""))==null?void 0:o.trim()}))}}setRootDoc(e){ee.info("Setting root doc",e),this.rootDoc=e,this.version===1?this.extract(e):this.extract(this.getRootDocV2())}docTranslator(e,r,i){if(r.stmt===vM){this.docTranslator(e,r.state1,!0),this.docTranslator(e,r.state2,!1);return}if(r.stmt===gy&&(r.id===Ca.START_NODE?(r.id=e.id+(i?"_start":"_end"),r.start=i):r.id=r.id.trim()),r.stmt!==py&&r.stmt!==gy||!r.doc)return;let n=[],a=[];for(let s of r.doc)if(s.type===Dge){let o=zT(s);o.doc=zT(a),n.push(o),a=[]}else a.push(s);if(n.length>0&&a.length>0){let s={stmt:gy,id:wS(),type:"divider",doc:zT(a)};n.push(zT(s)),r.doc=n}r.doc.forEach(s=>this.docTranslator(r,s,!0))}getRootDocV2(){return this.docTranslator({id:py,stmt:py},{id:py,stmt:py,doc:this.rootDoc},!0),{id:py,doc:this.rootDoc}}addState(e,r=Ix,i=void 0,n=void 0,a=void 0,s=void 0,o=void 0,h=void 0){let u=e==null?void 0:e.trim();if(!this.currentDocument.states.has(u))ee.info("Adding state ",u,n),this.currentDocument.states.set(u,{stmt:gy,id:u,descriptions:[],type:r,doc:i,note:a,classes:[],styles:[],textStyles:[]});else{let d=this.currentDocument.states.get(u);if(!d)throw new Error(`State not found: ${u}`);d.doc||(d.doc=i),d.type||(d.type=r)}if(n&&(ee.info("Setting state description",u,n),(Array.isArray(n)?n:[n]).forEach(d=>this.addDescription(u,d.trim()))),a){let d=this.currentDocument.states.get(u);if(!d)throw new Error(`State not found: ${u}`);d.note=a,d.note.text=Ke.sanitizeText(d.note.text,ve())}s&&(ee.info("Setting state classes",u,s),(Array.isArray(s)?s:[s]).forEach(d=>this.setCssClass(u,d.trim()))),o&&(ee.info("Setting state styles",u,o),(Array.isArray(o)?o:[o]).forEach(d=>this.setStyle(u,d.trim()))),h&&(ee.info("Setting state styles",u,o),(Array.isArray(h)?h:[h]).forEach(d=>this.setTextStyle(u,d.trim())))}clear(e){this.nodes=[],this.edges=[],this.documents={root:Rge()},this.currentDocument=this.documents.root,this.startEndCount=0,this.classes=Ige(),e||(this.links=new Map,cr())}getState(e){return this.currentDocument.states.get(e)}getStates(){return this.currentDocument.states}logDocuments(){ee.info("Documents = ",this.documents)}getRelations(){return this.currentDocument.relations}addLink(e,r,i){this.links.set(e,{url:r,tooltip:i}),ee.warn("Adding link",e,r,i)}getLinks(){return this.links}startIdIfNeeded(e=""){return e===Ca.START_NODE?(this.startEndCount++,`${Ca.START_TYPE}${this.startEndCount}`):e}startTypeIfNeeded(e="",r=Ix){return e===Ca.START_NODE?Ca.START_TYPE:r}endIdIfNeeded(e=""){return e===Ca.END_NODE?(this.startEndCount++,`${Ca.END_TYPE}${this.startEndCount}`):e}endTypeIfNeeded(e="",r=Ix){return e===Ca.END_NODE?Ca.END_TYPE:r}addRelationObjs(e,r,i=""){let n=this.startIdIfNeeded(e.id.trim()),a=this.startTypeIfNeeded(e.id.trim(),e.type),s=this.startIdIfNeeded(r.id.trim()),o=this.startTypeIfNeeded(r.id.trim(),r.type);this.addState(n,a,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),this.addState(s,o,r.doc,r.description,r.note,r.classes,r.styles,r.textStyles),this.currentDocument.relations.push({id1:n,id2:s,relationTitle:Ke.sanitizeText(i,ve())})}addRelation(e,r,i){if(typeof e=="object"&&typeof r=="object")this.addRelationObjs(e,r,i);else if(typeof e=="string"&&typeof r=="string"){let n=this.startIdIfNeeded(e.trim()),a=this.startTypeIfNeeded(e),s=this.endIdIfNeeded(r.trim()),o=this.endTypeIfNeeded(r);this.addState(n,a),this.addState(s,o),this.currentDocument.relations.push({id1:n,id2:s,relationTitle:i?Ke.sanitizeText(i,ve()):void 0})}}addDescription(e,r){var a;let i=this.currentDocument.states.get(e),n=r.startsWith(":")?r.replace(":","").trim():r;(a=i==null?void 0:i.descriptions)==null||a.push(Ke.sanitizeText(n,ve()))}cleanupLabel(e){return e.startsWith(":")?e.slice(2).trim():e.trim()}getDividerId(){return this.dividerCnt++,`divider-id-${this.dividerCnt}`}addStyleClass(e,r=""){this.classes.has(e)||this.classes.set(e,{id:e,styles:[],textStyles:[]});let i=this.classes.get(e);r&&i&&r.split(Ca.STYLECLASS_SEP).forEach(n=>{let a=n.replace(/([^;]*);/,"$1").trim();if(RegExp(Ca.COLOR_KEYWORD).exec(n)){let s=a.replace(Ca.FILL_KEYWORD,Ca.BG_FILL).replace(Ca.COLOR_KEYWORD,Ca.FILL_KEYWORD);i.textStyles.push(s)}i.styles.push(a)})}getClasses(){return this.classes}setCssClass(e,r){e.split(",").forEach(i=>{var a;let n=this.getState(i);if(!n){let s=i.trim();this.addState(s),n=this.getState(s)}(a=n==null?void 0:n.classes)==null||a.push(r)})}setStyle(e,r){var i,n;(n=(i=this.getState(e))==null?void 0:i.styles)==null||n.push(r)}setTextStyle(e,r){var i,n;(n=(i=this.getState(e))==null?void 0:i.textStyles)==null||n.push(r)}getDirectionStatement(){return this.rootDoc.find(e=>e.stmt==="dir")}getDirection(){var e;return((e=this.getDirectionStatement())==null?void 0:e.value)??"TB"}setDirection(e){let r=this.getDirectionStatement();r?r.value=e:this.rootDoc.unshift({stmt:"dir",value:e})}trimColon(e){return e.startsWith(":")?e.slice(1).trim():e.trim()}getData(){let e=ve();return{nodes:this.nodes,edges:this.edges,other:{},config:e,direction:Gge(this.getRootDocV2())}}getConfig(){return ve().state}},l(i0,"StateDB"),i0.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},i0),i$e=l(t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${t.edgeLabelBackground};
  p {
    background-color: ${t.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${t.edgeLabelBackground};
    fill: ${t.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${t.textColor};
}
`,"getStyles"),jT=i$e});var Hge={};Tr(Hge,{diagram:()=>b$e});var n$e,a$e,s$e,o$e,l$e,c$e,h$e,u$e,d$e,Wge,Vge,p$e,us,wM,g$e,f$e,m$e,y$e,Yge,v$e,b$e,Xge=wt(()=>{xM();dA();Rv();mo();Ps();Ms();Es();ts();$a();ua();da();_n();Hr();ri();hr();lr();zi();Ii();br();kt();n$e=l(t=>t.append("circle").attr("class","start-state").attr("r",ve().state.sizeUnit).attr("cx",ve().state.padding+ve().state.sizeUnit).attr("cy",ve().state.padding+ve().state.sizeUnit),"drawStartState"),a$e=l(t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",ve().state.textHeight).attr("class","divider").attr("x2",ve().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),s$e=l((t,e)=>{let r=t.append("text").attr("x",2*ve().state.padding).attr("y",ve().state.textHeight+2*ve().state.padding).attr("font-size",ve().state.fontSize).attr("class","state-title").text(e.id),i=r.node().getBBox();return t.insert("rect",":first-child").attr("x",ve().state.padding).attr("y",ve().state.padding).attr("width",i.width+2*ve().state.padding).attr("height",i.height+2*ve().state.padding).attr("rx",ve().state.radius),r},"drawSimpleState"),o$e=l((t,e)=>{let r=l(function(p,g,f){let m=p.append("tspan").attr("x",2*ve().state.padding).text(g);f||m.attr("dy",ve().state.textHeight)},"addTspan"),i=t.append("text").attr("x",2*ve().state.padding).attr("y",ve().state.textHeight+1.3*ve().state.padding).attr("font-size",ve().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),n=i.height,a=t.append("text").attr("x",ve().state.padding).attr("y",n+ve().state.padding*.4+ve().state.dividerMargin+ve().state.textHeight).attr("class","state-description"),s=!0,o=!0;e.descriptions.forEach(function(p){s||(r(a,p,o),o=!1),s=!1});let h=t.append("line").attr("x1",ve().state.padding).attr("y1",ve().state.padding+n+ve().state.dividerMargin/2).attr("y2",ve().state.padding+n+ve().state.dividerMargin/2).attr("class","descr-divider"),u=a.node().getBBox(),d=Math.max(u.width,i.width);return h.attr("x2",d+3*ve().state.padding),t.insert("rect",":first-child").attr("x",ve().state.padding).attr("y",ve().state.padding).attr("width",d+2*ve().state.padding).attr("height",u.height+n+2*ve().state.padding).attr("rx",ve().state.radius),t},"drawDescrState"),l$e=l((t,e,r)=>{let i=ve().state.padding,n=2*ve().state.padding,a=t.node().getBBox(),s=a.width,o=a.x,h=t.append("text").attr("x",0).attr("y",ve().state.titleShift).attr("font-size",ve().state.fontSize).attr("class","state-title").text(e.id),u=h.node().getBBox().width+n,d=Math.max(u,s);d===s&&(d=d+n);let p,g=t.node().getBBox();e.doc,p=o-i,u>s&&(p=(s-d)/2+i),Math.abs(o-g.x)<i&&u>s&&(p=o-(u-s)/2);let f=1-ve().state.textHeight;return t.insert("rect",":first-child").attr("x",p).attr("y",f).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",g.height+ve().state.textHeight+ve().state.titleShift+1).attr("rx","0"),h.attr("x",p+i),u<=s&&h.attr("x",o+(d-n)/2-u/2+i),t.insert("rect",":first-child").attr("x",p).attr("y",ve().state.titleShift-ve().state.textHeight-ve().state.padding).attr("width",d).attr("height",ve().state.textHeight*3).attr("rx",ve().state.radius),t.insert("rect",":first-child").attr("x",p).attr("y",ve().state.titleShift-ve().state.textHeight-ve().state.padding).attr("width",d).attr("height",g.height+3+2*ve().state.textHeight).attr("rx",ve().state.radius),t},"addTitleAndBox"),c$e=l(t=>(t.append("circle").attr("class","end-state-outer").attr("r",ve().state.sizeUnit+ve().state.miniPadding).attr("cx",ve().state.padding+ve().state.sizeUnit+ve().state.miniPadding).attr("cy",ve().state.padding+ve().state.sizeUnit+ve().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",ve().state.sizeUnit).attr("cx",ve().state.padding+ve().state.sizeUnit+2).attr("cy",ve().state.padding+ve().state.sizeUnit+2)),"drawEndState"),h$e=l((t,e)=>{let r=ve().state.forkWidth,i=ve().state.forkHeight;if(e.parentId){let n=r;r=i,i=n}return t.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",i).attr("x",ve().state.padding).attr("y",ve().state.padding)},"drawForkJoinState"),u$e=l((t,e,r,i)=>{let n=0,a=i.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=t.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");let o=s.split(Ke.lineBreakRegex),h=1.25*ve().state.noteMargin;for(let u of o){let d=u.trim();if(d.length>0){let p=a.append("tspan");if(p.text(d),h===0){let g=p.node().getBBox();h+=g.height}n+=h,p.attr("x",e+ve().state.noteMargin),p.attr("y",r+n+1.25*ve().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:n}},"_drawLongText"),d$e=l((t,e)=>{e.attr("class","state-note");let r=e.append("rect").attr("x",0).attr("y",ve().state.padding),i=e.append("g"),{textWidth:n,textHeight:a}=u$e(t,0,0,i);return r.attr("height",a+2*ve().state.noteMargin),r.attr("width",n+ve().state.noteMargin*2),r},"drawNote"),Wge=l(function(t,e){let r=e.id,i={id:r,label:e.id,width:0,height:0},n=t.append("g").attr("id",r).attr("class","stateGroup");e.type==="start"&&n$e(n),e.type==="end"&&c$e(n),(e.type==="fork"||e.type==="join")&&h$e(n,e),e.type==="note"&&d$e(e.note.text,n),e.type==="divider"&&a$e(n),e.type==="default"&&e.descriptions.length===0&&s$e(n,e),e.type==="default"&&e.descriptions.length>0&&o$e(n,e);let a=n.node().getBBox();return i.width=a.width+2*ve().state.padding,i.height=a.height+2*ve().state.padding,i},"drawState"),Vge=0,p$e=l(function(t,e,r){let i=l(function(h){switch(h){case xc.relationType.AGGREGATION:return"aggregation";case xc.relationType.EXTENSION:return"extension";case xc.relationType.COMPOSITION:return"composition";case xc.relationType.DEPENDENCY:return"dependency"}},"getRelationType");e.points=e.points.filter(h=>!Number.isNaN(h.y));let n=e.points,a=Io().x(function(h){return h.x}).y(function(h){return h.y}).curve(Hs),s=t.append("path").attr("d",a(n)).attr("id","edge"+Vge).attr("class","transition"),o="";if(ve().state.arrowMarkerAbsolute&&(o=Tu(!0)),s.attr("marker-end","url("+o+"#"+i(xc.relationType.DEPENDENCY)+"End)"),r.title!==void 0){let h=t.append("g").attr("class","stateLabel"),{x:u,y:d}=$t.calcLabelPosition(e.points),p=Ke.getRows(r.title),g=0,f=[],m=0,y=0;for(let x=0;x<=p.length;x++){let w=h.append("text").attr("text-anchor","middle").text(p[x]).attr("x",u).attr("y",d+g),k=w.node().getBBox();m=Math.max(m,k.width),y=Math.min(y,k.x),ee.info(k.x,u,d+g),g===0&&(g=w.node().getBBox().height,ee.info("Title height",g,d)),f.push(w)}let b=g*p.length;if(p.length>1){let x=(p.length-1)*g*.5;f.forEach((w,k)=>w.attr("y",d+k*g-x)),b=g*p.length}let v=h.node().getBBox();h.insert("rect",":first-child").attr("class","box").attr("x",u-m/2-ve().state.padding/2).attr("y",d-b/2-ve().state.padding/2-3.5).attr("width",m+ve().state.padding).attr("height",b+ve().state.padding),ee.info(v)}Vge++},"drawEdge"),wM={},g$e=l(function(){},"setConf"),f$e=l(function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),m$e=l(function(t,e,r,i){us=ve().state;let n=ve().securityLevel,a;n==="sandbox"&&(a=Ue("#i"+e));let s=n==="sandbox"?Ue(a.nodes()[0].contentDocument.body):Ue("body"),o=n==="sandbox"?a.nodes()[0].contentDocument:document;ee.debug("Rendering diagram "+t);let h=s.select(`[id='${e}']`);f$e(h);let u=i.db.getRootDoc();Yge(u,h,void 0,!1,s,o,i);let d=us.padding,p=h.node().getBBox(),g=p.width+d*2,f=p.height+d*2,m=g*1.75;Yr(h,f,m,us.useMaxWidth),h.attr("viewBox",`${p.x-us.padding}  ${p.y-us.padding} `+g+" "+f)},"draw"),y$e=l(t=>t?t.length*us.fontSizeFactor:1,"getLabelWidth"),Yge=l((t,e,r,i,n,a,s)=>{let o=new yn({compound:!0,multigraph:!0}),h,u=!0;for(h=0;h<t.length;h++)if(t[h].stmt==="relation"){u=!1;break}r?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:us.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:us.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}});let d=s.db.getStates(),p=s.db.getRelations(),g=Object.keys(d),f=!0;for(let x of g){let w=d[x];r&&(w.parentId=r);let k;if(w.doc){let T=e.append("g").attr("id",w.id).attr("class","stateGroup");if(k=Yge(w.doc,T,w.id,!i,n,a,s),f){T=l$e(T,w,i);let S=T.node().getBBox();k.width=S.width,k.height=S.height+us.padding/2,wM[w.id]={y:us.compositTitleSize}}else{let S=T.node().getBBox();k.width=S.width,k.height=S.height}}else k=Wge(e,w,o);if(w.note){let T={descriptions:[],id:w.id+"-note",note:w.note,type:"note"},S=Wge(e,T,o);w.note.position==="left of"?(o.setNode(k.id+"-note",S),o.setNode(k.id,k)):(o.setNode(k.id,k),o.setNode(k.id+"-note",S)),o.setParent(k.id,k.id+"-group"),o.setParent(k.id+"-note",k.id+"-group")}else o.setNode(k.id,k)}ee.debug("Count=",o.nodeCount(),o);let m=0;p.forEach(function(x){m++,ee.debug("Setting edge",x),o.setEdge(x.id1,x.id2,{relation:x,width:y$e(x.title),height:us.labelHeight*Ke.getRows(x.title).length,labelpos:"c"},"id"+m)}),Ov(o),ee.debug("Graph after layout",o.nodes());let y=e.node();o.nodes().forEach(function(x){x!==void 0&&o.node(x)!==void 0?(ee.warn("Node "+x+": "+JSON.stringify(o.node(x))),n.select("#"+y.id+" #"+x).attr("transform","translate("+(o.node(x).x-o.node(x).width/2)+","+(o.node(x).y+(wM[x]?wM[x].y:0)-o.node(x).height/2)+" )"),n.select("#"+y.id+" #"+x).attr("data-x-shift",o.node(x).x-o.node(x).width/2),a.querySelectorAll("#"+y.id+" #"+x+" .divider").forEach(w=>{let k=w.parentElement,T=0,S=0;k&&(k.parentElement&&(T=k.parentElement.getBBox().width),S=parseInt(k.getAttribute("data-x-shift"),10),Number.isNaN(S)&&(S=0)),w.setAttribute("x1",0-S+8),w.setAttribute("x2",T-S-8)})):ee.debug("No Node "+x+": "+JSON.stringify(o.node(x)))});let b=y.getBBox();o.edges().forEach(function(x){x!==void 0&&o.edge(x)!==void 0&&(ee.debug("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(o.edge(x))),p$e(e,o.edge(x),o.edge(x).relation))}),b=y.getBBox();let v={id:r||"root",label:r||"root",width:0,height:0};return v.width=b.width+2*us.padding,v.height=b.height+2*us.padding,ee.debug("Doc rendered",v,o),v},"renderDoc"),v$e={setConf:g$e,draw:m$e},b$e={parser:UT,get db(){return new xc(1)},renderer:v$e,styles:jT,init:l(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute},"init")}});var Kge={};Tr(Kge,{diagram:()=>x$e});var x$e,Zge=wt(()=>{xM();mo();Ps();Ms();Es();ts();$a();ua();da();_n();Hr();ri();hr();lr();br();kt();x$e={parser:UT,get db(){return new xc(2)},renderer:qge,styles:jT,init:l(t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute},"init")}});var o1e={};Tr(o1e,{diagram:()=>G$e});function s1e(t){let e=ve().journey,r=e.maxLabelWidth;WT=0;let i=60;Object.keys(wc).forEach(n=>{let a=wc[n].color,s={cx:20,cy:i,r:7,fill:a,stroke:"#000",pos:wc[n].position};Ox.drawCircle(t,s);let o=t.append("text").attr("visibility","hidden").text(n),h=o.node().getBoundingClientRect().width;o.remove();let u=[];if(h<=r)u=[n];else{let d=n.split(" "),p="";o=t.append("text").attr("visibility","hidden"),d.forEach(g=>{let f=p?`${p} ${g}`:g;if(o.text(f),o.node().getBoundingClientRect().width>r){if(p&&u.push(p),p=g,o.text(g),o.node().getBoundingClientRect().width>r){let m="";for(let y of g)m+=y,o.text(m+"-"),o.node().getBoundingClientRect().width>r&&(u.push(m.slice(0,-1)+"-"),m=y);p=m}}else p=f}),p&&u.push(p),o.remove()}u.forEach((d,p)=>{let g={x:40,y:i+7+p*20,fill:"#666",text:d,textMargin:e.boxTextMargin??5},f=Ox.drawText(t,g).node().getBoundingClientRect().width;f>WT&&f>e.leftMargin-f&&(WT=f)}),i+=Math.max(20,u.length*20)})}var TM,w$e,fy,EM,Dx,Mx,k$e,T$e,E$e,C$e,S$e,_$e,A$e,Qge,L$e,Jge,N$e,I$e,CM,R$e,i1e,n1e,D$e,M$e,e1e,O$e,$$e,a1e,B$e,Ox,P$e,wc,WT,wo,Jh,F$e,Gs,kM,t1e,z$e,r1e,G$e,l1e=wt(()=>{fw();Mh();ri();hr();lr();kt();TM=(function(){var t=l(function(p,g,f,m){for(f=f||{},m=p.length;m--;f[p[m]]=g);return f},"o"),e=[6,8,10,11,12,14,16,17,18],r=[1,9],i=[1,10],n=[1,11],a=[1,12],s=[1,13],o=[1,14],h={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:l(function(p,g,f,m,y,b,v){var x=b.length-1;switch(y){case 1:return b[x-1];case 2:this.$=[];break;case 3:b[x-1].push(b[x]),this.$=b[x-1];break;case 4:case 5:this.$=b[x];break;case 6:case 7:this.$=[];break;case 8:m.setDiagramTitle(b[x].substr(6)),this.$=b[x].substr(6);break;case 9:this.$=b[x].trim(),m.setAccTitle(this.$);break;case 10:case 11:this.$=b[x].trim(),m.setAccDescription(this.$);break;case 12:m.addSection(b[x].substr(8)),this.$=b[x].substr(8);break;case 13:m.addTask(b[x-1],b[x]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:i,14:n,16:a,17:s,18:o},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:15,11:r,12:i,14:n,16:a,17:s,18:o},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,16]},{15:[1,17]},t(e,[2,11]),t(e,[2,12]),{19:[1,18]},t(e,[2,4]),t(e,[2,9]),t(e,[2,10]),t(e,[2,13])],defaultActions:{},parseError:l(function(p,g){if(g.recoverable)this.trace(p);else{var f=new Error(p);throw f.hash=g,f}},"parseError"),parse:l(function(p){var g=this,f=[0],m=[],y=[null],b=[],v=this.table,x="",w=0,k=0,T=0,S=2,C=1,E=b.slice.call(arguments,1),L=Object.create(this.lexer),I={yy:{}};for(var M in this.yy)Object.prototype.hasOwnProperty.call(this.yy,M)&&(I.yy[M]=this.yy[M]);L.setInput(p,I.yy),I.yy.lexer=L,I.yy.parser=this,typeof L.yylloc>"u"&&(L.yylloc={});var N=L.yylloc;b.push(N);var $=L.options&&L.options.ranges;typeof I.yy.parseError=="function"?this.parseError=I.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _(oe){f.length=f.length-2*oe,y.length=y.length-oe,b.length=b.length-oe}l(_,"popStack");function D(){var oe;return oe=m.pop()||L.lex()||C,typeof oe!="number"&&(oe instanceof Array&&(m=oe,oe=m.pop()),oe=g.symbols_[oe]||oe),oe}l(D,"lex");for(var R,O,A,B,P,z,q={},K,W,ae,ie;;){if(A=f[f.length-1],this.defaultActions[A]?B=this.defaultActions[A]:((R===null||typeof R>"u")&&(R=D()),B=v[A]&&v[A][R]),typeof B>"u"||!B.length||!B[0]){var se="";ie=[];for(K in v[A])this.terminals_[K]&&K>S&&ie.push("'"+this.terminals_[K]+"'");L.showPosition?se="Parse error on line "+(w+1)+`:
`+L.showPosition()+`
Expecting `+ie.join(", ")+", got '"+(this.terminals_[R]||R)+"'":se="Parse error on line "+(w+1)+": Unexpected "+(R==C?"end of input":"'"+(this.terminals_[R]||R)+"'"),this.parseError(se,{text:L.match,token:this.terminals_[R]||R,line:L.yylineno,loc:N,expected:ie})}if(B[0]instanceof Array&&B.length>1)throw new Error("Parse Error: multiple actions possible at state: "+A+", token: "+R);switch(B[0]){case 1:f.push(R),y.push(L.yytext),b.push(L.yylloc),f.push(B[1]),R=null,O?(R=O,O=null):(k=L.yyleng,x=L.yytext,w=L.yylineno,N=L.yylloc,T>0&&T--);break;case 2:if(W=this.productions_[B[1]][1],q.$=y[y.length-W],q._$={first_line:b[b.length-(W||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(W||1)].first_column,last_column:b[b.length-1].last_column},$&&(q._$.range=[b[b.length-(W||1)].range[0],b[b.length-1].range[1]]),z=this.performAction.apply(q,[x,k,w,I.yy,B[1],y,b].concat(E)),typeof z<"u")return z;W&&(f=f.slice(0,-1*W*2),y=y.slice(0,-1*W),b=b.slice(0,-1*W)),f.push(this.productions_[B[1]][0]),y.push(q.$),b.push(q._$),ae=v[f[f.length-2]][f[f.length-1]],f.push(ae);break;case 3:return!0}}return!0},"parse")},u=(function(){var p={EOF:1,parseError:l(function(g,f){if(this.yy.parser)this.yy.parser.parseError(g,f);else throw new Error(g)},"parseError"),setInput:l(function(g,f){return this.yy=f||this.yy||{},this._input=g,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var g=this._input[0];this.yytext+=g,this.yyleng++,this.offset++,this.match+=g,this.matched+=g;var f=g.match(/(?:\r\n?|\n).*/g);return f?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),g},"input"),unput:l(function(g){var f=g.length,m=g.split(/(?:\r\n?|\n)/g);this._input=g+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-f),this.offset-=f;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var b=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===y.length?this.yylloc.first_column:0)+y[y.length-m.length].length-m[0].length:this.yylloc.first_column-f},this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-f]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(g){this.unput(this.match.slice(g))},"less"),pastInput:l(function(){var g=this.matched.substr(0,this.matched.length-this.match.length);return(g.length>20?"...":"")+g.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var g=this.match;return g.length<20&&(g+=this._input.substr(0,20-g.length)),(g.substr(0,20)+(g.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var g=this.pastInput(),f=new Array(g.length+1).join("-");return g+this.upcomingInput()+`
`+f+"^"},"showPosition"),test_match:l(function(g,f){var m,y,b;if(this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(b.yylloc.range=this.yylloc.range.slice(0))),y=g[0].match(/(?:\r\n?|\n).*/g),y&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],m=this.performAction.call(this,this.yy,this,f,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var v in b)this[v]=b[v];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var g,f,m,y;this._more||(this.yytext="",this.match="");for(var b=this._currentRules(),v=0;v<b.length;v++)if(m=this._input.match(this.rules[b[v]]),m&&(!f||m[0].length>f[0].length)){if(f=m,y=v,this.options.backtrack_lexer){if(g=this.test_match(m,b[v]),g!==!1)return g;if(this._backtrack){f=!1;continue}else return!1}else if(!this.options.flex)break}return f?(g=this.test_match(f,b[y]),g!==!1?g:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var g=this.next();return g||this.lex()},"lex"),begin:l(function(g){this.conditionStack.push(g)},"begin"),popState:l(function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},"topState"),pushState:l(function(g){this.begin(g)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(g,f,m,y){var b=y;switch(m){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return p})();h.lexer=u;function d(){this.yy={}}return l(d,"Parser"),d.prototype=h,h.Parser=d,new d})();TM.parser=TM;w$e=TM,fy="",EM=[],Dx=[],Mx=[],k$e=l(function(){EM.length=0,Dx.length=0,fy="",Mx.length=0,cr()},"clear"),T$e=l(function(t){fy=t,EM.push(t)},"addSection"),E$e=l(function(){return EM},"getSections"),C$e=l(function(){let t=Qge(),e=100,r=0;for(;!t&&r<e;)t=Qge(),r++;return Dx.push(...Mx),Dx},"getTasks"),S$e=l(function(){let t=[];return Dx.forEach(e=>{e.people&&t.push(...e.people)}),[...new Set(t)].sort()},"updateActors"),_$e=l(function(t,e){let r=e.substr(1).split(":"),i=0,n=[];r.length===1?(i=Number(r[0]),n=[]):(i=Number(r[0]),n=r[1].split(","));let a=n.map(o=>o.trim()),s={section:fy,type:fy,people:a,task:t,score:i};Mx.push(s)},"addTask"),A$e=l(function(t){let e={section:fy,type:fy,description:t,task:t,classes:[]};Dx.push(e)},"addTaskOrg"),Qge=l(function(){let t=l(function(r){return Mx[r].processed},"compileTask"),e=!0;for(let[r,i]of Mx.entries())t(r),e=e&&i.processed;return e},"compileTasks"),L$e=l(function(){return S$e()},"getActors"),Jge={getConfig:l(()=>ve().journey,"getConfig"),clear:k$e,setDiagramTitle:Er,getDiagramTitle:vr,setAccTitle:gr,getAccTitle:fr,setAccDescription:mr,getAccDescription:yr,addSection:T$e,getSections:E$e,getTasks:C$e,addTask:_$e,addTaskOrg:A$e,getActors:L$e},N$e=l(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
    font-family: ${t.fontFamily};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
  ${sl()}
`,"getStyles"),I$e=N$e,CM=l(function(t,e){return gd(t,e)},"drawRect"),R$e=l(function(t,e){let r=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function n(o){let h=No().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}l(n,"smile");function a(o){let h=No().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}l(a,"sad");function s(o){o.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return l(s,"ambivalent"),e.score>3?n(i):e.score<3?a(i):s(i),r},"drawFace"),i1e=l(function(t,e){let r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),n1e=l(function(t,e){return ooe(t,e)},"drawText"),D$e=l(function(t,e){function r(n,a,s,o,h){return n+","+a+" "+(n+s)+","+a+" "+(n+s)+","+(a+o-h)+" "+(n+s-h*1.2)+","+(a+o)+" "+n+","+(a+o)}l(r,"genPoints");let i=t.append("polygon");i.attr("points",r(e.x,e.y,50,20,7)),i.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,n1e(t,e)},"drawLabel"),M$e=l(function(t,e,r){let i=t.append("g"),n=Jn();n.x=e.x,n.y=e.y,n.fill=e.fill,n.width=r.width*e.taskCount+r.diagramMarginX*(e.taskCount-1),n.height=r.height,n.class="journey-section section-type-"+e.num,n.rx=3,n.ry=3,CM(i,n),a1e(r)(e.text,i,n.x,n.y,n.width,n.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),e1e=-1,O$e=l(function(t,e,r){let i=e.x+r.width/2,n=t.append("g");e1e++,n.append("line").attr("id","task"+e1e).attr("x1",i).attr("y1",e.y).attr("x2",i).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),R$e(n,{cx:i,cy:300+(5-e.score)*30,score:e.score});let a=Jn();a.x=e.x,a.y=e.y,a.fill=e.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+e.num,a.rx=3,a.ry=3,CM(n,a);let s=e.x+14;e.people.forEach(o=>{let h=e.actors[o].color,u={cx:s,cy:e.y,r:7,fill:h,stroke:"#000",title:o,pos:e.actors[o].position};i1e(n,u),s+=10}),a1e(r)(e.task,n,a.x,a.y,a.width,a.height,{class:"task"},r,e.colour)},"drawTask"),$$e=l(function(t,e){uw(t,e)},"drawBackgroundRect"),a1e=(function(){function t(n,a,s,o,h,u,d,p){let g=a.append("text").attr("x",s+h/2).attr("y",o+u/2+5).style("font-color",p).style("text-anchor","middle").text(n);i(g,d)}l(t,"byText");function e(n,a,s,o,h,u,d,p,g){let{taskFontSize:f,taskFontFamily:m}=p,y=n.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){let v=b*f-f*(y.length-1)/2,x=a.append("text").attr("x",s+h/2).attr("y",o).attr("fill",g).style("text-anchor","middle").style("font-size",f).style("font-family",m);x.append("tspan").attr("x",s+h/2).attr("dy",v).text(y[b]),x.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(x,d)}}l(e,"byTspan");function r(n,a,s,o,h,u,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",h).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),e(n,g,s,o,h,u,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)s in a&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?t:e}})(),B$e=l(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),Ox={drawRect:CM,drawCircle:i1e,drawSection:M$e,drawText:n1e,drawLabel:D$e,drawTask:O$e,drawBackgroundRect:$$e,initGraphics:B$e},P$e=l(function(t){Object.keys(t).forEach(function(e){wo[e]=t[e]})},"setConf"),wc={},WT=0;l(s1e,"drawActorLegend");wo=ve().journey,Jh=0,F$e=l(function(t,e,r,i){let n=ve(),a=n.journey.titleColor,s=n.journey.titleFontSize,o=n.journey.titleFontFamily,h=n.securityLevel,u;h==="sandbox"&&(u=Ue("#i"+e));let d=h==="sandbox"?Ue(u.nodes()[0].contentDocument.body):Ue("body");Gs.init();let p=d.select("#"+e);Ox.initGraphics(p);let g=i.db.getTasks(),f=i.db.getDiagramTitle(),m=i.db.getActors();for(let k in wc)delete wc[k];let y=0;m.forEach(k=>{wc[k]={color:wo.actorColours[y%wo.actorColours.length],position:y},y++}),s1e(p),Jh=wo.leftMargin+WT,Gs.insert(0,0,Jh,Object.keys(wc).length*50),z$e(p,g,0);let b=Gs.getBounds();f&&p.append("text").text(f).attr("x",Jh).attr("font-size",s).attr("font-weight","bold").attr("y",25).attr("fill",a).attr("font-family",o);let v=b.stopy-b.starty+2*wo.diagramMarginY,x=Jh+b.stopx+2*wo.diagramMarginX;Yr(p,v,x,wo.useMaxWidth),p.append("line").attr("x1",Jh).attr("y1",wo.height*4).attr("x2",x-Jh-4).attr("y2",wo.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let w=f?70:0;p.attr("viewBox",`${b.startx} -25 ${x} ${v+w}`),p.attr("preserveAspectRatio","xMinYMin meet"),p.attr("height",v+w+25)},"draw"),Gs={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:l(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:l(function(t,e,r,i){t[e]===void 0?t[e]=r:t[e]=i(r,t[e])},"updateVal"),updateBounds:l(function(t,e,r,i){let n=ve().journey,a=this,s=0;function o(h){return l(function(u){s++;let d=a.sequenceItems.length-s+1;a.updateVal(u,"starty",e-d*n.boxMargin,Math.min),a.updateVal(u,"stopy",i+d*n.boxMargin,Math.max),a.updateVal(Gs.data,"startx",t-d*n.boxMargin,Math.min),a.updateVal(Gs.data,"stopx",r+d*n.boxMargin,Math.max),h!=="activation"&&(a.updateVal(u,"startx",t-d*n.boxMargin,Math.min),a.updateVal(u,"stopx",r+d*n.boxMargin,Math.max),a.updateVal(Gs.data,"starty",e-d*n.boxMargin,Math.min),a.updateVal(Gs.data,"stopy",i+d*n.boxMargin,Math.max))},"updateItemBounds")}l(o,"updateFn"),this.sequenceItems.forEach(o())},"updateBounds"),insert:l(function(t,e,r,i){let n=Math.min(t,r),a=Math.max(t,r),s=Math.min(e,i),o=Math.max(e,i);this.updateVal(Gs.data,"startx",n,Math.min),this.updateVal(Gs.data,"starty",s,Math.min),this.updateVal(Gs.data,"stopx",a,Math.max),this.updateVal(Gs.data,"stopy",o,Math.max),this.updateBounds(n,s,a,o)},"insert"),bumpVerticalPos:l(function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:l(function(){return this.verticalPos},"getVerticalPos"),getBounds:l(function(){return this.data},"getBounds")},kM=wo.sectionFills,t1e=wo.sectionColours,z$e=l(function(t,e,r){let i=ve().journey,n="",a=i.height*2+i.diagramMarginY,s=r+a,o=0,h="#CCC",u="black",d=0;for(let[p,g]of e.entries()){if(n!==g.section){h=kM[o%kM.length],d=o%kM.length,u=t1e[o%t1e.length];let m=0,y=g.section;for(let v=p;v<e.length&&e[v].section==y;v++)m=m+1;let b={x:p*i.taskMargin+p*i.width+Jh,y:50,text:g.section,fill:h,num:d,colour:u,taskCount:m};Ox.drawSection(t,b,i),n=g.section,o++}let f=g.people.reduce((m,y)=>(wc[y]&&(m[y]=wc[y]),m),{});g.x=p*i.taskMargin+p*i.width+Jh,g.y=s,g.width=i.diagramMarginX,g.height=i.diagramMarginY,g.colour=u,g.fill=h,g.num=d,g.actors=f,Ox.drawTask(t,g,i),Gs.insert(g.x,g.y,g.x+g.width+i.taskMargin,450)}},"drawTasks"),r1e={setConf:P$e,draw:F$e},G$e={parser:w$e,db:Jge,renderer:r1e,styles:I$e,init:l(t=>{r1e.setConf(t.journey),Jge.clear()},"init")}});var E1e={};Tr(E1e,{diagram:()=>lBe});function LM(t,e){t.each(function(){var r=Ue(this),i=r.text().split(/(\s+|<br>)/).reverse(),n,a=[],s=1.1,o=r.attr("y"),h=parseFloat(r.attr("dy")),u=r.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",h+"em");for(let d=0;d<i.length;d++)n=i[i.length-1-d],a.push(n),u.text(a.join(" ").trim()),(u.node().getComputedTextLength()>e||n==="<br>")&&(a.pop(),u.text(a.join(" ").trim()),n==="<br>"?a=[""]:a=[n],u=r.append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em").text(n))})}var SM,q$e,d1e,my,p1e,_M,VT,yy,g1e,f1e,m1e,y1e,v1e,b1e,x1e,w1e,c1e,U$e,j$e,YT,W$e,V$e,k1e,Y$e,H$e,h1e,X$e,K$e,Z$e,AM,T1e,Q$e,J$e,eBe,tBe,n0,rBe,u1e,iBe,nBe,aBe,sBe,oBe,lBe,C1e=wt(()=>{hr();lr();kt();SM=(function(){var t=l(function(g,f,m,y){for(m=m||{},y=g.length;y--;m[g[y]]=f);return m},"o"),e=[6,8,10,11,12,14,16,17,20,21],r=[1,9],i=[1,10],n=[1,11],a=[1,12],s=[1,13],o=[1,16],h=[1,17],u={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:l(function(g,f,m,y,b,v,x){var w=v.length-1;switch(b){case 1:return v[w-1];case 2:this.$=[];break;case 3:v[w-1].push(v[w]),this.$=v[w-1];break;case 4:case 5:this.$=v[w];break;case 6:case 7:this.$=[];break;case 8:y.getCommonDb().setDiagramTitle(v[w].substr(6)),this.$=v[w].substr(6);break;case 9:this.$=v[w].trim(),y.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=v[w].trim(),y.getCommonDb().setAccDescription(this.$);break;case 12:y.addSection(v[w].substr(8)),this.$=v[w].substr(8);break;case 15:y.addTask(v[w],0,""),this.$=v[w];break;case 16:y.addEvent(v[w].substr(2)),this.$=v[w];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:i,14:n,16:a,17:s,18:14,19:15,20:o,21:h},t(e,[2,7],{1:[2,1]}),t(e,[2,3]),{9:18,11:r,12:i,14:n,16:a,17:s,18:14,19:15,20:o,21:h},t(e,[2,5]),t(e,[2,6]),t(e,[2,8]),{13:[1,19]},{15:[1,20]},t(e,[2,11]),t(e,[2,12]),t(e,[2,13]),t(e,[2,14]),t(e,[2,15]),t(e,[2,16]),t(e,[2,4]),t(e,[2,9]),t(e,[2,10])],defaultActions:{},parseError:l(function(g,f){if(f.recoverable)this.trace(g);else{var m=new Error(g);throw m.hash=f,m}},"parseError"),parse:l(function(g){var f=this,m=[0],y=[],b=[null],v=[],x=this.table,w="",k=0,T=0,S=0,C=2,E=1,L=v.slice.call(arguments,1),I=Object.create(this.lexer),M={yy:{}};for(var N in this.yy)Object.prototype.hasOwnProperty.call(this.yy,N)&&(M.yy[N]=this.yy[N]);I.setInput(g,M.yy),M.yy.lexer=I,M.yy.parser=this,typeof I.yylloc>"u"&&(I.yylloc={});var $=I.yylloc;v.push($);var _=I.options&&I.options.ranges;typeof M.yy.parseError=="function"?this.parseError=M.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function D(Y){m.length=m.length-2*Y,b.length=b.length-Y,v.length=v.length-Y}l(D,"popStack");function R(){var Y;return Y=y.pop()||I.lex()||E,typeof Y!="number"&&(Y instanceof Array&&(y=Y,Y=y.pop()),Y=f.symbols_[Y]||Y),Y}l(R,"lex");for(var O,A,B,P,z,q,K={},W,ae,ie,se;;){if(B=m[m.length-1],this.defaultActions[B]?P=this.defaultActions[B]:((O===null||typeof O>"u")&&(O=R()),P=x[B]&&x[B][O]),typeof P>"u"||!P.length||!P[0]){var oe="";se=[];for(W in x[B])this.terminals_[W]&&W>C&&se.push("'"+this.terminals_[W]+"'");I.showPosition?oe="Parse error on line "+(k+1)+`:
`+I.showPosition()+`
Expecting `+se.join(", ")+", got '"+(this.terminals_[O]||O)+"'":oe="Parse error on line "+(k+1)+": Unexpected "+(O==E?"end of input":"'"+(this.terminals_[O]||O)+"'"),this.parseError(oe,{text:I.match,token:this.terminals_[O]||O,line:I.yylineno,loc:$,expected:se})}if(P[0]instanceof Array&&P.length>1)throw new Error("Parse Error: multiple actions possible at state: "+B+", token: "+O);switch(P[0]){case 1:m.push(O),b.push(I.yytext),v.push(I.yylloc),m.push(P[1]),O=null,A?(O=A,A=null):(T=I.yyleng,w=I.yytext,k=I.yylineno,$=I.yylloc,S>0&&S--);break;case 2:if(ae=this.productions_[P[1]][1],K.$=b[b.length-ae],K._$={first_line:v[v.length-(ae||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(ae||1)].first_column,last_column:v[v.length-1].last_column},_&&(K._$.range=[v[v.length-(ae||1)].range[0],v[v.length-1].range[1]]),q=this.performAction.apply(K,[w,T,k,M.yy,P[1],b,v].concat(L)),typeof q<"u")return q;ae&&(m=m.slice(0,-1*ae*2),b=b.slice(0,-1*ae),v=v.slice(0,-1*ae)),m.push(this.productions_[P[1]][0]),b.push(K.$),v.push(K._$),ie=x[m[m.length-2]][m[m.length-1]],m.push(ie);break;case 3:return!0}}return!0},"parse")},d=(function(){var g={EOF:1,parseError:l(function(f,m){if(this.yy.parser)this.yy.parser.parseError(f,m);else throw new Error(f)},"parseError"),setInput:l(function(f,m){return this.yy=m||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var m=f.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),f},"input"),unput:l(function(f){var m=f.length,y=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),y.length-1&&(this.yylineno-=y.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:y?(y.length===b.length?this.yylloc.first_column:0)+b[b.length-y.length].length-y[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(f){this.unput(this.match.slice(f))},"less"),pastInput:l(function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var f=this.match;return f.length<20&&(f+=this._input.substr(0,20-f.length)),(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var f=this.pastInput(),m=new Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:l(function(f,m){var y,b,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),b=f[0].match(/(?:\r\n?|\n).*/g),b&&(this.yylineno+=b.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],y=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),y)return y;if(this._backtrack){for(var x in v)this[x]=v[x];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var f,m,y,b;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),x=0;x<v.length;x++)if(y=this._input.match(this.rules[v[x]]),y&&(!m||y[0].length>m[0].length)){if(m=y,b=x,this.options.backtrack_lexer){if(f=this.test_match(y,v[x]),f!==!1)return f;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(f=this.test_match(m,v[b]),f!==!1?f:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var f=this.next();return f||this.lex()},"lex"),begin:l(function(f){this.conditionStack.push(f)},"begin"),popState:l(function(){var f=this.conditionStack.length-1;return f>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(f){return f=this.conditionStack.length-1-Math.abs(f||0),f>=0?this.conditionStack[f]:"INITIAL"},"topState"),pushState:l(function(f){this.begin(f)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(f,m,y,b){var v=b;switch(y){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s(?:[^:\n]|:(?!\s))+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return g})();u.lexer=d;function p(){this.yy={}}return l(p,"Parser"),p.prototype=u,u.Parser=p,new p})();SM.parser=SM;q$e=SM,d1e={};Fn(d1e,{addEvent:()=>x1e,addSection:()=>m1e,addTask:()=>b1e,addTaskOrg:()=>w1e,clear:()=>f1e,default:()=>U$e,getCommonDb:()=>g1e,getSections:()=>y1e,getTasks:()=>v1e});my="",p1e=0,_M=[],VT=[],yy=[],g1e=l(()=>M3,"getCommonDb"),f1e=l(function(){_M.length=0,VT.length=0,my="",yy.length=0,cr()},"clear"),m1e=l(function(t){my=t,_M.push(t)},"addSection"),y1e=l(function(){return _M},"getSections"),v1e=l(function(){let t=c1e(),e=100,r=0;for(;!t&&r<e;)t=c1e(),r++;return VT.push(...yy),VT},"getTasks"),b1e=l(function(t,e,r){let i={id:p1e++,section:my,type:my,task:t,score:e||0,events:r?[r]:[]};yy.push(i)},"addTask"),x1e=l(function(t){yy.find(e=>e.id===p1e-1).events.push(t)},"addEvent"),w1e=l(function(t){let e={section:my,type:my,description:t,task:t,classes:[]};VT.push(e)},"addTaskOrg"),c1e=l(function(){let t=l(function(r){return yy[r].processed},"compileTask"),e=!0;for(let[r,i]of yy.entries())t(r),e=e&&i.processed;return e},"compileTasks"),U$e={clear:f1e,getCommonDb:g1e,addSection:m1e,getSections:y1e,getTasks:v1e,addTask:b1e,addTaskOrg:w1e,addEvent:x1e},j$e=12,YT=l(function(t,e){let r=t.append("rect");return r.attr("x",e.x),r.attr("y",e.y),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("width",e.width),r.attr("height",e.height),r.attr("rx",e.rx),r.attr("ry",e.ry),e.class!==void 0&&r.attr("class",e.class),r},"drawRect"),W$e=l(function(t,e){let r=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function n(o){let h=No().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}l(n,"smile");function a(o){let h=No().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",h).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}l(a,"sad");function s(o){o.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return l(s,"ambivalent"),e.score>3?n(i):e.score<3?a(i):s(i),r},"drawFace"),V$e=l(function(t,e){let r=t.append("circle");return r.attr("cx",e.cx),r.attr("cy",e.cy),r.attr("class","actor-"+e.pos),r.attr("fill",e.fill),r.attr("stroke",e.stroke),r.attr("r",e.r),r.class!==void 0&&r.attr("class",r.class),e.title!==void 0&&r.append("title").text(e.title),r},"drawCircle"),k1e=l(function(t,e){let r=e.text.replace(/<br\s*\/?>/gi," "),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.attr("class","legend"),i.style("text-anchor",e.anchor),e.class!==void 0&&i.attr("class",e.class);let n=i.append("tspan");return n.attr("x",e.x+e.textMargin*2),n.text(r),i},"drawText"),Y$e=l(function(t,e){function r(n,a,s,o,h){return n+","+a+" "+(n+s)+","+a+" "+(n+s)+","+(a+o-h)+" "+(n+s-h*1.2)+","+(a+o)+" "+n+","+(a+o)}l(r,"genPoints");let i=t.append("polygon");i.attr("points",r(e.x,e.y,50,20,7)),i.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,k1e(t,e)},"drawLabel"),H$e=l(function(t,e,r){let i=t.append("g"),n=AM();n.x=e.x,n.y=e.y,n.fill=e.fill,n.width=r.width,n.height=r.height,n.class="journey-section section-type-"+e.num,n.rx=3,n.ry=3,YT(i,n),T1e(r)(e.text,i,n.x,n.y,n.width,n.height,{class:"journey-section section-type-"+e.num},r,e.colour)},"drawSection"),h1e=-1,X$e=l(function(t,e,r){let i=e.x+r.width/2,n=t.append("g");h1e++,n.append("line").attr("id","task"+h1e).attr("x1",i).attr("y1",e.y).attr("x2",i).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),W$e(n,{cx:i,cy:300+(5-e.score)*30,score:e.score});let a=AM();a.x=e.x,a.y=e.y,a.fill=e.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+e.num,a.rx=3,a.ry=3,YT(n,a),T1e(r)(e.task,n,a.x,a.y,a.width,a.height,{class:"task"},r,e.colour)},"drawTask"),K$e=l(function(t,e){YT(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},"drawBackgroundRect"),Z$e=l(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),AM=l(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),T1e=(function(){function t(n,a,s,o,h,u,d,p){let g=a.append("text").attr("x",s+h/2).attr("y",o+u/2+5).style("font-color",p).style("text-anchor","middle").text(n);i(g,d)}l(t,"byText");function e(n,a,s,o,h,u,d,p,g){let{taskFontSize:f,taskFontFamily:m}=p,y=n.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){let v=b*f-f*(y.length-1)/2,x=a.append("text").attr("x",s+h/2).attr("y",o).attr("fill",g).style("text-anchor","middle").style("font-size",f).style("font-family",m);x.append("tspan").attr("x",s+h/2).attr("dy",v).text(y[b]),x.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(x,d)}}l(e,"byTspan");function r(n,a,s,o,h,u,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",h).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),e(n,g,s,o,h,u,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)s in a&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?t:e}})(),Q$e=l(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");l(LM,"wrap");J$e=l(function(t,e,r,i){var d;let n=r%j$e-1,a=t.append("g");e.section=n,a.attr("class",(e.class?e.class+" ":"")+"timeline-node "+("section-"+n));let s=a.append("g"),o=a.append("g"),h=o.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(LM,e.width).node().getBBox(),u=(d=i.fontSize)!=null&&d.replace?i.fontSize.replace("px",""):i.fontSize;return e.height=h.height+u*1.1*.5+e.padding,e.height=Math.max(e.height,e.maxHeight),e.width=e.width+2*e.padding,o.attr("transform","translate("+e.width/2+", "+e.padding/2+")"),tBe(s,e,n,i),e},"drawNode"),eBe=l(function(t,e,r){var s;let i=t.append("g"),n=i.append("text").text(e.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(LM,e.width).node().getBBox(),a=(s=r.fontSize)!=null&&s.replace?r.fontSize.replace("px",""):r.fontSize;return i.remove(),n.height+a*1.1*.5+e.padding},"getVirtualNodeHeight"),tBe=l(function(t,e,r){t.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("d",`M0 ${e.height-5} v${-e.height+10} q0,-5 5,-5 h${e.width-10} q5,0 5,5 v${e.height-5} H0 Z`),t.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",e.height).attr("x2",e.width).attr("y2",e.height)},"defaultBkg"),n0={drawRect:YT,drawCircle:V$e,drawSection:H$e,drawText:k1e,drawLabel:Y$e,drawTask:X$e,drawBackgroundRect:K$e,getTextObj:Z$e,getNoteRect:AM,initGraphics:Q$e,drawNode:J$e,getVirtualNodeHeight:eBe},rBe=l(function(t,e,r,i){var C,E,L;let n=ve(),a=((C=n.timeline)==null?void 0:C.leftMargin)??50;ee.debug("timeline",i.db);let s=n.securityLevel,o;s==="sandbox"&&(o=Ue("#i"+e));let h=(s==="sandbox"?Ue(o.nodes()[0].contentDocument.body):Ue("body")).select("#"+e);h.append("g");let u=i.db.getTasks(),d=i.db.getCommonDb().getDiagramTitle();ee.debug("task",u),n0.initGraphics(h);let p=i.db.getSections();ee.debug("sections",p);let g=0,f=0,m=0,y=0,b=50+a,v=50;y=50;let x=0,w=!0;p.forEach(function(I){let M={number:x,descr:I,section:x,width:150,padding:20,maxHeight:g},N=n0.getVirtualNodeHeight(h,M,n);ee.debug("sectionHeight before draw",N),g=Math.max(g,N+20)});let k=0,T=0;ee.debug("tasks.length",u.length);for(let[I,M]of u.entries()){let N={number:I,descr:M,section:M.section,width:150,padding:20,maxHeight:f},$=n0.getVirtualNodeHeight(h,N,n);ee.debug("taskHeight before draw",$),f=Math.max(f,$+20),k=Math.max(k,M.events.length);let _=0;for(let D of M.events){let R={descr:D,section:M.section,number:M.section,width:150,padding:20,maxHeight:50};_+=n0.getVirtualNodeHeight(h,R,n)}M.events.length>0&&(_+=(M.events.length-1)*10),T=Math.max(T,_)}ee.debug("maxSectionHeight before draw",g),ee.debug("maxTaskHeight before draw",f),p&&p.length>0?p.forEach(I=>{let M=u.filter(D=>D.section===I),N={number:x,descr:I,section:x,width:200*Math.max(M.length,1)-50,padding:20,maxHeight:g};ee.debug("sectionNode",N);let $=h.append("g"),_=n0.drawNode($,N,x,n);ee.debug("sectionNode output",_),$.attr("transform",`translate(${b}, ${y})`),v+=g+50,M.length>0&&u1e(h,M,x,b,v,f,n,k,T,g,!1),b+=200*Math.max(M.length,1),v=y,x++}):(w=!1,u1e(h,u,x,b,v,f,n,k,T,g,!0));let S=h.node().getBBox();ee.debug("bounds",S),d&&h.append("text").text(d).attr("x",S.width/2-a).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),m=w?g+f+150:f+100,h.append("g").attr("class","lineWrapper").append("line").attr("x1",a).attr("y1",m).attr("x2",S.width+3*a).attr("y2",m).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),Ml(void 0,h,((E=n.timeline)==null?void 0:E.padding)??50,((L=n.timeline)==null?void 0:L.useMaxWidth)??!1)},"draw"),u1e=l(function(t,e,r,i,n,a,s,o,h,u,d){var p;for(let g of e){let f={descr:g.task,section:r,number:r,width:150,padding:20,maxHeight:a};ee.debug("taskNode",f);let m=t.append("g").attr("class","taskWrapper"),y=n0.drawNode(m,f,r,s).height;if(ee.debug("taskHeight after draw",y),m.attr("transform",`translate(${i}, ${n})`),a=Math.max(a,y),g.events){let b=t.append("g").attr("class","lineWrapper"),v=a;n+=100,v=v+iBe(t,g.events,r,i,n,s),n-=100,b.append("line").attr("x1",i+190/2).attr("y1",n+a).attr("x2",i+190/2).attr("y2",n+a+100+h+100).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}i=i+200,d&&!((p=s.timeline)!=null&&p.disableMulticolor)&&r++}n=n-10},"drawTasks"),iBe=l(function(t,e,r,i,n,a){let s=0,o=n;n=n+100;for(let h of e){let u={descr:h,section:r,number:r,width:150,padding:20,maxHeight:50};ee.debug("eventNode",u);let d=t.append("g").attr("class","eventWrapper"),p=n0.drawNode(d,u,r,a).height;s=s+p,d.attr("transform",`translate(${i}, ${n})`),n=n+10+p}return n=o,s},"drawEvents"),nBe={setConf:l(()=>{},"setConf"),draw:rBe},aBe=l(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],ro(t["lineColor"+r])?t["lineColor"+r]=Ct(t["lineColor"+r],20):t["lineColor"+r]=Mt(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){let i=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${i};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${t["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),sBe=l(t=>`
  .edge {
    stroke-width: 3;
  }
  ${aBe(t)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),oBe=sBe,lBe={db:d1e,renderer:nBe,parser:q$e,styles:oBe}});var N1e={};Tr(N1e,{diagram:()=>bBe});function _1e(t,e=0){return(Pn[t[e+0]]+Pn[t[e+1]]+Pn[t[e+2]]+Pn[t[e+3]]+"-"+Pn[t[e+4]]+Pn[t[e+5]]+"-"+Pn[t[e+6]]+Pn[t[e+7]]+"-"+Pn[t[e+8]]+Pn[t[e+9]]+"-"+Pn[t[e+10]]+Pn[t[e+11]]+Pn[t[e+12]]+Pn[t[e+13]]+Pn[t[e+14]]+Pn[t[e+15]]).toLowerCase()}function A1e(){if(!NM){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");NM=crypto.getRandomValues.bind(crypto)}return NM(hBe)}function L1e(t,e,r){var n;if(S1e.randomUUID&&!e&&!t)return S1e.randomUUID();t=t||{};let i=t.random??((n=t.rng)==null?void 0:n.call(t))??A1e();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){if(r=r||0,r<0||r+16>e.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let a=0;a<16;++a)e[r+a]=i[a];return e}return _1e(i)}var IM,cBe,Pn,NM,hBe,uBe,S1e,dBe,kc,vy,pBe,gBe,fBe,mBe,yBe,vBe,bBe,I1e=wt(()=>{mo();Ps();Ms();Es();ts();$a();ua();da();_n();Hr();ri();hr();lr();br();kt();IM=(function(){var t=l(function(k,T,S,C){for(S=S||{},C=k.length;C--;S[k[C]]=T);return S},"o"),e=[1,4],r=[1,13],i=[1,12],n=[1,15],a=[1,16],s=[1,20],o=[1,19],h=[6,7,8],u=[1,26],d=[1,24],p=[1,25],g=[6,7,11],f=[1,6,13,15,16,19,22],m=[1,33],y=[1,34],b=[1,6,7,11,13,15,16,19,22],v={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:l(function(k,T,S,C,E,L,I){var M=L.length-1;switch(E){case 6:case 7:return C;case 8:C.getLogger().trace("Stop NL ");break;case 9:C.getLogger().trace("Stop EOF ");break;case 11:C.getLogger().trace("Stop NL2 ");break;case 12:C.getLogger().trace("Stop EOF2 ");break;case 15:C.getLogger().info("Node: ",L[M].id),C.addNode(L[M-1].length,L[M].id,L[M].descr,L[M].type);break;case 16:C.getLogger().trace("Icon: ",L[M]),C.decorateNode({icon:L[M]});break;case 17:case 21:C.decorateNode({class:L[M]});break;case 18:C.getLogger().trace("SPACELIST");break;case 19:C.getLogger().trace("Node: ",L[M].id),C.addNode(0,L[M].id,L[M].descr,L[M].type);break;case 20:C.decorateNode({icon:L[M]});break;case 25:C.getLogger().trace("node found ..",L[M-2]),this.$={id:L[M-1],descr:L[M-1],type:C.getType(L[M-2],L[M])};break;case 26:this.$={id:L[M],descr:L[M],type:C.nodeType.DEFAULT};break;case 27:C.getLogger().trace("node found ..",L[M-3]),this.$={id:L[M-3],descr:L[M-1],type:C.getType(L[M-2],L[M])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:r,7:[1,10],9:9,12:11,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},t(h,[2,3]),{1:[2,2]},t(h,[2,4]),t(h,[2,5]),{1:[2,6],6:r,12:21,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},{6:r,9:22,12:11,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},{6:u,7:d,10:23,11:p},t(g,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:o}),t(g,[2,18]),t(g,[2,19]),t(g,[2,20]),t(g,[2,21]),t(g,[2,23]),t(g,[2,24]),t(g,[2,26],{19:[1,30]}),{20:[1,31]},{6:u,7:d,10:32,11:p},{1:[2,7],6:r,12:21,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},t(f,[2,14],{7:m,11:y}),t(b,[2,8]),t(b,[2,9]),t(b,[2,10]),t(g,[2,15]),t(g,[2,16]),t(g,[2,17]),{20:[1,35]},{21:[1,36]},t(f,[2,13],{7:m,11:y}),t(b,[2,11]),t(b,[2,12]),{21:[1,37]},t(g,[2,25]),t(g,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:l(function(k,T){if(T.recoverable)this.trace(k);else{var S=new Error(k);throw S.hash=T,S}},"parseError"),parse:l(function(k){var T=this,S=[0],C=[],E=[null],L=[],I=this.table,M="",N=0,$=0,_=0,D=2,R=1,O=L.slice.call(arguments,1),A=Object.create(this.lexer),B={yy:{}};for(var P in this.yy)Object.prototype.hasOwnProperty.call(this.yy,P)&&(B.yy[P]=this.yy[P]);A.setInput(k,B.yy),B.yy.lexer=A,B.yy.parser=this,typeof A.yylloc>"u"&&(A.yylloc={});var z=A.yylloc;L.push(z);var q=A.options&&A.options.ranges;typeof B.yy.parseError=="function"?this.parseError=B.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function K(V){S.length=S.length-2*V,E.length=E.length-V,L.length=L.length-V}l(K,"popStack");function W(){var V;return V=C.pop()||A.lex()||R,typeof V!="number"&&(V instanceof Array&&(C=V,V=C.pop()),V=T.symbols_[V]||V),V}l(W,"lex");for(var ae,ie,se,oe,Y,Q,j={},H,J,he,X;;){if(se=S[S.length-1],this.defaultActions[se]?oe=this.defaultActions[se]:((ae===null||typeof ae>"u")&&(ae=W()),oe=I[se]&&I[se][ae]),typeof oe>"u"||!oe.length||!oe[0]){var fe="";X=[];for(H in I[se])this.terminals_[H]&&H>D&&X.push("'"+this.terminals_[H]+"'");A.showPosition?fe="Parse error on line "+(N+1)+`:
`+A.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[ae]||ae)+"'":fe="Parse error on line "+(N+1)+": Unexpected "+(ae==R?"end of input":"'"+(this.terminals_[ae]||ae)+"'"),this.parseError(fe,{text:A.match,token:this.terminals_[ae]||ae,line:A.yylineno,loc:z,expected:X})}if(oe[0]instanceof Array&&oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+se+", token: "+ae);switch(oe[0]){case 1:S.push(ae),E.push(A.yytext),L.push(A.yylloc),S.push(oe[1]),ae=null,ie?(ae=ie,ie=null):($=A.yyleng,M=A.yytext,N=A.yylineno,z=A.yylloc,_>0&&_--);break;case 2:if(J=this.productions_[oe[1]][1],j.$=E[E.length-J],j._$={first_line:L[L.length-(J||1)].first_line,last_line:L[L.length-1].last_line,first_column:L[L.length-(J||1)].first_column,last_column:L[L.length-1].last_column},q&&(j._$.range=[L[L.length-(J||1)].range[0],L[L.length-1].range[1]]),Q=this.performAction.apply(j,[M,$,N,B.yy,oe[1],E,L].concat(O)),typeof Q<"u")return Q;J&&(S=S.slice(0,-1*J*2),E=E.slice(0,-1*J),L=L.slice(0,-1*J)),S.push(this.productions_[oe[1]][0]),E.push(j.$),L.push(j._$),he=I[S[S.length-2]][S[S.length-1]],S.push(he);break;case 3:return!0}}return!0},"parse")},x=(function(){var k={EOF:1,parseError:l(function(T,S){if(this.yy.parser)this.yy.parser.parseError(T,S);else throw new Error(T)},"parseError"),setInput:l(function(T,S){return this.yy=S||this.yy||{},this._input=T,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var T=this._input[0];this.yytext+=T,this.yyleng++,this.offset++,this.match+=T,this.matched+=T;var S=T.match(/(?:\r\n?|\n).*/g);return S?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),T},"input"),unput:l(function(T){var S=T.length,C=T.split(/(?:\r\n?|\n)/g);this._input=T+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-S),this.offset-=S;var E=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),C.length-1&&(this.yylineno-=C.length-1);var L=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:C?(C.length===E.length?this.yylloc.first_column:0)+E[E.length-C.length].length-C[0].length:this.yylloc.first_column-S},this.options.ranges&&(this.yylloc.range=[L[0],L[0]+this.yyleng-S]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(T){this.unput(this.match.slice(T))},"less"),pastInput:l(function(){var T=this.matched.substr(0,this.matched.length-this.match.length);return(T.length>20?"...":"")+T.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var T=this.match;return T.length<20&&(T+=this._input.substr(0,20-T.length)),(T.substr(0,20)+(T.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var T=this.pastInput(),S=new Array(T.length+1).join("-");return T+this.upcomingInput()+`
`+S+"^"},"showPosition"),test_match:l(function(T,S){var C,E,L;if(this.options.backtrack_lexer&&(L={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(L.yylloc.range=this.yylloc.range.slice(0))),E=T[0].match(/(?:\r\n?|\n).*/g),E&&(this.yylineno+=E.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:E?E[E.length-1].length-E[E.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+T[0].length},this.yytext+=T[0],this.match+=T[0],this.matches=T,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(T[0].length),this.matched+=T[0],C=this.performAction.call(this,this.yy,this,S,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C)return C;if(this._backtrack){for(var I in L)this[I]=L[I];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var T,S,C,E;this._more||(this.yytext="",this.match="");for(var L=this._currentRules(),I=0;I<L.length;I++)if(C=this._input.match(this.rules[L[I]]),C&&(!S||C[0].length>S[0].length)){if(S=C,E=I,this.options.backtrack_lexer){if(T=this.test_match(C,L[I]),T!==!1)return T;if(this._backtrack){S=!1;continue}else return!1}else if(!this.options.flex)break}return S?(T=this.test_match(S,L[E]),T!==!1?T:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var T=this.next();return T||this.lex()},"lex"),begin:l(function(T){this.conditionStack.push(T)},"begin"),popState:l(function(){var T=this.conditionStack.length-1;return T>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(T){return T=this.conditionStack.length-1-Math.abs(T||0),T>=0?this.conditionStack[T]:"INITIAL"},"topState"),pushState:l(function(T){this.begin(T)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(T,S,C,E){var L=E;switch(C){case 0:return T.getLogger().trace("Found comment",S.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:T.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return T.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:T.getLogger().trace("end icon"),this.popState();break;case 10:return T.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return T.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return T.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return T.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:T.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return T.getLogger().trace("description:",S.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),T.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),T.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),T.getLogger().trace("node end ...",S.yytext),"NODE_DEND";case 30:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),T.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),T.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),T.getLogger().trace("node end (("),"NODE_DEND";case 35:return T.getLogger().trace("Long description:",S.yytext),20;case 36:return T.getLogger().trace("Long description:",S.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return k})();v.lexer=x;function w(){this.yy={}}return l(w,"Parser"),w.prototype=v,v.Parser=w,new w})();IM.parser=IM;cBe=IM,Pn=[];for(let t=0;t<256;++t)Pn.push((t+256).toString(16).slice(1));l(_1e,"unsafeStringify");hBe=new Uint8Array(16);l(A1e,"rng");uBe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),S1e={randomUUID:uBe};l(L1e,"v4");dBe=L1e,kc={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},pBe=(vy=class{constructor(){this.nodes=[],this.count=0,this.elements={},this.getLogger=this.getLogger.bind(this),this.nodeType=kc,this.clear(),this.getType=this.getType.bind(this),this.getElementById=this.getElementById.bind(this),this.getParent=this.getParent.bind(this),this.getMindmap=this.getMindmap.bind(this),this.addNode=this.addNode.bind(this),this.decorateNode=this.decorateNode.bind(this)}clear(){this.nodes=[],this.count=0,this.elements={},this.baseLevel=void 0}getParent(e){for(let r=this.nodes.length-1;r>=0;r--)if(this.nodes[r].level<e)return this.nodes[r];return null}getMindmap(){return this.nodes.length>0?this.nodes[0]:null}addNode(e,r,i,n){var d,p;ee.info("addNode",e,r,i,n);let a=!1;this.nodes.length===0?(this.baseLevel=e,e=0,a=!0):this.baseLevel!==void 0&&(e=e-this.baseLevel,a=!1);let s=ve(),o=((d=s.mindmap)==null?void 0:d.padding)??rr.mindmap.padding;switch(n){case this.nodeType.ROUNDED_RECT:case this.nodeType.RECT:case this.nodeType.HEXAGON:o*=2;break}let h={id:this.count++,nodeId:tr(r,s),level:e,descr:tr(i,s),type:n,children:[],width:((p=s.mindmap)==null?void 0:p.maxNodeWidth)??rr.mindmap.maxNodeWidth,padding:o,isRoot:a},u=this.getParent(e);if(u)u.children.push(h),this.nodes.push(h);else if(a)this.nodes.push(h);else throw new Error(`There can be only one root. No parent could be found for ("${h.descr}")`)}getType(e,r){switch(ee.debug("In get type",e,r),e){case"[":return this.nodeType.RECT;case"(":return r===")"?this.nodeType.ROUNDED_RECT:this.nodeType.CLOUD;case"((":return this.nodeType.CIRCLE;case")":return this.nodeType.CLOUD;case"))":return this.nodeType.BANG;case"{{":return this.nodeType.HEXAGON;default:return this.nodeType.DEFAULT}}setElementForId(e,r){this.elements[e]=r}getElementById(e){return this.elements[e]}decorateNode(e){if(!e)return;let r=ve(),i=this.nodes[this.nodes.length-1];e.icon&&(i.icon=tr(e.icon,r)),e.class&&(i.class=tr(e.class,r))}type2Str(e){switch(e){case this.nodeType.DEFAULT:return"no-border";case this.nodeType.RECT:return"rect";case this.nodeType.ROUNDED_RECT:return"rounded-rect";case this.nodeType.CIRCLE:return"circle";case this.nodeType.CLOUD:return"cloud";case this.nodeType.BANG:return"bang";case this.nodeType.HEXAGON:return"hexgon";default:return"no-border"}}assignSections(e,r){if(e.level===0?e.section=void 0:e.section=r,e.children)for(let[i,n]of e.children.entries()){let a=e.level===0?i:r;this.assignSections(n,a)}}flattenNodes(e,r){let i=["mindmap-node"];e.isRoot===!0?i.push("section-root","section--1"):e.section!==void 0&&i.push(`section-${e.section}`),e.class&&i.push(e.class);let n=i.join(" "),a=l(o=>{switch(o){case kc.CIRCLE:return"mindmapCircle";case kc.RECT:return"rect";case kc.ROUNDED_RECT:return"rounded";case kc.CLOUD:return"cloud";case kc.BANG:return"bang";case kc.HEXAGON:return"hexagon";case kc.DEFAULT:return"defaultMindmapNode";case kc.NO_BORDER:default:return"rect"}},"getShapeFromType"),s={id:e.id.toString(),domId:"node_"+e.id.toString(),label:e.descr,isGroup:!1,shape:a(e.type),width:e.width,height:e.height??0,padding:e.padding,cssClasses:n,cssStyles:[],look:"default",icon:e.icon,x:e.x,y:e.y,level:e.level,nodeId:e.nodeId,type:e.type,section:e.section};if(r.push(s),e.children)for(let o of e.children)this.flattenNodes(o,r)}generateEdges(e,r){if(e.children)for(let i of e.children){let n="edge";i.section!==void 0&&(n+=` section-edge-${i.section}`);let a=e.level+1;n+=` edge-depth-${a}`;let s={id:`edge_${e.id}_${i.id}`,start:e.id.toString(),end:i.id.toString(),type:"normal",curve:"basis",thickness:"normal",look:"default",classes:n,depth:e.level,section:i.section};r.push(s),this.generateEdges(i,r)}}getData(){let e=this.getMindmap(),r=ve(),i=PU().layout!==void 0,n=r;if(i||(n.layout="cose-bilkent"),!e)return{nodes:[],edges:[],config:n};ee.debug("getData: mindmapRoot",e,r),this.assignSections(e);let a=[],s=[];this.flattenNodes(e,a),this.generateEdges(e,s),ee.debug(`getData: processed ${a.length} nodes and ${s.length} edges`);let o=new Map;for(let h of a)o.set(h.id,{shape:h.shape,width:h.width,height:h.height,padding:h.padding});return{nodes:a,edges:s,config:n,rootNode:e,markers:["point"],direction:"TB",nodeSpacing:50,rankSpacing:50,shapes:Object.fromEntries(o),type:"mindmap",diagramId:"mindmap-"+dBe()}}getLogger(){return ee}},l(vy,"MindmapDB"),vy),gBe=l(async(t,e,r,i)=>{var o,h;ee.debug(`Rendering mindmap diagram
`+t);let n=i.db,a=n.getData(),s=Bs(e,a.config.securityLevel);a.type=i.type,a.layoutAlgorithm=il(a.config.layout,{fallback:"cose-bilkent"}),a.diagramId=e,n.getMindmap()&&(a.nodes.forEach(u=>{u.shape==="rounded"?(u.radius=15,u.taper=15,u.stroke="none",u.width=0,u.padding=15):u.shape==="circle"?u.padding=10:u.shape==="rect"&&(u.width=0,u.padding=10)}),await Ds(a,s),qa(s,((o=a.config.mindmap)==null?void 0:o.padding)??rr.mindmap.padding,"mindmapDiagram",((h=a.config.mindmap)==null?void 0:h.useMaxWidth)??rr.mindmap.useMaxWidth))},"draw"),fBe={draw:gBe},mBe=l(t=>{let e="";for(let r=0;r<t.THEME_COLOR_LIMIT;r++)t["lineColor"+r]=t["lineColor"+r]||t["cScaleInv"+r],ro(t["lineColor"+r])?t["lineColor"+r]=Ct(t["lineColor"+r],20):t["lineColor"+r]=Mt(t["lineColor"+r],20);for(let r=0;r<t.THEME_COLOR_LIMIT;r++){let i=""+(17-3*r);e+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${t["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${t["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${t["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${i};
    }
    .section-${r-1} line {
      stroke: ${t["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),yBe=l(t=>`
  .edge {
    stroke-width: 3;
  }
  ${mBe(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .section-root span {
    color: ${t.gitBranchLabel0};
  }
  .section-2 span {
    color: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),vBe=yBe,bBe={get db(){return new pBe},renderer:fBe,parser:cBe,styles:vBe}});var D1e={};Tr(D1e,{diagram:()=>PBe});var RM,xBe,qs,MM,DM,OM,wBe,kBe,R1e,TBe,EBe,un,CBe,SBe,_Be,ABe,LBe,NBe,IBe,RBe,DBe,MBe,OBe,$Be,BBe,PBe,M1e=wt(()=>{qo();Mh();K2();$a();ua();da();_n();Hr();ri();hr();lr();br();kt();RM=(function(){var t=l(function(C,E,L,I){for(L=L||{},I=C.length;I--;L[C[I]]=E);return L},"o"),e=[1,4],r=[1,13],i=[1,12],n=[1,15],a=[1,16],s=[1,20],o=[1,19],h=[6,7,8],u=[1,26],d=[1,24],p=[1,25],g=[6,7,11],f=[1,31],m=[6,7,11,24],y=[1,6,13,16,17,20,23],b=[1,35],v=[1,36],x=[1,6,7,11,13,16,17,20,23],w=[1,38],k={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:l(function(C,E,L,I,M,N,$){var _=N.length-1;switch(M){case 6:case 7:return I;case 8:I.getLogger().trace("Stop NL ");break;case 9:I.getLogger().trace("Stop EOF ");break;case 11:I.getLogger().trace("Stop NL2 ");break;case 12:I.getLogger().trace("Stop EOF2 ");break;case 15:I.getLogger().info("Node: ",N[_-1].id),I.addNode(N[_-2].length,N[_-1].id,N[_-1].descr,N[_-1].type,N[_]);break;case 16:I.getLogger().info("Node: ",N[_].id),I.addNode(N[_-1].length,N[_].id,N[_].descr,N[_].type);break;case 17:I.getLogger().trace("Icon: ",N[_]),I.decorateNode({icon:N[_]});break;case 18:case 23:I.decorateNode({class:N[_]});break;case 19:I.getLogger().trace("SPACELIST");break;case 20:I.getLogger().trace("Node: ",N[_-1].id),I.addNode(0,N[_-1].id,N[_-1].descr,N[_-1].type,N[_]);break;case 21:I.getLogger().trace("Node: ",N[_].id),I.addNode(0,N[_].id,N[_].descr,N[_].type);break;case 22:I.decorateNode({icon:N[_]});break;case 27:I.getLogger().trace("node found ..",N[_-2]),this.$={id:N[_-1],descr:N[_-1],type:I.getType(N[_-2],N[_])};break;case 28:this.$={id:N[_],descr:N[_],type:0};break;case 29:I.getLogger().trace("node found ..",N[_-3]),this.$={id:N[_-3],descr:N[_-1],type:I.getType(N[_-2],N[_])};break;case 30:this.$=N[_-1]+N[_];break;case 31:this.$=N[_];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:r,7:[1,10],9:9,12:11,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},t(h,[2,3]),{1:[2,2]},t(h,[2,4]),t(h,[2,5]),{1:[2,6],6:r,12:21,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},{6:r,9:22,12:11,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},{6:u,7:d,10:23,11:p},t(g,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:s,23:o}),t(g,[2,19]),t(g,[2,21],{15:30,24:f}),t(g,[2,22]),t(g,[2,23]),t(m,[2,25]),t(m,[2,26]),t(m,[2,28],{20:[1,32]}),{21:[1,33]},{6:u,7:d,10:34,11:p},{1:[2,7],6:r,12:21,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},t(y,[2,14],{7:b,11:v}),t(x,[2,8]),t(x,[2,9]),t(x,[2,10]),t(g,[2,16],{15:37,24:f}),t(g,[2,17]),t(g,[2,18]),t(g,[2,20],{24:w}),t(m,[2,31]),{21:[1,39]},{22:[1,40]},t(y,[2,13],{7:b,11:v}),t(x,[2,11]),t(x,[2,12]),t(g,[2,15],{24:w}),t(m,[2,30]),{22:[1,41]},t(m,[2,27]),t(m,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:l(function(C,E){if(E.recoverable)this.trace(C);else{var L=new Error(C);throw L.hash=E,L}},"parseError"),parse:l(function(C){var E=this,L=[0],I=[],M=[null],N=[],$=this.table,_="",D=0,R=0,O=0,A=2,B=1,P=N.slice.call(arguments,1),z=Object.create(this.lexer),q={yy:{}};for(var K in this.yy)Object.prototype.hasOwnProperty.call(this.yy,K)&&(q.yy[K]=this.yy[K]);z.setInput(C,q.yy),q.yy.lexer=z,q.yy.parser=this,typeof z.yylloc>"u"&&(z.yylloc={});var W=z.yylloc;N.push(W);var ae=z.options&&z.options.ranges;typeof q.yy.parseError=="function"?this.parseError=q.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ie(Le){L.length=L.length-2*Le,M.length=M.length-Le,N.length=N.length-Le}l(ie,"popStack");function se(){var Le;return Le=I.pop()||z.lex()||B,typeof Le!="number"&&(Le instanceof Array&&(I=Le,Le=I.pop()),Le=E.symbols_[Le]||Le),Le}l(se,"lex");for(var oe,Y,Q,j,H,J,he={},X,fe,V,Se;;){if(Q=L[L.length-1],this.defaultActions[Q]?j=this.defaultActions[Q]:((oe===null||typeof oe>"u")&&(oe=se()),j=$[Q]&&$[Q][oe]),typeof j>"u"||!j.length||!j[0]){var ce="";Se=[];for(X in $[Q])this.terminals_[X]&&X>A&&Se.push("'"+this.terminals_[X]+"'");z.showPosition?ce="Parse error on line "+(D+1)+`:
`+z.showPosition()+`
Expecting `+Se.join(", ")+", got '"+(this.terminals_[oe]||oe)+"'":ce="Parse error on line "+(D+1)+": Unexpected "+(oe==B?"end of input":"'"+(this.terminals_[oe]||oe)+"'"),this.parseError(ce,{text:z.match,token:this.terminals_[oe]||oe,line:z.yylineno,loc:W,expected:Se})}if(j[0]instanceof Array&&j.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Q+", token: "+oe);switch(j[0]){case 1:L.push(oe),M.push(z.yytext),N.push(z.yylloc),L.push(j[1]),oe=null,Y?(oe=Y,Y=null):(R=z.yyleng,_=z.yytext,D=z.yylineno,W=z.yylloc,O>0&&O--);break;case 2:if(fe=this.productions_[j[1]][1],he.$=M[M.length-fe],he._$={first_line:N[N.length-(fe||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(fe||1)].first_column,last_column:N[N.length-1].last_column},ae&&(he._$.range=[N[N.length-(fe||1)].range[0],N[N.length-1].range[1]]),J=this.performAction.apply(he,[_,R,D,q.yy,j[1],M,N].concat(P)),typeof J<"u")return J;fe&&(L=L.slice(0,-1*fe*2),M=M.slice(0,-1*fe),N=N.slice(0,-1*fe)),L.push(this.productions_[j[1]][0]),M.push(he.$),N.push(he._$),V=$[L[L.length-2]][L[L.length-1]],L.push(V);break;case 3:return!0}}return!0},"parse")},T=(function(){var C={EOF:1,parseError:l(function(E,L){if(this.yy.parser)this.yy.parser.parseError(E,L);else throw new Error(E)},"parseError"),setInput:l(function(E,L){return this.yy=L||this.yy||{},this._input=E,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var E=this._input[0];this.yytext+=E,this.yyleng++,this.offset++,this.match+=E,this.matched+=E;var L=E.match(/(?:\r\n?|\n).*/g);return L?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),E},"input"),unput:l(function(E){var L=E.length,I=E.split(/(?:\r\n?|\n)/g);this._input=E+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-L),this.offset-=L;var M=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),I.length-1&&(this.yylineno-=I.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:I?(I.length===M.length?this.yylloc.first_column:0)+M[M.length-I.length].length-I[0].length:this.yylloc.first_column-L},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-L]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(E){this.unput(this.match.slice(E))},"less"),pastInput:l(function(){var E=this.matched.substr(0,this.matched.length-this.match.length);return(E.length>20?"...":"")+E.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var E=this.match;return E.length<20&&(E+=this._input.substr(0,20-E.length)),(E.substr(0,20)+(E.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var E=this.pastInput(),L=new Array(E.length+1).join("-");return E+this.upcomingInput()+`
`+L+"^"},"showPosition"),test_match:l(function(E,L){var I,M,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),M=E[0].match(/(?:\r\n?|\n).*/g),M&&(this.yylineno+=M.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:M?M[M.length-1].length-M[M.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],I=this.performAction.call(this,this.yy,this,L,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),I)return I;if(this._backtrack){for(var $ in N)this[$]=N[$];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var E,L,I,M;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),$=0;$<N.length;$++)if(I=this._input.match(this.rules[N[$]]),I&&(!L||I[0].length>L[0].length)){if(L=I,M=$,this.options.backtrack_lexer){if(E=this.test_match(I,N[$]),E!==!1)return E;if(this._backtrack){L=!1;continue}else return!1}else if(!this.options.flex)break}return L?(E=this.test_match(L,N[M]),E!==!1?E:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var E=this.next();return E||this.lex()},"lex"),begin:l(function(E){this.conditionStack.push(E)},"begin"),popState:l(function(){var E=this.conditionStack.length-1;return E>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(E){return E=this.conditionStack.length-1-Math.abs(E||0),E>=0?this.conditionStack[E]:"INITIAL"},"topState"),pushState:l(function(E){this.begin(E)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(E,L,I,M){var N=M;switch(I){case 0:return this.pushState("shapeData"),L.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:let $=/\n\s*/g;return L.yytext=L.yytext.replace($,"<br/>"),24;case 4:return 24;case 5:this.popState();break;case 6:return E.getLogger().trace("Found comment",L.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 10:this.popState();break;case 11:E.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return E.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:E.getLogger().trace("end icon"),this.popState();break;case 16:return E.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return E.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return E.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return E.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:return this.begin("NODE"),20;case 21:return this.begin("NODE"),20;case 22:return this.begin("NODE"),20;case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:E.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return E.getLogger().trace("description:",L.yytext),"NODE_DESCR";case 32:this.popState();break;case 33:return this.popState(),E.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),E.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),E.getLogger().trace("node end ...",L.yytext),"NODE_DEND";case 36:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";case 37:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";case 38:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";case 39:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";case 40:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";case 41:return E.getLogger().trace("Long description:",L.yytext),21;case 42:return E.getLogger().trace("Long description:",L.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return C})();k.lexer=T;function S(){this.yy={}}return l(S,"Parser"),S.prototype=k,k.Parser=S,new S})();RM.parser=RM;xBe=RM,qs=[],MM=[],DM=0,OM={},wBe=l(()=>{qs=[],MM=[],DM=0,OM={}},"clear"),kBe=l(t=>{if(qs.length===0)return null;let e=qs[0].level,r=null;for(let i=qs.length-1;i>=0;i--)if(qs[i].level===e&&!r&&(r=qs[i]),qs[i].level<e)throw new Error('Items without section detected, found section ("'+qs[i].label+'")');return t===(r==null?void 0:r.level)?null:r},"getSection"),R1e=l(function(){return MM},"getSections"),TBe=l(function(){let t=[],e=[],r=R1e(),i=ve();for(let n of r){let a={id:n.id,label:tr(n.label??"",i),isGroup:!0,ticket:n.ticket,shape:"kanbanSection",level:n.level,look:i.look};e.push(a);let s=qs.filter(o=>o.parentId===n.id);for(let o of s){let h={id:o.id,parentId:n.id,label:tr(o.label??"",i),isGroup:!1,ticket:o==null?void 0:o.ticket,priority:o==null?void 0:o.priority,assigned:o==null?void 0:o.assigned,icon:o==null?void 0:o.icon,shape:"kanbanItem",level:o.level,rx:5,ry:5,cssStyles:["text-align: left"]};e.push(h)}}return{nodes:e,edges:t,other:{},config:ve()}},"getData"),EBe=l((t,e,r,i,n)=>{var u,d;let a=ve(),s=((u=a.mindmap)==null?void 0:u.padding)??rr.mindmap.padding;switch(i){case un.ROUNDED_RECT:case un.RECT:case un.HEXAGON:s*=2}let o={id:tr(e,a)||"kbn"+DM++,level:t,label:tr(r,a),width:((d=a.mindmap)==null?void 0:d.maxNodeWidth)??rr.mindmap.maxNodeWidth,padding:s,isGroup:!1};if(n!==void 0){let p;n.includes(`
`)?p=n+`
`:p=`{
`+n+`
}`;let g=Hc(p,{schema:Yc});if(g.shape&&(g.shape!==g.shape.toLowerCase()||g.shape.includes("_")))throw new Error(`No such shape: ${g.shape}. Shape names should be lowercase.`);g!=null&&g.shape&&g.shape==="kanbanItem"&&(o.shape=g==null?void 0:g.shape),g!=null&&g.label&&(o.label=g==null?void 0:g.label),g!=null&&g.icon&&(o.icon=g==null?void 0:g.icon.toString()),g!=null&&g.assigned&&(o.assigned=g==null?void 0:g.assigned.toString()),g!=null&&g.ticket&&(o.ticket=g==null?void 0:g.ticket.toString()),g!=null&&g.priority&&(o.priority=g==null?void 0:g.priority)}let h=kBe(t);h?o.parentId=h.id||"kbn"+DM++:MM.push(o),qs.push(o)},"addNode"),un={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},CBe=l((t,e)=>{switch(ee.debug("In get type",t,e),t){case"[":return un.RECT;case"(":return e===")"?un.ROUNDED_RECT:un.CLOUD;case"((":return un.CIRCLE;case")":return un.CLOUD;case"))":return un.BANG;case"{{":return un.HEXAGON;default:return un.DEFAULT}},"getType"),SBe=l((t,e)=>{OM[t]=e},"setElementForId"),_Be=l(t=>{if(!t)return;let e=ve(),r=qs[qs.length-1];t.icon&&(r.icon=tr(t.icon,e)),t.class&&(r.cssClasses=tr(t.class,e))},"decorateNode"),ABe=l(t=>{switch(t){case un.DEFAULT:return"no-border";case un.RECT:return"rect";case un.ROUNDED_RECT:return"rounded-rect";case un.CIRCLE:return"circle";case un.CLOUD:return"cloud";case un.BANG:return"bang";case un.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),LBe=l(()=>ee,"getLogger"),NBe=l(t=>OM[t],"getElementById"),IBe={clear:wBe,addNode:EBe,getSections:R1e,getData:TBe,nodeType:un,getType:CBe,setElementForId:SBe,decorateNode:_Be,type2Str:ABe,getLogger:LBe,getElementById:NBe},RBe=IBe,DBe=l(async(t,e,r,i)=>{var y,b,v,x,w;ee.debug(`Rendering kanban diagram
`+t);let n=i.db.getData(),a=ve();a.htmlLabels=!1;let s=fn(e),o=s.append("g");o.attr("class","sections");let h=s.append("g");h.attr("class","items");let u=n.nodes.filter(k=>k.isGroup),d=0,p=10,g=[],f=25;for(let k of u){let T=((y=a==null?void 0:a.kanban)==null?void 0:y.sectionWidth)||200;d=d+1,k.x=T*d+(d-1)*p/2,k.width=T,k.y=0,k.height=T*3,k.rx=5,k.ry=5,k.cssClasses=k.cssClasses+" section-"+d;let S=await jp(o,k);f=Math.max(f,(b=S==null?void 0:S.labelBBox)==null?void 0:b.height),g.push(S)}let m=0;for(let k of u){let T=g[m];m=m+1;let S=((v=a==null?void 0:a.kanban)==null?void 0:v.sectionWidth)||200,C=-S*3/2+f,E=C,L=n.nodes.filter(N=>N.parentId===k.id);for(let N of L){if(N.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");N.x=k.x,N.width=S-1.5*p;let $=(await Gu(h,N,{config:a})).node().getBBox();N.y=E+$.height/2,await wv(N),E=N.y+$.height/2+p/2}let I=T.cluster.select("rect"),M=Math.max(E-C+3*p,50)+(f-25);I.attr("height",M)}Ml(void 0,s,((x=a.mindmap)==null?void 0:x.padding)??rr.kanban.padding,((w=a.mindmap)==null?void 0:w.useMaxWidth)??rr.kanban.useMaxWidth)},"draw"),MBe={draw:DBe},OBe=l(t=>{let e="";for(let i=0;i<t.THEME_COLOR_LIMIT;i++)t["lineColor"+i]=t["lineColor"+i]||t["cScaleInv"+i],ro(t["lineColor"+i])?t["lineColor"+i]=Ct(t["lineColor"+i],20):t["lineColor"+i]=Mt(t["lineColor"+i],20);let r=l((i,n)=>t.darkMode?Mt(i,n):Ct(i,n),"adjuster");for(let i=0;i<t.THEME_COLOR_LIMIT;i++){let n=""+(17-3*i);e+=`
    .section-${i-1} rect, .section-${i-1} path, .section-${i-1} circle, .section-${i-1} polygon, .section-${i-1} path  {
      fill: ${r(t["cScale"+i],10)};
      stroke: ${r(t["cScale"+i],10)};

    }
    .section-${i-1} text {
     fill: ${t["cScaleLabel"+i]};
    }
    .node-icon-${i-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+i]};
    }
    .section-edge-${i-1}{
      stroke: ${t["cScale"+i]};
    }
    .edge-depth-${i-1}{
      stroke-width: ${n};
    }
    .section-${i-1} line {
      stroke: ${t["cScaleInv"+i]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.background};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${t.background};
    stroke: ${t.nodeBorder};
    text-decoration: underline;
  }
    `}return e},"genSections"),$Be=l(t=>`
  .edge {
    stroke-width: 3;
  }
  ${OBe(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${t.textColor};
    fill: ${t.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
    ${sl()}
`,"getStyles"),BBe=$Be,PBe={db:RBe,renderer:MBe,parser:xBe,styles:BBe}});var efe={};Tr(efe,{diagram:()=>nPe});function BM(t,e){let r;if(e===void 0)for(let i of t)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of t)(n=e(n,++i,t))!=null&&(r<n||r===void 0&&n>=n)&&(r=n)}return r}function WM(t,e){let r;if(e===void 0)for(let i of t)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of t)(n=e(n,++i,t))!=null&&(r>n||r===void 0&&n>=n)&&(r=n)}return r}function HT(t,e){let r=0;if(e===void 0)for(let i of t)(i=+i)&&(r+=i);else{let i=-1;for(let n of t)(n=+e(n,++i,t))&&(r+=n)}return r}function $1e(t){return t.target.depth}function B1e(t){return t.depth}function P1e(t,e){return e-1-t.height}function VM(t,e){return t.sourceLinks.length?t.depth:e-1}function F1e(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?WM(t.sourceLinks,$1e)-1:0}function $x(t){return function(){return t}}function PM(t,e){return Bx(t.source,e.source)||t.index-e.index}function FM(t,e){return Bx(t.target,e.target)||t.index-e.index}function Bx(t,e){return t.y0-e.y0}function XT(t){return t.value}function z1e(t){return t.index}function G1e(t){return t.nodes}function q1e(t){return t.links}function zM(t,e){let r=t.get(e);if(!r)throw new Error("missing: "+e);return r}function GM({nodes:t}){for(let e of t){let r=e.y0,i=r;for(let n of e.sourceLinks)n.y0=r+n.width/2,r+=n.width;for(let n of e.targetLinks)n.y1=i+n.width/2,i+=n.width}}function U1e(){let t=0,e=0,r=1,i=1,n=24,a=8,s,o=z1e,h=VM,u,d,p=G1e,g=q1e,f=6;function m(){let D={nodes:p.apply(null,arguments),links:g.apply(null,arguments)};return y(D),b(D),v(D),x(D),T(D),GM(D),D}l(m,"sankey"),m.update=function(D){return GM(D),D},m.nodeId=function(D){return arguments.length?(o=typeof D=="function"?D:$x(D),m):o},m.nodeAlign=function(D){return arguments.length?(h=typeof D=="function"?D:$x(D),m):h},m.nodeSort=function(D){return arguments.length?(u=D,m):u},m.nodeWidth=function(D){return arguments.length?(n=+D,m):n},m.nodePadding=function(D){return arguments.length?(a=s=+D,m):a},m.nodes=function(D){return arguments.length?(p=typeof D=="function"?D:$x(D),m):p},m.links=function(D){return arguments.length?(g=typeof D=="function"?D:$x(D),m):g},m.linkSort=function(D){return arguments.length?(d=D,m):d},m.size=function(D){return arguments.length?(t=e=0,r=+D[0],i=+D[1],m):[r-t,i-e]},m.extent=function(D){return arguments.length?(t=+D[0][0],r=+D[1][0],e=+D[0][1],i=+D[1][1],m):[[t,e],[r,i]]},m.iterations=function(D){return arguments.length?(f=+D,m):f};function y({nodes:D,links:R}){for(let[A,B]of D.entries())B.index=A,B.sourceLinks=[],B.targetLinks=[];let O=new Map(D.map((A,B)=>[o(A,B,D),A]));for(let[A,B]of R.entries()){B.index=A;let{source:P,target:z}=B;typeof P!="object"&&(P=B.source=zM(O,P)),typeof z!="object"&&(z=B.target=zM(O,z)),P.sourceLinks.push(B),z.targetLinks.push(B)}if(d!=null)for(let{sourceLinks:A,targetLinks:B}of D)A.sort(d),B.sort(d)}l(y,"computeNodeLinks");function b({nodes:D}){for(let R of D)R.value=R.fixedValue===void 0?Math.max(HT(R.sourceLinks,XT),HT(R.targetLinks,XT)):R.fixedValue}l(b,"computeNodeValues");function v({nodes:D}){let R=D.length,O=new Set(D),A=new Set,B=0;for(;O.size;){for(let P of O){P.depth=B;for(let{target:z}of P.sourceLinks)A.add(z)}if(++B>R)throw new Error("circular link");O=A,A=new Set}}l(v,"computeNodeDepths");function x({nodes:D}){let R=D.length,O=new Set(D),A=new Set,B=0;for(;O.size;){for(let P of O){P.height=B;for(let{source:z}of P.targetLinks)A.add(z)}if(++B>R)throw new Error("circular link");O=A,A=new Set}}l(x,"computeNodeHeights");function w({nodes:D}){let R=BM(D,B=>B.depth)+1,O=(r-t-n)/(R-1),A=new Array(R);for(let B of D){let P=Math.max(0,Math.min(R-1,Math.floor(h.call(null,B,R))));B.layer=P,B.x0=t+P*O,B.x1=B.x0+n,A[P]?A[P].push(B):A[P]=[B]}if(u)for(let B of A)B.sort(u);return A}l(w,"computeNodeLayers");function k(D){let R=WM(D,O=>(i-e-(O.length-1)*s)/HT(O,XT));for(let O of D){let A=e;for(let B of O){B.y0=A,B.y1=A+B.value*R,A=B.y1+s;for(let P of B.sourceLinks)P.width=P.value*R}A=(i-A+s)/(O.length+1);for(let B=0;B<O.length;++B){let P=O[B];P.y0+=A*(B+1),P.y1+=A*(B+1)}N(O)}}l(k,"initializeNodeBreadths");function T(D){let R=w(D);s=Math.min(a,(i-e)/(BM(R,O=>O.length)-1)),k(R);for(let O=0;O<f;++O){let A=Math.pow(.99,O),B=Math.max(1-A,(O+1)/f);C(R,A,B),S(R,A,B)}}l(T,"computeNodeBreadths");function S(D,R,O){for(let A=1,B=D.length;A<B;++A){let P=D[A];for(let z of P){let q=0,K=0;for(let{source:ae,value:ie}of z.targetLinks){let se=ie*(z.layer-ae.layer);q+=$(ae,z)*se,K+=se}if(!(K>0))continue;let W=(q/K-z.y0)*R;z.y0+=W,z.y1+=W,M(z)}u===void 0&&P.sort(Bx),E(P,O)}}l(S,"relaxLeftToRight");function C(D,R,O){for(let A=D.length,B=A-2;B>=0;--B){let P=D[B];for(let z of P){let q=0,K=0;for(let{target:ae,value:ie}of z.sourceLinks){let se=ie*(ae.layer-z.layer);q+=_(z,ae)*se,K+=se}if(!(K>0))continue;let W=(q/K-z.y0)*R;z.y0+=W,z.y1+=W,M(z)}u===void 0&&P.sort(Bx),E(P,O)}}l(C,"relaxRightToLeft");function E(D,R){let O=D.length>>1,A=D[O];I(D,A.y0-s,O-1,R),L(D,A.y1+s,O+1,R),I(D,i,D.length-1,R),L(D,e,0,R)}l(E,"resolveCollisions");function L(D,R,O,A){for(;O<D.length;++O){let B=D[O],P=(R-B.y0)*A;P>1e-6&&(B.y0+=P,B.y1+=P),R=B.y1+s}}l(L,"resolveCollisionsTopToBottom");function I(D,R,O,A){for(;O>=0;--O){let B=D[O],P=(B.y1-R)*A;P>1e-6&&(B.y0-=P,B.y1-=P),R=B.y0-s}}l(I,"resolveCollisionsBottomToTop");function M({sourceLinks:D,targetLinks:R}){if(d===void 0){for(let{source:{sourceLinks:O}}of R)O.sort(FM);for(let{target:{targetLinks:O}}of D)O.sort(PM)}}l(M,"reorderNodeLinks");function N(D){if(d===void 0)for(let{sourceLinks:R,targetLinks:O}of D)R.sort(FM),O.sort(PM)}l(N,"reorderLinks");function $(D,R){let O=D.y0-(D.sourceLinks.length-1)*s/2;for(let{target:A,width:B}of D.sourceLinks){if(A===R)break;O+=B+s}for(let{source:A,width:B}of R.targetLinks){if(A===D)break;O-=B}return O}l($,"targetTop");function _(D,R){let O=R.y0-(R.targetLinks.length-1)*s/2;for(let{source:A,width:B}of R.targetLinks){if(A===D)break;O+=B+s}for(let{target:A,width:B}of D.sourceLinks){if(A===R)break;O-=B}return O}return l(_,"sourceTop"),m}function QT(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function YM(){return new QT}function jM(t){return l(function(){return t},"constant")}function j1e(t){return t[0]}function W1e(t){return t[1]}function V1e(t){return t.source}function Y1e(t){return t.target}function H1e(t){var e=V1e,r=Y1e,i=j1e,n=W1e,a=null;function s(){var o,h=KBe.call(arguments),u=e.apply(this,h),d=r.apply(this,h);if(a||(a=o=XBe()),t(a,+i.apply(this,(h[0]=u,h)),+n.apply(this,h),+i.apply(this,(h[0]=d,h)),+n.apply(this,h)),o)return a=null,o+""||null}return l(s,"link"),s.source=function(o){return arguments.length?(e=o,s):e},s.target=function(o){return arguments.length?(r=o,s):r},s.x=function(o){return arguments.length?(i=typeof o=="function"?o:jM(+o),s):i},s.y=function(o){return arguments.length?(n=typeof o=="function"?o:jM(+o),s):n},s.context=function(o){return arguments.length?(a=o??null,s):a},s}function X1e(t,e,r,i,n){t.moveTo(e,r),t.bezierCurveTo(e=(e+i)/2,r,e,n,i,n)}function K1e(){return H1e(X1e)}function Z1e(t){return[t.source.x1,t.y0]}function Q1e(t){return[t.target.x0,t.y1]}function J1e(){return K1e().source(Z1e).target(Q1e)}var $M,KT,JT,e7,ZT,FBe,by,zBe,GBe,xy,qBe,UBe,jBe,WBe,VBe,YBe,qM,UM,a0,HBe,XBe,KBe,Tc,O1e,ZBe,QBe,JBe,ePe,tPe,rPe,iPe,nPe,tfe=wt(()=>{hr();lr();kt();$M=(function(){var t=l(function(o,h,u,d){for(u=u||{},d=o.length;d--;u[o[d]]=h);return u},"o"),e=[1,9],r=[1,10],i=[1,5,10,12],n={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:l(function(o,h,u,d,p,g,f){var m=g.length-1;switch(p){case 7:let y=d.findOrCreateNode(g[m-4].trim().replaceAll('""','"')),b=d.findOrCreateNode(g[m-2].trim().replaceAll('""','"')),v=parseFloat(g[m].trim());d.addLink(y,b,v);break;case 8:case 9:case 11:this.$=g[m];break;case 10:this.$=g[m-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:e,20:r},{1:[2,6],7:11,10:[1,12]},t(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},t(i,[2,8]),t(i,[2,9]),{19:[1,16]},t(i,[2,11]),{1:[2,1]},{1:[2,5]},t(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:e,20:r},{15:18,16:7,17:8,18:e,20:r},{18:[1,19]},t(r,[2,3]),{12:[1,20]},t(i,[2,10]),{15:21,16:7,17:8,18:e,20:r},t([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:l(function(o,h){if(h.recoverable)this.trace(o);else{var u=new Error(o);throw u.hash=h,u}},"parseError"),parse:l(function(o){var h=this,u=[0],d=[],p=[null],g=[],f=this.table,m="",y=0,b=0,v=0,x=2,w=1,k=g.slice.call(arguments,1),T=Object.create(this.lexer),S={yy:{}};for(var C in this.yy)Object.prototype.hasOwnProperty.call(this.yy,C)&&(S.yy[C]=this.yy[C]);T.setInput(o,S.yy),S.yy.lexer=T,S.yy.parser=this,typeof T.yylloc>"u"&&(T.yylloc={});var E=T.yylloc;g.push(E);var L=T.options&&T.options.ranges;typeof S.yy.parseError=="function"?this.parseError=S.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function I(W){u.length=u.length-2*W,p.length=p.length-W,g.length=g.length-W}l(I,"popStack");function M(){var W;return W=d.pop()||T.lex()||w,typeof W!="number"&&(W instanceof Array&&(d=W,W=d.pop()),W=h.symbols_[W]||W),W}l(M,"lex");for(var N,$,_,D,R,O,A={},B,P,z,q;;){if(_=u[u.length-1],this.defaultActions[_]?D=this.defaultActions[_]:((N===null||typeof N>"u")&&(N=M()),D=f[_]&&f[_][N]),typeof D>"u"||!D.length||!D[0]){var K="";q=[];for(B in f[_])this.terminals_[B]&&B>x&&q.push("'"+this.terminals_[B]+"'");T.showPosition?K="Parse error on line "+(y+1)+`:
`+T.showPosition()+`
Expecting `+q.join(", ")+", got '"+(this.terminals_[N]||N)+"'":K="Parse error on line "+(y+1)+": Unexpected "+(N==w?"end of input":"'"+(this.terminals_[N]||N)+"'"),this.parseError(K,{text:T.match,token:this.terminals_[N]||N,line:T.yylineno,loc:E,expected:q})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+N);switch(D[0]){case 1:u.push(N),p.push(T.yytext),g.push(T.yylloc),u.push(D[1]),N=null,$?(N=$,$=null):(b=T.yyleng,m=T.yytext,y=T.yylineno,E=T.yylloc,v>0&&v--);break;case 2:if(P=this.productions_[D[1]][1],A.$=p[p.length-P],A._$={first_line:g[g.length-(P||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(P||1)].first_column,last_column:g[g.length-1].last_column},L&&(A._$.range=[g[g.length-(P||1)].range[0],g[g.length-1].range[1]]),O=this.performAction.apply(A,[m,b,y,S.yy,D[1],p,g].concat(k)),typeof O<"u")return O;P&&(u=u.slice(0,-1*P*2),p=p.slice(0,-1*P),g=g.slice(0,-1*P)),u.push(this.productions_[D[1]][0]),p.push(A.$),g.push(A._$),z=f[u[u.length-2]][u[u.length-1]],u.push(z);break;case 3:return!0}}return!0},"parse")},a=(function(){var o={EOF:1,parseError:l(function(h,u){if(this.yy.parser)this.yy.parser.parseError(h,u);else throw new Error(h)},"parseError"),setInput:l(function(h,u){return this.yy=u||this.yy||{},this._input=h,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var h=this._input[0];this.yytext+=h,this.yyleng++,this.offset++,this.match+=h,this.matched+=h;var u=h.match(/(?:\r\n?|\n).*/g);return u?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),h},"input"),unput:l(function(h){var u=h.length,d=h.split(/(?:\r\n?|\n)/g);this._input=h+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-u),this.offset-=u;var p=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),d.length-1&&(this.yylineno-=d.length-1);var g=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===p.length?this.yylloc.first_column:0)+p[p.length-d.length].length-d[0].length:this.yylloc.first_column-u},this.options.ranges&&(this.yylloc.range=[g[0],g[0]+this.yyleng-u]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(h){this.unput(this.match.slice(h))},"less"),pastInput:l(function(){var h=this.matched.substr(0,this.matched.length-this.match.length);return(h.length>20?"...":"")+h.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var h=this.match;return h.length<20&&(h+=this._input.substr(0,20-h.length)),(h.substr(0,20)+(h.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var h=this.pastInput(),u=new Array(h.length+1).join("-");return h+this.upcomingInput()+`
`+u+"^"},"showPosition"),test_match:l(function(h,u){var d,p,g;if(this.options.backtrack_lexer&&(g={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(g.yylloc.range=this.yylloc.range.slice(0))),p=h[0].match(/(?:\r\n?|\n).*/g),p&&(this.yylineno+=p.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:p?p[p.length-1].length-p[p.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+h[0].length},this.yytext+=h[0],this.match+=h[0],this.matches=h,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(h[0].length),this.matched+=h[0],d=this.performAction.call(this,this.yy,this,u,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),d)return d;if(this._backtrack){for(var f in g)this[f]=g[f];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var h,u,d,p;this._more||(this.yytext="",this.match="");for(var g=this._currentRules(),f=0;f<g.length;f++)if(d=this._input.match(this.rules[g[f]]),d&&(!u||d[0].length>u[0].length)){if(u=d,p=f,this.options.backtrack_lexer){if(h=this.test_match(d,g[f]),h!==!1)return h;if(this._backtrack){u=!1;continue}else return!1}else if(!this.options.flex)break}return u?(h=this.test_match(u,g[p]),h!==!1?h:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var h=this.next();return h||this.lex()},"lex"),begin:l(function(h){this.conditionStack.push(h)},"begin"),popState:l(function(){var h=this.conditionStack.length-1;return h>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(h){return h=this.conditionStack.length-1-Math.abs(h||0),h>=0?this.conditionStack[h]:"INITIAL"},"topState"),pushState:l(function(h){this.begin(h)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(h,u,d,p){var g=p;switch(d){case 0:return this.pushState("csv"),4;case 1:return this.pushState("csv"),4;case 2:return 10;case 3:return 5;case 4:return 12;case 5:return this.pushState("escaped_text"),18;case 6:return 20;case 7:return this.popState("escaped_text"),18;case 8:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:sankey\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[2,3,4,5,6,7,8],inclusive:!1},escaped_text:{rules:[7,8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8],inclusive:!0}}};return o})();n.lexer=a;function s(){this.yy={}}return l(s,"Parser"),s.prototype=n,n.Parser=s,new s})();$M.parser=$M;KT=$M,JT=[],e7=[],ZT=new Map,FBe=l(()=>{JT=[],e7=[],ZT=new Map,cr()},"clear"),zBe=(by=class{constructor(e,r,i=0){this.source=e,this.target=r,this.value=i}},l(by,"SankeyLink"),by),GBe=l((t,e,r)=>{JT.push(new zBe(t,e,r))},"addLink"),qBe=(xy=class{constructor(e){this.ID=e}},l(xy,"SankeyNode"),xy),UBe=l(t=>{t=Ke.sanitizeText(t,ve());let e=ZT.get(t);return e===void 0&&(e=new qBe(t),ZT.set(t,e),e7.push(e)),e},"findOrCreateNode"),jBe=l(()=>e7,"getNodes"),WBe=l(()=>JT,"getLinks"),VBe=l(()=>({nodes:e7.map(t=>({id:t.ID})),links:JT.map(t=>({source:t.source.ID,target:t.target.ID,value:t.value}))}),"getGraph"),YBe={nodesMap:ZT,getConfig:l(()=>ve().sankey,"getConfig"),getNodes:jBe,getLinks:WBe,getGraph:VBe,addLink:GBe,findOrCreateNode:UBe,getAccTitle:fr,setAccTitle:gr,getAccDescription:yr,setAccDescription:mr,getDiagramTitle:vr,setDiagramTitle:Er,clear:FBe};l(BM,"max");l(WM,"min");l(HT,"sum");l($1e,"targetDepth");l(B1e,"left");l(P1e,"right");l(VM,"justify");l(F1e,"center");l($x,"constant");l(PM,"ascendingSourceBreadth");l(FM,"ascendingTargetBreadth");l(Bx,"ascendingBreadth");l(XT,"value");l(z1e,"defaultId");l(G1e,"defaultNodes");l(q1e,"defaultLinks");l(zM,"find");l(GM,"computeLinkBreadths");l(U1e,"Sankey");qM=Math.PI,UM=2*qM,a0=1e-6,HBe=UM-a0;l(QT,"Path");l(YM,"path");QT.prototype=YM.prototype={constructor:QT,moveTo:l(function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},"moveTo"),closePath:l(function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},"closePath"),lineTo:l(function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},"lineTo"),quadraticCurveTo:l(function(t,e,r,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+r)+","+(this._y1=+i)},"quadraticCurveTo"),bezierCurveTo:l(function(t,e,r,i,n,a){this._+="C"+ +t+","+ +e+","+ +r+","+ +i+","+(this._x1=+n)+","+(this._y1=+a)},"bezierCurveTo"),arcTo:l(function(t,e,r,i,n){t=+t,e=+e,r=+r,i=+i,n=+n;var a=this._x1,s=this._y1,o=r-t,h=i-e,u=a-t,d=s-e,p=u*u+d*d;if(n<0)throw new Error("negative radius: "+n);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(p>a0)if(!(Math.abs(d*o-h*u)>a0)||!n)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var g=r-a,f=i-s,m=o*o+h*h,y=g*g+f*f,b=Math.sqrt(m),v=Math.sqrt(p),x=n*Math.tan((qM-Math.acos((m+p-y)/(2*b*v)))/2),w=x/v,k=x/b;Math.abs(w-1)>a0&&(this._+="L"+(t+w*u)+","+(e+w*d)),this._+="A"+n+","+n+",0,0,"+ +(d*g>u*f)+","+(this._x1=t+k*o)+","+(this._y1=e+k*h)}},"arcTo"),arc:l(function(t,e,r,i,n,a){t=+t,e=+e,r=+r,a=!!a;var s=r*Math.cos(i),o=r*Math.sin(i),h=t+s,u=e+o,d=1^a,p=a?i-n:n-i;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+h+","+u:(Math.abs(this._x1-h)>a0||Math.abs(this._y1-u)>a0)&&(this._+="L"+h+","+u),r&&(p<0&&(p=p%UM+UM),p>HBe?this._+="A"+r+","+r+",0,1,"+d+","+(t-s)+","+(e-o)+"A"+r+","+r+",0,1,"+d+","+(this._x1=h)+","+(this._y1=u):p>a0&&(this._+="A"+r+","+r+",0,"+ +(p>=qM)+","+d+","+(this._x1=t+r*Math.cos(n))+","+(this._y1=e+r*Math.sin(n))))},"arc"),rect:l(function(t,e,r,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +r+"v"+ +i+"h"+-r+"Z"},"rect"),toString:l(function(){return this._},"toString")};XBe=YM;l(jM,"default");l(j1e,"x");l(W1e,"y");KBe=Array.prototype.slice;l(V1e,"linkSource");l(Y1e,"linkTarget");l(H1e,"link");l(X1e,"curveHorizontal");l(K1e,"linkHorizontal");l(Z1e,"horizontalSource");l(Q1e,"horizontalTarget");l(J1e,"default");O1e=(Tc=class{static next(e){return new Tc(e+ ++Tc.count)}constructor(e){this.id=e,this.href=`#${e}`}toString(){return"url("+this.href+")"}},l(Tc,"Uid"),Tc.count=0,Tc),ZBe={left:B1e,right:P1e,center:F1e,justify:VM},QBe=l(function(t,e,r,i){let{securityLevel:n,sankey:a}=ve(),s=O3.sankey,o;n==="sandbox"&&(o=Ue("#i"+e));let h=n==="sandbox"?Ue(o.nodes()[0].contentDocument.body):Ue("body"),u=n==="sandbox"?h.select(`[id="${e}"]`):Ue(`[id="${e}"]`),d=(a==null?void 0:a.width)??s.width,p=(a==null?void 0:a.height)??s.width,g=(a==null?void 0:a.useMaxWidth)??s.useMaxWidth,f=(a==null?void 0:a.nodeAlignment)??s.nodeAlignment,m=(a==null?void 0:a.prefix)??s.prefix,y=(a==null?void 0:a.suffix)??s.suffix,b=(a==null?void 0:a.showValues)??s.showValues,v=i.db.getGraph(),x=ZBe[f];U1e().nodeId(E=>E.id).nodeWidth(10).nodePadding(10+(b?15:0)).nodeAlign(x).extent([[0,0],[d,p]])(v);let w=Ys(KF);u.append("g").attr("class","nodes").selectAll(".node").data(v.nodes).join("g").attr("class","node").attr("id",E=>(E.uid=O1e.next("node-")).id).attr("transform",function(E){return"translate("+E.x0+","+E.y0+")"}).attr("x",E=>E.x0).attr("y",E=>E.y0).append("rect").attr("height",E=>E.y1-E.y0).attr("width",E=>E.x1-E.x0).attr("fill",E=>w(E.id));let k=l(({id:E,value:L})=>b?`${E}
${m}${Math.round(L*100)/100}${y}`:E,"getText");u.append("g").attr("class","node-labels").attr("font-size",14).selectAll("text").data(v.nodes).join("text").attr("x",E=>E.x0<d/2?E.x1+6:E.x0-6).attr("y",E=>(E.y1+E.y0)/2).attr("dy",`${b?"0":"0.35"}em`).attr("text-anchor",E=>E.x0<d/2?"start":"end").text(k);let T=u.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(v.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),S=(a==null?void 0:a.linkColor)??"gradient";if(S==="gradient"){let E=T.append("linearGradient").attr("id",L=>(L.uid=O1e.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",L=>L.source.x1).attr("x2",L=>L.target.x0);E.append("stop").attr("offset","0%").attr("stop-color",L=>w(L.source.id)),E.append("stop").attr("offset","100%").attr("stop-color",L=>w(L.target.id))}let C;switch(S){case"gradient":C=l(E=>E.uid,"coloring");break;case"source":C=l(E=>w(E.source.id),"coloring");break;case"target":C=l(E=>w(E.target.id),"coloring");break;default:C=S}T.append("path").attr("d",J1e()).attr("stroke",C).attr("stroke-width",E=>Math.max(1,E.width)),Ml(void 0,u,0,g)},"draw"),JBe={draw:QBe},ePe=l(t=>t.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing"),tPe=l(t=>`.label {
      font-family: ${t.fontFamily};
    }`,"getStyles"),rPe=tPe,iPe=KT.parse.bind(KT);KT.parse=t=>iPe(ePe(t));nPe={styles:rPe,parser:KT,db:YBe,renderer:JBe}});var nfe={};Tr(nfe,{diagram:()=>gPe});var aPe,wy,rfe,sPe,oPe,lPe,ife,cPe,hPe,uPe,dPe,pPe,gPe,afe=wt(()=>{fd();Wh();hc();uc();dc();pc();gc();fc();qo();Hr();ri();hr();lr();cc();_i();zi();Ii();br();kt();aPe=rr.packet,rfe=(wy=class{constructor(){this.packet=[],this.setAccTitle=gr,this.getAccTitle=fr,this.setDiagramTitle=Er,this.getDiagramTitle=vr,this.getAccDescription=yr,this.setAccDescription=mr}getConfig(){let e=Ti({...aPe,...ir().packet});return e.showBits&&(e.paddingY+=10),e}getPacket(){return this.packet}pushWord(e){e.length>0&&this.packet.push(e)}clear(){cr(),this.packet=[]}},l(wy,"PacketDB"),wy),sPe=1e4,oPe=l((t,e)=>{ls(t,e);let r=-1,i=[],n=1,{bitsPerRow:a}=e.getConfig();for(let{start:s,end:o,bits:h,label:u}of t.blocks){if(s!==void 0&&o!==void 0&&o<s)throw new Error(`Packet block ${s} - ${o} is invalid. End must be greater than start.`);if(s??(s=r+1),s!==r+1)throw new Error(`Packet block ${s} - ${o??s} is not contiguous. It should start from ${r+1}.`);if(h===0)throw new Error(`Packet block ${s} is invalid. Cannot have a zero bit field.`);for(o??(o=s+(h??1)-1),h??(h=o-s+1),r=o,ee.debug(`Packet block ${s} - ${r} with label ${u}`);i.length<=a+1&&e.getPacket().length<sPe;){let[d,p]=lPe({start:s,end:o,bits:h,label:u},n,a);if(i.push(d),d.end+1===n*a&&(e.pushWord(i),i=[],n++),!p)break;({start:s,end:o,bits:h,label:u}=p)}}e.pushWord(i)},"populate"),lPe=l((t,e,r)=>{if(t.start===void 0)throw new Error("start should have been set during first phase");if(t.end===void 0)throw new Error("end should have been set during first phase");if(t.start>t.end)throw new Error(`Block start ${t.start} is greater than block end ${t.end}.`);if(t.end+1<=e*r)return[t,void 0];let i=e*r-1,n=e*r;return[{start:t.start,end:i,label:t.label,bits:i-t.start},{start:n,end:t.end,label:t.label,bits:t.end-n}]},"getNextFittingBlock"),ife={parser:{yy:void 0},parse:l(async t=>{var i;let e=await ra("packet",t),r=(i=ife.parser)==null?void 0:i.yy;if(!(r instanceof rfe))throw new Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");ee.debug(e),oPe(e,r)},"parse")},cPe=l((t,e,r,i)=>{let n=i.db,a=n.getConfig(),{rowHeight:s,paddingY:o,bitWidth:h,bitsPerRow:u}=a,d=n.getPacket(),p=n.getDiagramTitle(),g=s+o,f=g*(d.length+1)-(p?0:s),m=h*u+2,y=fn(e);y.attr("viewbox",`0 0 ${m} ${f}`),Yr(y,f,m,a.useMaxWidth);for(let[b,v]of d.entries())hPe(y,v,b,a);y.append("text").text(p).attr("x",m/2).attr("y",f-g/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),hPe=l((t,e,r,{rowHeight:i,paddingX:n,paddingY:a,bitWidth:s,bitsPerRow:o,showBits:h})=>{let u=t.append("g"),d=r*(i+a)+a;for(let p of e){let g=p.start%o*s+1,f=(p.end-p.start+1)*s-n;if(u.append("rect").attr("x",g).attr("y",d).attr("width",f).attr("height",i).attr("class","packetBlock"),u.append("text").attr("x",g+f/2).attr("y",d+i/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(p.label),!h)continue;let m=p.end===p.start,y=d-2;u.append("text").attr("x",g+(m?f/2:0)).attr("y",y).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",m?"middle":"start").text(p.start),m||u.append("text").attr("x",g+f).attr("y",y).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(p.end)}},"drawWord"),uPe={draw:cPe},dPe={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},pPe=l(({packet:t}={})=>{let e=Ti(dPe,t);return`
	.packetByte {
		font-size: ${e.byteFontSize};
	}
	.packetByte.start {
		fill: ${e.startByteColor};
	}
	.packetByte.end {
		fill: ${e.endByteColor};
	}
	.packetLabel {
		fill: ${e.labelColor};
		font-size: ${e.labelFontSize};
	}
	.packetTitle {
		fill: ${e.titleColor};
		font-size: ${e.titleFontSize};
	}
	.packetBlock {
		stroke: ${e.blockStrokeColor};
		stroke-width: ${e.blockStrokeWidth};
		fill: ${e.blockFillColor};
	}
	`},"styles"),gPe={parser:ife,get db(){return new rfe},renderer:uPe,styles:pPe}});var dfe={};Tr(dfe,{diagram:()=>MPe});function lfe(t,e,r,i,n,a,s){let o=e.length,h=Math.min(s.width,s.height)/2;r.forEach((u,d)=>{if(u.entries.length!==o)return;let p=u.entries.map((g,f)=>{let m=2*Math.PI*f/o-Math.PI/2,y=cfe(g,i,n,h),b=y*Math.cos(m),v=y*Math.sin(m);return{x:b,y:v}});a==="circle"?t.append("path").attr("d",hfe(p,s.curveTension)).attr("class",`radarCurve-${d}`):a==="polygon"&&t.append("polygon").attr("points",p.map(g=>`${g.x},${g.y}`).join(" ")).attr("class",`radarCurve-${d}`)})}function cfe(t,e,r,i){let n=Math.min(Math.max(t,e),r);return i*(n-e)/(r-e)}function hfe(t,e){let r=t.length,i=`M${t[0].x},${t[0].y}`;for(let n=0;n<r;n++){let a=t[(n-1+r)%r],s=t[n],o=t[(n+1)%r],h=t[(n+2)%r],u={x:s.x+(o.x-a.x)*e,y:s.y+(o.y-a.y)*e},d={x:o.x-(h.x-s.x)*e,y:o.y-(h.y-s.y)*e};i+=` C${u.x},${u.y} ${d.x},${d.y} ${o.x},${o.y}`}return`${i} Z`}function ufe(t,e,r,i){if(!r)return;let n=(i.width/2+i.marginRight)*3/4,a=-(i.height/2+i.marginTop)*3/4,s=20;e.forEach((o,h)=>{let u=t.append("g").attr("transform",`translate(${n}, ${a+h*s})`);u.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${h}`),u.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(o.label)})}var ky,sfe,s0,fPe,mPe,ofe,yPe,vPe,bPe,xPe,wPe,kPe,TPe,Px,EPe,CPe,SPe,_Pe,APe,LPe,NPe,IPe,RPe,DPe,MPe,pfe=wt(()=>{fd();Wh();hc();uc();dc();pc();gc();fc();qo();Hr();ri();hr();lr();cc();_i();zi();Ii();br();kt();ky={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},sfe={axes:[],curves:[],options:ky},s0=structuredClone(sfe),fPe=rr.radar,mPe=l(()=>Ti({...fPe,...ir().radar}),"getConfig"),ofe=l(()=>s0.axes,"getAxes"),yPe=l(()=>s0.curves,"getCurves"),vPe=l(()=>s0.options,"getOptions"),bPe=l(t=>{s0.axes=t.map(e=>({name:e.name,label:e.label??e.name}))},"setAxes"),xPe=l(t=>{s0.curves=t.map(e=>({name:e.name,label:e.label??e.name,entries:wPe(e.entries)}))},"setCurves"),wPe=l(t=>{if(t[0].axis==null)return t.map(r=>r.value);let e=ofe();if(e.length===0)throw new Error("Axes must be populated before curves for reference entries");return e.map(r=>{let i=t.find(n=>{var a;return((a=n.axis)==null?void 0:a.$refText)===r.name});if(i===void 0)throw new Error("Missing entry for axis "+r.label);return i.value})},"computeCurveEntries"),kPe=l(t=>{var r,i,n,a,s;let e=t.reduce((o,h)=>(o[h.name]=h,o),{});s0.options={showLegend:((r=e.showLegend)==null?void 0:r.value)??ky.showLegend,ticks:((i=e.ticks)==null?void 0:i.value)??ky.ticks,max:((n=e.max)==null?void 0:n.value)??ky.max,min:((a=e.min)==null?void 0:a.value)??ky.min,graticule:((s=e.graticule)==null?void 0:s.value)??ky.graticule}},"setOptions"),TPe=l(()=>{cr(),s0=structuredClone(sfe)},"clear"),Px={getAxes:ofe,getCurves:yPe,getOptions:vPe,setAxes:bPe,setCurves:xPe,setOptions:kPe,getConfig:mPe,clear:TPe,setAccTitle:gr,getAccTitle:fr,setDiagramTitle:Er,getDiagramTitle:vr,getAccDescription:yr,setAccDescription:mr},EPe=l(t=>{ls(t,Px);let{axes:e,curves:r,options:i}=t;Px.setAxes(e),Px.setCurves(r),Px.setOptions(i)},"populate"),CPe={parse:l(async t=>{let e=await ra("radar",t);ee.debug(e),EPe(e)},"parse")},SPe=l((t,e,r,i)=>{let n=i.db,a=n.getAxes(),s=n.getCurves(),o=n.getOptions(),h=n.getConfig(),u=n.getDiagramTitle(),d=fn(e),p=_Pe(d,h),g=o.max??Math.max(...s.map(y=>Math.max(...y.entries))),f=o.min,m=Math.min(h.width,h.height)/2;APe(p,a,m,o.ticks,o.graticule),LPe(p,a,m,h),lfe(p,a,s,f,g,o.graticule,h),ufe(p,s,o.showLegend,h),p.append("text").attr("class","radarTitle").text(u).attr("x",0).attr("y",-h.height/2-h.marginTop)},"draw"),_Pe=l((t,e)=>{let r=e.width+e.marginLeft+e.marginRight,i=e.height+e.marginTop+e.marginBottom,n={x:e.marginLeft+e.width/2,y:e.marginTop+e.height/2};return t.attr("viewbox",`0 0 ${r} ${i}`).attr("width",r).attr("height",i),t.append("g").attr("transform",`translate(${n.x}, ${n.y})`)},"drawFrame"),APe=l((t,e,r,i,n)=>{if(n==="circle")for(let a=0;a<i;a++){let s=r*(a+1)/i;t.append("circle").attr("r",s).attr("class","radarGraticule")}else if(n==="polygon"){let a=e.length;for(let s=0;s<i;s++){let o=r*(s+1)/i,h=e.map((u,d)=>{let p=2*d*Math.PI/a-Math.PI/2,g=o*Math.cos(p),f=o*Math.sin(p);return`${g},${f}`}).join(" ");t.append("polygon").attr("points",h).attr("class","radarGraticule")}}},"drawGraticule"),LPe=l((t,e,r,i)=>{let n=e.length;for(let a=0;a<n;a++){let s=e[a].label,o=2*a*Math.PI/n-Math.PI/2;t.append("line").attr("x1",0).attr("y1",0).attr("x2",r*i.axisScaleFactor*Math.cos(o)).attr("y2",r*i.axisScaleFactor*Math.sin(o)).attr("class","radarAxisLine"),t.append("text").text(s).attr("x",r*i.axisLabelFactor*Math.cos(o)).attr("y",r*i.axisLabelFactor*Math.sin(o)).attr("class","radarAxisLabel")}},"drawAxes");l(lfe,"drawCurves");l(cfe,"relativeRadius");l(hfe,"closedRoundCurve");l(ufe,"drawLegend");NPe={draw:SPe},IPe=l((t,e)=>{let r="";for(let i=0;i<t.THEME_COLOR_LIMIT;i++){let n=t[`cScale${i}`];r+=`
		.radarCurve-${i} {
			color: ${n};
			fill: ${n};
			fill-opacity: ${e.curveOpacity};
			stroke: ${n};
			stroke-width: ${e.curveStrokeWidth};
		}
		.radarLegendBox-${i} {
			fill: ${n};
			fill-opacity: ${e.curveOpacity};
			stroke: ${n};
		}
		`}return r},"genIndexStyles"),RPe=l(t=>{let e=xu(),r=ir(),i=Ti(e,r.themeVariables),n=Ti(i.radar,t);return{themeVariables:i,radarOptions:n}},"buildRadarStyleOptions"),DPe=l(({radar:t}={})=>{let{themeVariables:e,radarOptions:r}=RPe(t);return`
	.radarTitle {
		font-size: ${e.fontSize};
		color: ${e.titleColor};
		dominant-baseline: hanging;
		text-anchor: middle;
	}
	.radarAxisLine {
		stroke: ${r.axisColor};
		stroke-width: ${r.axisStrokeWidth};
	}
	.radarAxisLabel {
		dominant-baseline: middle;
		text-anchor: middle;
		font-size: ${r.axisLabelFontSize}px;
		color: ${r.axisColor};
	}
	.radarGraticule {
		fill: ${r.graticuleColor};
		fill-opacity: ${r.graticuleOpacity};
		stroke: ${r.graticuleColor};
		stroke-width: ${r.graticuleStrokeWidth};
	}
	.radarLegendText {
		text-anchor: start;
		font-size: ${r.legendFontSize}px;
		dominant-baseline: hanging;
	}
	${IPe(e,r)}
	`},"styles"),MPe={parser:CPe,db:Px,renderer:NPe,styles:DPe}});var Wfe={};Tr(Wfe,{diagram:()=>aze});function _fe(t){switch(ee.debug("typeStr2Type",t),t){case"[]":return"square";case"()":return ee.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function Afe(t){switch(ee.debug("typeStr2Type",t),t){case"==":return"thick";default:return"normal"}}function Lfe(t){switch(t.replace(/^[\s-]+|[\s-]+$/g,"")){case"x":return"arrow_cross";case"o":return"arrow_circle";case">":return"arrow_point";default:return""}}function Nfe(t,e){if(t===0||!Number.isInteger(t))throw new Error("Columns must be an integer !== 0.");if(e<0||!Number.isInteger(e))throw new Error("Position must be a non-negative integer."+e);if(t<0)return{px:e,py:0};if(t===1)return{px:0,py:e};let r=e%t,i=Math.floor(e/t);return{px:r,py:i}}function n7(t,e,r=0,i=0){var s,o,h,u,d,p,g,f,m,y,b;ee.debug("setBlockSizes abc95 (start)",t.id,(s=t==null?void 0:t.size)==null?void 0:s.x,"block width =",t==null?void 0:t.size,"siblingWidth",r),(o=t==null?void 0:t.size)!=null&&o.width||(t.size={width:r,height:i,x:0,y:0});let n=0,a=0;if(((h=t.children)==null?void 0:h.length)>0){for(let E of t.children)n7(E,e);let v=fFe(t);n=v.width,a=v.height,ee.debug("setBlockSizes abc95 maxWidth of",t.id,":s children is ",n,a);for(let E of t.children)E.size&&(ee.debug(`abc95 Setting size of children of ${t.id} id=${E.id} ${n} ${a} ${JSON.stringify(E.size)}`),E.size.width=n*(E.widthInColumns??1)+Wi*((E.widthInColumns??1)-1),E.size.height=a,E.size.x=0,E.size.y=0,ee.debug(`abc95 updating size of ${t.id} children child:${E.id} maxWidth:${n} maxHeight:${a}`));for(let E of t.children)n7(E,e,n,a);let x=t.columns??-1,w=0;for(let E of t.children)w+=E.widthInColumns??1;let k=t.children.length;x>0&&x<w&&(k=x);let T=Math.ceil(w/k),S=k*(n+Wi)+Wi,C=T*(a+Wi)+Wi;if(S<r){ee.debug(`Detected to small sibling: abc95 ${t.id} siblingWidth ${r} siblingHeight ${i} width ${S}`),S=r,C=i;let E=(r-k*Wi-Wi)/k,L=(i-T*Wi-Wi)/T;ee.debug("Size indata abc88",t.id,"childWidth",E,"maxWidth",n),ee.debug("Size indata abc88",t.id,"childHeight",L,"maxHeight",a),ee.debug("Size indata abc88 xSize",k,"padding",Wi);for(let I of t.children)I.size&&(I.size.width=E,I.size.height=L,I.size.x=0,I.size.y=0)}if(ee.debug(`abc95 (finale calc) ${t.id} xSize ${k} ySize ${T} columns ${x}${t.children.length} width=${Math.max(S,((u=t.size)==null?void 0:u.width)||0)}`),S<(((d=t==null?void 0:t.size)==null?void 0:d.width)||0)){S=((p=t==null?void 0:t.size)==null?void 0:p.width)||0;let E=x>0?Math.min(t.children.length,x):t.children.length;if(E>0){let L=(S-E*Wi-Wi)/E;ee.debug("abc95 (growing to fit) width",t.id,S,(g=t.size)==null?void 0:g.width,L);for(let I of t.children)I.size&&(I.size.width=L)}}t.size={width:S,height:C,x:0,y:0}}ee.debug("setBlockSizes abc94 (done)",t.id,(f=t==null?void 0:t.size)==null?void 0:f.x,(m=t==null?void 0:t.size)==null?void 0:m.width,(y=t==null?void 0:t.size)==null?void 0:y.y,(b=t==null?void 0:t.size)==null?void 0:b.height)}function tO(t,e){var i,n,a,s,o,h,u,d,p,g,f,m,y,b,v,x,w;ee.debug(`abc85 layout blocks (=>layoutBlocks) ${t.id} x: ${(i=t==null?void 0:t.size)==null?void 0:i.x} y: ${(n=t==null?void 0:t.size)==null?void 0:n.y} width: ${(a=t==null?void 0:t.size)==null?void 0:a.width}`);let r=t.columns??-1;if(ee.debug("layoutBlocks columns abc95",t.id,"=>",r,t),t.children&&t.children.length>0){let k=((o=(s=t==null?void 0:t.children[0])==null?void 0:s.size)==null?void 0:o.width)??0,T=t.children.length*k+(t.children.length-1)*Wi;ee.debug("widthOfChildren 88",T,"posX");let S=0;ee.debug("abc91 block?.size?.x",t.id,(h=t==null?void 0:t.size)==null?void 0:h.x);let C=(u=t==null?void 0:t.size)!=null&&u.x?((d=t==null?void 0:t.size)==null?void 0:d.x)+(-((p=t==null?void 0:t.size)==null?void 0:p.width)/2||0):-Wi,E=0;for(let L of t.children){let I=t;if(!L.size)continue;let{width:M,height:N}=L.size,{px:$,py:_}=Nfe(r,S);if(_!=E&&(E=_,C=(g=t==null?void 0:t.size)!=null&&g.x?((f=t==null?void 0:t.size)==null?void 0:f.x)+(-((m=t==null?void 0:t.size)==null?void 0:m.width)/2||0):-Wi,ee.debug("New row in layout for block",t.id," and child ",L.id,E)),ee.debug(`abc89 layout blocks (child) id: ${L.id} Pos: ${S} (px, py) ${$},${_} (${(y=I==null?void 0:I.size)==null?void 0:y.x},${(b=I==null?void 0:I.size)==null?void 0:b.y}) parent: ${I.id} width: ${M}${Wi}`),I.size){let R=M/2;L.size.x=C+Wi+R,ee.debug(`abc91 layout blocks (calc) px, pyid:${L.id} startingPos=X${C} new startingPosX${L.size.x} ${R} padding=${Wi} width=${M} halfWidth=${R} => x:${L.size.x} y:${L.size.y} ${L.widthInColumns} (width * (child?.w || 1)) / 2 ${M*((L==null?void 0:L.widthInColumns)??1)/2}`),C=L.size.x+R,L.size.y=I.size.y-I.size.height/2+_*(N+Wi)+N/2+Wi,ee.debug(`abc88 layout blocks (calc) px, pyid:${L.id}startingPosX${C}${Wi}${R}=>x:${L.size.x}y:${L.size.y}${L.widthInColumns}(width * (child?.w || 1)) / 2${M*((L==null?void 0:L.widthInColumns)??1)/2}`)}L.children&&tO(L,e);let D=(L==null?void 0:L.widthInColumns)??1;r>0&&(D=Math.min(D,r-S%r)),S+=D,ee.debug("abc88 columnsPos",L,S)}}ee.debug(`layout blocks (<==layoutBlocks) ${t.id} x: ${(v=t==null?void 0:t.size)==null?void 0:v.x} y: ${(x=t==null?void 0:t.size)==null?void 0:x.y} width: ${(w=t==null?void 0:t.size)==null?void 0:w.width}`)}function rO(t,{minX:e,minY:r,maxX:i,maxY:n}={minX:0,minY:0,maxX:0,maxY:0}){if(t.size&&t.id!=="root"){let{x:a,y:s,width:o,height:h}=t.size;a-o/2<e&&(e=a-o/2),s-h/2<r&&(r=s-h/2),a+o/2>i&&(i=a+o/2),s+h/2>n&&(n=s+h/2)}if(t.children)for(let a of t.children)({minX:e,minY:r,maxX:i,maxY:n}=rO(a,{minX:e,minY:r,maxX:i,maxY:n}));return{minX:e,minY:r,maxX:i,maxY:n}}function Ife(t){let e=t.getBlock("root");if(!e)return;n7(e,t,0,0),tO(e,t),ee.debug("getBlocks",JSON.stringify(e,null,2));let{minX:r,minY:i,maxX:n,maxY:a}=rO(e),s=a-i,o=n-r;return{x:r,y:i,width:o,height:s}}function KM(t,e){e&&t.attr("style",e)}function Rfe(t,e){let r=Ue(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),i=r.append("xhtml:div"),n=t.label,a=t.isNode?"nodeLabel":"edgeLabel",s=i.append("span");return s.html(tr(n,e)),KM(s,t.labelStyle),s.attr("class",a),KM(i,t.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),r.node()}function Fx(t,e){ve().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}function Dfe(t,e){return t.intersect(e)}function Mfe(t,e,r,i){var n=t.x,a=t.y,s=n-i.x,o=a-i.y,h=Math.sqrt(e*e*o*o+r*r*s*s),u=Math.abs(e*r*s/h);i.x<n&&(u=-u);var d=Math.abs(e*r*o/h);return i.y<a&&(d=-d),{x:n+u,y:a+d}}function $fe(t,e,r){return Ofe(t,e,e,r)}function Bfe(t,e,r,i){var n,a,s,o,h,u,d,p,g,f,m,y,b,v,x;if(n=e.y-t.y,s=t.x-e.x,h=e.x*t.y-t.x*e.y,g=n*r.x+s*r.y+h,f=n*i.x+s*i.y+h,!(g!==0&&f!==0&&QM(g,f))&&(a=i.y-r.y,o=r.x-i.x,u=i.x*r.y-r.x*i.y,d=a*t.x+o*t.y+u,p=a*e.x+o*e.y+u,!(d!==0&&p!==0&&QM(d,p))&&(m=n*o-a*s,m!==0)))return y=Math.abs(m/2),b=s*u-o*h,v=b<0?(b-y)/m:(b+y)/m,b=a*h-n*u,x=b<0?(b-y)/m:(b+y)/m,{x:v,y:x}}function QM(t,e){return t*e>0}function Pfe(t,e,r){var i=t.x,n=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(m){s=Math.min(s,m.x),o=Math.min(o,m.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));for(var h=i-t.width/2-s,u=n-t.height/2-o,d=0;d<e.length;d++){var p=e[d],g=e[d<e.length-1?d+1:0],f=AFe(t,r,{x:h+p.x,y:u+p.y},{x:h+g.x,y:u+g.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort(function(m,y){var b=m.x-r.x,v=m.y-r.y,x=Math.sqrt(b*b+v*v),w=y.x-r.x,k=y.y-r.y,T=Math.sqrt(w*w+k*k);return x<T?-1:x===T?0:1}),a[0]):t}function To(t,e,r,i){return t.insert("polygon",":first-child").attr("points",i.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+r/2+")")}function a7(t,e,r,i){let n=[],a=l(o=>{n.push(o,0)},"addBorder"),s=l(o=>{n.push(0,o)},"skipBorder");e.includes("t")?(ee.debug("add top border"),a(r)):s(r),e.includes("r")?(ee.debug("add right border"),a(i)):s(i),e.includes("b")?(ee.debug("add bottom border"),a(r)):s(r),e.includes("l")?(ee.debug("add left border"),a(i)):s(i),t.attr("stroke-dasharray",n.join(" "))}function iO(t,e,r=!1){var p,g,f;let i=t,n="default";(((p=i==null?void 0:i.classes)==null?void 0:p.length)||0)>0&&(n=((i==null?void 0:i.classes)??[]).join(" ")),n=n+" flowchart-label";let a=0,s="",o;switch(i.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",o=0;break;case"square":s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"group":s="rect";break;case"doublecircle":s="doublecircle";break;default:s="rect"}let h=o5((i==null?void 0:i.styles)??[]),u=i.label,d=i.size??{width:0,height:0,x:0,y:0};return{labelStyle:h.labelStyle,shape:s,labelText:u,rx:a,ry:a,class:n,style:h.style,id:i.id,directions:i.directions,width:d.width,height:d.height,x:d.x,y:d.y,positioned:r,intersect:void 0,type:i.type,padding:o??((f=(g=ir())==null?void 0:g.block)==null?void 0:f.padding)??0}}async function zfe(t,e,r){let i=iO(e,r,!1);if(i.type==="group")return;let n=ir(),a=await Ffe(t,i,{config:n}),s=a.node().getBBox(),o=r.getBlock(i.id);o.size={width:s.width,height:s.height,x:0,y:0,node:a},r.setBlock(o),a.remove()}async function Gfe(t,e,r){let i=iO(e,r,!0);if(r.getBlock(i.id).type!=="space"){let n=ir();await Ffe(t,i,{config:n}),e.intersect=i==null?void 0:i.intersect,tze(i)}}async function s7(t,e,r,i){for(let n of e)await i(t,n,r),n.children&&await s7(t,n.children,r,i)}async function qfe(t,e,r){await s7(t,e,r,zfe)}async function Ufe(t,e,r){await s7(t,e,r,Gfe)}async function jfe(t,e,r,i,n){let a=new yn({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let s of r)s.size&&a.setNode(s.id,{width:s.size.width,height:s.size.height,intersect:s.intersect});for(let s of e)if(s.start&&s.end){let o=i.getBlock(s.start),h=i.getBlock(s.end);if(o!=null&&o.size&&(h!=null&&h.size)){let u=o.size,d=h.size,p=[{x:u.x,y:u.y},{x:u.x+(d.x-u.x)/2,y:u.y+(d.y-u.y)/2},{x:d.x,y:d.y}];TFe(t,{v:s.start,w:s.end,name:s.id},{...s,arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",a,n),s.label&&(await bFe(t,{...s,label:s.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),xFe({...s,x:p[1].x,y:p[1].y},{originalPath:p}))}}}var HM,OPe,ko,JM,XM,gfe,ffe,$Pe,Cfe,BPe,i7,PPe,FPe,zPe,GPe,Sfe,eO,zx,qPe,mfe,UPe,jPe,WPe,VPe,YPe,HPe,XPe,KPe,ZPe,QPe,JPe,eFe,t7,tFe,rFe,iFe,nFe,aFe,sFe,oFe,lFe,cFe,hFe,uFe,dFe,pFe,gFe,Tfe,Efe,Wi,fFe,mFe,Us,yFe,vFe,yfe,ZM,ia,bFe,xFe,wFe,kFe,vfe,TFe,EFe,CFe,SFe,Ofe,_Fe,AFe,LFe,NFe,IFe,bi,wn,$i,RFe,DFe,bfe,ds,xfe,MFe,OFe,$Fe,BFe,PFe,FFe,zFe,GFe,qFe,UFe,jFe,WFe,VFe,YFe,HFe,XFe,KFe,ZFe,QFe,wfe,JFe,eze,kfe,r7,Ffe,tze,rze,ize,nze,aze,Vfe=wt(()=>{Rv();Mh();ts();ua();_n();Hr();ri();hr();lr();zi();Ii();br();kt();HM=(function(){var t=l(function(w,k,T,S){for(T=T||{},S=w.length;S--;T[w[S]]=k);return T},"o"),e=[1,15],r=[1,7],i=[1,13],n=[1,14],a=[1,19],s=[1,16],o=[1,17],h=[1,18],u=[8,30],d=[8,10,21,28,29,30,31,39,43,46],p=[1,23],g=[1,24],f=[8,10,15,16,21,28,29,30,31,39,43,46],m=[8,10,15,16,21,27,28,29,30,31,39,43,46],y=[1,49],b={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,NODE_ID:31,nodeShapeNLabel:32,dirList:33,DIR:34,NODE_DSTART:35,NODE_DEND:36,BLOCK_ARROW_START:37,BLOCK_ARROW_END:38,classDef:39,CLASSDEF_ID:40,CLASSDEF_STYLEOPTS:41,DEFAULT:42,class:43,CLASSENTITY_IDS:44,STYLECLASS:45,style:46,STYLE_ENTITY_IDS:47,STYLE_DEFINITION_DATA:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"NODE_ID",34:"DIR",35:"NODE_DSTART",36:"NODE_DEND",37:"BLOCK_ARROW_START",38:"BLOCK_ARROW_END",39:"classDef",40:"CLASSDEF_ID",41:"CLASSDEF_STYLEOPTS",42:"DEFAULT",43:"class",44:"CLASSENTITY_IDS",45:"STYLECLASS",46:"style",47:"STYLE_ENTITY_IDS",48:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[33,1],[33,2],[32,3],[32,4],[23,3],[23,3],[24,3],[25,3]],performAction:l(function(w,k,T,S,C,E,L){var I=E.length-1;switch(C){case 4:S.getLogger().debug("Rule: separator (NL) ");break;case 5:S.getLogger().debug("Rule: separator (Space) ");break;case 6:S.getLogger().debug("Rule: separator (EOF) ");break;case 7:S.getLogger().debug("Rule: hierarchy: ",E[I-1]),S.setHierarchy(E[I-1]);break;case 8:S.getLogger().debug("Stop NL ");break;case 9:S.getLogger().debug("Stop EOF ");break;case 10:S.getLogger().debug("Stop NL2 ");break;case 11:S.getLogger().debug("Stop EOF2 ");break;case 12:S.getLogger().debug("Rule: statement: ",E[I]),typeof E[I].length=="number"?this.$=E[I]:this.$=[E[I]];break;case 13:S.getLogger().debug("Rule: statement #2: ",E[I-1]),this.$=[E[I-1]].concat(E[I]);break;case 14:S.getLogger().debug("Rule: link: ",E[I],w),this.$={edgeTypeStr:E[I],label:""};break;case 15:S.getLogger().debug("Rule: LABEL link: ",E[I-3],E[I-1],E[I]),this.$={edgeTypeStr:E[I],label:E[I-1]};break;case 18:let M=parseInt(E[I]),N=S.generateId();this.$={id:N,type:"space",label:"",width:M,children:[]};break;case 23:S.getLogger().debug("Rule: (nodeStatement link node) ",E[I-2],E[I-1],E[I]," typestr: ",E[I-1].edgeTypeStr);let $=S.edgeStrToEdgeData(E[I-1].edgeTypeStr);this.$=[{id:E[I-2].id,label:E[I-2].label,type:E[I-2].type,directions:E[I-2].directions},{id:E[I-2].id+"-"+E[I].id,start:E[I-2].id,end:E[I].id,label:E[I-1].label,type:"edge",directions:E[I].directions,arrowTypeEnd:$,arrowTypeStart:"arrow_open"},{id:E[I].id,label:E[I].label,type:S.typeStr2Type(E[I].typeStr),directions:E[I].directions}];break;case 24:S.getLogger().debug("Rule: nodeStatement (abc88 node size) ",E[I-1],E[I]),this.$={id:E[I-1].id,label:E[I-1].label,type:S.typeStr2Type(E[I-1].typeStr),directions:E[I-1].directions,widthInColumns:parseInt(E[I],10)};break;case 25:S.getLogger().debug("Rule: nodeStatement (node) ",E[I]),this.$={id:E[I].id,label:E[I].label,type:S.typeStr2Type(E[I].typeStr),directions:E[I].directions,widthInColumns:1};break;case 26:S.getLogger().debug("APA123",this?this:"na"),S.getLogger().debug("COLUMNS: ",E[I]),this.$={type:"column-setting",columns:E[I]==="auto"?-1:parseInt(E[I])};break;case 27:S.getLogger().debug("Rule: id-block statement : ",E[I-2],E[I-1]);let _=S.generateId();this.$={...E[I-2],type:"composite",children:E[I-1]};break;case 28:S.getLogger().debug("Rule: blockStatement : ",E[I-2],E[I-1],E[I]);let D=S.generateId();this.$={id:D,type:"composite",label:"",children:E[I-1]};break;case 29:S.getLogger().debug("Rule: node (NODE_ID separator): ",E[I]),this.$={id:E[I]};break;case 30:S.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",E[I-1],E[I]),this.$={id:E[I-1],label:E[I].label,typeStr:E[I].typeStr,directions:E[I].directions};break;case 31:S.getLogger().debug("Rule: dirList: ",E[I]),this.$=[E[I]];break;case 32:S.getLogger().debug("Rule: dirList: ",E[I-1],E[I]),this.$=[E[I-1]].concat(E[I]);break;case 33:S.getLogger().debug("Rule: nodeShapeNLabel: ",E[I-2],E[I-1],E[I]),this.$={typeStr:E[I-2]+E[I],label:E[I-1]};break;case 34:S.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",E[I-3],E[I-2]," #3:",E[I-1],E[I]),this.$={typeStr:E[I-3]+E[I],label:E[I-2],directions:E[I-1]};break;case 35:case 36:this.$={type:"classDef",id:E[I-1].trim(),css:E[I].trim()};break;case 37:this.$={type:"applyClass",id:E[I-1].trim(),styleClass:E[I].trim()};break;case 38:this.$={type:"applyStyles",id:E[I-1].trim(),stylesStr:E[I].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{10:e,11:3,13:4,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:i,29:n,31:a,39:s,43:o,46:h},{8:[1,20]},t(u,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,10:e,21:r,28:i,29:n,31:a,39:s,43:o,46:h}),t(d,[2,16],{14:22,15:p,16:g}),t(d,[2,17]),t(d,[2,18]),t(d,[2,19]),t(d,[2,20]),t(d,[2,21]),t(d,[2,22]),t(f,[2,25],{27:[1,25]}),t(d,[2,26]),{19:26,26:12,31:a},{10:e,11:27,13:4,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:i,29:n,31:a,39:s,43:o,46:h},{40:[1,28],42:[1,29]},{44:[1,30]},{47:[1,31]},t(m,[2,29],{32:32,35:[1,33],37:[1,34]}),{1:[2,7]},t(u,[2,13]),{26:35,31:a},{31:[2,14]},{17:[1,36]},t(f,[2,24]),{10:e,11:37,13:4,14:22,15:p,16:g,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:i,29:n,31:a,39:s,43:o,46:h},{30:[1,38]},{41:[1,39]},{41:[1,40]},{45:[1,41]},{48:[1,42]},t(m,[2,30]),{18:[1,43]},{18:[1,44]},t(f,[2,23]),{18:[1,45]},{30:[1,46]},t(d,[2,28]),t(d,[2,35]),t(d,[2,36]),t(d,[2,37]),t(d,[2,38]),{36:[1,47]},{33:48,34:y},{15:[1,50]},t(d,[2,27]),t(m,[2,33]),{38:[1,51]},{33:52,34:y,38:[2,31]},{31:[2,15]},t(m,[2,34]),{38:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:l(function(w,k){if(k.recoverable)this.trace(w);else{var T=new Error(w);throw T.hash=k,T}},"parseError"),parse:l(function(w){var k=this,T=[0],S=[],C=[null],E=[],L=this.table,I="",M=0,N=0,$=0,_=2,D=1,R=E.slice.call(arguments,1),O=Object.create(this.lexer),A={yy:{}};for(var B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(A.yy[B]=this.yy[B]);O.setInput(w,A.yy),A.yy.lexer=O,A.yy.parser=this,typeof O.yylloc>"u"&&(O.yylloc={});var P=O.yylloc;E.push(P);var z=O.options&&O.options.ranges;typeof A.yy.parseError=="function"?this.parseError=A.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function q(fe){T.length=T.length-2*fe,C.length=C.length-fe,E.length=E.length-fe}l(q,"popStack");function K(){var fe;return fe=S.pop()||O.lex()||D,typeof fe!="number"&&(fe instanceof Array&&(S=fe,fe=S.pop()),fe=k.symbols_[fe]||fe),fe}l(K,"lex");for(var W,ae,ie,se,oe,Y,Q={},j,H,J,he;;){if(ie=T[T.length-1],this.defaultActions[ie]?se=this.defaultActions[ie]:((W===null||typeof W>"u")&&(W=K()),se=L[ie]&&L[ie][W]),typeof se>"u"||!se.length||!se[0]){var X="";he=[];for(j in L[ie])this.terminals_[j]&&j>_&&he.push("'"+this.terminals_[j]+"'");O.showPosition?X="Parse error on line "+(M+1)+`:
`+O.showPosition()+`
Expecting `+he.join(", ")+", got '"+(this.terminals_[W]||W)+"'":X="Parse error on line "+(M+1)+": Unexpected "+(W==D?"end of input":"'"+(this.terminals_[W]||W)+"'"),this.parseError(X,{text:O.match,token:this.terminals_[W]||W,line:O.yylineno,loc:P,expected:he})}if(se[0]instanceof Array&&se.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ie+", token: "+W);switch(se[0]){case 1:T.push(W),C.push(O.yytext),E.push(O.yylloc),T.push(se[1]),W=null,ae?(W=ae,ae=null):(N=O.yyleng,I=O.yytext,M=O.yylineno,P=O.yylloc,$>0&&$--);break;case 2:if(H=this.productions_[se[1]][1],Q.$=C[C.length-H],Q._$={first_line:E[E.length-(H||1)].first_line,last_line:E[E.length-1].last_line,first_column:E[E.length-(H||1)].first_column,last_column:E[E.length-1].last_column},z&&(Q._$.range=[E[E.length-(H||1)].range[0],E[E.length-1].range[1]]),Y=this.performAction.apply(Q,[I,N,M,A.yy,se[1],C,E].concat(R)),typeof Y<"u")return Y;H&&(T=T.slice(0,-1*H*2),C=C.slice(0,-1*H),E=E.slice(0,-1*H)),T.push(this.productions_[se[1]][0]),C.push(Q.$),E.push(Q._$),J=L[T[T.length-2]][T[T.length-1]],T.push(J);break;case 3:return!0}}return!0},"parse")},v=(function(){var w={EOF:1,parseError:l(function(k,T){if(this.yy.parser)this.yy.parser.parseError(k,T);else throw new Error(k)},"parseError"),setInput:l(function(k,T){return this.yy=T||this.yy||{},this._input=k,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var k=this._input[0];this.yytext+=k,this.yyleng++,this.offset++,this.match+=k,this.matched+=k;var T=k.match(/(?:\r\n?|\n).*/g);return T?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),k},"input"),unput:l(function(k){var T=k.length,S=k.split(/(?:\r\n?|\n)/g);this._input=k+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-T),this.offset-=T;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),S.length-1&&(this.yylineno-=S.length-1);var E=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:S?(S.length===C.length?this.yylloc.first_column:0)+C[C.length-S.length].length-S[0].length:this.yylloc.first_column-T},this.options.ranges&&(this.yylloc.range=[E[0],E[0]+this.yyleng-T]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(k){this.unput(this.match.slice(k))},"less"),pastInput:l(function(){var k=this.matched.substr(0,this.matched.length-this.match.length);return(k.length>20?"...":"")+k.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var k=this.match;return k.length<20&&(k+=this._input.substr(0,20-k.length)),(k.substr(0,20)+(k.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var k=this.pastInput(),T=new Array(k.length+1).join("-");return k+this.upcomingInput()+`
`+T+"^"},"showPosition"),test_match:l(function(k,T){var S,C,E;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(E.yylloc.range=this.yylloc.range.slice(0))),C=k[0].match(/(?:\r\n?|\n).*/g),C&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],S=this.performAction.call(this,this.yy,this,T,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),S)return S;if(this._backtrack){for(var L in E)this[L]=E[L];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var k,T,S,C;this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),L=0;L<E.length;L++)if(S=this._input.match(this.rules[E[L]]),S&&(!T||S[0].length>T[0].length)){if(T=S,C=L,this.options.backtrack_lexer){if(k=this.test_match(S,E[L]),k!==!1)return k;if(this._backtrack){T=!1;continue}else return!1}else if(!this.options.flex)break}return T?(k=this.test_match(T,E[C]),k!==!1?k:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var k=this.next();return k||this.lex()},"lex"),begin:l(function(k){this.conditionStack.push(k)},"begin"),popState:l(function(){var k=this.conditionStack.length-1;return k>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(k){return k=this.conditionStack.length-1-Math.abs(k||0),k>=0?this.conditionStack[k]:"INITIAL"},"topState"),pushState:l(function(k){this.begin(k)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(k,T,S,C){var E=C;switch(S){case 0:return k.getLogger().debug("Found block-beta"),10;case 1:return k.getLogger().debug("Found id-block"),29;case 2:return k.getLogger().debug("Found block"),10;case 3:k.getLogger().debug(".",T.yytext);break;case 4:k.getLogger().debug("_",T.yytext);break;case 5:return 5;case 6:return T.yytext=-1,28;case 7:return T.yytext=T.yytext.replace(/columns\s+/,""),k.getLogger().debug("COLUMNS (LEX)",T.yytext),28;case 8:this.pushState("md_string");break;case 9:return"MD_STR";case 10:this.popState();break;case 11:this.pushState("string");break;case 12:k.getLogger().debug("LEX: POPPING STR:",T.yytext),this.popState();break;case 13:return k.getLogger().debug("LEX: STR end:",T.yytext),"STR";case 14:return T.yytext=T.yytext.replace(/space\:/,""),k.getLogger().debug("SPACE NUM (LEX)",T.yytext),21;case 15:return T.yytext="1",k.getLogger().debug("COLUMNS (LEX)",T.yytext),21;case 16:return 42;case 17:return"LINKSTYLE";case 18:return"INTERPOLATE";case 19:return this.pushState("CLASSDEF"),39;case 20:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 21:return this.popState(),this.pushState("CLASSDEFID"),40;case 22:return this.popState(),41;case 23:return this.pushState("CLASS"),43;case 24:return this.popState(),this.pushState("CLASS_STYLE"),44;case 25:return this.popState(),45;case 26:return this.pushState("STYLE_STMNT"),46;case 27:return this.popState(),this.pushState("STYLE_DEFINITION"),47;case 28:return this.popState(),48;case 29:return this.pushState("acc_title"),"acc_title";case 30:return this.popState(),"acc_title_value";case 31:return this.pushState("acc_descr"),"acc_descr";case 32:return this.popState(),"acc_descr_value";case 33:this.pushState("acc_descr_multiline");break;case 34:this.popState();break;case 35:return"acc_descr_multiline_value";case 36:return 30;case 37:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 38:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),k.getLogger().debug("Lex: ))"),"NODE_DEND";case 40:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 41:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),k.getLogger().debug("Lex: (-"),"NODE_DEND";case 43:return this.popState(),k.getLogger().debug("Lex: -)"),"NODE_DEND";case 44:return this.popState(),k.getLogger().debug("Lex: (("),"NODE_DEND";case 45:return this.popState(),k.getLogger().debug("Lex: ]]"),"NODE_DEND";case 46:return this.popState(),k.getLogger().debug("Lex: ("),"NODE_DEND";case 47:return this.popState(),k.getLogger().debug("Lex: ])"),"NODE_DEND";case 48:return this.popState(),k.getLogger().debug("Lex: /]"),"NODE_DEND";case 49:return this.popState(),k.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),k.getLogger().debug("Lex: )]"),"NODE_DEND";case 51:return this.popState(),k.getLogger().debug("Lex: )"),"NODE_DEND";case 52:return this.popState(),k.getLogger().debug("Lex: ]>"),"NODE_DEND";case 53:return this.popState(),k.getLogger().debug("Lex: ]"),"NODE_DEND";case 54:return k.getLogger().debug("Lexa: -)"),this.pushState("NODE"),35;case 55:return k.getLogger().debug("Lexa: (-"),this.pushState("NODE"),35;case 56:return k.getLogger().debug("Lexa: ))"),this.pushState("NODE"),35;case 57:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 58:return k.getLogger().debug("Lex: ((("),this.pushState("NODE"),35;case 59:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 60:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 61:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 62:return k.getLogger().debug("Lexc: >"),this.pushState("NODE"),35;case 63:return k.getLogger().debug("Lexa: (["),this.pushState("NODE"),35;case 64:return k.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 65:return this.pushState("NODE"),35;case 66:return this.pushState("NODE"),35;case 67:return this.pushState("NODE"),35;case 68:return this.pushState("NODE"),35;case 69:return this.pushState("NODE"),35;case 70:return this.pushState("NODE"),35;case 71:return this.pushState("NODE"),35;case 72:return k.getLogger().debug("Lexa: ["),this.pushState("NODE"),35;case 73:return this.pushState("BLOCK_ARROW"),k.getLogger().debug("LEX ARR START"),37;case 74:return k.getLogger().debug("Lex: NODE_ID",T.yytext),31;case 75:return k.getLogger().debug("Lex: EOF",T.yytext),8;case 76:this.pushState("md_string");break;case 77:this.pushState("md_string");break;case 78:return"NODE_DESCR";case 79:this.popState();break;case 80:k.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 81:k.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 82:return k.getLogger().debug("LEX: NODE_DESCR:",T.yytext),"NODE_DESCR";case 83:k.getLogger().debug("LEX POPPING"),this.popState();break;case 84:k.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 85:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (right): dir:",T.yytext),"DIR";case 86:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (left):",T.yytext),"DIR";case 87:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (x):",T.yytext),"DIR";case 88:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (y):",T.yytext),"DIR";case 89:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (up):",T.yytext),"DIR";case 90:return T.yytext=T.yytext.replace(/^,\s*/,""),k.getLogger().debug("Lex (down):",T.yytext),"DIR";case 91:return T.yytext="]>",k.getLogger().debug("Lex (ARROW_DIR end):",T.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 92:return k.getLogger().debug("Lex: LINK","#"+T.yytext+"#"),15;case 93:return k.getLogger().debug("Lex: LINK",T.yytext),15;case 94:return k.getLogger().debug("Lex: LINK",T.yytext),15;case 95:return k.getLogger().debug("Lex: LINK",T.yytext),15;case 96:return k.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;case 97:return k.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;case 98:return k.getLogger().debug("Lex: START_LINK",T.yytext),this.pushState("LLABEL"),16;case 99:this.pushState("md_string");break;case 100:return k.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 101:return this.popState(),k.getLogger().debug("Lex: LINK","#"+T.yytext+"#"),15;case 102:return this.popState(),k.getLogger().debug("Lex: LINK",T.yytext),15;case 103:return this.popState(),k.getLogger().debug("Lex: LINK",T.yytext),15;case 104:return k.getLogger().debug("Lex: COLON",T.yytext),T.yytext=T.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block:)/,/^(?:block\b)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[28],inclusive:!1},STYLE_STMNT:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[22],inclusive:!1},CLASSDEF:{rules:[20,21],inclusive:!1},CLASS_STYLE:{rules:[25],inclusive:!1},CLASS:{rules:[24],inclusive:!1},LLABEL:{rules:[99,100,101,102,103],inclusive:!1},ARROW_DIR:{rules:[85,86,87,88,89,90,91],inclusive:!1},BLOCK_ARROW:{rules:[76,81,84],inclusive:!1},NODE:{rules:[37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,77,80],inclusive:!1},md_string:{rules:[9,10,78,79],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[12,13,82,83],inclusive:!1},acc_descr_multiline:{rules:[34,35],inclusive:!1},acc_descr:{rules:[32],inclusive:!1},acc_title:{rules:[30],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,11,14,15,16,17,18,19,23,26,29,31,33,36,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,92,93,94,95,96,97,98,104],inclusive:!0}}};return w})();b.lexer=v;function x(){this.yy={}}return l(x,"Parser"),x.prototype=b,b.Parser=x,new x})();HM.parser=HM;OPe=HM,ko=new Map,JM=[],XM=new Map,gfe="color",ffe="fill",$Pe="bgFill",Cfe=",",BPe=ve(),i7=new Map,PPe=l(t=>Ke.sanitizeText(t,BPe),"sanitizeText"),FPe=l(function(t,e=""){let r=i7.get(t);r||(r={id:t,styles:[],textStyles:[]},i7.set(t,r)),e==null||e.split(Cfe).forEach(i=>{let n=i.replace(/([^;]*);/,"$1").trim();if(RegExp(gfe).exec(i)){let a=n.replace(ffe,$Pe).replace(gfe,ffe);r.textStyles.push(a)}r.styles.push(n)})},"addStyleClass"),zPe=l(function(t,e=""){let r=ko.get(t);e!=null&&(r.styles=e.split(Cfe))},"addStyle2Node"),GPe=l(function(t,e){t.split(",").forEach(function(r){let i=ko.get(r);if(i===void 0){let n=r.trim();i={id:n,type:"na",children:[]},ko.set(n,i)}i.classes||(i.classes=[]),i.classes.push(e)})},"setCssClass"),Sfe=l((t,e)=>{var a;let r=t.flat(),i=[],n=((a=r.find(s=>(s==null?void 0:s.type)==="column-setting"))==null?void 0:a.columns)??-1;for(let s of r){if(typeof n=="number"&&n>0&&s.type!=="column-setting"&&typeof s.widthInColumns=="number"&&s.widthInColumns>n&&ee.warn(`Block ${s.id} width ${s.widthInColumns} exceeds configured column width ${n}`),s.label&&(s.label=PPe(s.label)),s.type==="classDef"){FPe(s.id,s.css);continue}if(s.type==="applyClass"){GPe(s.id,(s==null?void 0:s.styleClass)??"");continue}if(s.type==="applyStyles"){s!=null&&s.stylesStr&&zPe(s.id,s==null?void 0:s.stylesStr);continue}if(s.type==="column-setting")e.columns=s.columns??-1;else if(s.type==="edge"){let o=(XM.get(s.id)??0)+1;XM.set(s.id,o),s.id=o+"-"+s.id,JM.push(s)}else{s.label||(s.type==="composite"?s.label="":s.label=s.id);let o=ko.get(s.id);if(o===void 0?ko.set(s.id,s):(s.type!=="na"&&(o.type=s.type),s.label!==s.id&&(o.label=s.label)),s.children&&Sfe(s.children,s),s.type==="space"){let h=s.width??1;for(let u=0;u<h;u++){let d=Ri(s);d.id=d.id+"-"+u,ko.set(d.id,d),i.push(d)}}else o===void 0&&i.push(s)}}e.children=i},"populateBlockDatabase"),eO=[],zx={id:"root",type:"composite",children:[],columns:-1},qPe=l(()=>{ee.debug("Clear called"),cr(),zx={id:"root",type:"composite",children:[],columns:-1},ko=new Map([["root",zx]]),eO=[],i7=new Map,JM=[],XM=new Map},"clear");l(_fe,"typeStr2Type");l(Afe,"edgeTypeStr2Type");l(Lfe,"edgeStrToEdgeData");mfe=0,UPe=l(()=>(mfe++,"id-"+Math.random().toString(36).substr(2,12)+"-"+mfe),"generateId"),jPe=l(t=>{zx.children=t,Sfe(t,zx),eO=zx.children},"setHierarchy"),WPe=l(t=>{let e=ko.get(t);return e?e.columns?e.columns:e.children?e.children.length:-1:-1},"getColumns"),VPe=l(()=>[...ko.values()],"getBlocksFlat"),YPe=l(()=>eO||[],"getBlocks"),HPe=l(()=>JM,"getEdges"),XPe=l(t=>ko.get(t),"getBlock"),KPe=l(t=>{ko.set(t.id,t)},"setBlock"),ZPe=l(()=>ee,"getLogger"),QPe=l(function(){return i7},"getClasses"),JPe={getConfig:l(()=>ir().block,"getConfig"),typeStr2Type:_fe,edgeTypeStr2Type:Afe,edgeStrToEdgeData:Lfe,getLogger:ZPe,getBlocksFlat:VPe,getBlocks:YPe,getEdges:HPe,setHierarchy:jPe,getBlock:XPe,setBlock:KPe,getColumns:WPe,getClasses:QPe,clear:qPe,generateId:UPe},eFe=JPe,t7=l((t,e)=>{let r=hp,i=r(t,"r"),n=r(t,"g"),a=r(t,"b");return eo(i,n,a,e)},"fade"),tFe=l(t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span,p {
    color: ${t.titleColor};
  }



  .label text,span,p {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${t7(t.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${t7(t.mainBkg,.5)};
    fill: ${t7(t.clusterBkg,.5)};
    stroke: ${t7(t.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span,p {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor};
  }
  ${sl()}
`,"getStyles"),rFe=tFe,iFe=l((t,e,r,i)=>{e.forEach(n=>{pFe[n](t,r,i)})},"insertMarkers"),nFe=l((t,e,r)=>{ee.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),aFe=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),sFe=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),oFe=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),lFe=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),cFe=l((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),hFe=l((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),uFe=l((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),dFe=l((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),pFe={extension:nFe,composition:aFe,aggregation:sFe,dependency:oFe,lollipop:lFe,point:cFe,circle:hFe,cross:uFe,barb:dFe},gFe=iFe,Wi=((Efe=(Tfe=ve())==null?void 0:Tfe.block)==null?void 0:Efe.padding)??8;l(Nfe,"calculateBlockPosition");fFe=l(t=>{let e=0,r=0;for(let i of t.children){let{width:n,height:a,x:s,y:o}=i.size??{width:0,height:0,x:0,y:0};ee.debug("getMaxChildSize abc95 child:",i.id,"width:",n,"height:",a,"x:",s,"y:",o,i.type),i.type!=="space"&&(n>e&&(e=n/(t.widthInColumns??1)),a>r&&(r=a))}return{width:e,height:r}},"getMaxChildSize");l(n7,"setBlockSizes");l(tO,"layoutBlocks");l(rO,"findBounds");l(Ife,"layout");l(KM,"applyStyle");l(Rfe,"addHtmlLabel");mFe=l(async(t,e,r,i)=>{let n=t||"";typeof n=="object"&&(n=n[0]);let a=ve();if(Mr(a.flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),ee.debug("vertexText"+n);let s=await k5(Ma(n)),o={isNode:i,label:s,labelStyle:e.replace("fill:","color:")};return Rfe(o,a)}else{let s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let o=[];typeof n=="string"?o=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?o=n:o=[];for(let h of o){let u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=h.trim(),s.appendChild(u)}return s}},"createLabel"),Us=mFe,yFe=l((t,e,r,i,n)=>{e.arrowTypeStart&&yfe(t,"start",e.arrowTypeStart,r,i,n),e.arrowTypeEnd&&yfe(t,"end",e.arrowTypeEnd,r,i,n)},"addEdgeMarkers"),vFe={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},yfe=l((t,e,r,i,n,a)=>{let s=vFe[r];if(!s){ee.warn(`Unknown arrow type: ${r}`);return}let o=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${i}#${n}_${a}-${s}${o})`)},"addEdgeMarker"),ZM={},ia={},bFe=l(async(t,e)=>{let r=ve(),i=Mr(r.flowchart.htmlLabels),n=e.labelType==="markdown"?Sn(t,e.label,{style:e.labelStyle,useHtmlLabels:i,addSvgBackground:!0},r):await Us(e.label,e.labelStyle),a=t.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(n);let o=n.getBBox();if(i){let u=n.children[0],d=Ue(n);o=u.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),ZM[e.id]=a,e.width=o.width,e.height=o.height;let h;if(e.startLabelLeft){let u=await Us(e.startLabelLeft,e.labelStyle),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=p.node().appendChild(u);let g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),ia[e.id]||(ia[e.id]={}),ia[e.id].startLeft=d,Fx(h,e.startLabelLeft)}if(e.startLabelRight){let u=await Us(e.startLabelRight,e.labelStyle),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=d.node().appendChild(u),p.node().appendChild(u);let g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),ia[e.id]||(ia[e.id]={}),ia[e.id].startRight=d,Fx(h,e.startLabelRight)}if(e.endLabelLeft){let u=await Us(e.endLabelLeft,e.labelStyle),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=p.node().appendChild(u);let g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(u),ia[e.id]||(ia[e.id]={}),ia[e.id].endLeft=d,Fx(h,e.endLabelLeft)}if(e.endLabelRight){let u=await Us(e.endLabelRight,e.labelStyle),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");h=p.node().appendChild(u);let g=u.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(u),ia[e.id]||(ia[e.id]={}),ia[e.id].endRight=d,Fx(h,e.endLabelRight)}return n},"insertEdgeLabel");l(Fx,"setTerminalWidth");xFe=l((t,e)=>{ee.debug("Moving label abc88 ",t.id,t.label,ZM[t.id],e);let r=e.updatedPath?e.updatedPath:e.originalPath,i=ve(),{subGraphTitleTotalMargin:n}=$l(i);if(t.label){let a=ZM[t.id],s=t.x,o=t.y;if(r){let h=$t.calcLabelPosition(r);ee.debug("Moving label "+t.label+" from (",s,",",o,") to (",h.x,",",h.y,") abc88"),e.updatedPath&&(s=h.x,o=h.y)}a.attr("transform",`translate(${s}, ${o+n/2})`)}if(t.startLabelLeft){let a=ia[t.id].startLeft,s=t.x,o=t.y;if(r){let h=$t.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",r);s=h.x,o=h.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.startLabelRight){let a=ia[t.id].startRight,s=t.x,o=t.y;if(r){let h=$t.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",r);s=h.x,o=h.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelLeft){let a=ia[t.id].endLeft,s=t.x,o=t.y;if(r){let h=$t.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",r);s=h.x,o=h.y}a.attr("transform",`translate(${s}, ${o})`)}if(t.endLabelRight){let a=ia[t.id].endRight,s=t.x,o=t.y;if(r){let h=$t.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",r);s=h.x,o=h.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),wFe=l((t,e)=>{let r=t.x,i=t.y,n=Math.abs(e.x-r),a=Math.abs(e.y-i),s=t.width/2,o=t.height/2;return n>=s||a>=o},"outsideNode"),kFe=l((t,e,r)=>{ee.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);let i=t.x,n=t.y,a=Math.abs(i-r.x),s=t.width/2,o=r.x<e.x?s-a:s+a,h=t.height/2,u=Math.abs(e.y-r.y),d=Math.abs(e.x-r.x);if(Math.abs(n-e.y)*s>Math.abs(i-e.x)*h){let p=r.y<e.y?e.y-h-n:n-h-e.y;o=d*p/u;let g={x:r.x<e.x?r.x+o:r.x-d+o,y:r.y<e.y?r.y+u-p:r.y-u+p};return o===0&&(g.x=e.x,g.y=e.y),d===0&&(g.x=e.x),u===0&&(g.y=e.y),ee.debug(`abc89 topp/bott calc, Q ${u}, q ${p}, R ${d}, r ${o}`,g),g}else{r.x<e.x?o=e.x-s-i:o=i-s-e.x;let p=u*o/d,g=r.x<e.x?r.x+d-o:r.x-d+o,f=r.y<e.y?r.y+p:r.y-p;return ee.debug(`sides calc abc89, Q ${u}, q ${p}, R ${d}, r ${o}`,{_x:g,_y:f}),o===0&&(g=e.x,f=e.y),d===0&&(g=e.x),u===0&&(f=e.y),{x:g,y:f}}},"intersection"),vfe=l((t,e)=>{ee.debug("abc88 cutPathAtIntersect",t,e);let r=[],i=t[0],n=!1;return t.forEach(a=>{if(!wFe(e,a)&&!n){let s=kFe(e,i,a),o=!1;r.forEach(h=>{o=o||h.x===s.x&&h.y===s.y}),r.some(h=>h.x===s.x&&h.y===s.y)||r.push(s),n=!0}else i=a,n||r.push(a)}),r},"cutPathAtIntersect"),TFe=l(function(t,e,r,i,n,a,s){let o=r.points;ee.debug("abc88 InsertEdge: edge=",r,"e=",e);let h=!1,u=a.node(e.v);var d=a.node(e.w);d!=null&&d.intersect&&(u!=null&&u.intersect)&&(o=o.slice(1,r.points.length-1),o.unshift(u.intersect(o[0])),o.push(d.intersect(o[o.length-1]))),r.toCluster&&(ee.debug("to cluster abc88",i[r.toCluster]),o=vfe(r.points,i[r.toCluster].node),h=!0),r.fromCluster&&(ee.debug("from cluster abc88",i[r.fromCluster]),o=vfe(o.reverse(),i[r.fromCluster].node).reverse(),h=!0);let p=o.filter(k=>!Number.isNaN(k.y)),g=Hs;r.curve&&(n==="graph"||n==="flowchart")&&(g=r.curve);let{x:f,y:m}=X3(r),y=Io().x(f).y(m).curve(g),b;switch(r.thickness){case"normal":b="edge-thickness-normal";break;case"thick":b="edge-thickness-thick";break;case"invisible":b="edge-thickness-thick";break;default:b=""}switch(r.pattern){case"solid":b+=" edge-pattern-solid";break;case"dotted":b+=" edge-pattern-dotted";break;case"dashed":b+=" edge-pattern-dashed";break}let v=t.append("path").attr("d",y(p)).attr("id",r.id).attr("class"," "+b+(r.classes?" "+r.classes:"")).attr("style",r.style),x="";(ve().flowchart.arrowMarkerAbsolute||ve().state.arrowMarkerAbsolute)&&(x=Tu(!0)),yFe(v,r,x,s,n);let w={};return h&&(w.updatedPath=o),w.originalPath=r.points,w},"insertEdge"),EFe=l(t=>{let e=new Set;for(let r of t)switch(r){case"x":e.add("right"),e.add("left");break;case"y":e.add("up"),e.add("down");break;default:e.add(r);break}return e},"expandAndDeduplicateDirections"),CFe=l((t,e,r)=>{let i=EFe(t),n=2,a=e.height+2*r.padding,s=a/n,o=e.width+2*s+r.padding,h=r.padding/2;return i.has("right")&&i.has("left")&&i.has("up")&&i.has("down")?[{x:0,y:0},{x:s,y:0},{x:o/2,y:2*h},{x:o-s,y:0},{x:o,y:0},{x:o,y:-a/3},{x:o+2*h,y:-a/2},{x:o,y:-2*a/3},{x:o,y:-a},{x:o-s,y:-a},{x:o/2,y:-a-2*h},{x:s,y:-a},{x:0,y:-a},{x:0,y:-2*a/3},{x:-2*h,y:-a/2},{x:0,y:-a/3}]:i.has("right")&&i.has("left")&&i.has("up")?[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}]:i.has("right")&&i.has("left")&&i.has("down")?[{x:0,y:0},{x:s,y:-a},{x:o-s,y:-a},{x:o,y:0}]:i.has("right")&&i.has("up")&&i.has("down")?[{x:0,y:0},{x:o,y:-s},{x:o,y:-a+s},{x:0,y:-a}]:i.has("left")&&i.has("up")&&i.has("down")?[{x:o,y:0},{x:0,y:-s},{x:0,y:-a+s},{x:o,y:-a}]:i.has("right")&&i.has("left")?[{x:s,y:0},{x:s,y:-h},{x:o-s,y:-h},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+h},{x:s,y:-a+h},{x:s,y:-a},{x:0,y:-a/2}]:i.has("up")&&i.has("down")?[{x:o/2,y:0},{x:0,y:-h},{x:s,y:-h},{x:s,y:-a+h},{x:0,y:-a+h},{x:o/2,y:-a},{x:o,y:-a+h},{x:o-s,y:-a+h},{x:o-s,y:-h},{x:o,y:-h}]:i.has("right")&&i.has("up")?[{x:0,y:0},{x:o,y:-s},{x:0,y:-a}]:i.has("right")&&i.has("down")?[{x:0,y:0},{x:o,y:0},{x:0,y:-a}]:i.has("left")&&i.has("up")?[{x:o,y:0},{x:0,y:-s},{x:o,y:-a}]:i.has("left")&&i.has("down")?[{x:o,y:0},{x:0,y:0},{x:o,y:-a}]:i.has("right")?[{x:s,y:-h},{x:s,y:-h},{x:o-s,y:-h},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+h},{x:s,y:-a+h},{x:s,y:-a+h}]:i.has("left")?[{x:s,y:0},{x:s,y:-h},{x:o-s,y:-h},{x:o-s,y:-a+h},{x:s,y:-a+h},{x:s,y:-a},{x:0,y:-a/2}]:i.has("up")?[{x:s,y:-h},{x:s,y:-a+h},{x:0,y:-a+h},{x:o/2,y:-a},{x:o,y:-a+h},{x:o-s,y:-a+h},{x:o-s,y:-h}]:i.has("down")?[{x:o/2,y:0},{x:0,y:-h},{x:s,y:-h},{x:s,y:-a+h},{x:o-s,y:-a+h},{x:o-s,y:-h},{x:o,y:-h}]:[{x:0,y:0}]},"getArrowPoints");l(Dfe,"intersectNode");SFe=Dfe;l(Mfe,"intersectEllipse");Ofe=Mfe;l($fe,"intersectCircle");_Fe=$fe;l(Bfe,"intersectLine");l(QM,"sameSign");AFe=Bfe,LFe=Pfe;l(Pfe,"intersectPolygon");NFe=l((t,e)=>{var r=t.x,i=t.y,n=e.x-r,a=e.y-i,s=t.width/2,o=t.height/2,h,u;return Math.abs(a)*s>Math.abs(n)*o?(a<0&&(o=-o),h=a===0?0:o*n/a,u=o):(n<0&&(s=-s),h=s,u=n===0?0:s*a/n),{x:r+h,y:i+u}},"intersectRect"),IFe=NFe,bi={node:SFe,circle:_Fe,ellipse:Ofe,polygon:LFe,rect:IFe},wn=l(async(t,e,r,i)=>{let n=ve(),a,s=e.useHtmlLabels||Mr(n.flowchart.htmlLabels);r?a=r:a="node default";let o=t.insert("g").attr("class",a).attr("id",e.domId||e.id),h=o.insert("g").attr("class","label").attr("style",e.labelStyle),u;e.labelText===void 0?u="":u=typeof e.labelText=="string"?e.labelText:e.labelText[0];let d=h.node(),p;e.labelType==="markdown"?p=Sn(h,tr(Ma(u),n),{useHtmlLabels:s,width:e.width||n.flowchart.wrappingWidth,classes:"markdown-node-label"},n):p=d.appendChild(await Us(tr(Ma(u),n),e.labelStyle,!1,i));let g=p.getBBox(),f=e.padding/2;if(Mr(n.flowchart.htmlLabels)){let m=p.children[0],y=Ue(p),b=m.getElementsByTagName("img");if(b){let v=u.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(x=>new Promise(w=>{function k(){if(x.style.display="flex",x.style.flexDirection="column",v){let T=n.fontSize?n.fontSize:window.getComputedStyle(document.body).fontSize,S=parseInt(T,10)*5+"px";x.style.minWidth=S,x.style.maxWidth=S}else x.style.width="100%";w(x)}l(k,"setupImage"),setTimeout(()=>{x.complete&&k()}),x.addEventListener("error",k),x.addEventListener("load",k)})))}g=m.getBoundingClientRect(),y.attr("width",g.width),y.attr("height",g.height)}return s?h.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"):h.attr("transform","translate(0, "+-g.height/2+")"),e.centerLabel&&h.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),h.insert("rect",":first-child"),{shapeSvg:o,bbox:g,halfPadding:f,label:h}},"labelHelper"),$i=l((t,e)=>{let r=e.node().getBBox();t.width=r.width,t.height=r.height},"updateNodeBounds");l(To,"insertPolygonShape");RFe=l(async(t,e)=>{e.useHtmlLabels||ve().flowchart.htmlLabels||(e.centerLabel=!0);let{shapeSvg:r,bbox:i,halfPadding:n}=await wn(t,e,"node "+e.classes,!0);ee.info("Classes = ",e.classes);let a=r.insert("rect",":first-child");return a.attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-n).attr("y",-i.height/2-n).attr("width",i.width+e.padding).attr("height",i.height+e.padding),$i(e,a),e.intersect=function(s){return bi.rect(e,s)},r},"note"),DFe=RFe,bfe=l(t=>t?" "+t:"","formatClass"),ds=l((t,e)=>`${e||"node default"}${bfe(t.classes)} ${bfe(t.class)}`,"getClassesFromNode"),xfe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e,void 0),!0),n=i.width+e.padding,a=i.height+e.padding,s=n+a,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];ee.info("Question main (Circle)");let h=To(r,s,s,o);return h.attr("style",e.style),$i(e,h),e.intersect=function(u){return ee.warn("Intersect called"),bi.polygon(e,o,u)},r},"question"),MFe=l((t,e)=>{let r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=28,n=[{x:0,y:i/2},{x:i/2,y:0},{x:0,y:-i/2},{x:-i/2,y:0}];return r.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(a){return bi.circle(e,14,a)},r},"choice"),OFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e,void 0),!0),n=4,a=i.height+e.padding,s=a/n,o=i.width+2*s+e.padding,h=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],u=To(r,o,a,h);return u.attr("style",e.style),$i(e,u),e.intersect=function(d){return bi.polygon(e,h,d)},r},"hexagon"),$Fe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,void 0,!0),n=2,a=i.height+2*e.padding,s=a/n,o=i.width+2*s+e.padding,h=CFe(e.directions,i,e),u=To(r,o,a,h);return u.attr("style",e.style),$i(e,u),e.intersect=function(d){return bi.polygon(e,h,d)},r},"block_arrow"),BFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e,void 0),!0),n=i.width+e.padding,a=i.height+e.padding,s=[{x:-a/2,y:0},{x:n,y:0},{x:n,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return To(r,n,a,s).attr("style",e.style),e.width=n+a,e.height=a,e.intersect=function(o){return bi.polygon(e,s,o)},r},"rect_left_inv_arrow"),PFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e),!0),n=i.width+e.padding,a=i.height+e.padding,s=[{x:-2*a/6,y:0},{x:n-a/6,y:0},{x:n+2*a/6,y:-a},{x:a/6,y:-a}],o=To(r,n,a,s);return o.attr("style",e.style),$i(e,o),e.intersect=function(h){return bi.polygon(e,s,h)},r},"lean_right"),FFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e,void 0),!0),n=i.width+e.padding,a=i.height+e.padding,s=[{x:2*a/6,y:0},{x:n+a/6,y:0},{x:n-2*a/6,y:-a},{x:-a/6,y:-a}],o=To(r,n,a,s);return o.attr("style",e.style),$i(e,o),e.intersect=function(h){return bi.polygon(e,s,h)},r},"lean_left"),zFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e,void 0),!0),n=i.width+e.padding,a=i.height+e.padding,s=[{x:-2*a/6,y:0},{x:n+2*a/6,y:0},{x:n-a/6,y:-a},{x:a/6,y:-a}],o=To(r,n,a,s);return o.attr("style",e.style),$i(e,o),e.intersect=function(h){return bi.polygon(e,s,h)},r},"trapezoid"),GFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e,void 0),!0),n=i.width+e.padding,a=i.height+e.padding,s=[{x:a/6,y:0},{x:n-a/6,y:0},{x:n+2*a/6,y:-a},{x:-2*a/6,y:-a}],o=To(r,n,a,s);return o.attr("style",e.style),$i(e,o),e.intersect=function(h){return bi.polygon(e,s,h)},r},"inv_trapezoid"),qFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e,void 0),!0),n=i.width+e.padding,a=i.height+e.padding,s=[{x:0,y:0},{x:n+a/2,y:0},{x:n,y:-a/2},{x:n+a/2,y:-a},{x:0,y:-a}],o=To(r,n,a,s);return o.attr("style",e.style),$i(e,o),e.intersect=function(h){return bi.polygon(e,s,h)},r},"rect_right_inv_arrow"),UFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e,void 0),!0),n=i.width+e.padding,a=n/2,s=a/(2.5+n/50),o=i.height+s+e.padding,h="M 0,"+s+" a "+a+","+s+" 0,0,0 "+n+" 0 a "+a+","+s+" 0,0,0 "+-n+" 0 l 0,"+o+" a "+a+","+s+" 0,0,0 "+n+" 0 l 0,"+-o,u=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",e.style).attr("d",h).attr("transform","translate("+-n/2+","+-(o/2+s)+")");return $i(e,u),e.intersect=function(d){let p=bi.rect(e,d),g=p.x-e.x;if(a!=0&&(Math.abs(g)<e.width/2||Math.abs(g)==e.width/2&&Math.abs(p.y-e.y)>e.height/2-s)){let f=s*s*(1-g*g/(a*a));f!=0&&(f=Math.sqrt(f)),f=s-f,d.y-e.y>0&&(f=-f),p.y+=f}return p},r},"cylinder"),jFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i,halfPadding:n}=await wn(t,e,"node "+e.classes+" "+e.class,!0),a=r.insert("rect",":first-child"),s=e.positioned?e.width:i.width+e.padding,o=e.positioned?e.height:i.height+e.padding,h=e.positioned?-s/2:-i.width/2-n,u=e.positioned?-o/2:-i.height/2-n;if(a.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",h).attr("y",u).attr("width",s).attr("height",o),e.props){let d=new Set(Object.keys(e.props));e.props.borders&&(a7(a,e.props.borders,s,o),d.delete("borders")),d.forEach(p=>{ee.warn(`Unknown node property ${p}`)})}return $i(e,a),e.intersect=function(d){return bi.rect(e,d)},r},"rect"),WFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i,halfPadding:n}=await wn(t,e,"node "+e.classes,!0),a=r.insert("rect",":first-child"),s=e.positioned?e.width:i.width+e.padding,o=e.positioned?e.height:i.height+e.padding,h=e.positioned?-s/2:-i.width/2-n,u=e.positioned?-o/2:-i.height/2-n;if(a.attr("class","basic cluster composite label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",h).attr("y",u).attr("width",s).attr("height",o),e.props){let d=new Set(Object.keys(e.props));e.props.borders&&(a7(a,e.props.borders,s,o),d.delete("borders")),d.forEach(p=>{ee.warn(`Unknown node property ${p}`)})}return $i(e,a),e.intersect=function(d){return bi.rect(e,d)},r},"composite"),VFe=l(async(t,e)=>{let{shapeSvg:r}=await wn(t,e,"label",!0);ee.trace("Classes = ",e.class);let i=r.insert("rect",":first-child"),n=0,a=0;if(i.attr("width",n).attr("height",a),r.attr("class","label edgeLabel"),e.props){let s=new Set(Object.keys(e.props));e.props.borders&&(a7(i,e.props.borders,n,a),s.delete("borders")),s.forEach(o=>{ee.warn(`Unknown node property ${o}`)})}return $i(e,i),e.intersect=function(s){return bi.rect(e,s)},r},"labelRect");l(a7,"applyNodePropertyBorders");YFe=l(async(t,e)=>{let r;e.classes?r="node "+e.classes:r="node default";let i=t.insert("g").attr("class",r).attr("id",e.domId||e.id),n=i.insert("rect",":first-child"),a=i.insert("line"),s=i.insert("g").attr("class","label"),o=e.labelText.flat?e.labelText.flat():e.labelText,h="";typeof o=="object"?h=o[0]:h=o,ee.info("Label text abc79",h,o,typeof o=="object");let u=s.node().appendChild(await Us(h,e.labelStyle,!0,!0)),d={width:0,height:0};if(Mr(ve().flowchart.htmlLabels)){let y=u.children[0],b=Ue(u);d=y.getBoundingClientRect(),b.attr("width",d.width),b.attr("height",d.height)}ee.info("Text 2",o);let p=o.slice(1,o.length),g=u.getBBox(),f=s.node().appendChild(await Us(p.join?p.join("<br/>"):p,e.labelStyle,!0,!0));if(Mr(ve().flowchart.htmlLabels)){let y=f.children[0],b=Ue(f);d=y.getBoundingClientRect(),b.attr("width",d.width),b.attr("height",d.height)}let m=e.padding/2;return Ue(f).attr("transform","translate( "+(d.width>g.width?0:(g.width-d.width)/2)+", "+(g.height+m+5)+")"),Ue(u).attr("transform","translate( "+(d.width<g.width?0:-(g.width-d.width)/2)+", 0)"),d=s.node().getBBox(),s.attr("transform","translate("+-d.width/2+", "+(-d.height/2-m+3)+")"),n.attr("class","outer title-state").attr("x",-d.width/2-m).attr("y",-d.height/2-m).attr("width",d.width+e.padding).attr("height",d.height+e.padding),a.attr("class","divider").attr("x1",-d.width/2-m).attr("x2",d.width/2+m).attr("y1",-d.height/2-m+g.height+m).attr("y2",-d.height/2-m+g.height+m),$i(e,n),e.intersect=function(y){return bi.rect(e,y)},i},"rectWithTitle"),HFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e,void 0),!0),n=i.height+e.padding,a=i.width+n/4+e.padding,s=r.insert("rect",":first-child").attr("style",e.style).attr("rx",n/2).attr("ry",n/2).attr("x",-a/2).attr("y",-n/2).attr("width",a).attr("height",n);return $i(e,s),e.intersect=function(o){return bi.rect(e,o)},r},"stadium"),XFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i,halfPadding:n}=await wn(t,e,ds(e,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+n).attr("width",i.width+e.padding).attr("height",i.height+e.padding),ee.info("Circle main"),$i(e,a),e.intersect=function(s){return ee.info("Circle intersect",e,i.width/2+n,s),bi.circle(e,i.width/2+n,s)},r},"circle"),KFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i,halfPadding:n}=await wn(t,e,ds(e,void 0),!0),a=5,s=r.insert("g",":first-child"),o=s.insert("circle"),h=s.insert("circle");return s.attr("class",e.class),o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+n+a).attr("width",i.width+e.padding+a*2).attr("height",i.height+e.padding+a*2),h.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+n).attr("width",i.width+e.padding).attr("height",i.height+e.padding),ee.info("DoubleCircle main"),$i(e,o),e.intersect=function(u){return ee.info("DoubleCircle intersect",e,i.width/2+n+a,u),bi.circle(e,i.width/2+n+a,u)},r},"doublecircle"),ZFe=l(async(t,e)=>{let{shapeSvg:r,bbox:i}=await wn(t,e,ds(e,void 0),!0),n=i.width+e.padding,a=i.height+e.padding,s=[{x:0,y:0},{x:n,y:0},{x:n,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],o=To(r,n,a,s);return o.attr("style",e.style),$i(e,o),e.intersect=function(h){return bi.polygon(e,s,h)},r},"subroutine"),QFe=l((t,e)=>{let r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),$i(e,i),e.intersect=function(n){return bi.circle(e,7,n)},r},"start"),wfe=l((t,e,r)=>{let i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),n=70,a=10;r==="LR"&&(n=10,a=70);let s=i.append("rect").attr("x",-1*n/2).attr("y",-1*a/2).attr("width",n).attr("height",a).attr("class","fork-join");return $i(e,s),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(o){return bi.rect(e,o)},i},"forkJoin"),JFe=l((t,e)=>{let r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=r.insert("circle",":first-child"),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),i.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),$i(e,n),e.intersect=function(a){return bi.circle(e,7,a)},r},"end"),eze=l(async(t,e)=>{var E;let r=e.padding/2,i=4,n=8,a;e.classes?a="node "+e.classes:a="node default";let s=t.insert("g").attr("class",a).attr("id",e.domId||e.id),o=s.insert("rect",":first-child"),h=s.insert("line"),u=s.insert("line"),d=0,p=i,g=s.insert("g").attr("class","label"),f=0,m=(E=e.classData.annotations)==null?void 0:E[0],y=e.classData.annotations[0]?"\xAB"+e.classData.annotations[0]+"\xBB":"",b=g.node().appendChild(await Us(y,e.labelStyle,!0,!0)),v=b.getBBox();if(Mr(ve().flowchart.htmlLabels)){let L=b.children[0],I=Ue(b);v=L.getBoundingClientRect(),I.attr("width",v.width),I.attr("height",v.height)}e.classData.annotations[0]&&(p+=v.height+i,d+=v.width);let x=e.classData.label;e.classData.type!==void 0&&e.classData.type!==""&&(ve().flowchart.htmlLabels?x+="&lt;"+e.classData.type+"&gt;":x+="<"+e.classData.type+">");let w=g.node().appendChild(await Us(x,e.labelStyle,!0,!0));Ue(w).attr("class","classTitle");let k=w.getBBox();if(Mr(ve().flowchart.htmlLabels)){let L=w.children[0],I=Ue(w);k=L.getBoundingClientRect(),I.attr("width",k.width),I.attr("height",k.height)}p+=k.height+i,k.width>d&&(d=k.width);let T=[];e.classData.members.forEach(async L=>{let I=L.getDisplayDetails(),M=I.displayText;ve().flowchart.htmlLabels&&(M=M.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let N=g.node().appendChild(await Us(M,I.cssStyle?I.cssStyle:e.labelStyle,!0,!0)),$=N.getBBox();if(Mr(ve().flowchart.htmlLabels)){let _=N.children[0],D=Ue(N);$=_.getBoundingClientRect(),D.attr("width",$.width),D.attr("height",$.height)}$.width>d&&(d=$.width),p+=$.height+i,T.push(N)}),p+=n;let S=[];if(e.classData.methods.forEach(async L=>{let I=L.getDisplayDetails(),M=I.displayText;ve().flowchart.htmlLabels&&(M=M.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let N=g.node().appendChild(await Us(M,I.cssStyle?I.cssStyle:e.labelStyle,!0,!0)),$=N.getBBox();if(Mr(ve().flowchart.htmlLabels)){let _=N.children[0],D=Ue(N);$=_.getBoundingClientRect(),D.attr("width",$.width),D.attr("height",$.height)}$.width>d&&(d=$.width),p+=$.height+i,S.push(N)}),p+=n,m){let L=(d-v.width)/2;Ue(b).attr("transform","translate( "+(-1*d/2+L)+", "+-1*p/2+")"),f=v.height+i}let C=(d-k.width)/2;return Ue(w).attr("transform","translate( "+(-1*d/2+C)+", "+(-1*p/2+f)+")"),f+=k.height+i,h.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-p/2-r+n+f).attr("y2",-p/2-r+n+f),f+=n,T.forEach(L=>{Ue(L).attr("transform","translate( "+-d/2+", "+(-1*p/2+f+n/2)+")");let I=L==null?void 0:L.getBBox();f+=((I==null?void 0:I.height)??0)+i}),f+=n,u.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-p/2-r+n+f).attr("y2",-p/2-r+n+f),f+=n,S.forEach(L=>{Ue(L).attr("transform","translate( "+-d/2+", "+(-1*p/2+f)+")");let I=L==null?void 0:L.getBBox();f+=((I==null?void 0:I.height)??0)+i}),o.attr("style",e.style).attr("class","outer title-state").attr("x",-d/2-r).attr("y",-(p/2)-r).attr("width",d+e.padding).attr("height",p+e.padding),$i(e,o),e.intersect=function(L){return bi.rect(e,L)},s},"class_box"),kfe={rhombus:xfe,composite:WFe,question:xfe,rect:jFe,labelRect:VFe,rectWithTitle:YFe,choice:MFe,circle:XFe,doublecircle:KFe,stadium:HFe,hexagon:OFe,block_arrow:$Fe,rect_left_inv_arrow:BFe,lean_right:PFe,lean_left:FFe,trapezoid:zFe,inv_trapezoid:GFe,rect_right_inv_arrow:qFe,cylinder:UFe,start:QFe,end:JFe,note:DFe,subroutine:ZFe,fork:wfe,join:wfe,class_box:eze},r7={},Ffe=l(async(t,e,r)=>{let i,n;if(e.link){let a;ve().securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),i=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a),n=await kfe[e.shape](i,e,r)}else n=await kfe[e.shape](t,e,r),i=n;return e.tooltip&&n.attr("title",e.tooltip),e.class&&n.attr("class","node default "+e.class),r7[e.id]=i,e.haveCallback&&r7[e.id].attr("class",r7[e.id].attr("class")+" clickable"),i},"insertNode"),tze=l(t=>{let e=r7[t.id];ee.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");let r=8,i=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+i-t.width/2)+", "+(t.y-t.height/2-r)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),i},"positionNode");l(iO,"getNodeFromBlock");l(zfe,"calculateBlockSize");l(Gfe,"insertBlockPositioned");l(s7,"performOperations");l(qfe,"calculateBlockSizes");l(Ufe,"insertBlocks");l(jfe,"insertEdges");rze=l(function(t,e){return e.db.getClasses()},"getClasses"),ize=l(async function(t,e,r,i){let{securityLevel:n,block:a}=ir(),s=i.db,o;n==="sandbox"&&(o=Ue("#i"+e));let h=n==="sandbox"?Ue(o.nodes()[0].contentDocument.body):Ue("body"),u=n==="sandbox"?h.select(`[id="${e}"]`):Ue(`[id="${e}"]`);gFe(u,["point","circle","cross"],i.type,e);let d=s.getBlocks(),p=s.getBlocksFlat(),g=s.getEdges(),f=u.insert("g").attr("class","block");await qfe(f,d,s);let m=Ife(s);if(await Ufe(f,d,s),await jfe(f,g,p,s,e),m){let y=m,b=Math.max(1,Math.round(.125*(y.width/y.height))),v=y.height+b+10,x=y.width+10,{useMaxWidth:w}=a;Yr(u,v,x,!!w),ee.debug("Here Bounds",m,y),u.attr("viewBox",`${y.x-5} ${y.y-5} ${y.width+10} ${y.height+10}`)}},"draw"),nze={draw:ize,getClasses:rze},aze={parser:OPe,db:eFe,renderer:nze,styles:rFe}});var cme={};Tr(cme,{diagram:()=>Sze});function tme(t,e,r){t.forEach(i=>{e.add({group:"nodes",data:{type:"service",id:i.id,icon:i.icon,label:i.title,parent:i.in,width:r.getConfigField("iconSize"),height:r.getConfigField("iconSize")},classes:"node-service"})})}function rme(t,e,r){t.forEach(i=>{e.add({group:"nodes",data:{type:"junction",id:i.id,parent:i.in,width:r.getConfigField("iconSize"),height:r.getConfigField("iconSize")},classes:"node-junction"})})}function ime(t,e){e.nodes().map(r=>{let i=Ey(r);i.type!=="group"&&(i.x=r.position().x,i.y=r.position().y,t.getElementById(i.id).attr("transform","translate("+(i.x||0)+","+(i.y||0)+")"))})}function nme(t,e){t.forEach(r=>{e.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}function ame(t,e){t.forEach(r=>{let{lhsId:i,rhsId:n,lhsInto:a,lhsGroup:s,rhsInto:o,lhsDir:h,rhsDir:u,rhsGroup:d,title:p}=r,g=aO(r.lhsDir,r.rhsDir)?"segments":"straight",f={id:`${i}-${n}`,label:p,source:i,sourceDir:h,sourceArrow:a,sourceGroup:s,sourceEndpoint:h==="L"?"0 50%":h==="R"?"100% 50%":h==="T"?"50% 0":"50% 100%",target:n,targetDir:u,targetArrow:o,targetGroup:d,targetEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%"};e.add({group:"edges",data:f,classes:g})})}function sme(t,e,r){let i=l((o,h)=>Object.entries(o).reduce((u,[d,p])=>{var m;let g=0,f=Object.entries(p);if(f.length===1)return u[d]=f[0][1],u;for(let y=0;y<f.length-1;y++)for(let b=y+1;b<f.length;b++){let[v,x]=f[y],[w,k]=f[b];if(((m=r[v])==null?void 0:m[w])===h)u[d]??(u[d]=[]),u[d]=[...u[d],...x,...k];else if(v==="default"||w==="default")u[d]??(u[d]=[]),u[d]=[...u[d],...x,...k];else{let T=`${d}-${g++}`;u[T]=x;let S=`${d}-${g++}`;u[S]=k}}return u},{}),"flattenAlignments"),n=e.map(o=>{let h={},u={};return Object.entries(o).forEach(([d,[p,g]])=>{var m,y,b;let f=((m=t.getNode(d))==null?void 0:m.in)??"default";h[g]??(h[g]={}),(y=h[g])[f]??(y[f]=[]),h[g][f].push(d),u[p]??(u[p]={}),(b=u[p])[f]??(b[f]=[]),u[p][f].push(d)}),{horiz:Object.values(i(h,"horizontal")).filter(d=>d.length>1),vert:Object.values(i(u,"vertical")).filter(d=>d.length>1)}}),[a,s]=n.reduce(([o,h],{horiz:u,vert:d})=>[[...o,...u],[...h,...d]],[[],[]]);return{horizontal:a,vertical:s}}function ome(t,e){let r=[],i=l(a=>`${a[0]},${a[1]}`,"posToStr"),n=l(a=>a.split(",").map(s=>parseInt(s)),"strToPos");return t.forEach(a=>{let s=Object.fromEntries(Object.entries(a).map(([d,p])=>[i(p),d])),o=[i([0,0])],h={},u={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;o.length>0;){let d=o.shift();if(d){h[d]=1;let p=s[d];if(p){let g=n(d);Object.entries(u).forEach(([f,m])=>{let y=i([g[0]+m[0],g[1]+m[1]]),b=s[y];b&&!h[y]&&(o.push(y),r.push({[Xfe[f]]:b,[Xfe[oze(f)]]:p,gap:1.5*e.getConfigField("iconSize")}))})}}}}),r}function lme(t,e,r,i,n,{spatialMaps:a,groupAlignments:s}){return new Promise(o=>{let h=Ue("body").append("div").attr("id","cy").attr("style","display:none"),u=Rs({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${n.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${n.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});h.remove(),nme(r,u),tme(t,u,n),rme(e,u,n),ame(i,u);let d=sme(n,a,s),p=ome(a,n),g=u.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(f){let[m,y]=f.connectedNodes(),{parent:b}=Ey(m),{parent:v}=Ey(y);return b===v?1.5*n.getConfigField("iconSize"):.5*n.getConfigField("iconSize")},edgeElasticity(f){let[m,y]=f.connectedNodes(),{parent:b}=Ey(m),{parent:v}=Ey(y);return b===v?.45:.001},alignmentConstraint:d,relativePlacementConstraint:p});g.one("layoutstop",()=>{var m;function f(y,b,v,x){let w,k,{x:T,y:S}=y,{x:C,y:E}=b;k=(x-S+(T-v)*(S-E)/(T-C))/Math.sqrt(1+Math.pow((S-E)/(T-C),2)),w=Math.sqrt(Math.pow(x-S,2)+Math.pow(v-T,2)-Math.pow(k,2));let L=Math.sqrt(Math.pow(C-T,2)+Math.pow(E-S,2));w=w/L;let I=(C-T)*(x-S)-(E-S)*(v-T);switch(!0){case I>=0:I=1;break;case I<0:I=-1;break}let M=(C-T)*(v-T)+(E-S)*(x-S);switch(!0){case M>=0:M=1;break;case M<0:M=-1;break}return k=Math.abs(k)*I,w=w*M,{distances:k,weights:w}}l(f,"getSegmentWeights"),u.startBatch();for(let y of Object.values(u.edges()))if((m=y.data)!=null&&m.call(y)){let{x:b,y:v}=y.source().position(),{x,y:w}=y.target().position();if(b!==x&&v!==w){let k=y.sourceEndpoint(),T=y.targetEndpoint(),{sourceDir:S}=Qfe(y),[C,E]=eu(S)?[k.x,T.y]:[T.x,k.y],{weights:L,distances:I}=f(k,T,C,E);y.style("segment-distances",I),y.style("segment-weights",L)}}u.endBatch(),g.run()}),g.run(),u.ready(f=>{ee.info("Ready",f),o(u)})})}var Yfe,Hfe,sze,Xfe,Kfe,o7,oze,Zfe,Sa,eu,aO,lze,cze,nO,hze,uze,dze,pze,gze,Qfe,Ey,fze,Cy,Jfe,mze,eme,yze,vze,bze,Ty,Gx,xze,wze,kze,Tze,Eze,Cze,Sze,hme=wt(()=>{fd();Wh();hc();uc();dc();pc();gc();fc();qo();sN();_n();Hr();ri();hr();lr();cc();_i();zi();Ii();br();kt();Yfe=Li((t,e)=>{"use strict";l((function(r,i){typeof t=="object"&&typeof e=="object"?e.exports=i():typeof define=="function"&&define.amd?define([],i):typeof t=="object"?t.layoutBase=i():r.layoutBase=i()}),"webpackUniversalModuleDefinition")(t,function(){return(function(r){var i={};function n(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return l(n,"__webpack_require__"),n.m=r,n.c=i,n.i=function(a){return a},n.d=function(a,s,o){n.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},n.n=function(a){var s=a&&a.__esModule?l(function(){return a.default},"getDefault"):l(function(){return a},"getModuleExports");return n.d(s,"a",s),s},n.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},n.p="",n(n.s=28)})([(function(r,i,n){"use strict";function a(){}l(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(8),o=n(9);function h(d,p,g){a.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=d,this.target=p}l(h,"LEdge"),h.prototype=Object.create(a.prototype);for(var u in a)h[u]=a[u];h.prototype.getSource=function(){return this.source},h.prototype.getTarget=function(){return this.target},h.prototype.isInterGraph=function(){return this.isInterGraph},h.prototype.getLength=function(){return this.length},h.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},h.prototype.getBendpoints=function(){return this.bendpoints},h.prototype.getLca=function(){return this.lca},h.prototype.getSourceInLca=function(){return this.sourceInLca},h.prototype.getTargetInLca=function(){return this.targetInLca},h.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},h.prototype.getOtherEndInGraph=function(d,p){for(var g=this.getOtherEnd(d),f=p.getGraphManager().getRoot();;){if(g.getOwner()==p)return g;if(g.getOwner()==f)break;g=g.getOwner().getParent()}return null},h.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},h.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=h}),(function(r,i,n){"use strict";function a(s){this.vGraphObject=s}l(a,"LGraphObject"),r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(13),h=n(0),u=n(16),d=n(5);function p(f,m,y,b){y==null&&b==null&&(b=m),a.call(this,b),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=f,y!=null&&m!=null?this.rect=new o(m.x,m.y,y.width,y.height):this.rect=new o}l(p,"LNode"),p.prototype=Object.create(a.prototype);for(var g in a)p[g]=a[g];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(f){this.rect.width=f},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(f){this.rect.height=f},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(f,m){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(f,m){this.rect.x=f-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(f,m){this.rect.x=f,this.rect.y=m},p.prototype.moveBy=function(f,m){this.rect.x+=f,this.rect.y+=m},p.prototype.getEdgeListToNode=function(f){var m=[],y,b=this;return b.edges.forEach(function(v){if(v.target==f){if(v.source!=b)throw"Incorrect edge source!";m.push(v)}}),m},p.prototype.getEdgesBetween=function(f){var m=[],y,b=this;return b.edges.forEach(function(v){if(!(v.source==b||v.target==b))throw"Incorrect edge source and/or target";(v.target==f||v.source==f)&&m.push(v)}),m},p.prototype.getNeighborsList=function(){var f=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)f.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";f.add(y.source)}}),f},p.prototype.withChildren=function(){var f=new Set,m,y;if(f.add(this),this.child!=null)for(var b=this.child.getNodes(),v=0;v<b.length;v++)m=b[v],y=m.withChildren(),y.forEach(function(x){f.add(x)});return f},p.prototype.getNoOfChildren=function(){var f=0,m;if(this.child==null)f=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],f+=m.getNoOfChildren();return f==0&&(f=1),f},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var f,m,y=-h.INITIAL_WORLD_BOUNDARY,b=h.INITIAL_WORLD_BOUNDARY;f=h.WORLD_CENTER_X+u.nextDouble()*(b-y)+y;var v=-h.INITIAL_WORLD_BOUNDARY,x=h.INITIAL_WORLD_BOUNDARY;m=h.WORLD_CENTER_Y+u.nextDouble()*(x-v)+v,this.rect.x=f,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),h.NODE_DIMENSIONS_INCLUDE_LABELS){var m=f.getRight()-f.getLeft(),y=f.getBottom()-f.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(m+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>m?(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(m+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(y+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>y?(this.rect.y-=(this.labelHeight-y)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(y+this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(f){var m=this.rect.x;m>h.WORLD_BOUNDARY?m=h.WORLD_BOUNDARY:m<-h.WORLD_BOUNDARY&&(m=-h.WORLD_BOUNDARY);var y=this.rect.y;y>h.WORLD_BOUNDARY?y=h.WORLD_BOUNDARY:y<-h.WORLD_BOUNDARY&&(y=-h.WORLD_BOUNDARY);var b=new d(m,y),v=f.inverseTransformPoint(b);this.setLocation(v.x,v.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p}),(function(r,i,n){"use strict";var a=n(0);function s(){}l(s,"FDLayoutConstants");for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s}),(function(r,i,n){"use strict";function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}l(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(0),h=n(7),u=n(3),d=n(1),p=n(13),g=n(12),f=n(11);function m(b,v,x){a.call(this,x),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,v!=null&&v instanceof h?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}l(m,"LGraph"),m.prototype=Object.create(a.prototype);for(var y in a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,v,x){if(v==null&&x==null){var w=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var k=b;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(x)>-1))throw"Source or target not in graph!";if(!(v.owner==x.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=x.owner?null:(k.source=v,k.target=x,k.isInterGraph=!1,this.getEdges().push(k),v.edges.push(k),x!=v&&x.edges.push(k),k)}},m.prototype.remove=function(b){var v=b;if(b instanceof u){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var x=v.edges.slice(),w,k=x.length,T=0;T<k;T++)w=x[T],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var S=this.nodes.indexOf(v);if(S==-1)throw"Node not in owner node list!";this.nodes.splice(S,1)}else if(b instanceof d){var w=b;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var C=w.source.edges.indexOf(w),E=w.target.edges.indexOf(w);if(!(C>-1&&E>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(C,1),w.target!=w.source&&w.target.edges.splice(E,1);var S=w.source.owner.getEdges().indexOf(w);if(S==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(S,1)}},m.prototype.updateLeftTop=function(){for(var b=s.MAX_VALUE,v=s.MAX_VALUE,x,w,k,T=this.getNodes(),S=T.length,C=0;C<S;C++){var E=T[C];x=E.getTop(),w=E.getLeft(),b>x&&(b=x),v>w&&(v=w)}return b==s.MAX_VALUE?null:(T[0].getParent().paddingLeft!=null?k=T[0].getParent().paddingLeft:k=this.margin,this.left=v-k,this.top=b-k,new g(this.left,this.top))},m.prototype.updateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,T,S,C,E,L,I=this.nodes,M=I.length,N=0;N<M;N++){var $=I[N];b&&$.child!=null&&$.updateBounds(),T=$.getLeft(),S=$.getRight(),C=$.getTop(),E=$.getBottom(),v>T&&(v=T),x<S&&(x=S),w>C&&(w=C),k<E&&(k=E)}var _=new p(v,w,x-v,k-w);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),I[0].getParent().paddingLeft!=null?L=I[0].getParent().paddingLeft:L=this.margin,this.left=_.x-L,this.right=_.x+_.width+L,this.top=_.y-L,this.bottom=_.y+_.height+L},m.calculateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,k=-s.MAX_VALUE,T,S,C,E,L=b.length,I=0;I<L;I++){var M=b[I];T=M.getLeft(),S=M.getRight(),C=M.getTop(),E=M.getBottom(),v>T&&(v=T),x<S&&(x=S),w>C&&(w=C),k<E&&(k=E)}var N=new p(v,w,x-v,k-w);return N},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,v=this.nodes,x=v.length,w=0;w<x;w++){var k=v[w];b+=k.calcEstimatedSize()}return b==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new f,x=new Set,w=this.nodes[0],k,T,S=w.withChildren();for(S.forEach(function(N){v.push(N),x.add(N)});v.length!==0;){w=v.shift(),k=w.getEdges();for(var C=k.length,E=0;E<C;E++){var L=k[E];if(T=L.getOtherEndInGraph(w,this),T!=null&&!x.has(T)){var I=T.withChildren();I.forEach(function(N){v.push(N),x.add(N)})}}}if(this.isConnected=!1,x.size>=this.nodes.length){var M=0;x.forEach(function(N){N.owner==b&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},r.exports=m}),(function(r,i,n){"use strict";var a,s=n(1);function o(h){a=n(6),this.layout=h,this.graphs=[],this.edges=[]}l(o,"LGraphManager"),o.prototype.addRoot=function(){var h=this.layout.newGraph(),u=this.layout.newNode(null),d=this.add(h,u);return this.setRootGraph(d),this.rootGraph},o.prototype.add=function(h,u,d,p,g){if(d==null&&p==null&&g==null){if(h==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(h)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(h),h.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return h.parent=u,u.child=h,h}else{g=d,p=u,d=h;var f=p.getOwner(),m=g.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==m)return d.isInterGraph=!1,f.add(d,p,g);if(d.isInterGraph=!0,d.source=p,d.target=g,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},o.prototype.remove=function(h){if(h instanceof a){var u=h;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(u.getEdges());for(var p,g=d.length,f=0;f<g;f++)p=d[f],u.remove(p);var m=[];m=m.concat(u.getNodes());var y;g=m.length;for(var f=0;f<g;f++)y=m[f],u.remove(y);u==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(u);this.graphs.splice(b,1),u.parent=null}else if(h instanceof s){if(p=h,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var b=p.source.edges.indexOf(p);if(p.source.edges.splice(b,1),b=p.target.edges.indexOf(p),p.target.edges.splice(b,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var b=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(b,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var h=[],u=this.getGraphs(),d=u.length,p=0;p<d;p++)h=h.concat(u[p].getNodes());this.allNodes=h}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var h=[],u=this.getGraphs(),d=u.length,p=0;p<u.length;p++)h=h.concat(u[p].getEdges());h=h.concat(this.edges),this.allEdges=h}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(h){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=h},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(h){if(h.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=h,h.parent==null&&(h.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(h,u){if(!(h!=null&&u!=null))throw"assert failed";if(h==u)return!0;var d=h.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==u)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=u.getOwner();do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var h,u,d,p,g,f=this.getAllEdges(),m=f.length,y=0;y<m;y++){if(h=f[y],u=h.source,d=h.target,h.lca=null,h.sourceInLca=u,h.targetInLca=d,u==d){h.lca=u.getOwner();continue}for(p=u.getOwner();h.lca==null;){for(h.targetInLca=d,g=d.getOwner();h.lca==null;){if(g==p){h.lca=g;break}if(g==this.rootGraph)break;if(h.lca!=null)throw"assert failed";h.targetInLca=g.getParent(),g=h.targetInLca.getOwner()}if(p==this.rootGraph)break;h.lca==null&&(h.sourceInLca=p.getParent(),p=h.sourceInLca.getOwner())}if(h.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(h,u){if(h==u)return h.getOwner();var d=h.getOwner();do{if(d==null)break;var p=u.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},o.prototype.calcInclusionTreeDepths=function(h,u){h==null&&u==null&&(h=this.rootGraph,u=1);for(var d,p=h.getNodes(),g=p.length,f=0;f<g;f++)d=p[f],d.inclusionTreeDepth=u,d.child!=null&&this.calcInclusionTreeDepths(d.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var h,u=[],d=this.edges.length,p=0;p<d;p++)h=this.edges[p],this.isOneAncestorOfOther(h.source,h.target)&&u.push(h);for(var p=0;p<u.length;p++)this.remove(u[p]);return!1},r.exports=o}),(function(r,i,n){"use strict";var a=n(12);function s(){}l(s,"IGeometry"),s.calcSeparationAmount=function(o,h,u,d){if(!o.intersects(h))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(o,h,p),u[0]=Math.min(o.getRight(),h.getRight())-Math.max(o.x,h.x),u[1]=Math.min(o.getBottom(),h.getBottom())-Math.max(o.y,h.y),o.getX()<=h.getX()&&o.getRight()>=h.getRight()?u[0]+=Math.min(h.getX()-o.getX(),o.getRight()-h.getRight()):h.getX()<=o.getX()&&h.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-h.getX(),h.getRight()-o.getRight())),o.getY()<=h.getY()&&o.getBottom()>=h.getBottom()?u[1]+=Math.min(h.getY()-o.getY(),o.getBottom()-h.getBottom()):h.getY()<=o.getY()&&h.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-h.getY(),h.getBottom()-o.getBottom()));var g=Math.abs((h.getCenterY()-o.getCenterY())/(h.getCenterX()-o.getCenterX()));h.getCenterY()===o.getCenterY()&&h.getCenterX()===o.getCenterX()&&(g=1);var f=g*u[0],m=u[1]/g;u[0]<m?m=u[0]:f=u[1],u[0]=-1*p[0]*(m/2+d),u[1]=-1*p[1]*(f/2+d)},s.decideDirectionsForOverlappingNodes=function(o,h,u){o.getCenterX()<h.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<h.getCenterY()?u[1]=-1:u[1]=1},s.getIntersection2=function(o,h,u){var d=o.getCenterX(),p=o.getCenterY(),g=h.getCenterX(),f=h.getCenterY();if(o.intersects(h))return u[0]=d,u[1]=p,u[2]=g,u[3]=f,!0;var m=o.getX(),y=o.getY(),b=o.getRight(),v=o.getX(),x=o.getBottom(),w=o.getRight(),k=o.getWidthHalf(),T=o.getHeightHalf(),S=h.getX(),C=h.getY(),E=h.getRight(),L=h.getX(),I=h.getBottom(),M=h.getRight(),N=h.getWidthHalf(),$=h.getHeightHalf(),_=!1,D=!1;if(d===g){if(p>f)return u[0]=d,u[1]=y,u[2]=g,u[3]=I,!1;if(p<f)return u[0]=d,u[1]=x,u[2]=g,u[3]=C,!1}else if(p===f){if(d>g)return u[0]=m,u[1]=p,u[2]=E,u[3]=f,!1;if(d<g)return u[0]=b,u[1]=p,u[2]=S,u[3]=f,!1}else{var R=o.height/o.width,O=h.height/h.width,A=(f-p)/(g-d),B=void 0,P=void 0,z=void 0,q=void 0,K=void 0,W=void 0;if(-R===A?d>g?(u[0]=v,u[1]=x,_=!0):(u[0]=b,u[1]=y,_=!0):R===A&&(d>g?(u[0]=m,u[1]=y,_=!0):(u[0]=w,u[1]=x,_=!0)),-O===A?g>d?(u[2]=L,u[3]=I,D=!0):(u[2]=E,u[3]=C,D=!0):O===A&&(g>d?(u[2]=S,u[3]=C,D=!0):(u[2]=M,u[3]=I,D=!0)),_&&D)return!1;if(d>g?p>f?(B=this.getCardinalDirection(R,A,4),P=this.getCardinalDirection(O,A,2)):(B=this.getCardinalDirection(-R,A,3),P=this.getCardinalDirection(-O,A,1)):p>f?(B=this.getCardinalDirection(-R,A,1),P=this.getCardinalDirection(-O,A,3)):(B=this.getCardinalDirection(R,A,2),P=this.getCardinalDirection(O,A,4)),!_)switch(B){case 1:q=y,z=d+-T/A,u[0]=z,u[1]=q;break;case 2:z=w,q=p+k*A,u[0]=z,u[1]=q;break;case 3:q=x,z=d+T/A,u[0]=z,u[1]=q;break;case 4:z=v,q=p+-k*A,u[0]=z,u[1]=q;break}if(!D)switch(P){case 1:W=C,K=g+-$/A,u[2]=K,u[3]=W;break;case 2:K=M,W=f+N*A,u[2]=K,u[3]=W;break;case 3:W=I,K=g+$/A,u[2]=K,u[3]=W;break;case 4:K=L,W=f+-N*A,u[2]=K,u[3]=W;break}}return!1},s.getCardinalDirection=function(o,h,u){return o>h?u:1+u%4},s.getIntersection=function(o,h,u,d){if(d==null)return this.getIntersection2(o,h,u);var p=o.x,g=o.y,f=h.x,m=h.y,y=u.x,b=u.y,v=d.x,x=d.y,w=void 0,k=void 0,T=void 0,S=void 0,C=void 0,E=void 0,L=void 0,I=void 0,M=void 0;return T=m-g,C=p-f,L=f*g-p*m,S=x-b,E=y-v,I=v*b-y*x,M=T*E-S*C,M===0?null:(w=(C*I-E*L)/M,k=(S*L-T*I)/M,new a(w,k))},s.angleOfVector=function(o,h,u,d){var p=void 0;return o!==u?(p=Math.atan((d-h)/(u-o)),u<o?p+=Math.PI:d<h&&(p+=this.TWO_PI)):d<h?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},s.doIntersect=function(o,h,u,d){var p=o.x,g=o.y,f=h.x,m=h.y,y=u.x,b=u.y,v=d.x,x=d.y,w=(f-p)*(x-b)-(v-y)*(m-g);if(w===0)return!1;var k=((x-b)*(v-p)+(y-v)*(x-g))/w,T=((g-m)*(v-p)+(f-p)*(x-g))/w;return 0<k&&k<1&&0<T&&T<1},s.findCircleLineIntersections=function(o,h,u,d,p,g,f){var m=(u-o)*(u-o)+(d-h)*(d-h),y=2*((o-p)*(u-o)+(h-g)*(d-h)),b=(o-p)*(o-p)+(h-g)*(h-g)-f*f,v=y*y-4*m*b;if(v>=0){var x=(-y+Math.sqrt(y*y-4*m*b))/(2*m),w=(-y-Math.sqrt(y*y-4*m*b))/(2*m),k=null;return x>=0&&x<=1?[x]:w>=0&&w<=1?[w]:k}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s}),(function(r,i,n){"use strict";function a(){}l(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a}),(function(r,i,n){"use strict";function a(){}l(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a}),(function(r,i,n){"use strict";var a=(function(){function p(g,f){for(var m=0;m<f.length;m++){var y=f[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return l(p,"defineProperties"),function(g,f,m){return f&&p(g.prototype,f),m&&p(g,m),g}})();function s(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=l(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),h=l(function(p,g,f,m){return p!==null?p.next=g:m.head=g,f!==null?f.prev=g:m.tail=g,g.prev=p,g.next=f,m.length++,g},"add"),u=l(function(p,g){var f=p.prev,m=p.next;return f!==null?f.next=m:g.head=m,m!==null?m.prev=f:g.tail=f,p.prev=p.next=null,g.length--,p},"_remove"),d=(function(){function p(g){var f=this;s(this,p),this.length=0,this.head=null,this.tail=null,g==null||g.forEach(function(m){return f.push(m)})}return l(p,"LinkedList"),a(p,[{key:"size",value:l(function(){return this.length},"size")},{key:"insertBefore",value:l(function(g,f){return h(f.prev,o(g),f,this)},"insertBefore")},{key:"insertAfter",value:l(function(g,f){return h(f,o(g),f.next,this)},"insertAfter")},{key:"insertNodeBefore",value:l(function(g,f){return h(f.prev,g,f,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:l(function(g,f){return h(f,g,f.next,this)},"insertNodeAfter")},{key:"push",value:l(function(g){return h(this.tail,o(g),null,this)},"push")},{key:"unshift",value:l(function(g){return h(null,o(g),this.head,this)},"unshift")},{key:"remove",value:l(function(g){return u(g,this)},"remove")},{key:"pop",value:l(function(){return u(this.tail,this).value},"pop")},{key:"popNode",value:l(function(){return u(this.tail,this)},"popNode")},{key:"shift",value:l(function(){return u(this.head,this).value},"shift")},{key:"shiftNode",value:l(function(){return u(this.head,this)},"shiftNode")},{key:"get_object_at",value:l(function(g){if(g<=this.length()){for(var f=1,m=this.head;f<g;)m=m.next,f++;return m.value}},"get_object_at")},{key:"set_object_at",value:l(function(g,f){if(g<=this.length()){for(var m=1,y=this.head;m<g;)y=y.next,m++;y.value=f}},"set_object_at")}]),p})();r.exports=d}),(function(r,i,n){"use strict";function a(s,o,h){this.x=null,this.y=null,s==null&&o==null&&h==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&h==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&h==null&&(h=s,this.x=h.x,this.y=h.y)}l(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,h){s.constructor.name=="Point"&&o==null&&h==null?(h=s,this.setLocation(h.x,h.y)):typeof s=="number"&&typeof o=="number"&&h==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a}),(function(r,i,n){"use strict";function a(s,o,h,u){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&h!=null&&u!=null&&(this.x=s,this.y=o,this.width=h,this.height=u)}l(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a}),(function(r,i,n){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}l(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var h=typeof o>"u"?"undefined":a(o);return o==null||h!="object"&&h!="function"},r.exports=s}),(function(r,i,n){"use strict";function a(y){if(Array.isArray(y)){for(var b=0,v=Array(y.length);b<y.length;b++)v[b]=y[b];return v}else return Array.from(y)}l(a,"_toConsumableArray");var s=n(0),o=n(7),h=n(3),u=n(1),d=n(6),p=n(5),g=n(17),f=n(29);function m(y){f.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}l(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(f.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new o(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new d(null,this.graphManager,y)},m.prototype.newNode=function(y){return new h(this.graphManager,y)},m.prototype.newEdge=function(y){return new u(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y,b=this.graphManager.getAllEdges(),v=0;v<b.length;v++)y=b[v];for(var x,w=this.graphManager.getRoot().getNodes(),v=0;v<w.length;v++)x=w[v];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof h){var b=y;if(b.getChild()!=null)for(var v=b.getChild().getNodes(),x=0;x<v.length;x++)update(v[x]);if(b.vGraphObject!=null){var w=b.vGraphObject;w.update(b)}}else if(y instanceof u){var k=y;if(k.vGraphObject!=null){var T=k.vGraphObject;T.update(k)}}else if(y instanceof d){var S=y;if(S.vGraphObject!=null){var C=S.vGraphObject;C.update(S)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new p(0,0));else{var b=new g,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(v.x),b.setDeviceOrgY(v.y);for(var x=this.getAllNodes(),w,k=0;k<x.length;k++)w=x[k],w.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,v,x=y.getNodes(),w=0;w<x.length;w++)b=x[w],v=b.getChild(),v==null||v.getNodes().length==0?b.scatter():(this.positionNodesRandomly(v),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,v=this.graphManager.getRoot().getNodes(),x=!0,w=0;w<v.length;w++)v[w].getChild()!=null&&(x=!1);if(!x)return y;var k=new Set,T=[],S=new Map,C=[];for(C=C.concat(v);C.length>0&&b;){for(T.push(C[0]);T.length>0&&b;){var E=T[0];T.splice(0,1),k.add(E);for(var L=E.getEdges(),w=0;w<L.length;w++){var I=L[w].getOtherEnd(E);if(S.get(E)!=I)if(!k.has(I))T.push(I),S.set(I,E);else{b=!1;break}}}if(!b)y=[];else{var M=[].concat(a(k));y.push(M);for(var w=0;w<M.length;w++){var N=M[w],$=C.indexOf(N);$>-1&&C.splice($,1)}k=new Set,S=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],v=y.source,x=this.graphManager.calcLowestCommonAncestor(y.source,y.target),w=0;w<y.bendpoints.length;w++){var k=this.newNode(null);k.setRect(new Point(0,0),new Dimension(1,1)),x.add(k);var T=this.newEdge(null);this.graphManager.add(T,v,k),b.add(k),v=k}var T=this.newEdge(null);return this.graphManager.add(T,v,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):x.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var v=y[b];if(v.bendpoints.length>0){for(var x=this.edgeToDummyNodes.get(v),w=0;w<x.length;w++){var k=x[w],T=new p(k.getCenterX(),k.getCenterY()),S=v.bendpoints.get(w);S.x=T.x,S.y=T.y,k.getOwner().remove(k)}this.graphManager.add(v,v.source,v.target)}}},m.transform=function(y,b,v,x){if(v!=null&&x!=null){var w=b;if(y<=50){var k=b/v;w-=(b-k)/50*(50-y)}else{var T=b*x;w+=(T-b)/50*(y-50)}return w}else{var S,C;return y<=50?(S=9*b/500,C=b/10):(S=9*b/50,C=-8*b),S*y+C}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var v=[],x=new Map,w=!1,k=null;(b.length==1||b.length==2)&&(w=!0,k=b[0]);for(var T=0;T<b.length;T++){var S=b[T],C=S.getNeighborsList().size;x.set(S,S.getNeighborsList().size),C==1&&v.push(S)}var E=[];for(E=E.concat(v);!w;){var L=[];L=L.concat(E),E=[];for(var T=0;T<b.length;T++){var S=b[T],I=b.indexOf(S);I>=0&&b.splice(I,1);var M=S.getNeighborsList();M.forEach(function(_){if(v.indexOf(_)<0){var D=x.get(_),R=D-1;R==1&&E.push(_),x.set(_,R)}})}v=v.concat(E),(b.length==1||b.length==2)&&(w=!0,k=b[0])}return k},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m}),(function(r,i,n){"use strict";function a(){}l(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a}),(function(r,i,n){"use strict";var a=n(5);function s(o,h){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var h=0,u=this.lworldExtX;return u!=0&&(h=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),h},s.prototype.transformY=function(o){var h=0,u=this.lworldExtY;return u!=0&&(h=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),h},s.prototype.inverseTransformX=function(o){var h=0,u=this.ldeviceExtX;return u!=0&&(h=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),h},s.prototype.inverseTransformY=function(o){var h=0,u=this.ldeviceExtY;return u!=0&&(h=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),h},s.prototype.inverseTransformPoint=function(o){var h=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return h},r.exports=s}),(function(r,i,n){"use strict";function a(f){if(Array.isArray(f)){for(var m=0,y=Array(f.length);m<f.length;m++)y[m]=f[m];return y}else return Array.from(f)}l(a,"_toConsumableArray");var s=n(15),o=n(4),h=n(0),u=n(8),d=n(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}l(p,"FDLayout"),p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var f,m,y,b,v,x,w,k=this.getGraphManager().getAllEdges(),T=0;T<k.length;T++)f=k[T],m=f.idealLength,f.isInterGraph&&(b=f.getSource(),v=f.getTarget(),x=f.getSourceInLca().getEstimatedSize(),w=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=x+w-2*h.SIMPLE_NODE_SIZE),y=f.getLca().getInclusionTreeDepth(),f.idealLength+=m*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(b.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*y))},p.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),m,y=0;y<f.length;y++)m=f[y],this.calcSpringForce(m,m.idealLength)},p.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,v,x,w=this.getAllNodes(),k;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),k=new Set,y=0;y<w.length;y++)v=w[y],this.calculateRepulsionForceOfANode(v,k,f,m),k.add(v);else for(y=0;y<w.length;y++)for(v=w[y],b=y+1;b<w.length;b++)x=w[b],v.getOwner()==x.getOwner()&&this.calcRepulsionForce(v,x)},p.prototype.calcGravitationalForces=function(){for(var f,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)f=m[y],this.calcGravitationalForce(f)},p.prototype.moveNodes=function(){for(var f=this.getAllNodes(),m,y=0;y<f.length;y++)m=f[y],m.move()},p.prototype.calcSpringForce=function(f,m){var y=f.getSource(),b=f.getTarget(),v,x,w,k;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;v=f.getLength(),v!=0&&(x=f.edgeElasticity*(v-m),w=x*(f.lengthX/v),k=x*(f.lengthY/v),y.springForceX+=w,y.springForceY+=k,b.springForceX-=w,b.springForceY-=k)},p.prototype.calcRepulsionForce=function(f,m){var y=f.getRect(),b=m.getRect(),v=new Array(2),x=new Array(4),w,k,T,S,C,E,L;if(y.intersects(b)){u.calcSeparationAmount(y,b,v,o.DEFAULT_EDGE_LENGTH/2),E=2*v[0],L=2*v[1];var I=f.noOfChildren*m.noOfChildren/(f.noOfChildren+m.noOfChildren);f.repulsionForceX-=I*E,f.repulsionForceY-=I*L,m.repulsionForceX+=I*E,m.repulsionForceY+=I*L}else this.uniformLeafNodeSizes&&f.getChild()==null&&m.getChild()==null?(w=b.getCenterX()-y.getCenterX(),k=b.getCenterY()-y.getCenterY()):(u.getIntersection(y,b,x),w=x[2]-x[0],k=x[3]-x[1]),Math.abs(w)<o.MIN_REPULSION_DIST&&(w=d.sign(w)*o.MIN_REPULSION_DIST),Math.abs(k)<o.MIN_REPULSION_DIST&&(k=d.sign(k)*o.MIN_REPULSION_DIST),T=w*w+k*k,S=Math.sqrt(T),C=(f.nodeRepulsion/2+m.nodeRepulsion/2)*f.noOfChildren*m.noOfChildren/T,E=C*w/S,L=C*k/S,f.repulsionForceX-=E,f.repulsionForceY-=L,m.repulsionForceX+=E,m.repulsionForceY+=L},p.prototype.calcGravitationalForce=function(f){var m,y,b,v,x,w,k,T;m=f.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,v=f.getCenterX()-y,x=f.getCenterY()-b,w=Math.abs(v)+f.getWidth()/2,k=Math.abs(x)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(T=m.getEstimatedSize()*this.gravityRangeFactor,(w>T||k>T)&&(f.gravitationForceX=-this.gravityConstant*v,f.gravitationForceY=-this.gravityConstant*x)):(T=m.getEstimatedSize()*this.compoundGravityRangeFactor,(w>T||k>T)&&(f.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*x*this.compoundGravityConstant))},p.prototype.isConverged=function(){var f,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)f=m[y],f.noOfChildren=f.getNoOfChildren()},p.prototype.calcGrid=function(f){var m=0,y=0;m=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var b=new Array(m),v=0;v<m;v++)b[v]=new Array(y);for(var v=0;v<m;v++)for(var x=0;x<y;x++)b[v][x]=new Array;return b},p.prototype.addNodeToGrid=function(f,m,y){var b=0,v=0,x=0,w=0;b=parseInt(Math.floor((f.getRect().x-m)/this.repulsionRange)),v=parseInt(Math.floor((f.getRect().width+f.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((f.getRect().y-y)/this.repulsionRange)),w=parseInt(Math.floor((f.getRect().height+f.getRect().y-y)/this.repulsionRange));for(var k=b;k<=v;k++)for(var T=x;T<=w;T++)this.grid[k][T].push(f),f.setGridCoordinates(b,v,x,w)},p.prototype.updateGrid=function(){var f,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<y.length;f++)m=y[f],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(f,m,y,b){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var v=new Set;f.surrounding=new Array;for(var x,w=this.grid,k=f.startX-1;k<f.finishX+2;k++)for(var T=f.startY-1;T<f.finishY+2;T++)if(!(k<0||T<0||k>=w.length||T>=w[0].length)){for(var S=0;S<w[k][T].length;S++)if(x=w[k][T][S],!(f.getOwner()!=x.getOwner()||f==x)&&!m.has(x)&&!v.has(x)){var C=Math.abs(f.getCenterX()-x.getCenterX())-(f.getWidth()/2+x.getWidth()/2),E=Math.abs(f.getCenterY()-x.getCenterY())-(f.getHeight()/2+x.getHeight()/2);C<=this.repulsionRange&&E<=this.repulsionRange&&v.add(x)}}f.surrounding=[].concat(a(v))}for(k=0;k<f.surrounding.length;k++)this.calcRepulsionForce(f,f.surrounding[k])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p}),(function(r,i,n){"use strict";var a=n(1),s=n(4);function o(u,d,p){a.call(this,u,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}l(o,"FDLayoutEdge"),o.prototype=Object.create(a.prototype);for(var h in a)o[h]=a[h];r.exports=o}),(function(r,i,n){"use strict";var a=n(3),s=n(4);function o(u,d,p,g){a.call(this,u,d,p,g),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}l(o,"FDLayoutNode"),o.prototype=Object.create(a.prototype);for(var h in a)o[h]=a[h];o.prototype.setGridCoordinates=function(u,d,p,g){this.startX=u,this.finishX=d,this.startY=p,this.finishY=g},r.exports=o}),(function(r,i,n){"use strict";function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}l(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a}),(function(r,i,n){"use strict";var a=n(14);function s(){this.map={},this.keys=[]}l(s,"HashMap"),s.prototype.put=function(o,h){var u=a.createID(o);this.contains(u)||(this.map[u]=h,this.keys.push(o))},s.prototype.contains=function(o){var h=a.createID(o);return this.map[o]!=null},s.prototype.get=function(o){var h=a.createID(o);return this.map[h]},s.prototype.keySet=function(){return this.keys},r.exports=s}),(function(r,i,n){"use strict";var a=n(14);function s(){this.set={}}l(s,"HashSet"),s.prototype.add=function(o){var h=a.createID(o);this.contains(h)||(this.set[h]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var h=Object.keys(this.set),u=h.length,d=0;d<u;d++)o.push(this.set[h[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var h=o.length,u=0;u<h;u++){var d=o[u];this.add(d)}},r.exports=s}),(function(r,i,n){"use strict";function a(){}l(a,"Matrix"),a.multMat=function(s,o){for(var h=[],u=0;u<s.length;u++){h[u]=[];for(var d=0;d<o[0].length;d++){h[u][d]=0;for(var p=0;p<s[0].length;p++)h[u][d]+=s[u][p]*o[p][d]}}return h},a.transpose=function(s){for(var o=[],h=0;h<s[0].length;h++){o[h]=[];for(var u=0;u<s.length;u++)o[h][u]=s[u][h]}return o},a.multCons=function(s,o){for(var h=[],u=0;u<s.length;u++)h[u]=s[u]*o;return h},a.minusOp=function(s,o){for(var h=[],u=0;u<s.length;u++)h[u]=s[u]-o[u];return h},a.dotProduct=function(s,o){for(var h=0,u=0;u<s.length;u++)h+=s[u]*o[u];return h},a.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},a.normalize=function(s){for(var o=[],h=this.mag(s),u=0;u<s.length;u++)o[u]=s[u]/h;return o},a.multGamma=function(s){for(var o=[],h=0,u=0;u<s.length;u++)h+=s[u];h*=-1/s.length;for(var d=0;d<s.length;d++)o[d]=h+s[d];return o},a.multL=function(s,o,h){for(var u=[],d=[],p=[],g=0;g<o[0].length;g++){for(var f=0,m=0;m<o.length;m++)f+=-.5*o[m][g]*s[m];d[g]=f}for(var y=0;y<h.length;y++){for(var b=0,v=0;v<h.length;v++)b+=h[y][v]*d[v];p[y]=b}for(var x=0;x<o.length;x++){for(var w=0,k=0;k<o[0].length;k++)w+=o[x][k]*p[k];u[x]=w}return u},r.exports=a}),(function(r,i,n){"use strict";var a=(function(){function u(d,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return l(u,"defineProperties"),function(d,p,g){return p&&u(d.prototype,p),g&&u(d,g),d}})();function s(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=n(11),h=(function(){function u(d,p){s(this,u),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;d instanceof o?g=d.size():g=d.length,this._quicksort(d,0,g-1)}return l(u,"Quicksort"),a(u,[{key:"_quicksort",value:l(function(d,p,g){if(p<g){var f=this._partition(d,p,g);this._quicksort(d,p,f),this._quicksort(d,f+1,g)}},"_quicksort")},{key:"_partition",value:l(function(d,p,g){for(var f=this._get(d,p),m=p,y=g;;){for(;this.compareFunction(f,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),f);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}},"_partition")},{key:"_get",value:l(function(d,p){return d instanceof o?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:l(function(d,p,g){d instanceof o?d.set_object_at(p,g):d[p]=g},"_set")},{key:"_swap",value:l(function(d,p,g){var f=this._get(d,p);this._set(d,p,this._get(d,g)),this._set(d,g,f)},"_swap")},{key:"_defaultCompareFunction",value:l(function(d,p){return p>d},"_defaultCompareFunction")}]),u})();r.exports=h}),(function(r,i,n){"use strict";function a(){}l(a,"SVD"),a.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var o=Math.min(this.m,this.n);this.s=(function(pt){for(var Qe=[];pt-- >0;)Qe.push(0);return Qe})(Math.min(this.m+1,this.n)),this.U=(function(pt){var Qe=l(function Ze(_t){if(_t.length==0)return 0;for(var Bt=[],Dt=0;Dt<_t[0];Dt++)Bt.push(Ze(_t.slice(1)));return Bt},"allocate");return Qe(pt)})([this.m,o]),this.V=(function(pt){var Qe=l(function Ze(_t){if(_t.length==0)return 0;for(var Bt=[],Dt=0;Dt<_t[0];Dt++)Bt.push(Ze(_t.slice(1)));return Bt},"allocate");return Qe(pt)})([this.n,this.n]);for(var h=(function(pt){for(var Qe=[];pt-- >0;)Qe.push(0);return Qe})(this.n),u=(function(pt){for(var Qe=[];pt-- >0;)Qe.push(0);return Qe})(this.m),d=!0,p=!0,g=Math.min(this.m-1,this.n),f=Math.max(0,Math.min(this.n-2,this.m)),m=0;m<Math.max(g,f);m++){if(m<g){this.s[m]=0;for(var y=m;y<this.m;y++)this.s[m]=a.hypot(this.s[m],s[y][m]);if(this.s[m]!==0){s[m][m]<0&&(this.s[m]=-this.s[m]);for(var b=m;b<this.m;b++)s[b][m]/=this.s[m];s[m][m]+=1}this.s[m]=-this.s[m]}for(var v=m+1;v<this.n;v++){if((function(pt,Qe){return pt&&Qe})(m<g,this.s[m]!==0)){for(var x=0,w=m;w<this.m;w++)x+=s[w][m]*s[w][v];x=-x/s[m][m];for(var k=m;k<this.m;k++)s[k][v]+=x*s[k][m]}h[v]=s[m][v]}if((function(pt,Qe){return pt&&Qe})(d,m<g))for(var T=m;T<this.m;T++)this.U[T][m]=s[T][m];if(m<f){h[m]=0;for(var S=m+1;S<this.n;S++)h[m]=a.hypot(h[m],h[S]);if(h[m]!==0){h[m+1]<0&&(h[m]=-h[m]);for(var C=m+1;C<this.n;C++)h[C]/=h[m];h[m+1]+=1}if(h[m]=-h[m],(function(pt,Qe){return pt&&Qe})(m+1<this.m,h[m]!==0)){for(var E=m+1;E<this.m;E++)u[E]=0;for(var L=m+1;L<this.n;L++)for(var I=m+1;I<this.m;I++)u[I]+=h[L]*s[I][L];for(var M=m+1;M<this.n;M++)for(var N=-h[M]/h[m+1],$=m+1;$<this.m;$++)s[$][M]+=N*u[$]}if(p)for(var _=m+1;_<this.n;_++)this.V[_][m]=h[_]}}var D=Math.min(this.n,this.m+1);if(g<this.n&&(this.s[g]=s[g][g]),this.m<D&&(this.s[D-1]=0),f+1<D&&(h[f]=s[f][D-1]),h[D-1]=0,d){for(var R=g;R<o;R++){for(var O=0;O<this.m;O++)this.U[O][R]=0;this.U[R][R]=1}for(var A=g-1;A>=0;A--)if(this.s[A]!==0){for(var B=A+1;B<o;B++){for(var P=0,z=A;z<this.m;z++)P+=this.U[z][A]*this.U[z][B];P=-P/this.U[A][A];for(var q=A;q<this.m;q++)this.U[q][B]+=P*this.U[q][A]}for(var K=A;K<this.m;K++)this.U[K][A]=-this.U[K][A];this.U[A][A]=1+this.U[A][A];for(var W=0;W<A-1;W++)this.U[W][A]=0}else{for(var ae=0;ae<this.m;ae++)this.U[ae][A]=0;this.U[A][A]=1}}if(p)for(var ie=this.n-1;ie>=0;ie--){if((function(pt,Qe){return pt&&Qe})(ie<f,h[ie]!==0))for(var se=ie+1;se<o;se++){for(var oe=0,Y=ie+1;Y<this.n;Y++)oe+=this.V[Y][ie]*this.V[Y][se];oe=-oe/this.V[ie+1][ie];for(var Q=ie+1;Q<this.n;Q++)this.V[Q][se]+=oe*this.V[Q][ie]}for(var j=0;j<this.n;j++)this.V[j][ie]=0;this.V[ie][ie]=1}for(var H=D-1,J=0,he=Math.pow(2,-52),X=Math.pow(2,-966);D>0;){var fe=void 0,V=void 0;for(fe=D-2;fe>=-1&&fe!==-1;fe--)if(Math.abs(h[fe])<=X+he*(Math.abs(this.s[fe])+Math.abs(this.s[fe+1]))){h[fe]=0;break}if(fe===D-2)V=4;else{var Se=void 0;for(Se=D-1;Se>=fe&&Se!==fe;Se--){var ce=(Se!==D?Math.abs(h[Se]):0)+(Se!==fe+1?Math.abs(h[Se-1]):0);if(Math.abs(this.s[Se])<=X+he*ce){this.s[Se]=0;break}}Se===fe?V=3:Se===D-1?V=1:(V=2,fe=Se)}switch(fe++,V){case 1:{var Le=h[D-2];h[D-2]=0;for(var $e=D-2;$e>=fe;$e--){var je=a.hypot(this.s[$e],Le),qe=this.s[$e]/je,Ce=Le/je;if(this.s[$e]=je,$e!==fe&&(Le=-Ce*h[$e-1],h[$e-1]=qe*h[$e-1]),p)for(var De=0;De<this.n;De++)je=qe*this.V[De][$e]+Ce*this.V[De][D-1],this.V[De][D-1]=-Ce*this.V[De][$e]+qe*this.V[De][D-1],this.V[De][$e]=je}}break;case 2:{var ye=h[fe-1];h[fe-1]=0;for(var Pe=fe;Pe<D;Pe++){var ue=a.hypot(this.s[Pe],ye),Ve=this.s[Pe]/ue,Z=ye/ue;if(this.s[Pe]=ue,ye=-Z*h[Pe],h[Pe]=Ve*h[Pe],d)for(var Ne=0;Ne<this.m;Ne++)ue=Ve*this.U[Ne][Pe]+Z*this.U[Ne][fe-1],this.U[Ne][fe-1]=-Z*this.U[Ne][Pe]+Ve*this.U[Ne][fe-1],this.U[Ne][Pe]=ue}}break;case 3:{var F=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[D-1]),Math.abs(this.s[D-2])),Math.abs(h[D-2])),Math.abs(this.s[fe])),Math.abs(h[fe])),te=this.s[D-1]/F,ne=this.s[D-2]/F,de=h[D-2]/F,ge=this.s[fe]/F,xe=h[fe]/F,Ee=((ne+te)*(ne-te)+de*de)/2,Te=te*de*(te*de),Fe=0;(function(pt,Qe){return pt||Qe})(Ee!==0,Te!==0)&&(Fe=Math.sqrt(Ee*Ee+Te),Ee<0&&(Fe=-Fe),Fe=Te/(Ee+Fe));for(var We=(ge+te)*(ge-te)+Fe,it=ge*xe,Be=fe;Be<D-1;Be++){var Ye=a.hypot(We,it),Ge=We/Ye,ze=it/Ye;if(Be!==fe&&(h[Be-1]=Ye),We=Ge*this.s[Be]+ze*h[Be],h[Be]=Ge*h[Be]-ze*this.s[Be],it=ze*this.s[Be+1],this.s[Be+1]=Ge*this.s[Be+1],p)for(var Xe=0;Xe<this.n;Xe++)Ye=Ge*this.V[Xe][Be]+ze*this.V[Xe][Be+1],this.V[Xe][Be+1]=-ze*this.V[Xe][Be]+Ge*this.V[Xe][Be+1],this.V[Xe][Be]=Ye;if(Ye=a.hypot(We,it),Ge=We/Ye,ze=it/Ye,this.s[Be]=Ye,We=Ge*h[Be]+ze*this.s[Be+1],this.s[Be+1]=-ze*h[Be]+Ge*this.s[Be+1],it=ze*h[Be+1],h[Be+1]=Ge*h[Be+1],d&&Be<this.m-1)for(var xt=0;xt<this.m;xt++)Ye=Ge*this.U[xt][Be]+ze*this.U[xt][Be+1],this.U[xt][Be+1]=-ze*this.U[xt][Be]+Ge*this.U[xt][Be+1],this.U[xt][Be]=Ye}h[D-2]=We,J=J+1}break;case 4:{if(this.s[fe]<=0&&(this.s[fe]=this.s[fe]<0?-this.s[fe]:0,p))for(var st=0;st<=H;st++)this.V[st][fe]=-this.V[st][fe];for(;fe<H&&!(this.s[fe]>=this.s[fe+1]);){var at=this.s[fe];if(this.s[fe]=this.s[fe+1],this.s[fe+1]=at,p&&fe<this.n-1)for(var Tt=0;Tt<this.n;Tt++)at=this.V[Tt][fe+1],this.V[Tt][fe+1]=this.V[Tt][fe],this.V[Tt][fe]=at;if(d&&fe<this.m-1)for(var et=0;et<this.m;et++)at=this.U[et][fe+1],this.U[et][fe+1]=this.U[et][fe],this.U[et][fe]=at;fe++}J=0,D--}break}}var ct={U:this.U,V:this.V,S:this.s};return ct},a.hypot=function(s,o){var h=void 0;return Math.abs(s)>Math.abs(o)?(h=o/s,h=Math.abs(s)*Math.sqrt(1+h*h)):o!=0?(h=s/o,h=Math.abs(o)*Math.sqrt(1+h*h)):h=0,h},r.exports=a}),(function(r,i,n){"use strict";var a=(function(){function h(u,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}return l(h,"defineProperties"),function(u,d,p){return d&&h(u.prototype,d),p&&h(u,p),u}})();function s(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=(function(){function h(u,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,h),this.sequence1=u,this.sequence2=d,this.match_score=p,this.mismatch_penalty=g,this.gap_penalty=f,this.iMax=u.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[b][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return l(h,"NeedlemanWunsch"),a(h,[{key:"getScore",value:l(function(){return this.score},"getScore")},{key:"getAlignments",value:l(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:l(function(){for(var u=1;u<this.jMax;u++)this.grid[0][u]=this.grid[0][u-1]+this.gap_penalty,this.tracebackGrid[0][u]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var g=1;g<this.jMax;g++){var f=void 0;this.sequence1[p-1]===this.sequence2[g-1]?f=this.grid[p-1][g-1]+this.match_score:f=this.grid[p-1][g-1]+this.mismatch_penalty;var m=this.grid[p-1][g]+this.gap_penalty,y=this.grid[p][g-1]+this.gap_penalty,b=[f,m,y],v=this.arrayAllMaxIndexes(b);this.grid[p][g]=b[v[0]],this.tracebackGrid[p][g]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:l(function(){var u=[];for(u.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});u[0];){var d=u[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&u.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&u.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&u.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),u.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:l(function(u,d){for(var p=[],g=-1;(g=u.indexOf(d,g+1))!==-1;)p.push(g);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:l(function(u){return this.getAllIndexes(u,Math.max.apply(null,u))},"arrayAllMaxIndexes")}]),h})();r.exports=o}),(function(r,i,n){"use strict";var a=l(function(){},"layoutBase");a.FDLayout=n(18),a.FDLayoutConstants=n(4),a.FDLayoutEdge=n(19),a.FDLayoutNode=n(20),a.DimensionD=n(21),a.HashMap=n(22),a.HashSet=n(23),a.IGeometry=n(8),a.IMath=n(9),a.Integer=n(10),a.Point=n(12),a.PointD=n(5),a.RandomSeed=n(16),a.RectangleD=n(13),a.Transform=n(17),a.UniqueIDGeneretor=n(14),a.Quicksort=n(25),a.LinkedList=n(11),a.LGraphObject=n(2),a.LGraph=n(6),a.LEdge=n(1),a.LGraphManager=n(7),a.LNode=n(3),a.Layout=n(15),a.LayoutConstants=n(0),a.NeedlemanWunsch=n(27),a.Matrix=n(24),a.SVD=n(26),r.exports=a}),(function(r,i,n){"use strict";function a(){this.listeners=[]}l(a,"Emitter");var s=a.prototype;s.addListener=function(o,h){this.listeners.push({event:o,callback:h})},s.removeListener=function(o,h){for(var u=this.listeners.length;u>=0;u--){var d=this.listeners[u];d.event===o&&d.callback===h&&this.listeners.splice(u,1)}},s.emit=function(o,h){for(var u=0;u<this.listeners.length;u++){var d=this.listeners[u];o===d.event&&d.callback(h)}},r.exports=a})])})}),Hfe=Li((t,e)=>{"use strict";l((function(r,i){typeof t=="object"&&typeof e=="object"?e.exports=i(Yfe()):typeof define=="function"&&define.amd?define(["layout-base"],i):typeof t=="object"?t.coseBase=i(Yfe()):r.coseBase=i(r.layoutBase)}),"webpackUniversalModuleDefinition")(t,function(r){return(()=>{"use strict";var i={45:((o,h,u)=>{var d={};d.layoutBase=u(551),d.CoSEConstants=u(806),d.CoSEEdge=u(767),d.CoSEGraph=u(880),d.CoSEGraphManager=u(578),d.CoSELayout=u(765),d.CoSENode=u(991),d.ConstraintHandler=u(902),o.exports=d}),806:((o,h,u)=>{var d=u(551).FDLayoutConstants;function p(){}l(p,"CoSEConstants");for(var g in d)p[g]=d[g];p.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,p.DEFAULT_RADIAL_SEPARATION=d.DEFAULT_EDGE_LENGTH,p.DEFAULT_COMPONENT_SEPERATION=60,p.TILE=!0,p.TILING_PADDING_VERTICAL=10,p.TILING_PADDING_HORIZONTAL=10,p.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,p.ENFORCE_CONSTRAINTS=!0,p.APPLY_LAYOUT=!0,p.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,p.TREE_REDUCTION_ON_INCREMENTAL=!0,p.PURE_INCREMENTAL=p.DEFAULT_INCREMENTAL,o.exports=p}),767:((o,h,u)=>{var d=u(551).FDLayoutEdge;function p(f,m,y){d.call(this,f,m,y)}l(p,"CoSEEdge"),p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];o.exports=p}),880:((o,h,u)=>{var d=u(551).LGraph;function p(f,m,y){d.call(this,f,m,y)}l(p,"CoSEGraph"),p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];o.exports=p}),578:((o,h,u)=>{var d=u(551).LGraphManager;function p(f){d.call(this,f)}l(p,"CoSEGraphManager"),p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];o.exports=p}),765:((o,h,u)=>{var d=u(551).FDLayout,p=u(578),g=u(880),f=u(991),m=u(767),y=u(806),b=u(902),v=u(551).FDLayoutConstants,x=u(551).LayoutConstants,w=u(551).Point,k=u(551).PointD,T=u(551).DimensionD,S=u(551).Layout,C=u(551).Integer,E=u(551).IGeometry,L=u(551).LGraph,I=u(551).Transform,M=u(551).LinkedList;function N(){d.call(this),this.toBeTiled={},this.constraints={}}l(N,"CoSELayout"),N.prototype=Object.create(d.prototype);for(var $ in d)N[$]=d[$];N.prototype.newGraphManager=function(){var _=new p(this);return this.graphManager=_,_},N.prototype.newGraph=function(_){return new g(null,this.graphManager,_)},N.prototype.newNode=function(_){return new f(this.graphManager,_)},N.prototype.newEdge=function(_){return new m(null,null,_)},N.prototype.initParameters=function(){d.prototype.initParameters.call(this,arguments),this.isSubLayout||(y.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=y.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=y.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},N.prototype.initSpringEmbedder=function(){d.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},N.prototype.layout=function(){var _=x.DEFAULT_CREATE_BENDS_AS_NEEDED;return _&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},N.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(y.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(O){return _.has(O)});this.graphManager.setAllNodesToApplyGravitation(D)}}else{var R=this.getFlatForest();if(R.length>0)this.positionNodesRadially(R);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(B){return _.has(B)});this.graphManager.setAllNodesToApplyGravitation(D),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(b.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),y.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},N.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(A){return _.has(A)});this.graphManager.setAllNodesToApplyGravitation(D),this.graphManager.updateBounds(),this.updateGrid(),y.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),y.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var R=!this.isTreeGrowing&&!this.isGrowthFinished,O=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(R,O),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},N.prototype.getPositionsData=function(){for(var _=this.graphManager.getAllNodes(),D={},R=0;R<_.length;R++){var O=_[R].rect,A=_[R].id;D[A]={id:A,x:O.getCenterX(),y:O.getCenterY(),w:O.width,h:O.height}}return D},N.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var _=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!_;)_=this.tick();this.graphManager.updateBounds()}},N.prototype.moveNodes=function(){for(var _=this.getAllNodes(),D,R=0;R<_.length;R++)D=_[R],D.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var R=0;R<_.length;R++)D=_[R],D.move()},N.prototype.initConstraintVariables=function(){var _=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var D=this.graphManager.getAllNodes(),R=0;R<D.length;R++){var O=D[R];this.idToNodeMap.set(O.id,O)}var A=l(function Y(Q){for(var j=Q.getChild().getNodes(),H,J=0,he=0;he<j.length;he++)H=j[he],H.getChild()==null?_.fixedNodeSet.has(H.id)&&(J+=100):J+=Y(H);return J},"calculateCompoundWeight");if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(Y){_.fixedNodeSet.add(Y.nodeId)});for(var D=this.graphManager.getAllNodes(),O,R=0;R<D.length;R++)if(O=D[R],O.getChild()!=null){var B=A(O);B>0&&(O.fixedNodeWeight=B)}}if(this.constraints.relativePlacementConstraint){var P=new Map,z=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(Y){_.fixedNodesOnHorizontal.add(Y),_.fixedNodesOnVertical.add(Y)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var q=this.constraints.alignmentConstraint.vertical,R=0;R<q.length;R++)this.dummyToNodeForVerticalAlignment.set("dummy"+R,[]),q[R].forEach(function(Q){P.set(Q,"dummy"+R),_.dummyToNodeForVerticalAlignment.get("dummy"+R).push(Q),_.fixedNodeSet.has(Q)&&_.fixedNodesOnHorizontal.add("dummy"+R)});if(this.constraints.alignmentConstraint.horizontal)for(var K=this.constraints.alignmentConstraint.horizontal,R=0;R<K.length;R++)this.dummyToNodeForHorizontalAlignment.set("dummy"+R,[]),K[R].forEach(function(Q){z.set(Q,"dummy"+R),_.dummyToNodeForHorizontalAlignment.get("dummy"+R).push(Q),_.fixedNodeSet.has(Q)&&_.fixedNodesOnVertical.add("dummy"+R)})}if(y.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(Y){var Q,j,H;for(H=Y.length-1;H>=2*Y.length/3;H--)Q=Math.floor(Math.random()*(H+1)),j=Y[H],Y[H]=Y[Q],Y[Q]=j;return Y},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(Y){if(Y.left){var Q=P.has(Y.left)?P.get(Y.left):Y.left,j=P.has(Y.right)?P.get(Y.right):Y.right;_.nodesInRelativeHorizontal.includes(Q)||(_.nodesInRelativeHorizontal.push(Q),_.nodeToRelativeConstraintMapHorizontal.set(Q,[]),_.dummyToNodeForVerticalAlignment.has(Q)?_.nodeToTempPositionMapHorizontal.set(Q,_.idToNodeMap.get(_.dummyToNodeForVerticalAlignment.get(Q)[0]).getCenterX()):_.nodeToTempPositionMapHorizontal.set(Q,_.idToNodeMap.get(Q).getCenterX())),_.nodesInRelativeHorizontal.includes(j)||(_.nodesInRelativeHorizontal.push(j),_.nodeToRelativeConstraintMapHorizontal.set(j,[]),_.dummyToNodeForVerticalAlignment.has(j)?_.nodeToTempPositionMapHorizontal.set(j,_.idToNodeMap.get(_.dummyToNodeForVerticalAlignment.get(j)[0]).getCenterX()):_.nodeToTempPositionMapHorizontal.set(j,_.idToNodeMap.get(j).getCenterX())),_.nodeToRelativeConstraintMapHorizontal.get(Q).push({right:j,gap:Y.gap}),_.nodeToRelativeConstraintMapHorizontal.get(j).push({left:Q,gap:Y.gap})}else{var H=z.has(Y.top)?z.get(Y.top):Y.top,J=z.has(Y.bottom)?z.get(Y.bottom):Y.bottom;_.nodesInRelativeVertical.includes(H)||(_.nodesInRelativeVertical.push(H),_.nodeToRelativeConstraintMapVertical.set(H,[]),_.dummyToNodeForHorizontalAlignment.has(H)?_.nodeToTempPositionMapVertical.set(H,_.idToNodeMap.get(_.dummyToNodeForHorizontalAlignment.get(H)[0]).getCenterY()):_.nodeToTempPositionMapVertical.set(H,_.idToNodeMap.get(H).getCenterY())),_.nodesInRelativeVertical.includes(J)||(_.nodesInRelativeVertical.push(J),_.nodeToRelativeConstraintMapVertical.set(J,[]),_.dummyToNodeForHorizontalAlignment.has(J)?_.nodeToTempPositionMapVertical.set(J,_.idToNodeMap.get(_.dummyToNodeForHorizontalAlignment.get(J)[0]).getCenterY()):_.nodeToTempPositionMapVertical.set(J,_.idToNodeMap.get(J).getCenterY())),_.nodeToRelativeConstraintMapVertical.get(H).push({bottom:J,gap:Y.gap}),_.nodeToRelativeConstraintMapVertical.get(J).push({top:H,gap:Y.gap})}});else{var W=new Map,ae=new Map;this.constraints.relativePlacementConstraint.forEach(function(Y){if(Y.left){var Q=P.has(Y.left)?P.get(Y.left):Y.left,j=P.has(Y.right)?P.get(Y.right):Y.right;W.has(Q)?W.get(Q).push(j):W.set(Q,[j]),W.has(j)?W.get(j).push(Q):W.set(j,[Q])}else{var H=z.has(Y.top)?z.get(Y.top):Y.top,J=z.has(Y.bottom)?z.get(Y.bottom):Y.bottom;ae.has(H)?ae.get(H).push(J):ae.set(H,[J]),ae.has(J)?ae.get(J).push(H):ae.set(J,[H])}});var ie=l(function(Y,Q){var j=[],H=[],J=new M,he=new Set,X=0;return Y.forEach(function(fe,V){if(!he.has(V)){j[X]=[],H[X]=!1;var Se=V;for(J.push(Se),he.add(Se),j[X].push(Se);J.length!=0;){Se=J.shift(),Q.has(Se)&&(H[X]=!0);var ce=Y.get(Se);ce.forEach(function(Le){he.has(Le)||(J.push(Le),he.add(Le),j[X].push(Le))})}X++}}),{components:j,isFixed:H}},"constructComponents"),se=ie(W,_.fixedNodesOnHorizontal);this.componentsOnHorizontal=se.components,this.fixedComponentsOnHorizontal=se.isFixed;var oe=ie(ae,_.fixedNodesOnVertical);this.componentsOnVertical=oe.components,this.fixedComponentsOnVertical=oe.isFixed}}},N.prototype.updateDisplacements=function(){var _=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(oe){var Y=_.idToNodeMap.get(oe.nodeId);Y.displacementX=0,Y.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var D=this.constraints.alignmentConstraint.vertical,R=0;R<D.length;R++){for(var O=0,A=0;A<D[R].length;A++){if(this.fixedNodeSet.has(D[R][A])){O=0;break}O+=this.idToNodeMap.get(D[R][A]).displacementX}for(var B=O/D[R].length,A=0;A<D[R].length;A++)this.idToNodeMap.get(D[R][A]).displacementX=B}if(this.constraints.alignmentConstraint.horizontal)for(var P=this.constraints.alignmentConstraint.horizontal,R=0;R<P.length;R++){for(var z=0,A=0;A<P[R].length;A++){if(this.fixedNodeSet.has(P[R][A])){z=0;break}z+=this.idToNodeMap.get(P[R][A]).displacementY}for(var q=z/P[R].length,A=0;A<P[R].length;A++)this.idToNodeMap.get(P[R][A]).displacementY=q}}if(this.constraints.relativePlacementConstraint)if(y.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(oe){if(!_.fixedNodesOnHorizontal.has(oe)){var Y=0;_.dummyToNodeForVerticalAlignment.has(oe)?Y=_.idToNodeMap.get(_.dummyToNodeForVerticalAlignment.get(oe)[0]).displacementX:Y=_.idToNodeMap.get(oe).displacementX,_.nodeToRelativeConstraintMapHorizontal.get(oe).forEach(function(Q){if(Q.right){var j=_.nodeToTempPositionMapHorizontal.get(Q.right)-_.nodeToTempPositionMapHorizontal.get(oe)-Y;j<Q.gap&&(Y-=Q.gap-j)}else{var j=_.nodeToTempPositionMapHorizontal.get(oe)-_.nodeToTempPositionMapHorizontal.get(Q.left)+Y;j<Q.gap&&(Y+=Q.gap-j)}}),_.nodeToTempPositionMapHorizontal.set(oe,_.nodeToTempPositionMapHorizontal.get(oe)+Y),_.dummyToNodeForVerticalAlignment.has(oe)?_.dummyToNodeForVerticalAlignment.get(oe).forEach(function(Q){_.idToNodeMap.get(Q).displacementX=Y}):_.idToNodeMap.get(oe).displacementX=Y}}),this.nodesInRelativeVertical.forEach(function(oe){if(!_.fixedNodesOnHorizontal.has(oe)){var Y=0;_.dummyToNodeForHorizontalAlignment.has(oe)?Y=_.idToNodeMap.get(_.dummyToNodeForHorizontalAlignment.get(oe)[0]).displacementY:Y=_.idToNodeMap.get(oe).displacementY,_.nodeToRelativeConstraintMapVertical.get(oe).forEach(function(Q){if(Q.bottom){var j=_.nodeToTempPositionMapVertical.get(Q.bottom)-_.nodeToTempPositionMapVertical.get(oe)-Y;j<Q.gap&&(Y-=Q.gap-j)}else{var j=_.nodeToTempPositionMapVertical.get(oe)-_.nodeToTempPositionMapVertical.get(Q.top)+Y;j<Q.gap&&(Y+=Q.gap-j)}}),_.nodeToTempPositionMapVertical.set(oe,_.nodeToTempPositionMapVertical.get(oe)+Y),_.dummyToNodeForHorizontalAlignment.has(oe)?_.dummyToNodeForHorizontalAlignment.get(oe).forEach(function(Q){_.idToNodeMap.get(Q).displacementY=Y}):_.idToNodeMap.get(oe).displacementY=Y}});else{for(var R=0;R<this.componentsOnHorizontal.length;R++){var K=this.componentsOnHorizontal[R];if(this.fixedComponentsOnHorizontal[R])for(var A=0;A<K.length;A++)this.dummyToNodeForVerticalAlignment.has(K[A])?this.dummyToNodeForVerticalAlignment.get(K[A]).forEach(function(Q){_.idToNodeMap.get(Q).displacementX=0}):this.idToNodeMap.get(K[A]).displacementX=0;else{for(var W=0,ae=0,A=0;A<K.length;A++)if(this.dummyToNodeForVerticalAlignment.has(K[A])){var ie=this.dummyToNodeForVerticalAlignment.get(K[A]);W+=ie.length*this.idToNodeMap.get(ie[0]).displacementX,ae+=ie.length}else W+=this.idToNodeMap.get(K[A]).displacementX,ae++;for(var se=W/ae,A=0;A<K.length;A++)this.dummyToNodeForVerticalAlignment.has(K[A])?this.dummyToNodeForVerticalAlignment.get(K[A]).forEach(function(Q){_.idToNodeMap.get(Q).displacementX=se}):this.idToNodeMap.get(K[A]).displacementX=se}}for(var R=0;R<this.componentsOnVertical.length;R++){var K=this.componentsOnVertical[R];if(this.fixedComponentsOnVertical[R])for(var A=0;A<K.length;A++)this.dummyToNodeForHorizontalAlignment.has(K[A])?this.dummyToNodeForHorizontalAlignment.get(K[A]).forEach(function(j){_.idToNodeMap.get(j).displacementY=0}):this.idToNodeMap.get(K[A]).displacementY=0;else{for(var W=0,ae=0,A=0;A<K.length;A++)if(this.dummyToNodeForHorizontalAlignment.has(K[A])){var ie=this.dummyToNodeForHorizontalAlignment.get(K[A]);W+=ie.length*this.idToNodeMap.get(ie[0]).displacementY,ae+=ie.length}else W+=this.idToNodeMap.get(K[A]).displacementY,ae++;for(var se=W/ae,A=0;A<K.length;A++)this.dummyToNodeForHorizontalAlignment.has(K[A])?this.dummyToNodeForHorizontalAlignment.get(K[A]).forEach(function(H){_.idToNodeMap.get(H).displacementY=se}):this.idToNodeMap.get(K[A]).displacementY=se}}}},N.prototype.calculateNodesToApplyGravitationTo=function(){var _=[],D,R=this.graphManager.getGraphs(),O=R.length,A;for(A=0;A<O;A++)D=R[A],D.updateConnected(),D.isConnected||(_=_.concat(D.getNodes()));return _},N.prototype.createBendpoints=function(){var _=[];_=_.concat(this.graphManager.getAllEdges());var D=new Set,R;for(R=0;R<_.length;R++){var O=_[R];if(!D.has(O)){var A=O.getSource(),B=O.getTarget();if(A==B)O.getBendpoints().push(new k),O.getBendpoints().push(new k),this.createDummyNodesForBendpoints(O),D.add(O);else{var P=[];if(P=P.concat(A.getEdgeListToNode(B)),P=P.concat(B.getEdgeListToNode(A)),!D.has(P[0])){if(P.length>1){var z;for(z=0;z<P.length;z++){var q=P[z];q.getBendpoints().push(new k),this.createDummyNodesForBendpoints(q)}}P.forEach(function(K){D.add(K)})}}}if(D.size==_.length)break}},N.prototype.positionNodesRadially=function(_){for(var D=new w(0,0),R=Math.ceil(Math.sqrt(_.length)),O=0,A=0,B=0,P=new k(0,0),z=0;z<_.length;z++){z%R==0&&(B=0,A=O,z!=0&&(A+=y.DEFAULT_COMPONENT_SEPERATION),O=0);var q=_[z],K=S.findCenterOfTree(q);D.x=B,D.y=A,P=N.radialLayout(q,K,D),P.y>O&&(O=Math.floor(P.y)),B=Math.floor(P.x+y.DEFAULT_COMPONENT_SEPERATION)}this.transform(new k(x.WORLD_CENTER_X-P.x/2,x.WORLD_CENTER_Y-P.y/2))},N.radialLayout=function(_,D,R){var O=Math.max(this.maxDiagonalInTree(_),y.DEFAULT_RADIAL_SEPARATION);N.branchRadialLayout(D,null,0,359,0,O);var A=L.calculateBounds(_),B=new I;B.setDeviceOrgX(A.getMinX()),B.setDeviceOrgY(A.getMinY()),B.setWorldOrgX(R.x),B.setWorldOrgY(R.y);for(var P=0;P<_.length;P++){var z=_[P];z.transform(B)}var q=new k(A.getMaxX(),A.getMaxY());return B.inverseTransformPoint(q)},N.branchRadialLayout=function(_,D,R,O,A,B){var P=(O-R+1)/2;P<0&&(P+=180);var z=(P+R)%360,q=z*E.TWO_PI/360,K=Math.cos(q),W=A*Math.cos(q),ae=A*Math.sin(q);_.setCenter(W,ae);var ie=[];ie=ie.concat(_.getEdges());var se=ie.length;D!=null&&se--;for(var oe=0,Y=ie.length,Q,j=_.getEdgesBetween(D);j.length>1;){var H=j[0];j.splice(0,1);var J=ie.indexOf(H);J>=0&&ie.splice(J,1),Y--,se--}D!=null?Q=(ie.indexOf(j[0])+1)%Y:Q=0;for(var he=Math.abs(O-R)/se,X=Q;oe!=se;X=++X%Y){var fe=ie[X].getOtherEnd(_);if(fe!=D){var V=(R+oe*he)%360,Se=(V+he)%360;N.branchRadialLayout(fe,_,V,Se,A+B,B),oe++}}},N.maxDiagonalInTree=function(_){for(var D=C.MIN_VALUE,R=0;R<_.length;R++){var O=_[R],A=O.getDiagonal();A>D&&(D=A)}return D},N.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},N.prototype.groupZeroDegreeMembers=function(){var _=this,D={};this.memberGroups={},this.idToDummyNode={};for(var R=[],O=this.graphManager.getAllNodes(),A=0;A<O.length;A++){var B=O[A],P=B.getParent();this.getNodeDegreeWithChildren(B)===0&&(P.id==null||!this.getToBeTiled(P))&&R.push(B)}for(var A=0;A<R.length;A++){var B=R[A],z=B.getParent().id;typeof D[z]>"u"&&(D[z]=[]),D[z]=D[z].concat(B)}Object.keys(D).forEach(function(q){if(D[q].length>1){var K="DummyCompound_"+q;_.memberGroups[K]=D[q];var W=D[q][0].getParent(),ae=new f(_.graphManager);ae.id=K,ae.paddingLeft=W.paddingLeft||0,ae.paddingRight=W.paddingRight||0,ae.paddingBottom=W.paddingBottom||0,ae.paddingTop=W.paddingTop||0,_.idToDummyNode[K]=ae;var ie=_.getGraphManager().add(_.newGraph(),ae),se=W.getChild();se.add(ae);for(var oe=0;oe<D[q].length;oe++){var Y=D[q][oe];se.remove(Y),ie.add(Y)}}})},N.prototype.clearCompounds=function(){var _={},D={};this.performDFSOnCompounds();for(var R=0;R<this.compoundOrder.length;R++)D[this.compoundOrder[R].id]=this.compoundOrder[R],_[this.compoundOrder[R].id]=[].concat(this.compoundOrder[R].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[R].getChild()),this.compoundOrder[R].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(_,D)},N.prototype.clearZeroDegreeMembers=function(){var _=this,D=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(R){var O=_.idToDummyNode[R];if(D[R]=_.tileNodes(_.memberGroups[R],O.paddingLeft+O.paddingRight),O.rect.width=D[R].width,O.rect.height=D[R].height,O.setCenter(D[R].centerX,D[R].centerY),O.labelMarginLeft=0,O.labelMarginTop=0,y.NODE_DIMENSIONS_INCLUDE_LABELS){var A=O.rect.width,B=O.rect.height;O.labelWidth&&(O.labelPosHorizontal=="left"?(O.rect.x-=O.labelWidth,O.setWidth(A+O.labelWidth),O.labelMarginLeft=O.labelWidth):O.labelPosHorizontal=="center"&&O.labelWidth>A?(O.rect.x-=(O.labelWidth-A)/2,O.setWidth(O.labelWidth),O.labelMarginLeft=(O.labelWidth-A)/2):O.labelPosHorizontal=="right"&&O.setWidth(A+O.labelWidth)),O.labelHeight&&(O.labelPosVertical=="top"?(O.rect.y-=O.labelHeight,O.setHeight(B+O.labelHeight),O.labelMarginTop=O.labelHeight):O.labelPosVertical=="center"&&O.labelHeight>B?(O.rect.y-=(O.labelHeight-B)/2,O.setHeight(O.labelHeight),O.labelMarginTop=(O.labelHeight-B)/2):O.labelPosVertical=="bottom"&&O.setHeight(B+O.labelHeight))}})},N.prototype.repopulateCompounds=function(){for(var _=this.compoundOrder.length-1;_>=0;_--){var D=this.compoundOrder[_],R=D.id,O=D.paddingLeft,A=D.paddingTop,B=D.labelMarginLeft,P=D.labelMarginTop;this.adjustLocations(this.tiledMemberPack[R],D.rect.x,D.rect.y,O,A,B,P)}},N.prototype.repopulateZeroDegreeMembers=function(){var _=this,D=this.tiledZeroDegreePack;Object.keys(D).forEach(function(R){var O=_.idToDummyNode[R],A=O.paddingLeft,B=O.paddingTop,P=O.labelMarginLeft,z=O.labelMarginTop;_.adjustLocations(D[R],O.rect.x,O.rect.y,A,B,P,z)})},N.prototype.getToBeTiled=function(_){var D=_.id;if(this.toBeTiled[D]!=null)return this.toBeTiled[D];var R=_.getChild();if(R==null)return this.toBeTiled[D]=!1,!1;for(var O=R.getNodes(),A=0;A<O.length;A++){var B=O[A];if(this.getNodeDegree(B)>0)return this.toBeTiled[D]=!1,!1;if(B.getChild()==null){this.toBeTiled[B.id]=!1;continue}if(!this.getToBeTiled(B))return this.toBeTiled[D]=!1,!1}return this.toBeTiled[D]=!0,!0},N.prototype.getNodeDegree=function(_){for(var D=_.id,R=_.getEdges(),O=0,A=0;A<R.length;A++){var B=R[A];B.getSource().id!==B.getTarget().id&&(O=O+1)}return O},N.prototype.getNodeDegreeWithChildren=function(_){var D=this.getNodeDegree(_);if(_.getChild()==null)return D;for(var R=_.getChild().getNodes(),O=0;O<R.length;O++){var A=R[O];D+=this.getNodeDegreeWithChildren(A)}return D},N.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},N.prototype.fillCompexOrderByDFS=function(_){for(var D=0;D<_.length;D++){var R=_[D];R.getChild()!=null&&this.fillCompexOrderByDFS(R.getChild().getNodes()),this.getToBeTiled(R)&&this.compoundOrder.push(R)}},N.prototype.adjustLocations=function(_,D,R,O,A,B,P){D+=O+B,R+=A+P;for(var z=D,q=0;q<_.rows.length;q++){var K=_.rows[q];D=z;for(var W=0,ae=0;ae<K.length;ae++){var ie=K[ae];ie.rect.x=D,ie.rect.y=R,D+=ie.rect.width+_.horizontalPadding,ie.rect.height>W&&(W=ie.rect.height)}R+=W+_.verticalPadding}},N.prototype.tileCompoundMembers=function(_,D){var R=this;this.tiledMemberPack=[],Object.keys(_).forEach(function(O){var A=D[O];if(R.tiledMemberPack[O]=R.tileNodes(_[O],A.paddingLeft+A.paddingRight),A.rect.width=R.tiledMemberPack[O].width,A.rect.height=R.tiledMemberPack[O].height,A.setCenter(R.tiledMemberPack[O].centerX,R.tiledMemberPack[O].centerY),A.labelMarginLeft=0,A.labelMarginTop=0,y.NODE_DIMENSIONS_INCLUDE_LABELS){var B=A.rect.width,P=A.rect.height;A.labelWidth&&(A.labelPosHorizontal=="left"?(A.rect.x-=A.labelWidth,A.setWidth(B+A.labelWidth),A.labelMarginLeft=A.labelWidth):A.labelPosHorizontal=="center"&&A.labelWidth>B?(A.rect.x-=(A.labelWidth-B)/2,A.setWidth(A.labelWidth),A.labelMarginLeft=(A.labelWidth-B)/2):A.labelPosHorizontal=="right"&&A.setWidth(B+A.labelWidth)),A.labelHeight&&(A.labelPosVertical=="top"?(A.rect.y-=A.labelHeight,A.setHeight(P+A.labelHeight),A.labelMarginTop=A.labelHeight):A.labelPosVertical=="center"&&A.labelHeight>P?(A.rect.y-=(A.labelHeight-P)/2,A.setHeight(A.labelHeight),A.labelMarginTop=(A.labelHeight-P)/2):A.labelPosVertical=="bottom"&&A.setHeight(P+A.labelHeight))}})},N.prototype.tileNodes=function(_,D){var R=this.tileNodesByFavoringDim(_,D,!0),O=this.tileNodesByFavoringDim(_,D,!1),A=this.getOrgRatio(R),B=this.getOrgRatio(O),P;return B<A?P=O:P=R,P},N.prototype.getOrgRatio=function(_){var D=_.width,R=_.height,O=D/R;return O<1&&(O=1/O),O},N.prototype.calcIdealRowWidth=function(_,D){var R=y.TILING_PADDING_VERTICAL,O=y.TILING_PADDING_HORIZONTAL,A=_.length,B=0,P=0,z=0;_.forEach(function(oe){B+=oe.getWidth(),P+=oe.getHeight(),oe.getWidth()>z&&(z=oe.getWidth())});var q=B/A,K=P/A,W=Math.pow(R-O,2)+4*(q+O)*(K+R)*A,ae=(O-R+Math.sqrt(W))/(2*(q+O)),ie;D?(ie=Math.ceil(ae),ie==ae&&ie++):ie=Math.floor(ae);var se=ie*(q+O)-O;return z>se&&(se=z),se+=O*2,se},N.prototype.tileNodesByFavoringDim=function(_,D,R){var O=y.TILING_PADDING_VERTICAL,A=y.TILING_PADDING_HORIZONTAL,B=y.TILING_COMPARE_BY,P={rows:[],rowWidth:[],rowHeight:[],width:0,height:D,verticalPadding:O,horizontalPadding:A,centerX:0,centerY:0};B&&(P.idealRowWidth=this.calcIdealRowWidth(_,R));var z=l(function(oe){return oe.rect.width*oe.rect.height},"getNodeArea"),q=l(function(oe,Y){return z(Y)-z(oe)},"areaCompareFcn");_.sort(function(oe,Y){var Q=q;return P.idealRowWidth?(Q=B,Q(oe.id,Y.id)):Q(oe,Y)});for(var K=0,W=0,ae=0;ae<_.length;ae++){var ie=_[ae];K+=ie.getCenterX(),W+=ie.getCenterY()}P.centerX=K/_.length,P.centerY=W/_.length;for(var ae=0;ae<_.length;ae++){var ie=_[ae];if(P.rows.length==0)this.insertNodeToRow(P,ie,0,D);else if(this.canAddHorizontal(P,ie.rect.width,ie.rect.height)){var se=P.rows.length-1;P.idealRowWidth||(se=this.getShortestRowIndex(P)),this.insertNodeToRow(P,ie,se,D)}else this.insertNodeToRow(P,ie,P.rows.length,D);this.shiftToLastRow(P)}return P},N.prototype.insertNodeToRow=function(_,D,R,O){var A=O;if(R==_.rows.length){var B=[];_.rows.push(B),_.rowWidth.push(A),_.rowHeight.push(0)}var P=_.rowWidth[R]+D.rect.width;_.rows[R].length>0&&(P+=_.horizontalPadding),_.rowWidth[R]=P,_.width<P&&(_.width=P);var z=D.rect.height;R>0&&(z+=_.verticalPadding);var q=0;z>_.rowHeight[R]&&(q=_.rowHeight[R],_.rowHeight[R]=z,q=_.rowHeight[R]-q),_.height+=q,_.rows[R].push(D)},N.prototype.getShortestRowIndex=function(_){for(var D=-1,R=Number.MAX_VALUE,O=0;O<_.rows.length;O++)_.rowWidth[O]<R&&(D=O,R=_.rowWidth[O]);return D},N.prototype.getLongestRowIndex=function(_){for(var D=-1,R=Number.MIN_VALUE,O=0;O<_.rows.length;O++)_.rowWidth[O]>R&&(D=O,R=_.rowWidth[O]);return D},N.prototype.canAddHorizontal=function(_,D,R){if(_.idealRowWidth){var O=_.rows.length-1,A=_.rowWidth[O];return A+D+_.horizontalPadding<=_.idealRowWidth}var B=this.getShortestRowIndex(_);if(B<0)return!0;var P=_.rowWidth[B];if(P+_.horizontalPadding+D<=_.width)return!0;var z=0;_.rowHeight[B]<R&&B>0&&(z=R+_.verticalPadding-_.rowHeight[B]);var q;_.width-P>=D+_.horizontalPadding?q=(_.height+z)/(P+D+_.horizontalPadding):q=(_.height+z)/_.width,z=R+_.verticalPadding;var K;return _.width<D?K=(_.height+z)/D:K=(_.height+z)/_.width,K<1&&(K=1/K),q<1&&(q=1/q),q<K},N.prototype.shiftToLastRow=function(_){var D=this.getLongestRowIndex(_),R=_.rowWidth.length-1,O=_.rows[D],A=O[O.length-1],B=A.width+_.horizontalPadding;if(_.width-_.rowWidth[R]>B&&D!=R){O.splice(-1,1),_.rows[R].push(A),_.rowWidth[D]=_.rowWidth[D]-B,_.rowWidth[R]=_.rowWidth[R]+B,_.width=_.rowWidth[instance.getLongestRowIndex(_)];for(var P=Number.MIN_VALUE,z=0;z<O.length;z++)O[z].height>P&&(P=O[z].height);D>0&&(P+=_.verticalPadding);var q=_.rowHeight[D]+_.rowHeight[R];_.rowHeight[D]=P,_.rowHeight[R]<A.height+_.verticalPadding&&(_.rowHeight[R]=A.height+_.verticalPadding);var K=_.rowHeight[D]+_.rowHeight[R];_.height+=K-q,this.shiftToLastRow(_)}},N.prototype.tilingPreLayout=function(){y.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},N.prototype.tilingPostLayout=function(){y.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},N.prototype.reduceTrees=function(){for(var _=[],D=!0,R;D;){var O=this.graphManager.getAllNodes(),A=[];D=!1;for(var B=0;B<O.length;B++)if(R=O[B],R.getEdges().length==1&&!R.getEdges()[0].isInterGraph&&R.getChild()==null){if(y.PURE_INCREMENTAL){var P=R.getEdges()[0].getOtherEnd(R),z=new T(R.getCenterX()-P.getCenterX(),R.getCenterY()-P.getCenterY());A.push([R,R.getEdges()[0],R.getOwner(),z])}else A.push([R,R.getEdges()[0],R.getOwner()]);D=!0}if(D==!0){for(var q=[],K=0;K<A.length;K++)A[K][0].getEdges().length==1&&(q.push(A[K]),A[K][0].getOwner().remove(A[K][0]));_.push(q),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=_},N.prototype.growTree=function(_){for(var D=_.length,R=_[D-1],O,A=0;A<R.length;A++)O=R[A],this.findPlaceforPrunedNode(O),O[2].add(O[0]),O[2].add(O[1],O[1].source,O[1].target);_.splice(_.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},N.prototype.findPlaceforPrunedNode=function(_){var D,R,O=_[0];if(O==_[1].source?R=_[1].target:R=_[1].source,y.PURE_INCREMENTAL)O.setCenter(R.getCenterX()+_[3].getWidth(),R.getCenterY()+_[3].getHeight());else{var A=R.startX,B=R.finishX,P=R.startY,z=R.finishY,q=0,K=0,W=0,ae=0,ie=[q,W,K,ae];if(P>0)for(var se=A;se<=B;se++)ie[0]+=this.grid[se][P-1].length+this.grid[se][P].length-1;if(B<this.grid.length-1)for(var se=P;se<=z;se++)ie[1]+=this.grid[B+1][se].length+this.grid[B][se].length-1;if(z<this.grid[0].length-1)for(var se=A;se<=B;se++)ie[2]+=this.grid[se][z+1].length+this.grid[se][z].length-1;if(A>0)for(var se=P;se<=z;se++)ie[3]+=this.grid[A-1][se].length+this.grid[A][se].length-1;for(var oe=C.MAX_VALUE,Y,Q,j=0;j<ie.length;j++)ie[j]<oe?(oe=ie[j],Y=1,Q=j):ie[j]==oe&&Y++;if(Y==3&&oe==0)ie[0]==0&&ie[1]==0&&ie[2]==0?D=1:ie[0]==0&&ie[1]==0&&ie[3]==0?D=0:ie[0]==0&&ie[2]==0&&ie[3]==0?D=3:ie[1]==0&&ie[2]==0&&ie[3]==0&&(D=2);else if(Y==2&&oe==0){var H=Math.floor(Math.random()*2);ie[0]==0&&ie[1]==0?H==0?D=0:D=1:ie[0]==0&&ie[2]==0?H==0?D=0:D=2:ie[0]==0&&ie[3]==0?H==0?D=0:D=3:ie[1]==0&&ie[2]==0?H==0?D=1:D=2:ie[1]==0&&ie[3]==0?H==0?D=1:D=3:H==0?D=2:D=3}else if(Y==4&&oe==0){var H=Math.floor(Math.random()*4);D=H}else D=Q;D==0?O.setCenter(R.getCenterX(),R.getCenterY()-R.getHeight()/2-v.DEFAULT_EDGE_LENGTH-O.getHeight()/2):D==1?O.setCenter(R.getCenterX()+R.getWidth()/2+v.DEFAULT_EDGE_LENGTH+O.getWidth()/2,R.getCenterY()):D==2?O.setCenter(R.getCenterX(),R.getCenterY()+R.getHeight()/2+v.DEFAULT_EDGE_LENGTH+O.getHeight()/2):O.setCenter(R.getCenterX()-R.getWidth()/2-v.DEFAULT_EDGE_LENGTH-O.getWidth()/2,R.getCenterY())}},o.exports=N}),991:((o,h,u)=>{var d=u(551).FDLayoutNode,p=u(551).IMath;function g(m,y,b,v){d.call(this,m,y,b,v)}l(g,"CoSENode"),g.prototype=Object.create(d.prototype);for(var f in d)g[f]=d[f];g.prototype.calculateDisplacement=function(){var m=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementX=m.coolingFactor*m.maxNodeDisplacement*p.sign(this.displacementX)),Math.abs(this.displacementY)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementY=m.coolingFactor*m.maxNodeDisplacement*p.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},g.prototype.propogateDisplacementToChildren=function(m,y){for(var b=this.getChild().getNodes(),v,x=0;x<b.length;x++)v=b[x],v.getChild()==null?(v.displacementX+=m,v.displacementY+=y):v.propogateDisplacementToChildren(m,y)},g.prototype.move=function(){var m=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),m.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},g.prototype.setPred1=function(m){this.pred1=m},g.prototype.getPred1=function(){return pred1},g.prototype.getPred2=function(){return pred2},g.prototype.setNext=function(m){this.next=m},g.prototype.getNext=function(){return next},g.prototype.setProcessed=function(m){this.processed=m},g.prototype.isProcessed=function(){return processed},o.exports=g}),902:((o,h,u)=>{function d(b){if(Array.isArray(b)){for(var v=0,x=Array(b.length);v<b.length;v++)x[v]=b[v];return x}else return Array.from(b)}l(d,"_toConsumableArray");var p=u(806),g=u(551).LinkedList,f=u(551).Matrix,m=u(551).SVD;function y(){}l(y,"ConstraintHandler"),y.handleConstraints=function(b){var v={};v.fixedNodeConstraint=b.constraints.fixedNodeConstraint,v.alignmentConstraint=b.constraints.alignmentConstraint,v.relativePlacementConstraint=b.constraints.relativePlacementConstraint;for(var x=new Map,w=new Map,k=[],T=[],S=b.getAllNodes(),C=0,E=0;E<S.length;E++){var L=S[E];L.getChild()==null&&(w.set(L.id,C++),k.push(L.getCenterX()),T.push(L.getCenterY()),x.set(L.id,L))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(F){!F.gap&&F.gap!=0&&(F.left?F.gap=p.DEFAULT_EDGE_LENGTH+x.get(F.left).getWidth()/2+x.get(F.right).getWidth()/2:F.gap=p.DEFAULT_EDGE_LENGTH+x.get(F.top).getHeight()/2+x.get(F.bottom).getHeight()/2)});var I=l(function(F,te){return{x:F.x-te.x,y:F.y-te.y}},"calculatePositionDiff"),M=l(function(F){var te=0,ne=0;return F.forEach(function(de){te+=k[w.get(de)],ne+=T[w.get(de)]}),{x:te/F.size,y:ne/F.size}},"calculateAvgPosition"),N=l(function(F,te,ne,de,ge){function xe(Ge,ze){var Xe=new Set(Ge),xt=!0,st=!1,at=void 0;try{for(var Tt=ze[Symbol.iterator](),et;!(xt=(et=Tt.next()).done);xt=!0){var ct=et.value;Xe.add(ct)}}catch(pt){st=!0,at=pt}finally{try{!xt&&Tt.return&&Tt.return()}finally{if(st)throw at}}return Xe}l(xe,"setUnion");var Ee=new Map;F.forEach(function(Ge,ze){Ee.set(ze,0)}),F.forEach(function(Ge,ze){Ge.forEach(function(Xe){Ee.set(Xe.id,Ee.get(Xe.id)+1)})});var Te=new Map,Fe=new Map,We=new g;Ee.forEach(function(Ge,ze){Ge==0?(We.push(ze),ne||(te=="horizontal"?Te.set(ze,w.has(ze)?k[w.get(ze)]:de.get(ze)):Te.set(ze,w.has(ze)?T[w.get(ze)]:de.get(ze)))):Te.set(ze,Number.NEGATIVE_INFINITY),ne&&Fe.set(ze,new Set([ze]))}),ne&&ge.forEach(function(Ge){var ze=[];if(Ge.forEach(function(st){ne.has(st)&&ze.push(st)}),ze.length>0){var Xe=0;ze.forEach(function(st){te=="horizontal"?(Te.set(st,w.has(st)?k[w.get(st)]:de.get(st)),Xe+=Te.get(st)):(Te.set(st,w.has(st)?T[w.get(st)]:de.get(st)),Xe+=Te.get(st))}),Xe=Xe/ze.length,Ge.forEach(function(st){ne.has(st)||Te.set(st,Xe)})}else{var xt=0;Ge.forEach(function(st){te=="horizontal"?xt+=w.has(st)?k[w.get(st)]:de.get(st):xt+=w.has(st)?T[w.get(st)]:de.get(st)}),xt=xt/Ge.length,Ge.forEach(function(st){Te.set(st,xt)})}});for(var it=l(function(){var Ge=We.shift(),ze=F.get(Ge);ze.forEach(function(Xe){if(Te.get(Xe.id)<Te.get(Ge)+Xe.gap)if(ne&&ne.has(Xe.id)){var xt=void 0;if(te=="horizontal"?xt=w.has(Xe.id)?k[w.get(Xe.id)]:de.get(Xe.id):xt=w.has(Xe.id)?T[w.get(Xe.id)]:de.get(Xe.id),Te.set(Xe.id,xt),xt<Te.get(Ge)+Xe.gap){var st=Te.get(Ge)+Xe.gap-xt;Fe.get(Ge).forEach(function(at){Te.set(at,Te.get(at)-st)})}}else Te.set(Xe.id,Te.get(Ge)+Xe.gap);Ee.set(Xe.id,Ee.get(Xe.id)-1),Ee.get(Xe.id)==0&&We.push(Xe.id),ne&&Fe.set(Xe.id,xe(Fe.get(Ge),Fe.get(Xe.id)))})},"_loop");We.length!=0;)it();if(ne){var Be=new Set;F.forEach(function(Ge,ze){Ge.length==0&&Be.add(ze)});var Ye=[];Fe.forEach(function(Ge,ze){if(Be.has(ze)){var Xe=!1,xt=!0,st=!1,at=void 0;try{for(var Tt=Ge[Symbol.iterator](),et;!(xt=(et=Tt.next()).done);xt=!0){var ct=et.value;ne.has(ct)&&(Xe=!0)}}catch(Ze){st=!0,at=Ze}finally{try{!xt&&Tt.return&&Tt.return()}finally{if(st)throw at}}if(!Xe){var pt=!1,Qe=void 0;Ye.forEach(function(Ze,_t){Ze.has([].concat(d(Ge))[0])&&(pt=!0,Qe=_t)}),pt?Ge.forEach(function(Ze){Ye[Qe].add(Ze)}):Ye.push(new Set(Ge))}}}),Ye.forEach(function(Ge,ze){var Xe=Number.POSITIVE_INFINITY,xt=Number.POSITIVE_INFINITY,st=Number.NEGATIVE_INFINITY,at=Number.NEGATIVE_INFINITY,Tt=!0,et=!1,ct=void 0;try{for(var pt=Ge[Symbol.iterator](),Qe;!(Tt=(Qe=pt.next()).done);Tt=!0){var Ze=Qe.value,_t=void 0;te=="horizontal"?_t=w.has(Ze)?k[w.get(Ze)]:de.get(Ze):_t=w.has(Ze)?T[w.get(Ze)]:de.get(Ze);var Bt=Te.get(Ze);_t<Xe&&(Xe=_t),_t>st&&(st=_t),Bt<xt&&(xt=Bt),Bt>at&&(at=Bt)}}catch(ht){et=!0,ct=ht}finally{try{!Tt&&pt.return&&pt.return()}finally{if(et)throw ct}}var Dt=(Xe+st)/2-(xt+at)/2,Vr=!0,Jt=!1,Ut=void 0;try{for(var or=Ge[Symbol.iterator](),Nr;!(Vr=(Nr=or.next()).done);Vr=!0){var be=Nr.value;Te.set(be,Te.get(be)+Dt)}}catch(ht){Jt=!0,Ut=ht}finally{try{!Vr&&or.return&&or.return()}finally{if(Jt)throw Ut}}})}return Te},"findAppropriatePositionForRelativePlacement"),$=l(function(F){var te=0,ne=0,de=0,ge=0;if(F.forEach(function(Fe){Fe.left?k[w.get(Fe.left)]-k[w.get(Fe.right)]>=0?te++:ne++:T[w.get(Fe.top)]-T[w.get(Fe.bottom)]>=0?de++:ge++}),te>ne&&de>ge)for(var xe=0;xe<w.size;xe++)k[xe]=-1*k[xe],T[xe]=-1*T[xe];else if(te>ne)for(var Ee=0;Ee<w.size;Ee++)k[Ee]=-1*k[Ee];else if(de>ge)for(var Te=0;Te<w.size;Te++)T[Te]=-1*T[Te]},"applyReflectionForRelativePlacement"),_=l(function(F){var te=[],ne=new g,de=new Set,ge=0;return F.forEach(function(xe,Ee){if(!de.has(Ee)){te[ge]=[];var Te=Ee;for(ne.push(Te),de.add(Te),te[ge].push(Te);ne.length!=0;){Te=ne.shift();var Fe=F.get(Te);Fe.forEach(function(We){de.has(We.id)||(ne.push(We.id),de.add(We.id),te[ge].push(We.id))})}ge++}}),te},"findComponents"),D=l(function(F){var te=new Map;return F.forEach(function(ne,de){te.set(de,[])}),F.forEach(function(ne,de){ne.forEach(function(ge){te.get(de).push(ge),te.get(ge.id).push({id:de,gap:ge.gap,direction:ge.direction})})}),te},"dagToUndirected"),R=l(function(F){var te=new Map;return F.forEach(function(ne,de){te.set(de,[])}),F.forEach(function(ne,de){ne.forEach(function(ge){te.get(ge.id).push({id:de,gap:ge.gap,direction:ge.direction})})}),te},"dagToReversed"),O=[],A=[],B=!1,P=!1,z=new Set,q=new Map,K=new Map,W=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(F){z.add(F.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(F){F.left?(q.has(F.left)?q.get(F.left).push({id:F.right,gap:F.gap,direction:"horizontal"}):q.set(F.left,[{id:F.right,gap:F.gap,direction:"horizontal"}]),q.has(F.right)||q.set(F.right,[])):(q.has(F.top)?q.get(F.top).push({id:F.bottom,gap:F.gap,direction:"vertical"}):q.set(F.top,[{id:F.bottom,gap:F.gap,direction:"vertical"}]),q.has(F.bottom)||q.set(F.bottom,[]))}),K=D(q),W=_(K)),p.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(F,te){O[te]=[F.position.x,F.position.y],A[te]=[k[w.get(F.nodeId)],T[w.get(F.nodeId)]]}),B=!0;else if(v.alignmentConstraint)(function(){var F=0;if(v.alignmentConstraint.vertical){for(var te=v.alignmentConstraint.vertical,ne=l(function(Te){var Fe=new Set;te[Te].forEach(function(Be){Fe.add(Be)});var We=new Set([].concat(d(Fe)).filter(function(Be){return z.has(Be)})),it=void 0;We.size>0?it=k[w.get(We.values().next().value)]:it=M(Fe).x,te[Te].forEach(function(Be){O[F]=[it,T[w.get(Be)]],A[F]=[k[w.get(Be)],T[w.get(Be)]],F++})},"_loop2"),de=0;de<te.length;de++)ne(de);B=!0}if(v.alignmentConstraint.horizontal){for(var ge=v.alignmentConstraint.horizontal,xe=l(function(Te){var Fe=new Set;ge[Te].forEach(function(Be){Fe.add(Be)});var We=new Set([].concat(d(Fe)).filter(function(Be){return z.has(Be)})),it=void 0;We.size>0?it=k[w.get(We.values().next().value)]:it=M(Fe).y,ge[Te].forEach(function(Be){O[F]=[k[w.get(Be)],it],A[F]=[k[w.get(Be)],T[w.get(Be)]],F++})},"_loop3"),Ee=0;Ee<ge.length;Ee++)xe(Ee);B=!0}v.relativePlacementConstraint&&(P=!0)})();else if(v.relativePlacementConstraint){for(var ae=0,ie=0,se=0;se<W.length;se++)W[se].length>ae&&(ae=W[se].length,ie=se);if(ae<K.size/2)$(v.relativePlacementConstraint),B=!1,P=!1;else{var oe=new Map,Y=new Map,Q=[];W[ie].forEach(function(F){q.get(F).forEach(function(te){te.direction=="horizontal"?(oe.has(F)?oe.get(F).push(te):oe.set(F,[te]),oe.has(te.id)||oe.set(te.id,[]),Q.push({left:F,right:te.id})):(Y.has(F)?Y.get(F).push(te):Y.set(F,[te]),Y.has(te.id)||Y.set(te.id,[]),Q.push({top:F,bottom:te.id}))})}),$(Q),P=!1;var j=N(oe,"horizontal"),H=N(Y,"vertical");W[ie].forEach(function(F,te){A[te]=[k[w.get(F)],T[w.get(F)]],O[te]=[],j.has(F)?O[te][0]=j.get(F):O[te][0]=k[w.get(F)],H.has(F)?O[te][1]=H.get(F):O[te][1]=T[w.get(F)]}),B=!0}}if(B){for(var J=void 0,he=f.transpose(O),X=f.transpose(A),fe=0;fe<he.length;fe++)he[fe]=f.multGamma(he[fe]),X[fe]=f.multGamma(X[fe]);var V=f.multMat(he,f.transpose(X)),Se=m.svd(V);J=f.multMat(Se.V,f.transpose(Se.U));for(var ce=0;ce<w.size;ce++){var Le=[k[ce],T[ce]],$e=[J[0][0],J[1][0]],je=[J[0][1],J[1][1]];k[ce]=f.dotProduct(Le,$e),T[ce]=f.dotProduct(Le,je)}P&&$(v.relativePlacementConstraint)}}if(p.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var qe={x:0,y:0};v.fixedNodeConstraint.forEach(function(F,te){var ne={x:k[w.get(F.nodeId)],y:T[w.get(F.nodeId)]},de=F.position,ge=I(de,ne);qe.x+=ge.x,qe.y+=ge.y}),qe.x/=v.fixedNodeConstraint.length,qe.y/=v.fixedNodeConstraint.length,k.forEach(function(F,te){k[te]+=qe.x}),T.forEach(function(F,te){T[te]+=qe.y}),v.fixedNodeConstraint.forEach(function(F){k[w.get(F.nodeId)]=F.position.x,T[w.get(F.nodeId)]=F.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Ce=v.alignmentConstraint.vertical,De=l(function(F){var te=new Set;Ce[F].forEach(function(ge){te.add(ge)});var ne=new Set([].concat(d(te)).filter(function(ge){return z.has(ge)})),de=void 0;ne.size>0?de=k[w.get(ne.values().next().value)]:de=M(te).x,te.forEach(function(ge){z.has(ge)||(k[w.get(ge)]=de)})},"_loop4"),ye=0;ye<Ce.length;ye++)De(ye);if(v.alignmentConstraint.horizontal)for(var Pe=v.alignmentConstraint.horizontal,ue=l(function(F){var te=new Set;Pe[F].forEach(function(ge){te.add(ge)});var ne=new Set([].concat(d(te)).filter(function(ge){return z.has(ge)})),de=void 0;ne.size>0?de=T[w.get(ne.values().next().value)]:de=M(te).y,te.forEach(function(ge){z.has(ge)||(T[w.get(ge)]=de)})},"_loop5"),Ve=0;Ve<Pe.length;Ve++)ue(Ve)}v.relativePlacementConstraint&&(function(){var F=new Map,te=new Map,ne=new Map,de=new Map,ge=new Map,xe=new Map,Ee=new Set,Te=new Set;if(z.forEach(function(rt){Ee.add(rt),Te.add(rt)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Fe=v.alignmentConstraint.vertical,We=l(function(rt){ne.set("dummy"+rt,[]),Fe[rt].forEach(function(He){F.set(He,"dummy"+rt),ne.get("dummy"+rt).push(He),z.has(He)&&Ee.add("dummy"+rt)}),ge.set("dummy"+rt,k[w.get(Fe[rt][0])])},"_loop6"),it=0;it<Fe.length;it++)We(it);if(v.alignmentConstraint.horizontal)for(var Be=v.alignmentConstraint.horizontal,Ye=l(function(rt){de.set("dummy"+rt,[]),Be[rt].forEach(function(He){te.set(He,"dummy"+rt),de.get("dummy"+rt).push(He),z.has(He)&&Te.add("dummy"+rt)}),xe.set("dummy"+rt,T[w.get(Be[rt][0])])},"_loop7"),Ge=0;Ge<Be.length;Ge++)Ye(Ge)}var ze=new Map,Xe=new Map,xt=l(function(rt){q.get(rt).forEach(function(He){var Ft=void 0,pe=void 0;He.direction=="horizontal"?(Ft=F.get(rt)?F.get(rt):rt,F.get(He.id)?pe={id:F.get(He.id),gap:He.gap,direction:He.direction}:pe=He,ze.has(Ft)?ze.get(Ft).push(pe):ze.set(Ft,[pe]),ze.has(pe.id)||ze.set(pe.id,[])):(Ft=te.get(rt)?te.get(rt):rt,te.get(He.id)?pe={id:te.get(He.id),gap:He.gap,direction:He.direction}:pe=He,Xe.has(Ft)?Xe.get(Ft).push(pe):Xe.set(Ft,[pe]),Xe.has(pe.id)||Xe.set(pe.id,[]))})},"_loop8"),st=!0,at=!1,Tt=void 0;try{for(var et=q.keys()[Symbol.iterator](),ct;!(st=(ct=et.next()).done);st=!0){var pt=ct.value;xt(pt)}}catch(rt){at=!0,Tt=rt}finally{try{!st&&et.return&&et.return()}finally{if(at)throw Tt}}var Qe=D(ze),Ze=D(Xe),_t=_(Qe),Bt=_(Ze),Dt=R(ze),Vr=R(Xe),Jt=[],Ut=[];_t.forEach(function(rt,He){Jt[He]=[],rt.forEach(function(Ft){Dt.get(Ft).length==0&&Jt[He].push(Ft)})}),Bt.forEach(function(rt,He){Ut[He]=[],rt.forEach(function(Ft){Vr.get(Ft).length==0&&Ut[He].push(Ft)})});var or=N(ze,"horizontal",Ee,ge,Jt),Nr=N(Xe,"vertical",Te,xe,Ut),be=l(function(rt){ne.get(rt)?ne.get(rt).forEach(function(He){k[w.get(He)]=or.get(rt)}):k[w.get(rt)]=or.get(rt)},"_loop9"),ht=!0,ot=!1,nr=void 0;try{for(var Ir=or.keys()[Symbol.iterator](),Sr;!(ht=(Sr=Ir.next()).done);ht=!0){var dn=Sr.value;be(dn)}}catch(rt){ot=!0,nr=rt}finally{try{!ht&&Ir.return&&Ir.return()}finally{if(ot)throw nr}}var ei=l(function(rt){de.get(rt)?de.get(rt).forEach(function(He){T[w.get(He)]=Nr.get(rt)}):T[w.get(rt)]=Nr.get(rt)},"_loop10"),Vi=!0,_a=!1,Kr=void 0;try{for(var Ai=Nr.keys()[Symbol.iterator](),vt;!(Vi=(vt=Ai.next()).done);Vi=!0){var dn=vt.value;ei(dn)}}catch(rt){_a=!0,Kr=rt}finally{try{!Vi&&Ai.return&&Ai.return()}finally{if(_a)throw Kr}}})()}for(var Z=0;Z<S.length;Z++){var Ne=S[Z];Ne.getChild()==null&&Ne.setCenter(k[w.get(Ne.id)],T[w.get(Ne.id)])}},o.exports=y}),551:(o=>{o.exports=r})},n={};function a(o){var h=n[o];if(h!==void 0)return h.exports;var u=n[o]={exports:{}};return i[o](u,u.exports,a),u.exports}l(a,"__webpack_require__");var s=a(45);return s})()})}),sze=Li((t,e)=>{"use strict";l((function(r,i){typeof t=="object"&&typeof e=="object"?e.exports=i(Hfe()):typeof define=="function"&&define.amd?define(["cose-base"],i):typeof t=="object"?t.cytoscapeFcose=i(Hfe()):r.cytoscapeFcose=i(r.coseBase)}),"webpackUniversalModuleDefinition")(t,function(r){return(()=>{"use strict";var i={658:(o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(h){for(var u=arguments.length,d=Array(u>1?u-1:0),p=1;p<u;p++)d[p-1]=arguments[p];return d.forEach(function(g){Object.keys(g).forEach(function(f){return h[f]=g[f]})}),h}}),548:((o,h,u)=>{var d=(function(){function f(m,y){var b=[],v=!0,x=!1,w=void 0;try{for(var k=m[Symbol.iterator](),T;!(v=(T=k.next()).done)&&(b.push(T.value),!(y&&b.length===y));v=!0);}catch(S){x=!0,w=S}finally{try{!v&&k.return&&k.return()}finally{if(x)throw w}}return b}return l(f,"sliceIterator"),function(m,y){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return f(m,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=u(140).layoutBase.LinkedList,g={};g.getTopMostNodes=function(f){for(var m={},y=0;y<f.length;y++)m[f[y].id()]=!0;var b=f.filter(function(v,x){typeof v=="number"&&(v=x);for(var w=v.parent()[0];w!=null;){if(m[w.id()])return!1;w=w.parent()[0]}return!0});return b},g.connectComponents=function(f,m,y,b){var v=new p,x=new Set,w=[],k=void 0,T=void 0,S=void 0,C=!1,E=1,L=[],I=[],M=l(function(){var N=f.collection();I.push(N);var $=y[0],_=f.collection();_.merge($).merge($.descendants().intersection(m)),w.push($),_.forEach(function(O){v.push(O),x.add(O),N.merge(O)});for(var D=l(function(){$=v.shift();var O=f.collection();$.neighborhood().nodes().forEach(function(z){m.intersection($.edgesWith(z)).length>0&&O.merge(z)});for(var A=0;A<O.length;A++){var B=O[A];if(k=y.intersection(B.union(B.ancestors())),k!=null&&!x.has(k[0])){var P=k.union(k.descendants());P.forEach(function(z){v.push(z),x.add(z),N.merge(z),y.has(z)&&w.push(z)})}}},"_loop2");v.length!=0;)D();if(N.forEach(function(O){m.intersection(O.connectedEdges()).forEach(function(A){N.has(A.source())&&N.has(A.target())&&N.merge(A)})}),w.length==y.length&&(C=!0),!C||C&&E>1){T=w[0],S=T.connectedEdges().length,w.forEach(function(O){O.connectedEdges().length<S&&(S=O.connectedEdges().length,T=O)}),L.push(T.id());var R=f.collection();R.merge(w[0]),w.forEach(function(O){R.merge(O)}),w=[],y=y.difference(R),E++}},"_loop");do M();while(!C);return b&&L.length>0&&b.set("dummy"+(b.size+1),L),I},g.relocateComponent=function(f,m,y){if(!y.fixedNodeConstraint){var b=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY;if(y.quality=="draft"){var k=!0,T=!1,S=void 0;try{for(var C=m.nodeIndexes[Symbol.iterator](),E;!(k=(E=C.next()).done);k=!0){var L=E.value,I=d(L,2),M=I[0],N=I[1],$=y.cy.getElementById(M);if($){var _=$.boundingBox(),D=m.xCoords[N]-_.w/2,R=m.xCoords[N]+_.w/2,O=m.yCoords[N]-_.h/2,A=m.yCoords[N]+_.h/2;D<b&&(b=D),R>v&&(v=R),O<x&&(x=O),A>w&&(w=A)}}}catch(K){T=!0,S=K}finally{try{!k&&C.return&&C.return()}finally{if(T)throw S}}var B=f.x-(v+b)/2,P=f.y-(w+x)/2;m.xCoords=m.xCoords.map(function(K){return K+B}),m.yCoords=m.yCoords.map(function(K){return K+P})}else{Object.keys(m).forEach(function(K){var W=m[K],ae=W.getRect().x,ie=W.getRect().x+W.getRect().width,se=W.getRect().y,oe=W.getRect().y+W.getRect().height;ae<b&&(b=ae),ie>v&&(v=ie),se<x&&(x=se),oe>w&&(w=oe)});var z=f.x-(v+b)/2,q=f.y-(w+x)/2;Object.keys(m).forEach(function(K){var W=m[K];W.setCenter(W.getCenterX()+z,W.getCenterY()+q)})}}},g.calcBoundingBox=function(f,m,y,b){for(var v=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,w=Number.MAX_SAFE_INTEGER,k=Number.MIN_SAFE_INTEGER,T=void 0,S=void 0,C=void 0,E=void 0,L=f.descendants().not(":parent"),I=L.length,M=0;M<I;M++){var N=L[M];T=m[b.get(N.id())]-N.width()/2,S=m[b.get(N.id())]+N.width()/2,C=y[b.get(N.id())]-N.height()/2,E=y[b.get(N.id())]+N.height()/2,v>T&&(v=T),x<S&&(x=S),w>C&&(w=C),k<E&&(k=E)}var $={};return $.topLeftX=v,$.topLeftY=w,$.width=x-v,$.height=k-w,$},g.calcParentsWithoutChildren=function(f,m){var y=f.collection();return m.nodes(":parent").forEach(function(b){var v=!1;b.children().forEach(function(x){x.css("display")!="none"&&(v=!0)}),v||y.merge(b)}),y},o.exports=g}),816:((o,h,u)=>{var d=u(548),p=u(140).CoSELayout,g=u(140).CoSENode,f=u(140).layoutBase.PointD,m=u(140).layoutBase.DimensionD,y=u(140).layoutBase.LayoutConstants,b=u(140).layoutBase.FDLayoutConstants,v=u(140).CoSEConstants,x=l(function(w,k){var T=w.cy,S=w.eles,C=S.nodes(),E=S.edges(),L=void 0,I=void 0,M=void 0,N={};w.randomize&&(L=k.nodeIndexes,I=k.xCoords,M=k.yCoords);var $=l(function(z){return typeof z=="function"},"isFn"),_=l(function(z,q){return $(z)?z(q):z},"optFn"),D=d.calcParentsWithoutChildren(T,S),R=l(function z(q,K,W,ae){for(var ie=K.length,se=0;se<ie;se++){var oe=K[se],Y=null;oe.intersection(D).length==0&&(Y=oe.children());var Q=void 0,j=oe.layoutDimensions({nodeDimensionsIncludeLabels:ae.nodeDimensionsIncludeLabels});if(oe.outerWidth()!=null&&oe.outerHeight()!=null)if(ae.randomize)if(!oe.isParent())Q=q.add(new g(W.graphManager,new f(I[L.get(oe.id())]-j.w/2,M[L.get(oe.id())]-j.h/2),new m(parseFloat(j.w),parseFloat(j.h))));else{var H=d.calcBoundingBox(oe,I,M,L);oe.intersection(D).length==0?Q=q.add(new g(W.graphManager,new f(H.topLeftX,H.topLeftY),new m(H.width,H.height))):Q=q.add(new g(W.graphManager,new f(H.topLeftX,H.topLeftY),new m(parseFloat(j.w),parseFloat(j.h))))}else Q=q.add(new g(W.graphManager,new f(oe.position("x")-j.w/2,oe.position("y")-j.h/2),new m(parseFloat(j.w),parseFloat(j.h))));else Q=q.add(new g(this.graphManager));if(Q.id=oe.data("id"),Q.nodeRepulsion=_(ae.nodeRepulsion,oe),Q.paddingLeft=parseInt(oe.css("padding")),Q.paddingTop=parseInt(oe.css("padding")),Q.paddingRight=parseInt(oe.css("padding")),Q.paddingBottom=parseInt(oe.css("padding")),ae.nodeDimensionsIncludeLabels&&(Q.labelWidth=oe.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,Q.labelHeight=oe.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,Q.labelPosVertical=oe.css("text-valign"),Q.labelPosHorizontal=oe.css("text-halign")),N[oe.data("id")]=Q,isNaN(Q.rect.x)&&(Q.rect.x=0),isNaN(Q.rect.y)&&(Q.rect.y=0),Y!=null&&Y.length>0){var J=void 0;J=W.getGraphManager().add(W.newGraph(),Q),z(J,Y,W,ae)}}},"processChildrenList"),O=l(function(z,q,K){for(var W=0,ae=0,ie=0;ie<K.length;ie++){var se=K[ie],oe=N[se.data("source")],Y=N[se.data("target")];if(oe&&Y&&oe!==Y&&oe.getEdgesBetween(Y).length==0){var Q=q.add(z.newEdge(),oe,Y);Q.id=se.id(),Q.idealLength=_(w.idealEdgeLength,se),Q.edgeElasticity=_(w.edgeElasticity,se),W+=Q.idealLength,ae++}}w.idealEdgeLength!=null&&(ae>0?v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=W/ae:$(w.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=w.idealEdgeLength,v.MIN_REPULSION_DIST=b.MIN_REPULSION_DIST=b.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=b.DEFAULT_EDGE_LENGTH)},"processEdges"),A=l(function(z,q){q.fixedNodeConstraint&&(z.constraints.fixedNodeConstraint=q.fixedNodeConstraint),q.alignmentConstraint&&(z.constraints.alignmentConstraint=q.alignmentConstraint),q.relativePlacementConstraint&&(z.constraints.relativePlacementConstraint=q.relativePlacementConstraint)},"processConstraints");w.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=w.nestingFactor),w.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=b.DEFAULT_GRAVITY_STRENGTH=w.gravity),w.numIter!=null&&(v.MAX_ITERATIONS=b.MAX_ITERATIONS=w.numIter),w.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=b.DEFAULT_GRAVITY_RANGE_FACTOR=w.gravityRange),w.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.DEFAULT_COMPOUND_GRAVITY_STRENGTH=w.gravityCompound),w.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=w.gravityRangeCompound),w.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.DEFAULT_COOLING_FACTOR_INCREMENTAL=w.initialEnergyOnIncremental),w.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=w.tilingCompareBy),w.quality=="proof"?y.QUALITY=2:y.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=b.NODE_DIMENSIONS_INCLUDE_LABELS=y.NODE_DIMENSIONS_INCLUDE_LABELS=w.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!w.randomize,v.ANIMATE=b.ANIMATE=y.ANIMATE=w.animate,v.TILE=w.tile,v.TILING_PADDING_VERTICAL=typeof w.tilingPaddingVertical=="function"?w.tilingPaddingVertical.call():w.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof w.tilingPaddingHorizontal=="function"?w.tilingPaddingHorizontal.call():w.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!w.randomize,y.DEFAULT_UNIFORM_LEAF_NODE_SIZES=w.uniformNodeDimensions,w.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),w.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),w.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),w.step=="all"&&(w.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),w.fixedNodeConstraint||w.alignmentConstraint||w.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var B=new p,P=B.newGraphManager();return R(P.addRoot(),d.getTopMostNodes(C),B,w),O(B,P,E),A(B,w),B.runLayout(),N},"coseLayout");o.exports={coseLayout:x}}),212:((o,h,u)=>{var d=(function(){function k(T,S){for(var C=0;C<S.length;C++){var E=S[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(T,E.key,E)}}return l(k,"defineProperties"),function(T,S,C){return S&&k(T.prototype,S),C&&k(T,C),T}})();function p(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}l(p,"_classCallCheck");var g=u(658),f=u(548),m=u(657),y=m.spectralLayout,b=u(816),v=b.coseLayout,x=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:l(function(k){return 4500},"nodeRepulsion"),idealEdgeLength:l(function(k){return 50},"idealEdgeLength"),edgeElasticity:l(function(k){return .45},"edgeElasticity"),nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:l(function(){},"ready"),stop:l(function(){},"stop")}),w=(function(){function k(T){p(this,k),this.options=g({},x,T)}return l(k,"Layout"),d(k,[{key:"run",value:l(function(){var T=this,S=this.options,C=S.cy,E=S.eles,L=[],I=void 0,M=void 0,N=[],$=void 0,_=[];S.fixedNodeConstraint&&(!Array.isArray(S.fixedNodeConstraint)||S.fixedNodeConstraint.length==0)&&(S.fixedNodeConstraint=void 0),S.alignmentConstraint&&(S.alignmentConstraint.vertical&&(!Array.isArray(S.alignmentConstraint.vertical)||S.alignmentConstraint.vertical.length==0)&&(S.alignmentConstraint.vertical=void 0),S.alignmentConstraint.horizontal&&(!Array.isArray(S.alignmentConstraint.horizontal)||S.alignmentConstraint.horizontal.length==0)&&(S.alignmentConstraint.horizontal=void 0)),S.relativePlacementConstraint&&(!Array.isArray(S.relativePlacementConstraint)||S.relativePlacementConstraint.length==0)&&(S.relativePlacementConstraint=void 0);var D=S.fixedNodeConstraint||S.alignmentConstraint||S.relativePlacementConstraint;D&&(S.tile=!1,S.packComponents=!1);var R=void 0,O=!1;if(C.layoutUtilities&&S.packComponents&&(R=C.layoutUtilities("get"),R||(R=C.layoutUtilities()),O=!0),E.nodes().length>0)if(O){var A=f.getTopMostNodes(S.eles.nodes());if($=f.connectComponents(C,S.eles,A),$.forEach(function(Se){var ce=Se.boundingBox();_.push({x:ce.x1+ce.w/2,y:ce.y1+ce.h/2})}),S.randomize&&$.forEach(function(Se){S.eles=Se,L.push(y(S))}),S.quality=="default"||S.quality=="proof"){var B=C.collection();if(S.tile){var P=new Map,z=[],q=[],K=0,W={nodeIndexes:P,xCoords:z,yCoords:q},ae=[];if($.forEach(function(Se,ce){Se.edges().length==0&&(Se.nodes().forEach(function(Le,$e){B.merge(Se.nodes()[$e]),Le.isParent()||(W.nodeIndexes.set(Se.nodes()[$e].id(),K++),W.xCoords.push(Se.nodes()[0].position().x),W.yCoords.push(Se.nodes()[0].position().y))}),ae.push(ce))}),B.length>1){var ie=B.boundingBox();_.push({x:ie.x1+ie.w/2,y:ie.y1+ie.h/2}),$.push(B),L.push(W);for(var se=ae.length-1;se>=0;se--)$.splice(ae[se],1),L.splice(ae[se],1),_.splice(ae[se],1)}}$.forEach(function(Se,ce){S.eles=Se,N.push(v(S,L[ce])),f.relocateComponent(_[ce],N[ce],S)})}else $.forEach(function(Se,ce){f.relocateComponent(_[ce],L[ce],S)});var oe=new Set;if($.length>1){var Y=[],Q=E.filter(function(Se){return Se.css("display")=="none"});$.forEach(function(Se,ce){var Le=void 0;if(S.quality=="draft"&&(Le=L[ce].nodeIndexes),Se.nodes().not(Q).length>0){var $e={};$e.edges=[],$e.nodes=[];var je=void 0;Se.nodes().not(Q).forEach(function(qe){if(S.quality=="draft")if(!qe.isParent())je=Le.get(qe.id()),$e.nodes.push({x:L[ce].xCoords[je]-qe.boundingbox().w/2,y:L[ce].yCoords[je]-qe.boundingbox().h/2,width:qe.boundingbox().w,height:qe.boundingbox().h});else{var Ce=f.calcBoundingBox(qe,L[ce].xCoords,L[ce].yCoords,Le);$e.nodes.push({x:Ce.topLeftX,y:Ce.topLeftY,width:Ce.width,height:Ce.height})}else N[ce][qe.id()]&&$e.nodes.push({x:N[ce][qe.id()].getLeft(),y:N[ce][qe.id()].getTop(),width:N[ce][qe.id()].getWidth(),height:N[ce][qe.id()].getHeight()})}),Se.edges().forEach(function(qe){var Ce=qe.source(),De=qe.target();if(Ce.css("display")!="none"&&De.css("display")!="none")if(S.quality=="draft"){var ye=Le.get(Ce.id()),Pe=Le.get(De.id()),ue=[],Ve=[];if(Ce.isParent()){var Z=f.calcBoundingBox(Ce,L[ce].xCoords,L[ce].yCoords,Le);ue.push(Z.topLeftX+Z.width/2),ue.push(Z.topLeftY+Z.height/2)}else ue.push(L[ce].xCoords[ye]),ue.push(L[ce].yCoords[ye]);if(De.isParent()){var Ne=f.calcBoundingBox(De,L[ce].xCoords,L[ce].yCoords,Le);Ve.push(Ne.topLeftX+Ne.width/2),Ve.push(Ne.topLeftY+Ne.height/2)}else Ve.push(L[ce].xCoords[Pe]),Ve.push(L[ce].yCoords[Pe]);$e.edges.push({startX:ue[0],startY:ue[1],endX:Ve[0],endY:Ve[1]})}else N[ce][Ce.id()]&&N[ce][De.id()]&&$e.edges.push({startX:N[ce][Ce.id()].getCenterX(),startY:N[ce][Ce.id()].getCenterY(),endX:N[ce][De.id()].getCenterX(),endY:N[ce][De.id()].getCenterY()})}),$e.nodes.length>0&&(Y.push($e),oe.add(ce))}});var j=R.packComponents(Y,S.randomize).shifts;if(S.quality=="draft")L.forEach(function(Se,ce){var Le=Se.xCoords.map(function(je){return je+j[ce].dx}),$e=Se.yCoords.map(function(je){return je+j[ce].dy});Se.xCoords=Le,Se.yCoords=$e});else{var H=0;oe.forEach(function(Se){Object.keys(N[Se]).forEach(function(ce){var Le=N[Se][ce];Le.setCenter(Le.getCenterX()+j[H].dx,Le.getCenterY()+j[H].dy)}),H++})}}}else{var J=S.eles.boundingBox();if(_.push({x:J.x1+J.w/2,y:J.y1+J.h/2}),S.randomize){var he=y(S);L.push(he)}S.quality=="default"||S.quality=="proof"?(N.push(v(S,L[0])),f.relocateComponent(_[0],N[0],S)):f.relocateComponent(_[0],L[0],S)}var X=l(function(Se,ce){if(S.quality=="default"||S.quality=="proof"){typeof Se=="number"&&(Se=ce);var Le=void 0,$e=void 0,je=Se.data("id");return N.forEach(function(Ce){je in Ce&&(Le={x:Ce[je].getRect().getCenterX(),y:Ce[je].getRect().getCenterY()},$e=Ce[je])}),S.nodeDimensionsIncludeLabels&&($e.labelWidth&&($e.labelPosHorizontal=="left"?Le.x+=$e.labelWidth/2:$e.labelPosHorizontal=="right"&&(Le.x-=$e.labelWidth/2)),$e.labelHeight&&($e.labelPosVertical=="top"?Le.y+=$e.labelHeight/2:$e.labelPosVertical=="bottom"&&(Le.y-=$e.labelHeight/2))),Le==null&&(Le={x:Se.position("x"),y:Se.position("y")}),{x:Le.x,y:Le.y}}else{var qe=void 0;return L.forEach(function(Ce){var De=Ce.nodeIndexes.get(Se.id());De!=null&&(qe={x:Ce.xCoords[De],y:Ce.yCoords[De]})}),qe==null&&(qe={x:Se.position("x"),y:Se.position("y")}),{x:qe.x,y:qe.y}}},"getPositions");if(S.quality=="default"||S.quality=="proof"||S.randomize){var fe=f.calcParentsWithoutChildren(C,E),V=E.filter(function(Se){return Se.css("display")=="none"});S.eles=E.not(V),E.nodes().not(":parent").not(V).layoutPositions(T,S,X),fe.length>0&&fe.forEach(function(Se){Se.position(X(Se))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")},"run")}]),k})();o.exports=w}),657:((o,h,u)=>{var d=u(548),p=u(140).layoutBase.Matrix,g=u(140).layoutBase.SVD,f=l(function(m){var y=m.cy,b=m.eles,v=b.nodes(),x=b.nodes(":parent"),w=new Map,k=new Map,T=new Map,S=[],C=[],E=[],L=[],I=[],M=[],N=[],$=[],_=void 0,D=void 0,R=1e8,O=1e-9,A=m.piTol,B=m.samplingType,P=m.nodeSeparation,z=void 0,q=l(function(){for(var F=0,te=0,ne=!1;te<z;){F=Math.floor(Math.random()*D),ne=!1;for(var de=0;de<te;de++)if(L[de]==F){ne=!0;break}if(!ne)L[te]=F,te++;else continue}},"randomSampleCR"),K=l(function(F,te,ne){for(var de=[],ge=0,xe=0,Ee=0,Te=void 0,Fe=[],We=0,it=1,Be=0;Be<D;Be++)Fe[Be]=R;for(de[xe]=F,Fe[F]=0;xe>=ge;){Ee=de[ge++];for(var Ye=S[Ee],Ge=0;Ge<Ye.length;Ge++)Te=k.get(Ye[Ge]),Fe[Te]==R&&(Fe[Te]=Fe[Ee]+1,de[++xe]=Te);M[Ee][te]=Fe[Ee]*P}if(ne){for(var ze=0;ze<D;ze++)M[ze][te]<I[ze]&&(I[ze]=M[ze][te]);for(var Xe=0;Xe<D;Xe++)I[Xe]>We&&(We=I[Xe],it=Xe)}return it},"BFS"),W=l(function(F){var te=void 0;if(F){te=Math.floor(Math.random()*D),_=te;for(var ne=0;ne<D;ne++)I[ne]=R;for(var de=0;de<z;de++)L[de]=te,te=K(te,de,F)}else{q();for(var ge=0;ge<z;ge++)K(L[ge],ge,F,!1)}for(var xe=0;xe<D;xe++)for(var Ee=0;Ee<z;Ee++)M[xe][Ee]*=M[xe][Ee];for(var Te=0;Te<z;Te++)N[Te]=[];for(var Fe=0;Fe<z;Fe++)for(var We=0;We<z;We++)N[Fe][We]=M[L[We]][Fe]},"allBFS"),ae=l(function(){for(var F=g.svd(N),te=F.S,ne=F.U,de=F.V,ge=te[0]*te[0]*te[0],xe=[],Ee=0;Ee<z;Ee++){xe[Ee]=[];for(var Te=0;Te<z;Te++)xe[Ee][Te]=0,Ee==Te&&(xe[Ee][Te]=te[Ee]/(te[Ee]*te[Ee]+ge/(te[Ee]*te[Ee])))}$=p.multMat(p.multMat(de,xe),p.transpose(ne))},"sample"),ie=l(function(){for(var F=void 0,te=void 0,ne=[],de=[],ge=[],xe=[],Ee=0;Ee<D;Ee++)ne[Ee]=Math.random(),de[Ee]=Math.random();ne=p.normalize(ne),de=p.normalize(de);for(var Te=0,Fe=O,We=O,it=void 0;;){Te++;for(var Be=0;Be<D;Be++)ge[Be]=ne[Be];if(ne=p.multGamma(p.multL(p.multGamma(ge),M,$)),F=p.dotProduct(ge,ne),ne=p.normalize(ne),Fe=p.dotProduct(ge,ne),it=Math.abs(Fe/We),it<=1+A&&it>=1)break;We=Fe}for(var Ye=0;Ye<D;Ye++)ge[Ye]=ne[Ye];for(Te=0,We=O;;){Te++;for(var Ge=0;Ge<D;Ge++)xe[Ge]=de[Ge];if(xe=p.minusOp(xe,p.multCons(ge,p.dotProduct(ge,xe))),de=p.multGamma(p.multL(p.multGamma(xe),M,$)),te=p.dotProduct(xe,de),de=p.normalize(de),Fe=p.dotProduct(xe,de),it=Math.abs(Fe/We),it<=1+A&&it>=1)break;We=Fe}for(var ze=0;ze<D;ze++)xe[ze]=de[ze];C=p.multCons(ge,Math.sqrt(Math.abs(F))),E=p.multCons(xe,Math.sqrt(Math.abs(te)))},"powerIteration");d.connectComponents(y,b,d.getTopMostNodes(v),w),x.forEach(function(F){d.connectComponents(y,b,d.getTopMostNodes(F.descendants().intersection(b)),w)});for(var se=0,oe=0;oe<v.length;oe++)v[oe].isParent()||k.set(v[oe].id(),se++);var Y=!0,Q=!1,j=void 0;try{for(var H=w.keys()[Symbol.iterator](),J;!(Y=(J=H.next()).done);Y=!0){var he=J.value;k.set(he,se++)}}catch(F){Q=!0,j=F}finally{try{!Y&&H.return&&H.return()}finally{if(Q)throw j}}for(var X=0;X<k.size;X++)S[X]=[];x.forEach(function(F){for(var te=F.children().intersection(b);te.nodes(":childless").length==0;)te=te.nodes()[0].children().intersection(b);var ne=0,de=te.nodes(":childless")[0].connectedEdges().length;te.nodes(":childless").forEach(function(ge,xe){ge.connectedEdges().length<de&&(de=ge.connectedEdges().length,ne=xe)}),T.set(F.id(),te.nodes(":childless")[ne].id())}),v.forEach(function(F){var te=void 0;F.isParent()?te=k.get(T.get(F.id())):te=k.get(F.id()),F.neighborhood().nodes().forEach(function(ne){b.intersection(F.edgesWith(ne)).length>0&&(ne.isParent()?S[te].push(T.get(ne.id())):S[te].push(ne.id()))})});var fe=l(function(F){var te=k.get(F),ne=void 0;w.get(F).forEach(function(de){y.getElementById(de).isParent()?ne=T.get(de):ne=de,S[te].push(ne),S[k.get(ne)].push(F)})},"_loop"),V=!0,Se=!1,ce=void 0;try{for(var Le=w.keys()[Symbol.iterator](),$e;!(V=($e=Le.next()).done);V=!0){var je=$e.value;fe(je)}}catch(F){Se=!0,ce=F}finally{try{!V&&Le.return&&Le.return()}finally{if(Se)throw ce}}D=k.size;var qe=void 0;if(D>2){z=D<m.sampleSize?D:m.sampleSize;for(var Ce=0;Ce<D;Ce++)M[Ce]=[];for(var De=0;De<z;De++)$[De]=[];return m.quality=="draft"||m.step=="all"?(W(B),ae(),ie(),qe={nodeIndexes:k,xCoords:C,yCoords:E}):(k.forEach(function(F,te){C.push(y.getElementById(te).position("x")),E.push(y.getElementById(te).position("y"))}),qe={nodeIndexes:k,xCoords:C,yCoords:E}),qe}else{var ye=k.keys(),Pe=y.getElementById(ye.next().value),ue=Pe.position(),Ve=Pe.outerWidth();if(C.push(ue.x),E.push(ue.y),D==2){var Z=y.getElementById(ye.next().value),Ne=Z.outerWidth();C.push(ue.x+Ve/2+Ne/2+m.idealEdgeLength),E.push(ue.y)}return qe={nodeIndexes:k,xCoords:C,yCoords:E},qe}},"spectralLayout");o.exports={spectralLayout:f}}),579:((o,h,u)=>{var d=u(212),p=l(function(g){g&&g("layout","fcose",d)},"register");typeof cytoscape<"u"&&p(cytoscape),o.exports=p}),140:(o=>{o.exports=r})},n={};function a(o){var h=n[o];if(h!==void 0)return h.exports;var u=n[o]={exports:{}};return i[o](u,u.exports,a),u.exports}l(a,"__webpack_require__");var s=a(579);return s})()})}),Xfe={L:"left",R:"right",T:"top",B:"bottom"},Kfe={L:l(t=>`${t},${t/2} 0,${t} 0,0`,"L"),R:l(t=>`0,${t/2} ${t},0 ${t},${t}`,"R"),T:l(t=>`0,0 ${t},0 ${t/2},${t}`,"T"),B:l(t=>`${t/2},0 ${t},${t} 0,${t}`,"B")},o7={L:l((t,e)=>t-e+2,"L"),R:l((t,e)=>t-2,"R"),T:l((t,e)=>t-e+2,"T"),B:l((t,e)=>t-2,"B")},oze=l(function(t){return Sa(t)?t==="L"?"R":"L":t==="T"?"B":"T"},"getOppositeArchitectureDirection"),Zfe=l(function(t){let e=t;return e==="L"||e==="R"||e==="T"||e==="B"},"isArchitectureDirection"),Sa=l(function(t){let e=t;return e==="L"||e==="R"},"isArchitectureDirectionX"),eu=l(function(t){let e=t;return e==="T"||e==="B"},"isArchitectureDirectionY"),aO=l(function(t,e){let r=Sa(t)&&eu(e),i=eu(t)&&Sa(e);return r||i},"isArchitectureDirectionXY"),lze=l(function(t){let e=t[0],r=t[1],i=Sa(e)&&eu(r),n=eu(e)&&Sa(r);return i||n},"isArchitecturePairXY"),cze=l(function(t){return t!=="LL"&&t!=="RR"&&t!=="TT"&&t!=="BB"},"isValidArchitectureDirectionPair"),nO=l(function(t,e){let r=`${t}${e}`;return cze(r)?r:void 0},"getArchitectureDirectionPair"),hze=l(function([t,e],r){let i=r[0],n=r[1];return Sa(i)?eu(n)?[t+(i==="L"?-1:1),e+(n==="T"?1:-1)]:[t+(i==="L"?-1:1),e]:Sa(n)?[t+(n==="L"?1:-1),e+(i==="T"?1:-1)]:[t,e+(i==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),uze=l(function(t){return t==="LT"||t==="TL"?[1,1]:t==="BL"||t==="LB"?[1,-1]:t==="BR"||t==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),dze=l(function(t,e){return aO(t,e)?"bend":Sa(t)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),pze=l(function(t){return t.type==="service"},"isArchitectureService"),gze=l(function(t){return t.type==="junction"},"isArchitectureJunction"),Qfe=l(t=>t.data(),"edgeData"),Ey=l(t=>t.data(),"nodeData"),fze=rr.architecture,Jfe=(Cy=class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=gr,this.getAccTitle=fr,this.setDiagramTitle=Er,this.getDiagramTitle=vr,this.getAccDescription=yr,this.setAccDescription=mr,this.clear()}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},cr()}addService({id:e,icon:r,in:i,title:n,iconText:a}){if(this.registeredIds[e]!==void 0)throw new Error(`The service id [${e}] is already in use by another ${this.registeredIds[e]}`);if(i!==void 0){if(e===i)throw new Error(`The service [${e}] cannot be placed within itself`);if(this.registeredIds[i]===void 0)throw new Error(`The service [${e}]'s parent does not exist. Please make sure the parent is created before this service`);if(this.registeredIds[i]==="node")throw new Error(`The service [${e}]'s parent is not a group`)}this.registeredIds[e]="node",this.nodes[e]={id:e,type:"service",icon:r,iconText:a,title:n,edges:[],in:i}}getServices(){return Object.values(this.nodes).filter(pze)}addJunction({id:e,in:r}){this.registeredIds[e]="node",this.nodes[e]={id:e,type:"junction",edges:[],in:r}}getJunctions(){return Object.values(this.nodes).filter(gze)}getNodes(){return Object.values(this.nodes)}getNode(e){return this.nodes[e]??null}addGroup({id:e,icon:r,in:i,title:n}){var a,s,o;if(((a=this.registeredIds)==null?void 0:a[e])!==void 0)throw new Error(`The group id [${e}] is already in use by another ${this.registeredIds[e]}`);if(i!==void 0){if(e===i)throw new Error(`The group [${e}] cannot be placed within itself`);if(((s=this.registeredIds)==null?void 0:s[i])===void 0)throw new Error(`The group [${e}]'s parent does not exist. Please make sure the parent is created before this group`);if(((o=this.registeredIds)==null?void 0:o[i])==="node")throw new Error(`The group [${e}]'s parent is not a group`)}this.registeredIds[e]="group",this.groups[e]={id:e,icon:r,title:n,in:i}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:e,rhsId:r,lhsDir:i,rhsDir:n,lhsInto:a,rhsInto:s,lhsGroup:o,rhsGroup:h,title:u}){if(!Zfe(i))throw new Error(`Invalid direction given for left hand side of edge ${e}--${r}. Expected (L,R,T,B) got ${String(i)}`);if(!Zfe(n))throw new Error(`Invalid direction given for right hand side of edge ${e}--${r}. Expected (L,R,T,B) got ${String(n)}`);if(this.nodes[e]===void 0&&this.groups[e]===void 0)throw new Error(`The left-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(this.nodes[r]===void 0&&this.groups[r]===void 0)throw new Error(`The right-hand id [${r}] does not yet exist. Please create the service/group before declaring an edge to it.`);let d=this.nodes[e].in,p=this.nodes[r].in;if(o&&d&&p&&d==p)throw new Error(`The left-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(h&&d&&p&&d==p)throw new Error(`The right-hand id [${r}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);let g={lhsId:e,lhsDir:i,lhsInto:a,lhsGroup:o,rhsId:r,rhsDir:n,rhsInto:s,rhsGroup:h,title:u};this.edges.push(g),this.nodes[e]&&this.nodes[r]&&(this.nodes[e].edges.push(this.edges[this.edges.length-1]),this.nodes[r].edges.push(this.edges[this.edges.length-1]))}getEdges(){return this.edges}getDataStructures(){if(this.dataStructures===void 0){let e={},r=Object.entries(this.nodes).reduce((h,[u,d])=>(h[u]=d.edges.reduce((p,g)=>{var y,b;let f=(y=this.getNode(g.lhsId))==null?void 0:y.in,m=(b=this.getNode(g.rhsId))==null?void 0:b.in;if(f&&m&&f!==m){let v=dze(g.lhsDir,g.rhsDir);v!=="bend"&&(e[f]??(e[f]={}),e[f][m]=v,e[m]??(e[m]={}),e[m][f]=v)}if(g.lhsId===u){let v=nO(g.lhsDir,g.rhsDir);v&&(p[v]=g.rhsId)}else{let v=nO(g.rhsDir,g.lhsDir);v&&(p[v]=g.lhsId)}return p},{}),h),{}),i=Object.keys(r)[0],n={[i]:1},a=Object.keys(r).reduce((h,u)=>u===i?h:{...h,[u]:1},{}),s=l(h=>{let u={[h]:[0,0]},d=[h];for(;d.length>0;){let p=d.shift();if(p){n[p]=1,delete a[p];let g=r[p],[f,m]=u[p];Object.entries(g).forEach(([y,b])=>{n[b]||(u[b]=hze([f,m],y),d.push(b))})}}return u},"BFS"),o=[s(i)];for(;Object.keys(a).length>0;)o.push(s(Object.keys(a)[0]));this.dataStructures={adjList:r,spatialMaps:o,groupAlignments:e}}return this.dataStructures}setElementForId(e,r){this.elements[e]=r}getElementById(e){return this.elements[e]}getConfig(){return Ti({...fze,...ir().architecture})}getConfigField(e){return this.getConfig()[e]}},l(Cy,"ArchitectureDB"),Cy),mze=l((t,e)=>{ls(t,e),t.groups.map(r=>e.addGroup(r)),t.services.map(r=>e.addService({...r,type:"service"})),t.junctions.map(r=>e.addJunction({...r,type:"junction"})),t.edges.map(r=>e.addEdge(r))},"populateDb"),eme={parser:{yy:void 0},parse:l(async t=>{var i;let e=await ra("architecture",t);ee.debug(e);let r=(i=eme.parser)==null?void 0:i.yy;if(!(r instanceof Jfe))throw new Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");mze(e,r)},"parse")},yze=l(t=>`
  .edge {
    stroke-width: ${t.archEdgeWidth};
    stroke: ${t.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${t.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${t.archGroupBorderColor};
    stroke-width: ${t.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),vze=yze,bze=fi(sze(),1),Ty=l(t=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${t}</g>`,"wrapIcon"),Gx={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Ty('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Ty('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Ty('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Ty('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Ty('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:OS,blank:{body:Ty("")}}},xze=l(async function(t,e,r){let i=r.getConfigField("padding"),n=r.getConfigField("iconSize"),a=n/2,s=n/6,o=s/2;await Promise.all(e.edges().map(async h=>{var L,I;let{source:u,sourceDir:d,sourceArrow:p,sourceGroup:g,target:f,targetDir:m,targetArrow:y,targetGroup:b,label:v}=Qfe(h),{x,y:w}=h[0].sourceEndpoint(),{x:k,y:T}=h[0].midpoint(),{x:S,y:C}=h[0].targetEndpoint(),E=i+4;if(g&&(Sa(d)?x+=d==="L"?-E:E:w+=d==="T"?-E:E+18),b&&(Sa(m)?S+=m==="L"?-E:E:C+=m==="T"?-E:E+18),!g&&((L=r.getNode(u))==null?void 0:L.type)==="junction"&&(Sa(d)?x+=d==="L"?a:-a:w+=d==="T"?a:-a),!b&&((I=r.getNode(f))==null?void 0:I.type)==="junction"&&(Sa(m)?S+=m==="L"?a:-a:C+=m==="T"?a:-a),h[0]._private.rscratch){let M=t.insert("g");if(M.insert("path").attr("d",`M ${x},${w} L ${k},${T} L${S},${C} `).attr("class","edge").attr("id",Yo(u,f,{prefix:"L"})),p){let N=Sa(d)?o7[d](x,s):x-o,$=eu(d)?o7[d](w,s):w-o;M.insert("polygon").attr("points",Kfe[d](s)).attr("transform",`translate(${N},${$})`).attr("class","arrow")}if(y){let N=Sa(m)?o7[m](S,s):S-o,$=eu(m)?o7[m](C,s):C-o;M.insert("polygon").attr("points",Kfe[m](s)).attr("transform",`translate(${N},${$})`).attr("class","arrow")}if(v){let N=aO(d,m)?"XY":Sa(d)?"X":"Y",$=0;N==="X"?$=Math.abs(x-S):N==="Y"?$=Math.abs(w-C)/1.5:$=Math.abs(x-S)/2;let _=M.append("g");if(await Sn(_,v,{useHtmlLabels:!1,width:$,classes:"architecture-service-label"},ve()),_.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),N==="X")_.attr("transform","translate("+k+", "+T+")");else if(N==="Y")_.attr("transform","translate("+k+", "+T+") rotate(-90)");else if(N==="XY"){let D=nO(d,m);if(D&&lze(D)){let R=_.node().getBoundingClientRect(),[O,A]=uze(D);_.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*O*A*45})`);let B=_.node().getBoundingClientRect();_.attr("transform",`
                translate(${k}, ${T-R.height/2})
                translate(${O*B.width/2}, ${A*B.height/2})
                rotate(${-1*O*A*45}, 0, ${R.height/2})
              `)}}}}}))},"drawEdges"),wze=l(async function(t,e,r){let i=r.getConfigField("padding")*.75,n=r.getConfigField("fontSize"),a=r.getConfigField("iconSize")/2;await Promise.all(e.nodes().map(async s=>{let o=Ey(s);if(o.type==="group"){let{h,w:u,x1:d,y1:p}=s.boundingBox(),g=t.append("rect");g.attr("id",`group-${o.id}`).attr("x",d+a).attr("y",p+a).attr("width",u).attr("height",h).attr("class","node-bkg");let f=t.append("g"),m=d,y=p;if(o.icon){let b=f.append("g");b.html(`<g>${await Ho(o.icon,{height:i,width:i,fallbackPrefix:Gx.prefix})}</g>`),b.attr("transform","translate("+(m+a+1)+", "+(y+a+1)+")"),m+=i,y+=n/2-1-2}if(o.label){let b=f.append("g");await Sn(b,o.label,{useHtmlLabels:!1,width:u,classes:"architecture-service-label"},ve()),b.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),b.attr("transform","translate("+(m+a+4)+", "+(y+a+2)+")")}r.setElementForId(o.id,g)}}))},"drawGroups"),kze=l(async function(t,e,r){let i=ve();for(let n of r){let a=e.append("g"),s=t.getConfigField("iconSize");if(n.title){let d=a.append("g");await Sn(d,n.title,{useHtmlLabels:!1,width:s*1.5,classes:"architecture-service-label"},i),d.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),d.attr("transform","translate("+s/2+", "+s+")")}let o=a.append("g");if(n.icon)o.html(`<g>${await Ho(n.icon,{height:s,width:s,fallbackPrefix:Gx.prefix})}</g>`);else if(n.iconText){o.html(`<g>${await Ho("blank",{height:s,width:s,fallbackPrefix:Gx.prefix})}</g>`);let d=o.append("g").append("foreignObject").attr("width",s).attr("height",s).append("div").attr("class","node-icon-text").attr("style",`height: ${s}px;`).append("div").html(tr(n.iconText,i)),p=parseInt(window.getComputedStyle(d.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;d.attr("style",`-webkit-line-clamp: ${Math.floor((s-2)/p)};`)}else o.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${s} v${-s} q0,-5 5,-5 h${s} q5,0 5,5 v${s} H0 Z`);a.attr("id",`service-${n.id}`).attr("class","architecture-service");let{width:h,height:u}=a.node().getBBox();n.width=h,n.height=u,t.setElementForId(n.id,a)}return 0},"drawServices"),Tze=l(function(t,e,r){r.forEach(i=>{let n=e.append("g"),a=t.getConfigField("iconSize");n.append("g").append("rect").attr("id","node-"+i.id).attr("fill-opacity","0").attr("width",a).attr("height",a),n.attr("class","architecture-junction");let{width:s,height:o}=n._groups[0][0].getBBox();n.width=s,n.height=o,t.setElementForId(i.id,n)})},"drawJunctions");f5([{name:Gx.prefix,icons:Gx}]);Rs.use(bze.default);l(tme,"addServices");l(rme,"addJunctions");l(ime,"positionNodes");l(nme,"addGroups");l(ame,"addEdges");l(sme,"getAlignments");l(ome,"getRelativeConstraints");l(lme,"layoutArchitecture");Eze=l(async(t,e,r,i)=>{let n=i.db,a=n.getServices(),s=n.getJunctions(),o=n.getGroups(),h=n.getEdges(),u=n.getDataStructures(),d=fn(e),p=d.append("g");p.attr("class","architecture-edges");let g=d.append("g");g.attr("class","architecture-services");let f=d.append("g");f.attr("class","architecture-groups"),await kze(n,g,a),Tze(n,g,s);let m=await lme(a,s,o,h,n,u);await xze(p,m,n),await wze(f,m,n),ime(n,m),Ml(void 0,d,n.getConfigField("padding"),n.getConfigField("useMaxWidth"))},"draw"),Cze={draw:Eze},Sze={parser:eme,get db(){return new Jfe},renderer:Cze,styles:vze}});var gme={};Tr(gme,{diagram:()=>$ze});function dme(t){if(!t.length)return[];let e=[],r=[];return t.forEach(i=>{let n={name:i.name,children:i.type==="Leaf"?void 0:[]};for(n.classSelector=i==null?void 0:i.classSelector,i!=null&&i.cssCompiledStyles&&(n.cssCompiledStyles=[i.cssCompiledStyles]),i.type==="Leaf"&&i.value!==void 0&&(n.value=i.value);r.length>0&&r[r.length-1].level>=i.level;)r.pop();if(r.length===0)e.push(n);else{let a=r[r.length-1].node;a.children?a.children.push(n):a.children=[n]}i.type!=="Leaf"&&r.push({node:n,level:i.level})}),e}var _y,ume,_ze,Aze,pme,Lze,Sy,qx,Nze,Ize,Rze,Dze,Mze,Oze,$ze,fme=wt(()=>{fd();Wh();hc();uc();dc();pc();gc();fc();qo();Ps();da();Hr();ri();hr();lr();cc();_i();zi();Ii();br();kt();ume=(_y=class{constructor(){this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=gr,this.getAccTitle=fr,this.setDiagramTitle=Er,this.getDiagramTitle=vr,this.getAccDescription=yr,this.setAccDescription=mr}getNodes(){return this.nodes}getConfig(){let e=rr,r=ir();return Ti({...e.treemap,...r.treemap??{}})}addNode(e,r){this.nodes.push(e),this.levels.set(e,r),r===0&&(this.outerNodes.push(e),this.root??(this.root=e))}getRoot(){return{name:"",children:this.outerNodes}}addClass(e,r){let i=this.classes.get(e)??{id:e,styles:[],textStyles:[]},n=r.replace(/\\,/g,"\xA7\xA7\xA7").replace(/,/g,";").replace(/§§§/g,",").split(";");n&&n.forEach(a=>{Q2(a)&&(i!=null&&i.textStyles?i.textStyles.push(a):i.textStyles=[a]),i!=null&&i.styles?i.styles.push(a):i.styles=[a]}),this.classes.set(e,i)}getClasses(){return this.classes}getStylesForClass(e){var r;return((r=this.classes.get(e))==null?void 0:r.styles)??[]}clear(){cr(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}},l(_y,"TreeMapDB"),_y);l(dme,"buildHierarchy");_ze=l((t,e)=>{ls(t,e);let r=[];for(let a of t.TreemapRows??[])a.$type==="ClassDefStatement"&&e.addClass(a.className??"",a.styleText??"");for(let a of t.TreemapRows??[]){let s=a.item;if(!s)continue;let o=a.indent?parseInt(a.indent):0,h=Aze(s),u=s.classSelector?e.getStylesForClass(s.classSelector):[],d=u.length>0?u.join(";"):void 0,p={level:o,name:h,type:s.$type,value:s.value,classSelector:s.classSelector,cssCompiledStyles:d};r.push(p)}let i=dme(r),n=l((a,s)=>{for(let o of a)e.addNode(o,s),o.children&&o.children.length>0&&n(o.children,s+1)},"addNodesRecursively");n(i,0)},"populate"),Aze=l(t=>t.name?String(t.name):"","getItemName"),pme={parser:{yy:void 0},parse:l(async t=>{var e;try{let r=await ra("treemap",t);ee.debug("Treemap AST:",r);let i=(e=pme.parser)==null?void 0:e.yy;if(!(i instanceof ume))throw new Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");_ze(r,i)}catch(r){throw ee.error("Error parsing treemap:",r),r}},"parse")},Lze=10,Sy=10,qx=25,Nze=l((t,e,r,i)=>{let n=i.db,a=n.getConfig(),s=a.padding??Lze,o=n.getDiagramTitle(),h=n.getRoot(),{themeVariables:u}=ir();if(!h)return;let d=o?30:0,p=fn(e),g=a.nodeWidth?a.nodeWidth*Sy:960,f=a.nodeHeight?a.nodeHeight*Sy:500,m=g,y=f+d;p.attr("viewBox",`0 0 ${m} ${y}`),Yr(p,y,m,a.useMaxWidth);let b;try{let N=a.valueFormat||",";if(N==="$0,0")b=l($=>"$"+Ic(",")($),"valueFormat");else if(N.startsWith("$")&&N.includes(",")){let $=/\.\d+/.exec(N),_=$?$[0]:"";b=l(D=>"$"+Ic(","+_)(D),"valueFormat")}else if(N.startsWith("$")){let $=N.substring(1);b=l(_=>"$"+Ic($||"")(_),"valueFormat")}else b=Ic(N)}catch(N){ee.error("Error creating format function:",N),b=Ic(",")}let v=Ys().range(["transparent",u.cScale0,u.cScale1,u.cScale2,u.cScale3,u.cScale4,u.cScale5,u.cScale6,u.cScale7,u.cScale8,u.cScale9,u.cScale10,u.cScale11]),x=Ys().range(["transparent",u.cScalePeer0,u.cScalePeer1,u.cScalePeer2,u.cScalePeer3,u.cScalePeer4,u.cScalePeer5,u.cScalePeer6,u.cScalePeer7,u.cScalePeer8,u.cScalePeer9,u.cScalePeer10,u.cScalePeer11]),w=Ys().range([u.cScaleLabel0,u.cScaleLabel1,u.cScaleLabel2,u.cScaleLabel3,u.cScaleLabel4,u.cScaleLabel5,u.cScaleLabel6,u.cScaleLabel7,u.cScaleLabel8,u.cScaleLabel9,u.cScaleLabel10,u.cScaleLabel11]);o&&p.append("text").attr("x",m/2).attr("y",d/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(o);let k=p.append("g").attr("transform",`translate(0, ${d})`).attr("class","treemapContainer"),T=s2(h).sum(N=>N.value??0).sort((N,$)=>($.value??0)-(N.value??0)),S=B8().size([g,f]).paddingTop(N=>N.children&&N.children.length>0?qx+Sy:0).paddingInner(s).paddingLeft(N=>N.children&&N.children.length>0?Sy:0).paddingRight(N=>N.children&&N.children.length>0?Sy:0).paddingBottom(N=>N.children&&N.children.length>0?Sy:0).round(!0)(T),C=S.descendants().filter(N=>N.children&&N.children.length>0),E=k.selectAll(".treemapSection").data(C).enter().append("g").attr("class","treemapSection").attr("transform",N=>`translate(${N.x0},${N.y0})`);E.append("rect").attr("width",N=>N.x1-N.x0).attr("height",qx).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",.6).attr("stroke-width",.6).attr("style",N=>N.depth===0?"display: none;":""),E.append("clipPath").attr("id",(N,$)=>`clip-section-${e}-${$}`).append("rect").attr("width",N=>Math.max(0,N.x1-N.x0-12)).attr("height",qx),E.append("rect").attr("width",N=>N.x1-N.x0).attr("height",N=>N.y1-N.y0).attr("class",(N,$)=>`treemapSection section${$}`).attr("fill",N=>v(N.data.name)).attr("fill-opacity",.6).attr("stroke",N=>x(N.data.name)).attr("stroke-width",2).attr("stroke-opacity",.4).attr("style",N=>{if(N.depth===0)return"display: none;";let $=Et({cssCompiledStyles:N.data.cssCompiledStyles});return $.nodeStyles+";"+$.borderStyles.join(";")}),E.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",qx/2).attr("dominant-baseline","middle").text(N=>N.depth===0?"":N.data.name).attr("font-weight","bold").attr("style",N=>{if(N.depth===0)return"display: none;";let $="dominant-baseline: middle; font-size: 12px; fill:"+w(N.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",_=Et({cssCompiledStyles:N.data.cssCompiledStyles});return $+_.labelStyles.replace("color:","fill:")}).each(function(N){if(N.depth===0)return;let $=Ue(this),_=N.data.name;$.text(_);let D=N.x1-N.x0,R=6,O;a.showValues!==!1&&N.value?O=D-10-30-10-R:O=D-R-6;let A=Math.max(15,O),B=$.node();if(B.getComputedTextLength()>A){let P=_;for(;P.length>0;){if(P=_.substring(0,P.length-1),P.length===0){$.text("..."),B.getComputedTextLength()>A&&$.text("");break}if($.text(P+"..."),B.getComputedTextLength()<=A)break}}}),a.showValues!==!1&&E.append("text").attr("class","treemapSectionValue").attr("x",N=>N.x1-N.x0-10).attr("y",qx/2).attr("text-anchor","end").attr("dominant-baseline","middle").text(N=>N.value?b(N.value):"").attr("font-style","italic").attr("style",N=>{if(N.depth===0)return"display: none;";let $="text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+w(N.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",_=Et({cssCompiledStyles:N.data.cssCompiledStyles});return $+_.labelStyles.replace("color:","fill:")});let L=S.leaves(),I=k.selectAll(".treemapLeafGroup").data(L).enter().append("g").attr("class",(N,$)=>`treemapNode treemapLeafGroup leaf${$}${N.data.classSelector?` ${N.data.classSelector}`:""}x`).attr("transform",N=>`translate(${N.x0},${N.y0})`);I.append("rect").attr("width",N=>N.x1-N.x0).attr("height",N=>N.y1-N.y0).attr("class","treemapLeaf").attr("fill",N=>N.parent?v(N.parent.data.name):v(N.data.name)).attr("style",N=>Et({cssCompiledStyles:N.data.cssCompiledStyles}).nodeStyles).attr("fill-opacity",.3).attr("stroke",N=>N.parent?v(N.parent.data.name):v(N.data.name)).attr("stroke-width",3),I.append("clipPath").attr("id",(N,$)=>`clip-${e}-${$}`).append("rect").attr("width",N=>Math.max(0,N.x1-N.x0-4)).attr("height",N=>Math.max(0,N.y1-N.y0-4)),I.append("text").attr("class","treemapLabel").attr("x",N=>(N.x1-N.x0)/2).attr("y",N=>(N.y1-N.y0)/2).attr("style",N=>{let $="text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+w(N.data.name)+";",_=Et({cssCompiledStyles:N.data.cssCompiledStyles});return $+_.labelStyles.replace("color:","fill:")}).attr("clip-path",(N,$)=>`url(#clip-${e}-${$})`).text(N=>N.data.name).each(function(N){let $=Ue(this),_=N.x1-N.x0,D=N.y1-N.y0,R=$.node(),O=4,A=_-2*O,B=D-2*O;if(A<10||B<10){$.style("display","none");return}let P=parseInt($.style("font-size"),10),z=8,q=28,K=.6,W=6,ae=2;for(;R.getComputedTextLength()>A&&P>z;)P--,$.style("font-size",`${P}px`);let ie=Math.max(W,Math.min(q,Math.round(P*K))),se=P+ae+ie;for(;se>B&&P>z&&(P--,ie=Math.max(W,Math.min(q,Math.round(P*K))),!(ie<W&&P===z));)$.style("font-size",`${P}px`),se=P+ae+ie,ie<=W&&se>B;$.style("font-size",`${P}px`),(R.getComputedTextLength()>A||P<z||B<P)&&$.style("display","none")}),a.showValues!==!1&&I.append("text").attr("class","treemapValue").attr("x",N=>(N.x1-N.x0)/2).attr("y",function(N){return(N.y1-N.y0)/2}).attr("style",N=>{let $="text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+w(N.data.name)+";",_=Et({cssCompiledStyles:N.data.cssCompiledStyles});return $+_.labelStyles.replace("color:","fill:")}).attr("clip-path",(N,$)=>`url(#clip-${e}-${$})`).text(N=>N.value?b(N.value):"").each(function(N){let $=Ue(this),_=this.parentNode;if(!_){$.style("display","none");return}let D=Ue(_).select(".treemapLabel");if(D.empty()||D.style("display")==="none"){$.style("display","none");return}let R=parseFloat(D.style("font-size")),O=28,A=.6,B=6,P=2,z=Math.max(B,Math.min(O,Math.round(R*A)));$.style("font-size",`${z}px`);let q=(N.y1-N.y0)/2+R/2+P;$.attr("y",q);let K=N.x1-N.x0,W=N.y1-N.y0-4,ae=K-8;$.node().getComputedTextLength()>ae||q+z>W||z<B?$.style("display","none"):$.style("display",null)});let M=a.diagramPadding??8;qa(p,M,"flowchart",(a==null?void 0:a.useMaxWidth)||!1)},"draw"),Ize=l(function(t,e){return e.db.getClasses()},"getClasses"),Rze={draw:Nze,getClasses:Ize},Dze={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},Mze=l(({treemap:t}={})=>{let e=Ti(Dze,t);return`
  .treemapNode.section {
    stroke: ${e.sectionStrokeColor};
    stroke-width: ${e.sectionStrokeWidth};
    fill: ${e.sectionFillColor};
  }
  .treemapNode.leaf {
    stroke: ${e.leafStrokeColor};
    stroke-width: ${e.leafStrokeWidth};
    fill: ${e.leafFillColor};
  }
  .treemapLabel {
    fill: ${e.labelColor};
    font-size: ${e.labelFontSize};
  }
  .treemapValue {
    fill: ${e.valueColor};
    font-size: ${e.valueFontSize};
  }
  .treemapTitle {
    fill: ${e.titleColor};
    font-size: ${e.titleFontSize};
  }
  `},"getStyles"),Oze=Mze,$ze={parser:pme,get db(){return new ume},renderer:Rze,styles:Oze}});x7();qo();K2();Ms();Es();ts();$a();ua();da();_n();Hr();ri();hr();lr();Ii();br();kt();var Bze=l(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),Pze=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(boe(),voe));return{id:"c4",diagram:t}},"loader"),Fze={id:"c4",detector:Bze,loader:Pze},zze=Fze,xme="flowchart",Gze=l((t,e)=>{var r,i;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),qze=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(Tw(),kw));return{id:xme,diagram:t}},"loader"),Uze={id:xme,detector:Gze,loader:qze},jze=Uze,wme="flowchart-v2",Wze=l((t,e)=>{var r,i,n;return((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),Vze=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(Tw(),kw));return{id:wme,diagram:t}},"loader"),Yze={id:wme,detector:Wze,loader:Vze},Hze=Yze,Xze=l(t=>/^\s*erDiagram/.test(t),"detector"),Kze=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(Eoe(),Toe));return{id:"er",diagram:t}},"loader"),Zze={id:"er",detector:Xze,loader:Kze},Qze=Zze,kme="gitGraph",Jze=l(t=>/^\s*gitGraph/.test(t),"detector"),eGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(epe(),J0e));return{id:kme,diagram:t}},"loader"),tGe={id:kme,detector:Jze,loader:eGe},rGe=tGe,Tme="gantt",iGe=l(t=>/^\s*gantt/.test(t),"detector"),nGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(ppe(),dpe));return{id:Tme,diagram:t}},"loader"),aGe={id:Tme,detector:iGe,loader:nGe},sGe=aGe,Eme="info",oGe=l(t=>/^\s*info/.test(t),"detector"),lGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(fpe(),gpe));return{id:Eme,diagram:t}},"loader"),cGe={id:Eme,detector:oGe,loader:lGe},hGe=l(t=>/^\s*pie/.test(t),"detector"),uGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(bpe(),vpe));return{id:"pie",diagram:t}},"loader"),dGe={id:"pie",detector:hGe,loader:uGe},Cme="quadrantChart",pGe=l(t=>/^\s*quadrantChart/.test(t),"detector"),gGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>($pe(),Ope));return{id:Cme,diagram:t}},"loader"),fGe={id:Cme,detector:pGe,loader:gGe},mGe=fGe,Sme="xychart",yGe=l(t=>/^\s*xychart(-beta)?/.test(t),"detector"),vGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(rge(),tge));return{id:Sme,diagram:t}},"loader"),bGe={id:Sme,detector:yGe,loader:vGe},xGe=bGe,_me="requirement",wGe=l(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),kGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(age(),nge));return{id:_me,diagram:t}},"loader"),TGe={id:_me,detector:wGe,loader:kGe},EGe=TGe,Ame="sequence",CGe=l(t=>/^\s*sequenceDiagram/.test(t),"detector"),SGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(bge(),vge));return{id:Ame,diagram:t}},"loader"),_Ge={id:Ame,detector:CGe,loader:SGe},AGe=_Ge,Lme="class",LGe=l((t,e)=>{var r;return((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),NGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(Ege(),Tge));return{id:Lme,diagram:t}},"loader"),IGe={id:Lme,detector:LGe,loader:NGe},RGe=IGe,Nme="classDiagram",DGe=l((t,e)=>{var r;return/^\s*classDiagram/.test(t)&&((r=e==null?void 0:e.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),MGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(Sge(),Cge));return{id:Nme,diagram:t}},"loader"),OGe={id:Nme,detector:DGe,loader:MGe},$Ge=OGe,Ime="state",BGe=l((t,e)=>{var r;return((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),PGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(Xge(),Hge));return{id:Ime,diagram:t}},"loader"),FGe={id:Ime,detector:BGe,loader:PGe},zGe=FGe,Rme="stateDiagram",GGe=l((t,e)=>{var r;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((r=e==null?void 0:e.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),qGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(Zge(),Kge));return{id:Rme,diagram:t}},"loader"),UGe={id:Rme,detector:GGe,loader:qGe},jGe=UGe,Dme="journey",WGe=l(t=>/^\s*journey/.test(t),"detector"),VGe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(l1e(),o1e));return{id:Dme,diagram:t}},"loader"),YGe={id:Dme,detector:WGe,loader:VGe},HGe=YGe,XGe=l((t,e,r)=>{ee.debug(`rendering svg for syntax error
`);let i=fn(e),n=i.append("g");i.attr("viewBox","0 0 2412 512"),Yr(i,100,512,!0),n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),Mme={draw:XGe},KGe=Mme,ZGe={db:{},renderer:Mme,parser:{parse:l(()=>{},"parse")}},QGe=ZGe,Ome="flowchart-elk",JGe=l((t,e={})=>{var r;return/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),eqe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(Tw(),kw));return{id:Ome,diagram:t}},"loader"),tqe={id:Ome,detector:JGe,loader:eqe},rqe=tqe,$me="timeline",iqe=l(t=>/^\s*timeline/.test(t),"detector"),nqe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(C1e(),E1e));return{id:$me,diagram:t}},"loader"),aqe={id:$me,detector:iqe,loader:nqe},sqe=aqe,Bme="mindmap",oqe=l(t=>/^\s*mindmap/.test(t),"detector"),lqe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(I1e(),N1e));return{id:Bme,diagram:t}},"loader"),cqe={id:Bme,detector:oqe,loader:lqe},hqe=cqe,Pme="kanban",uqe=l(t=>/^\s*kanban/.test(t),"detector"),dqe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(M1e(),D1e));return{id:Pme,diagram:t}},"loader"),pqe={id:Pme,detector:uqe,loader:dqe},gqe=pqe,Fme="sankey",fqe=l(t=>/^\s*sankey(-beta)?/.test(t),"detector"),mqe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(tfe(),efe));return{id:Fme,diagram:t}},"loader"),yqe={id:Fme,detector:fqe,loader:mqe},vqe=yqe,zme="packet",bqe=l(t=>/^\s*packet(-beta)?/.test(t),"detector"),xqe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(afe(),nfe));return{id:zme,diagram:t}},"loader"),wqe={id:zme,detector:bqe,loader:xqe},Gme="radar",kqe=l(t=>/^\s*radar-beta/.test(t),"detector"),Tqe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(pfe(),dfe));return{id:Gme,diagram:t}},"loader"),Eqe={id:Gme,detector:kqe,loader:Tqe},qme="block",Cqe=l(t=>/^\s*block(-beta)?/.test(t),"detector"),Sqe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(Vfe(),Wfe));return{id:qme,diagram:t}},"loader"),_qe={id:qme,detector:Cqe,loader:Sqe},Aqe=_qe,Ume="architecture",Lqe=l(t=>/^\s*architecture/.test(t),"detector"),Nqe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(hme(),cme));return{id:Ume,diagram:t}},"loader"),Iqe={id:Ume,detector:Lqe,loader:Nqe},Rqe=Iqe,jme="treemap",Dqe=l(t=>/^\s*treemap/.test(t),"detector"),Mqe=l(async()=>{let{diagram:t}=await Promise.resolve().then(()=>(fme(),gme));return{id:jme,diagram:t}},"loader"),Oqe={id:jme,detector:Dqe,loader:Mqe},mme=!1,d7=l(()=>{mme||(mme=!0,j2("error",QGe,t=>t.toLowerCase().trim()==="error"),j2("---",{db:{clear:l(()=>{},"clear")},styles:{},renderer:{draw:l(()=>{},"draw")},parser:{parse:l(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:l(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),L3(rqe,hqe,Rqe),L3(zze,gqe,$Ge,RGe,Qze,sGe,cGe,dGe,EGe,AGe,Hze,jze,sqe,rGe,jGe,zGe,HGe,mGe,vqe,wqe,xGe,Aqe,Eqe,Oqe))},"addDiagrams"),$qe=l(async()=>{ee.debug("Loading registered diagrams");let t=(await Promise.allSettled(Object.entries(Uc).map(async([e,{detector:r,loader:i}])=>{if(i)try{B3(e)}catch{try{let{diagram:n,id:a}=await i();j2(a,n,r)}catch(n){throw ee.error(`Failed to load external diagram with key ${e}. Removing from detectors.`),delete Uc[e],n}}}))).filter(e=>e.status==="rejected");if(t.length>0){ee.error(`Failed to load ${t.length} external diagrams`);for(let e of t)ee.error(e);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),Wme="comm",Vme="rule",Yme="decl",Bqe="@import",Pqe="@namespace",Fqe="@keyframes",zqe="@layer",Hme=Math.abs,uO=String.fromCharCode;function dO(t){return t.trim()}l(dO,"trim");function jx(t,e,r){return t.replace(e,r)}l(jx,"replace");function Xme(t,e,r){return t.indexOf(e,r)}l(Xme,"indexof");function o0(t,e){return t.charCodeAt(e)|0}l(o0,"charat");function c0(t,e,r){return t.slice(e,r)}l(c0,"substr");function Eo(t){return t.length}l(Eo,"strlen");function Kme(t){return t.length}l(Kme,"sizeof");function Ux(t,e){return e.push(t),t}l(Ux,"append");var p7=1,Ay=1,Zme=0,Ws=0,tn=0,Ny="";function g7(t,e,r,i,n,a,s,o){return{value:t,root:e,parent:r,type:i,props:n,children:a,line:p7,column:Ay,length:s,return:"",siblings:o}}l(g7,"node");function Qme(){return tn}l(Qme,"char");function Jme(){return tn=Ws>0?o0(Ny,--Ws):0,Ay--,tn===10&&(Ay=1,p7--),tn}l(Jme,"prev");function js(){return tn=Ws<Zme?o0(Ny,Ws++):0,Ay++,tn===10&&(Ay=1,p7++),tn}l(js,"next");function Ec(){return o0(Ny,Ws)}l(Ec,"peek");function Wx(){return Ws}l(Wx,"caret");function Yx(t,e){return c0(Ny,t,e)}l(Yx,"slice");function Ly(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}l(Ly,"token");function eye(t){return p7=Ay=1,Zme=Eo(Ny=t),Ws=0,[]}l(eye,"alloc");function tye(t){return Ny="",t}l(tye,"dealloc");function l7(t){return dO(Yx(Ws-1,c7(t===91?t+2:t===40?t+1:t)))}l(l7,"delimit");function rye(t){for(;(tn=Ec())&&tn<33;)js();return Ly(t)>2||Ly(tn)>3?"":" "}l(rye,"whitespace");function iye(t,e){for(;--e&&js()&&!(tn<48||tn>102||tn>57&&tn<65||tn>70&&tn<97););return Yx(t,Wx()+(e<6&&Ec()==32&&js()==32))}l(iye,"escaping");function c7(t){for(;js();)switch(tn){case t:return Ws;case 34:case 39:t!==34&&t!==39&&c7(tn);break;case 40:t===41&&c7(t);break;case 92:js();break}return Ws}l(c7,"delimiter");function nye(t,e){for(;js()&&t+tn!==57&&!(t+tn===84&&Ec()===47););return"/*"+Yx(e,Ws-1)+"*"+uO(t===47?t:js())}l(nye,"commenter");function aye(t){for(;!Ly(Ec());)js();return Yx(t,Ws)}l(aye,"identifier");function sye(t){return tye(Vx("",null,null,null,[""],t=eye(t),0,[0],t))}l(sye,"compile");function Vx(t,e,r,i,n,a,s,o,h){for(var u=0,d=0,p=s,g=0,f=0,m=0,y=1,b=1,v=1,x=0,w="",k=n,T=a,S=i,C=w;b;)switch(m=x,x=js()){case 40:if(m!=108&&o0(C,p-1)==58){Xme(C+=jx(l7(x),"&","&\f"),"&\f",Hme(u?o[u-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:C+=l7(x);break;case 9:case 10:case 13:case 32:C+=rye(m);break;case 92:C+=iye(Wx()-1,7);continue;case 47:switch(Ec()){case 42:case 47:Ux(oye(nye(js(),Wx()),e,r,h),h),(Ly(m||1)==5||Ly(Ec()||1)==5)&&Eo(C)&&c0(C,-1,void 0)!==" "&&(C+=" ");break;default:C+="/"}break;case 123*y:o[u++]=Eo(C)*v;case 125*y:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+d:v==-1&&(C=jx(C,/\f/g,"")),f>0&&(Eo(C)-p||y===0&&m===47)&&Ux(f>32?lO(C+";",i,r,p-1,h):lO(jx(C," ","")+";",i,r,p-2,h),h);break;case 59:C+=";";default:if(Ux(S=oO(C,e,r,u,d,n,o,w,k=[],T=[],p,a),a),x===123)if(d===0)Vx(C,e,S,S,k,a,p,o,T);else{switch(g){case 99:if(o0(C,3)===110)break;case 108:if(o0(C,2)===97)break;default:d=0;case 100:case 109:case 115:}d?Vx(t,S,S,i&&Ux(oO(t,S,S,0,0,n,o,w,n,k=[],p,T),T),n,T,p,o,i?k:T):Vx(C,S,S,S,[""],T,0,o,T)}}u=d=f=0,y=v=1,w=C="",p=s;break;case 58:p=1+Eo(C),f=m;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&Jme()==125)continue}switch(C+=uO(x),x*y){case 38:v=d>0?1:(C+="\f",-1);break;case 44:o[u++]=(Eo(C)-1)*v,v=1;break;case 64:Ec()===45&&(C+=l7(js())),g=Ec(),d=p=Eo(w=C+=aye(Wx())),x++;break;case 45:m===45&&Eo(C)==2&&(y=0)}}return a}l(Vx,"parse");function oO(t,e,r,i,n,a,s,o,h,u,d,p){for(var g=n-1,f=n===0?a:[""],m=Kme(f),y=0,b=0,v=0;y<i;++y)for(var x=0,w=c0(t,g+1,g=Hme(b=s[y])),k=t;x<m;++x)(k=dO(b>0?f[x]+" "+w:jx(w,/&\f/g,f[x])))&&(h[v++]=k);return g7(t,e,r,n===0?Vme:o,h,u,d,p)}l(oO,"ruleset");function oye(t,e,r,i){return g7(t,e,r,Wme,uO(Qme()),c0(t,2,-2),0,i)}l(oye,"comment");function lO(t,e,r,i,n){return g7(t,e,r,Yme,c0(t,0,i),c0(t,i+1,-1),i,n)}l(lO,"declaration");function h7(t,e){for(var r="",i=0;i<t.length;i++)r+=e(t[i],i,t,e)||"";return r}l(h7,"serialize");function lye(t,e,r,i){switch(t.type){case zqe:if(t.children.length)break;case Bqe:case Pqe:case Yme:return t.return=t.return||t.value;case Wme:return"";case Fqe:return t.return=t.value+"{"+h7(t.children,i)+"}";case Vme:if(!Eo(t.value=t.props.join(",")))return""}return Eo(r=h7(t.children,i))?t.return=t.value+"{"+r+"}":""}l(lye,"stringify");var Gqe="graphics-document document";function cye(t,e){t.attr("role",Gqe),e!==""&&t.attr("aria-roledescription",e)}l(cye,"setA11yDiagramInfo");function hye(t,e,r,i){if(t.insert!==void 0){if(r){let n=`chart-desc-${i}`;t.attr("aria-describedby",n),t.insert("desc",":first-child").attr("id",n).text(r)}if(e){let n=`chart-title-${i}`;t.attr("aria-labelledby",n),t.insert("title",":first-child").attr("id",n).text(e)}}}l(hye,"addSVGa11yTitleDescription");var l0,cO=(l0=class{constructor(e,r,i,n,a){this.type=e,this.text=r,this.db=i,this.parser=n,this.renderer=a}static async fromText(e,r={}){var u,d;let i=ir(),n=G2(e,i);e=AY(e)+`
`;try{B3(n)}catch{let p=CU(n);if(!p)throw new CC(`Diagram ${n} not found.`);let{id:g,diagram:f}=await p();j2(g,f)}let{db:a,parser:s,renderer:o,init:h}=B3(n);return s.parser&&(s.parser.yy=a),(u=a.clear)==null||u.call(a),h==null||h(i),r.title&&((d=a.setDiagramTitle)==null||d.call(a,r.title)),await s.parse(e),new l0(n,e,a,s,o)}async render(e,r){await this.renderer.draw(this.text,e,r,this)}getParser(){return this.parser}getType(){return this.type}},l(l0,"Diagram"),l0),yme=[],qqe=l(()=>{yme.forEach(t=>{t()}),yme=[]},"attachFunctions"),Uqe=l(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function uye(t){let e=t.match(EC);if(!e)return{text:t,metadata:{}};let r=Hc(e[1],{schema:Yc})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};let i={};return r.displayMode&&(i.displayMode=r.displayMode.toString()),r.title&&(i.title=r.title.toString()),r.config&&(i.config=r.config),{text:t.slice(e[0].length),metadata:i}}l(uye,"extractFrontMatter");var jqe=l(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,r,i)=>"<"+r+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Wqe=l(t=>{let{text:e,metadata:r}=uye(t),{displayMode:i,title:n,config:a={}}=r;return i&&(a.gantt||(a.gantt={}),a.gantt.displayMode=i),{title:n,config:a,text:e}},"processFrontmatter"),Vqe=l(t=>{let e=$t.detectInit(t)??{},r=$t.detectDirective(t,"wrap");return Array.isArray(r)?e.wrap=r.some(({type:i})=>i==="wrap"):(r==null?void 0:r.type)==="wrap"&&(e.wrap=!0),{text:kY(t),directive:e}},"processDirectives");function pO(t){let e=jqe(t),r=Wqe(e),i=Vqe(r.text),n=Ti(r.config,i.directive);return t=Uqe(i.text),{code:t,title:r.title,config:n}}l(pO,"preprocessDiagram");function dye(t){let e=new TextEncoder().encode(t),r=Array.from(e,i=>String.fromCodePoint(i)).join("");return btoa(r)}l(dye,"toBase64");var Yqe=5e4,Hqe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Xqe="sandbox",Kqe="loose",Zqe="http://www.w3.org/2000/svg",Qqe="http://www.w3.org/1999/xlink",Jqe="http://www.w3.org/1999/xhtml",eUe="100%",tUe="100%",rUe="border:0;margin:0;",iUe="margin:0",nUe="allow-top-navigation-by-user-activation allow-popups",aUe='The "iframe" tag is not supported by your browser.',sUe=["foreignobject"],oUe=["dominant-baseline"];function gO(t){let e=pO(t);return q2(),$U(e.config??{}),e}l(gO,"processAndSetConfigs");async function pye(t,e){d7();try{let{code:r,config:i}=gO(t);return{diagramType:(await fye(r)).type,config:i}}catch(r){if(e!=null&&e.suppressErrors)return!1;throw r}}l(pye,"parse");var vme=l((t,e,r=[])=>`
.${t} ${e} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),lUe=l((t,e=new Map)=>{var i;let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){let n=t.htmlLabels??((i=t.flowchart)==null?void 0:i.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(a=>{_r(a.styles)||n.forEach(s=>{r+=vme(a.id,s,a.styles)}),_r(a.textStyles)||(r+=vme(a.id,"tspan",((a==null?void 0:a.textStyles)||[]).map(s=>s.replace("color","fill"))))})}return r},"createCssStyles"),cUe=l((t,e,r,i)=>{let n=lUe(t,r),a=HU(e,n,t.themeVariables);return h7(sye(`${i}{${a}}`),lye)},"createUserStyles"),hUe=l((t="",e,r)=>{let i=t;return!r&&!e&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=Ma(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),uUe=l((t="",e)=>{var n,a;let r=(a=(n=e==null?void 0:e.viewBox)==null?void 0:n.baseVal)!=null&&a.height?e.viewBox.baseVal.height+"px":tUe,i=dye(`<body style="${iUe}">${t}</body>`);return`<iframe style="width:${eUe};height:${r};${rUe}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${nUe}">
  ${aUe}
</iframe>`},"putIntoIFrame"),bme=l((t,e,r,i,n)=>{let a=t.append("div");a.attr("id",r),i&&a.attr("style",i);let s=a.append("svg").attr("id",e).attr("width","100%").attr("xmlns",Zqe);return n&&s.attr("xmlns:xlink",n),s.append("g"),t},"appendDivSvgG");function hO(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}l(hO,"sandboxedIframe");var dUe=l((t,e,r,i)=>{var n,a,s;(n=t.getElementById(e))==null||n.remove(),(a=t.getElementById(r))==null||a.remove(),(s=t.getElementById(i))==null||s.remove()},"removeExistingElements"),pUe=l(async function(t,e,r){var N,$,_,D,R,O;d7();let i=gO(e);e=i.code;let n=ir();ee.debug(n),e.length>((n==null?void 0:n.maxTextSize)??Yqe)&&(e=Hqe);let a="#"+t,s="i"+t,o="#"+s,h="d"+t,u="#"+h,d=l(()=>{let A=Ue(g?o:u).node();A&&"remove"in A&&A.remove()},"removeTempElements"),p=Ue("body"),g=n.securityLevel===Xqe,f=n.securityLevel===Kqe,m=n.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),g){let A=hO(Ue(r),s);p=Ue(A.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Ue(r);bme(p,t,h,`font-family: ${m}`,Qqe)}else{if(dUe(document,t,h,s),g){let A=hO(Ue("body"),s);p=Ue(A.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Ue("body");bme(p,t,h)}let y,b;try{y=await cO.fromText(e,{title:i.title})}catch(A){if(n.suppressErrorRendering)throw d(),A;y=await cO.fromText("error"),b=A}let v=p.select(u).node(),x=y.type,w=v.firstChild,k=w.firstChild,T=($=(N=y.renderer).getClasses)==null?void 0:$.call(N,e,y),S=cUe(n,x,T,a),C=document.createElement("style");C.innerHTML=S,w.insertBefore(C,k);try{await y.renderer.draw(e,t,Iy.version,y)}catch(A){throw n.suppressErrorRendering?d():KGe.draw(e,t,Iy.version),A}let E=p.select(`${u} svg`),L=(D=(_=y.db).getAccTitle)==null?void 0:D.call(_),I=(O=(R=y.db).getAccDescription)==null?void 0:O.call(R);mye(x,E,L,I),p.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Jqe);let M=p.select(u).node().innerHTML;if(ee.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute),M=hUe(M,g,Mr(n.arrowMarkerAbsolute)),g){let A=p.select(u+" svg").node();M=uUe(M,A)}else f||(M=bu.sanitize(M,{ADD_TAGS:sUe,ADD_ATTR:oUe,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(qqe(),b)throw b;return d(),{diagramType:x,svg:M,bindFunctions:y.db.bindFunctions}},"render");function gye(t={}){var i;let e=oi({},t);e!=null&&e.fontFamily&&!((i=e.themeVariables)!=null&&i.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),DU(e),e!=null&&e.theme&&e.theme in zo?e.themeVariables=zo[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=zo.default.getThemeVariables(e.themeVariables));let r=typeof e=="object"?RU(e):SC();r2(r.logLevel),d7()}l(gye,"initialize");var fye=l((t,e={})=>{let{code:r}=pO(t);return cO.fromText(r,e)},"getDiagramFromText");function mye(t,e,r,i){cye(e,t),hye(e,r,i,e.attr("id"))}l(mye,"addA11yInfo");var h0=Object.freeze({render:pUe,parse:pye,getDiagramFromText:fye,initialize:gye,getConfig:ir,setConfig:_C,getSiteConfig:SC,updateSiteConfig:MU,reset:l(()=>{q2()},"reset"),globalReset:l(()=>{q2(wu)},"globalReset"),defaultConfig:wu});r2(ir().logLevel);q2(ir());var gUe=l((t,e,r)=>{ee.warn(t),l5(t)?(r&&r(t.str,t.hash),e.push({...t,message:t.str,error:t})):(r&&r(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),yye=l(async function(t={querySelector:".mermaid"}){try{await fUe(t)}catch(e){if(l5(e)&&ee.error(e.str),ps.parseError&&ps.parseError(e),!t.suppressErrors)throw ee.error("Use the suppressErrors option to suppress these errors"),e}},"run"),fUe=l(async function({postRenderCallback:t,querySelector:e,nodes:r}={querySelector:".mermaid"}){let i=h0.getConfig();ee.debug(`${t?"":"No "}Callback function found`);let n;if(r)n=r;else if(e)n=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");ee.debug(`Found ${n.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&(ee.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),h0.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));let a=new $t.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed),s,o=[];for(let h of Array.from(n)){if(ee.info("Rendering diagram: "+h.id),h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");let u=`mermaid-${a.next()}`;s=h.innerHTML,s=m5($t.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");let d=$t.detectInit(s);d&&ee.debug("Detected early reinit: ",d);try{let{svg:p,bindFunctions:g}=await wye(u,s,h);h.innerHTML=p,t&&await t(u),g&&g(h)}catch(p){gUe(p,o,ps.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),vye=l(function(t){h0.initialize(t)},"initialize"),mUe=l(async function(t,e,r){ee.warn("mermaid.init is deprecated. Please use run instead."),t&&vye(t);let i={postRenderCallback:r,querySelector:".mermaid"};typeof e=="string"?i.querySelector=e:e&&(e instanceof HTMLElement?i.nodes=[e]:i.nodes=e),await yye(i)},"init"),yUe=l(async(t,{lazyLoad:e=!0}={})=>{d7(),L3(...t),e===!1&&await $qe()},"registerExternalDiagrams"),bye=l(function(){if(ps.startOnLoad){let{startOnLoad:t}=h0.getConfig();t&&ps.run().catch(e=>ee.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",bye,!1);var vUe=l(function(t){ps.parseError=t},"setParseErrorHandler"),u7=[],sO=!1,xye=l(async()=>{if(!sO){for(sO=!0;u7.length>0;){let t=u7.shift();if(t)try{await t()}catch(e){ee.error("Error executing queue",e)}}sO=!1}},"executeQueue"),bUe=l(async(t,e)=>new Promise((r,i)=>{let n=l(()=>new Promise((a,s)=>{h0.parse(t,e).then(o=>{a(o),r(o)},o=>{var h;ee.error("Error parsing",o),(h=ps.parseError)==null||h.call(ps,o),s(o),i(o)})}),"performCall");u7.push(n),xye().catch(i)}),"parse"),wye=l((t,e,r)=>new Promise((i,n)=>{let a=l(()=>new Promise((s,o)=>{h0.render(t,e,r).then(h=>{s(h),i(h)},h=>{var u;ee.error("Error parsing",h),(u=ps.parseError)==null||u.call(ps,h),o(h),n(h)})}),"performCall");u7.push(a),xye().catch(n)}),"render"),xUe=l(()=>Object.keys(Uc).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),ps={startOnLoad:!0,mermaidAPI:h0,parse:bUe,render:wye,init:mUe,run:yye,registerExternalDiagrams:yUe,registerLayoutLoaders:oN,initialize:vye,parseError:void 0,contentLoaded:bye,setParseErrorHandler:vUe,detectType:G2,registerIconPacks:f5,getRegisteredDiagramsMetadata:xUe},ttt=ps;export{ttt as default};
/*! Bundled license information:

mermaid/dist/chunks/mermaid.esm.min/chunk-KXVH62NG.mjs:
  (*! Bundled license information:
  
  dompurify/dist/purify.es.mjs:
    (*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE *)
  *)

mermaid/dist/chunks/mermaid.esm.min/chunk-F3RBCZRS.mjs:
  (*! Bundled license information:
  
  js-yaml/dist/js-yaml.mjs:
    (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
  *)

mermaid/dist/chunks/mermaid.esm.min/chunk-OMTJKCYW.mjs:
  (*! Bundled license information:
  
  lodash-es/lodash.js:
    (**
     * @license
     * Lodash (Custom Build) <https://lodash.com/>
     * Build: `lodash modularize exports="es" -o ./`
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     *)
  *)

mermaid/dist/chunks/mermaid.esm.min/chunk-7SRKK4IT.mjs:
  (*! Bundled license information:
  
  cytoscape/dist/cytoscape.esm.mjs:
    (*!
    Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
    Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
    Licensed under The MIT License (http://opensource.org/licenses/MIT)
    *)
    (*!
    Event object based on jQuery events, MIT license
    
    https://jquery.org/license/
    https://tldrlegal.com/license/mit-license
    https://github.com/jquery/jquery/blob/master/src/event.js
    *)
    (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
    (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  *)

mermaid/dist/mermaid.esm.min.mjs:
  (*! Check if previously processed *)
  (*!
   * Wait for document loaded before starting the execution
   *)
*/
